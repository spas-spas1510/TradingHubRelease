var iE=Object.defineProperty;var aE=(e,t,s)=>t in e?iE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ae=(e,t,s)=>aE(e,typeof t!="symbol"?t+"":t,s);function oE(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var MN={exports:{}},hh={},DN={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),cE=Symbol.for("react.portal"),uE=Symbol.for("react.fragment"),dE=Symbol.for("react.strict_mode"),hE=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),pE=Symbol.for("react.forward_ref"),xE=Symbol.for("react.suspense"),gE=Symbol.for("react.memo"),yE=Symbol.for("react.lazy"),Ey=Symbol.iterator;function bE(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var LN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IN=Object.assign,ON={};function lo(e,t,s){this.props=e,this.context=t,this.refs=ON,this.updater=s||LN}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FN(){}FN.prototype=lo.prototype;function eg(e,t,s){this.props=e,this.context=t,this.refs=ON,this.updater=s||LN}var tg=eg.prototype=new FN;tg.constructor=eg;IN(tg,lo.prototype);tg.isPureReactComponent=!0;var Ay=Array.isArray,UN=Object.prototype.hasOwnProperty,sg={current:null},$N={key:!0,ref:!0,__self:!0,__source:!0};function BN(e,t,s){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)UN.call(t,n)&&!$N.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:gc,type:e,key:a,ref:o,props:i,_owner:sg.current}}function vE(e,t){return{$$typeof:gc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ng(e){return typeof e=="object"&&e!==null&&e.$$typeof===gc}function wE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Ry=/\/+/g;function ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wE(""+e.key):t.toString(36)}function Ru(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gc:case cE:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+ff(o,0):n,Ay(i)?(s="",e!=null&&(s=e.replace(Ry,"$&/")+"/"),Ru(i,t,s,"",function(u){return u})):i!=null&&(ng(i)&&(i=vE(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ry,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Ay(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+ff(a,l);o+=Ru(a,t,s,c,i)}else if(c=bE(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+ff(a,l++),o+=Ru(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Uc(e,t,s){if(e==null)return e;var n=[],i=0;return Ru(e,n,"","",function(a){return t.call(s,a,i++)}),n}function jE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var is={current:null},Mu={transition:null},NE={ReactCurrentDispatcher:is,ReactCurrentBatchConfig:Mu,ReactCurrentOwner:sg};function zN(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Uc,forEach:function(e,t,s){Uc(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Uc(e,function(){t++}),t},toArray:function(e){return Uc(e,function(t){return t})||[]},only:function(e){if(!ng(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=lo;be.Fragment=uE;be.Profiler=hE;be.PureComponent=eg;be.StrictMode=dE;be.Suspense=xE;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;be.act=zN;be.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=IN({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=sg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)UN.call(t,c)&&!$N.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:gc,type:e.type,key:i,ref:a,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:mE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fE,_context:e},e.Consumer=e};be.createElement=BN;be.createFactory=function(e){var t=BN.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:pE,render:e}};be.isValidElement=ng;be.lazy=function(e){return{$$typeof:yE,_payload:{_status:-1,_result:e},_init:jE}};be.memo=function(e,t){return{$$typeof:gE,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Mu.transition;Mu.transition={};try{e()}finally{Mu.transition=t}};be.unstable_act=zN;be.useCallback=function(e,t){return is.current.useCallback(e,t)};be.useContext=function(e){return is.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return is.current.useDeferredValue(e)};be.useEffect=function(e,t){return is.current.useEffect(e,t)};be.useId=function(){return is.current.useId()};be.useImperativeHandle=function(e,t,s){return is.current.useImperativeHandle(e,t,s)};be.useInsertionEffect=function(e,t){return is.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return is.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return is.current.useMemo(e,t)};be.useReducer=function(e,t,s){return is.current.useReducer(e,t,s)};be.useRef=function(e){return is.current.useRef(e)};be.useState=function(e){return is.current.useState(e)};be.useSyncExternalStore=function(e,t,s){return is.current.useSyncExternalStore(e,t,s)};be.useTransition=function(){return is.current.useTransition()};be.version="18.3.1";DN.exports=be;var _=DN.exports;const Pe=dh(_),kE=oE({__proto__:null,default:Pe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=_,_E=Symbol.for("react.element"),TE=Symbol.for("react.fragment"),CE=Object.prototype.hasOwnProperty,PE=SE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EE={key:!0,ref:!0,__self:!0,__source:!0};function VN(e,t,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)CE.call(t,n)&&!EE.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:_E,type:e,key:a,ref:o,props:i,_owner:PE.current}}hh.Fragment=TE;hh.jsx=VN;hh.jsxs=VN;MN.exports=hh;var r=MN.exports,Hm={},HN={exports:{}},Is={},WN={exports:{}},qN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,B){var C=$.length;$.push(B);e:for(;0<C;){var ne=C-1>>>1,ie=$[ne];if(0<i(ie,B))$[ne]=B,$[C]=ie,C=ne;else break e}}function s($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var B=$[0],C=$.pop();if(C!==B){$[0]=C;e:for(var ne=0,ie=$.length,A=ie>>>1;ne<A;){var ve=2*(ne+1)-1,Me=$[ve],ue=ve+1,fe=$[ue];if(0>i(Me,C))ue<ie&&0>i(fe,Me)?($[ne]=fe,$[ue]=C,ne=ue):($[ne]=Me,$[ve]=C,ne=ve);else if(ue<ie&&0>i(fe,C))$[ne]=fe,$[ue]=C,ne=ue;else break e}}return B}function i($,B){var C=$.sortIndex-B.sortIndex;return C!==0?C:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var B=s(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=$)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=s(u)}}function w($){if(g=!1,v($),!x)if(s(c)!==null)x=!0,Q(j);else{var B=s(u);B!==null&&I(w,B.startTime-$)}}function j($,B){x=!1,g&&(g=!1,p(S),S=-1),m=!0;var C=f;try{for(v(B),h=s(c);h!==null&&(!(h.expirationTime>B)||$&&!E());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var ie=ne(h.expirationTime<=B);B=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===s(c)&&n(c),v(B)}else n(c);h=s(c)}if(h!==null)var A=!0;else{var ve=s(u);ve!==null&&I(w,ve.startTime-B),A=!1}return A}finally{h=null,f=C,m=!1}}var k=!1,P=null,S=-1,T=5,N=-1;function E(){return!(e.unstable_now()-N<T)}function M(){if(P!==null){var $=e.unstable_now();N=$;var B=!0;try{B=P(!0,$)}finally{B?O():(k=!1,P=null)}}else k=!1}var O;if(typeof b=="function")O=function(){b(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=M,O=function(){z.postMessage(null)}}else O=function(){y(M,0)};function Q($){P=$,k||(k=!0,O())}function I($,B){S=y(function(){$(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,Q(j))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var C=f;f=B;try{return $()}finally{f=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var C=f;f=$;try{return B()}finally{f=C}},e.unstable_scheduleCallback=function($,B,C){var ne=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?ne+C:ne):C=ne,$){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=C+ie,$={id:d++,callback:B,priorityLevel:$,startTime:C,expirationTime:ie,sortIndex:-1},C>ne?($.sortIndex=C,t(u,$),s(c)===null&&$===s(u)&&(g?(p(S),S=-1):g=!0,I(w,C-ne))):($.sortIndex=ie,t(c,$),x||m||(x=!0,Q(j))),$},e.unstable_shouldYield=E,e.unstable_wrapCallback=function($){var B=f;return function(){var C=f;f=B;try{return $.apply(this,arguments)}finally{f=C}}}})(qN);WN.exports=qN;var AE=WN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=_,Ms=AE;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YN=new Set,Il={};function Yi(e,t){Va(e,t),Va(e+"Capture",t)}function Va(e,t){for(Il[e]=t,e=0;e<t.length;e++)YN.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wm=Object.prototype.hasOwnProperty,ME=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,My={},Dy={};function DE(e){return Wm.call(Dy,e)?!0:Wm.call(My,e)?!1:ME.test(e)?Dy[e]=!0:(My[e]=!0,!1)}function LE(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IE(e,t,s,n){if(t===null||typeof t>"u"||LE(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function as(e,t,s,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new as(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new as(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new as(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new as(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new as(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new as(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new as(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new as(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new as(e,5,!1,e.toLowerCase(),null,!1,!1)});var rg=/[\-:]([a-z])/g;function ig(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rg,ig);Rt[t]=new as(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rg,ig);Rt[t]=new as(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rg,ig);Rt[t]=new as(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new as(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new as(e,1,!1,e.toLowerCase(),null,!0,!0)});function ag(e,t,s,n){var i=Rt.hasOwnProperty(t)?Rt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IE(t,s,i,n)&&(s=null),n||i===null?DE(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var mr=RE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),ma=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),qm=Symbol.for("react.profiler"),GN=Symbol.for("react.provider"),KN=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),cg=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),XN=Symbol.for("react.offscreen"),Ly=Symbol.iterator;function _o(e){return e===null||typeof e!="object"?null:(e=Ly&&e[Ly]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,mf;function Go(e){if(mf===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);mf=t&&t[1]||""}return`
`+mf+e}var pf=!1;function xf(e,t){if(!e||pf)return"";pf=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{pf=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Go(e):""}function OE(e){switch(e.tag){case 5:return Go(e.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return e=xf(e.type,!1),e;case 11:return e=xf(e.type.render,!1),e;case 1:return e=xf(e.type,!0),e;default:return""}}function Km(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pa:return"Fragment";case ma:return"Portal";case qm:return"Profiler";case og:return"StrictMode";case Ym:return"Suspense";case Gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KN:return(e.displayName||"Context")+".Consumer";case GN:return(e._context.displayName||"Context")+".Provider";case lg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cg:return t=e.displayName||null,t!==null?t:Km(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return Km(e(t))}catch{}}return null}function FE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Km(t);case 8:return t===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UE(e){var t=JN(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bc(e){e._valueTracker||(e._valueTracker=UE(e))}function QN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=JN(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function id(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xm(e,t){var s=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Iy(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Wr(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZN(e,t){t=t.checked,t!=null&&ag(e,"checked",t,!1)}function Jm(e,t){ZN(e,t);var s=Wr(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qm(e,t.type,s):t.hasOwnProperty("defaultValue")&&Qm(e,t.type,Wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Qm(e,t,s){(t!=="number"||id(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ko=Array.isArray;function Ra(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Wr(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fy(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(G(92));if(Ko(s)){if(1<s.length)throw Error(G(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Wr(s)}}function ek(e,t){var s=Wr(t.value),n=Wr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Uy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zc,sk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ol(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$E=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(e){$E.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ol[t]=ol[e]})});function nk(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ol.hasOwnProperty(e)&&ol[e]?(""+t).trim():t+"px"}function rk(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=nk(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var BE=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(e,t){if(t){if(BE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function sp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function ug(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rp=null,Ma=null,Da=null;function $y(e){if(e=vc(e)){if(typeof rp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=gh(t),rp(e.stateNode,e.type,t))}}function ik(e){Ma?Da?Da.push(e):Da=[e]:Ma=e}function ak(){if(Ma){var e=Ma,t=Da;if(Da=Ma=null,$y(e),t)for(e=0;e<t.length;e++)$y(t[e])}}function ok(e,t){return e(t)}function lk(){}var gf=!1;function ck(e,t,s){if(gf)return e(t,s);gf=!0;try{return ok(e,t,s)}finally{gf=!1,(Ma!==null||Da!==null)&&(lk(),ak())}}function Fl(e,t){var s=e.stateNode;if(s===null)return null;var n=gh(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(G(231,t,typeof s));return s}var ip=!1;if(lr)try{var To={};Object.defineProperty(To,"passive",{get:function(){ip=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{ip=!1}function zE(e,t,s,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(d){this.onError(d)}}var ll=!1,ad=null,od=!1,ap=null,VE={onError:function(e){ll=!0,ad=e}};function HE(e,t,s,n,i,a,o,l,c){ll=!1,ad=null,zE.apply(VE,arguments)}function WE(e,t,s,n,i,a,o,l,c){if(HE.apply(this,arguments),ll){if(ll){var u=ad;ll=!1,ad=null}else throw Error(G(198));od||(od=!0,ap=u)}}function Gi(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function uk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function By(e){if(Gi(e)!==e)throw Error(G(188))}function qE(e){var t=e.alternate;if(!t){if(t=Gi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return By(i),e;if(a===n)return By(i),t;a=a.sibling}throw Error(G(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(G(189))}}if(s.alternate!==n)throw Error(G(190))}if(s.tag!==3)throw Error(G(188));return s.stateNode.current===s?e:t}function dk(e){return e=qE(e),e!==null?hk(e):null}function hk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hk(e);if(t!==null)return t;e=e.sibling}return null}var fk=Ms.unstable_scheduleCallback,zy=Ms.unstable_cancelCallback,YE=Ms.unstable_shouldYield,GE=Ms.unstable_requestPaint,it=Ms.unstable_now,KE=Ms.unstable_getCurrentPriorityLevel,dg=Ms.unstable_ImmediatePriority,mk=Ms.unstable_UserBlockingPriority,ld=Ms.unstable_NormalPriority,XE=Ms.unstable_LowPriority,pk=Ms.unstable_IdlePriority,fh=null,Mn=null;function JE(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(fh,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:e4,QE=Math.log,ZE=Math.LN2;function e4(e){return e>>>=0,e===0?32:31-(QE(e)/ZE|0)|0}var Vc=64,Hc=4194304;function Xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cd(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=Xo(l):(a&=o,a!==0&&(n=Xo(a)))}else o=s&~i,o!==0?n=Xo(o):a!==0&&(n=Xo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-mn(t),i=1<<s,n|=e[s],t&=~i;return n}function t4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s4(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-mn(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=t4(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function op(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xk(){var e=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),e}function yf(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function yc(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=s}function n4(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-mn(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function hg(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-mn(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var Re=0;function gk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yk,fg,bk,vk,wk,lp=!1,Wc=[],Lr=null,Ir=null,Or=null,Ul=new Map,$l=new Map,kr=[],r4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vy(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function Co(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=vc(t),t!==null&&fg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function i4(e,t,s,n,i){switch(t){case"focusin":return Lr=Co(Lr,e,t,s,n,i),!0;case"dragenter":return Ir=Co(Ir,e,t,s,n,i),!0;case"mouseover":return Or=Co(Or,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return Ul.set(a,Co(Ul.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,$l.set(a,Co($l.get(a)||null,e,t,s,n,i)),!0}return!1}function jk(e){var t=ki(e.target);if(t!==null){var s=Gi(t);if(s!==null){if(t=s.tag,t===13){if(t=uk(s),t!==null){e.blockedOn=t,wk(e.priority,function(){bk(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Du(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=cp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);np=n,s.target.dispatchEvent(n),np=null}else return t=vc(s),t!==null&&fg(t),e.blockedOn=s,!1;t.shift()}return!0}function Hy(e,t,s){Du(e)&&s.delete(t)}function a4(){lp=!1,Lr!==null&&Du(Lr)&&(Lr=null),Ir!==null&&Du(Ir)&&(Ir=null),Or!==null&&Du(Or)&&(Or=null),Ul.forEach(Hy),$l.forEach(Hy)}function Po(e,t){e.blockedOn===t&&(e.blockedOn=null,lp||(lp=!0,Ms.unstable_scheduleCallback(Ms.unstable_NormalPriority,a4)))}function Bl(e){function t(i){return Po(i,e)}if(0<Wc.length){Po(Wc[0],e);for(var s=1;s<Wc.length;s++){var n=Wc[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Lr!==null&&Po(Lr,e),Ir!==null&&Po(Ir,e),Or!==null&&Po(Or,e),Ul.forEach(t),$l.forEach(t),s=0;s<kr.length;s++)n=kr[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<kr.length&&(s=kr[0],s.blockedOn===null);)jk(s),s.blockedOn===null&&kr.shift()}var La=mr.ReactCurrentBatchConfig,ud=!0;function o4(e,t,s,n){var i=Re,a=La.transition;La.transition=null;try{Re=1,mg(e,t,s,n)}finally{Re=i,La.transition=a}}function l4(e,t,s,n){var i=Re,a=La.transition;La.transition=null;try{Re=4,mg(e,t,s,n)}finally{Re=i,La.transition=a}}function mg(e,t,s,n){if(ud){var i=cp(e,t,s,n);if(i===null)Cf(e,t,n,dd,s),Vy(e,n);else if(i4(i,e,t,s,n))n.stopPropagation();else if(Vy(e,n),t&4&&-1<r4.indexOf(e)){for(;i!==null;){var a=vc(i);if(a!==null&&yk(a),a=cp(e,t,s,n),a===null&&Cf(e,t,n,dd,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else Cf(e,t,n,null,s)}}var dd=null;function cp(e,t,s,n){if(dd=null,e=ug(n),e=ki(e),e!==null)if(t=Gi(e),t===null)e=null;else if(s=t.tag,s===13){if(e=uk(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dd=e,null}function Nk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KE()){case dg:return 1;case mk:return 4;case ld:case XE:return 16;case pk:return 536870912;default:return 16}default:return 16}}var Er=null,pg=null,Lu=null;function kk(){if(Lu)return Lu;var e,t=pg,s=t.length,n,i="value"in Er?Er.value:Er.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===i[a-n];n++);return Lu=i.slice(e,1<n?1-n:void 0)}function Iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qc(){return!0}function Wy(){return!1}function Os(e){function t(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qc:Wy,this.isPropagationStopped=Wy,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xg=Os(co),bc=Qe({},co,{view:0,detail:0}),c4=Os(bc),bf,vf,Eo,mh=Qe({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eo&&(Eo&&e.type==="mousemove"?(bf=e.screenX-Eo.screenX,vf=e.screenY-Eo.screenY):vf=bf=0,Eo=e),bf)},movementY:function(e){return"movementY"in e?e.movementY:vf}}),qy=Os(mh),u4=Qe({},mh,{dataTransfer:0}),d4=Os(u4),h4=Qe({},bc,{relatedTarget:0}),wf=Os(h4),f4=Qe({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),m4=Os(f4),p4=Qe({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x4=Os(p4),g4=Qe({},co,{data:0}),Yy=Os(g4),y4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v4[e])?!!t[e]:!1}function gg(){return w4}var j4=Qe({},bc,{key:function(e){if(e.key){var t=y4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gg,charCode:function(e){return e.type==="keypress"?Iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N4=Os(j4),k4=Qe({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gy=Os(k4),S4=Qe({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gg}),_4=Os(S4),T4=Qe({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),C4=Os(T4),P4=Qe({},mh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E4=Os(P4),A4=[9,13,27,32],yg=lr&&"CompositionEvent"in window,cl=null;lr&&"documentMode"in document&&(cl=document.documentMode);var R4=lr&&"TextEvent"in window&&!cl,Sk=lr&&(!yg||cl&&8<cl&&11>=cl),Ky=" ",Xy=!1;function _k(e,t){switch(e){case"keyup":return A4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function M4(e,t){switch(e){case"compositionend":return Tk(t);case"keypress":return t.which!==32?null:(Xy=!0,Ky);case"textInput":return e=t.data,e===Ky&&Xy?null:e;default:return null}}function D4(e,t){if(xa)return e==="compositionend"||!yg&&_k(e,t)?(e=kk(),Lu=pg=Er=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sk&&t.locale!=="ko"?null:t.data;default:return null}}var L4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!L4[e.type]:t==="textarea"}function Ck(e,t,s,n){ik(n),t=hd(t,"onChange"),0<t.length&&(s=new xg("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ul=null,zl=null;function I4(e){Uk(e,0)}function ph(e){var t=ba(e);if(QN(t))return e}function O4(e,t){if(e==="change")return t}var Pk=!1;if(lr){var jf;if(lr){var Nf="oninput"in document;if(!Nf){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Nf=typeof Qy.oninput=="function"}jf=Nf}else jf=!1;Pk=jf&&(!document.documentMode||9<document.documentMode)}function Zy(){ul&&(ul.detachEvent("onpropertychange",Ek),zl=ul=null)}function Ek(e){if(e.propertyName==="value"&&ph(zl)){var t=[];Ck(t,zl,e,ug(e)),ck(I4,t)}}function F4(e,t,s){e==="focusin"?(Zy(),ul=t,zl=s,ul.attachEvent("onpropertychange",Ek)):e==="focusout"&&Zy()}function U4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ph(zl)}function $4(e,t){if(e==="click")return ph(t)}function B4(e,t){if(e==="input"||e==="change")return ph(t)}function z4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:z4;function Vl(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Wm.call(t,i)||!yn(e[i],t[i]))return!1}return!0}function eb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tb(e,t){var s=eb(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=eb(s)}}function Ak(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ak(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rk(){for(var e=window,t=id();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=id(e.document)}return t}function bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V4(e){var t=Rk(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Ak(s.ownerDocument.documentElement,s)){if(n!==null&&bg(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=tb(s,a);var o=tb(s,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H4=lr&&"documentMode"in document&&11>=document.documentMode,ga=null,up=null,dl=null,dp=!1;function sb(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;dp||ga==null||ga!==id(n)||(n=ga,"selectionStart"in n&&bg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dl&&Vl(dl,n)||(dl=n,n=hd(up,"onSelect"),0<n.length&&(t=new xg("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=ga)))}function Yc(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ya={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},kf={},Mk={};lr&&(Mk=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function xh(e){if(kf[e])return kf[e];if(!ya[e])return e;var t=ya[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Mk)return kf[e]=t[s];return e}var Dk=xh("animationend"),Lk=xh("animationiteration"),Ik=xh("animationstart"),Ok=xh("transitionend"),Fk=new Map,nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){Fk.set(e,t),Yi(t,[e])}for(var Sf=0;Sf<nb.length;Sf++){var _f=nb[Sf],W4=_f.toLowerCase(),q4=_f[0].toUpperCase()+_f.slice(1);Jr(W4,"on"+q4)}Jr(Dk,"onAnimationEnd");Jr(Lk,"onAnimationIteration");Jr(Ik,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(Ok,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function rb(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,WE(n,t,void 0,e),e.currentTarget=null}function Uk(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;rb(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;rb(i,l,u),a=c}}}if(od)throw e=ap,od=!1,ap=null,e}function $e(e,t){var s=t[xp];s===void 0&&(s=t[xp]=new Set);var n=e+"__bubble";s.has(n)||($k(t,e,2,!1),s.add(n))}function Tf(e,t,s){var n=0;t&&(n|=4),$k(s,e,n,t)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Hl(e){if(!e[Gc]){e[Gc]=!0,YN.forEach(function(s){s!=="selectionchange"&&(Y4.has(s)||Tf(s,!1,e),Tf(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gc]||(t[Gc]=!0,Tf("selectionchange",!1,t))}}function $k(e,t,s,n){switch(Nk(t)){case 1:var i=o4;break;case 4:i=l4;break;default:i=mg}s=i.bind(null,t,s,e),i=void 0,!ip||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Cf(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ki(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}ck(function(){var u=a,d=ug(s),h=[];e:{var f=Fk.get(e);if(f!==void 0){var m=xg,x=e;switch(e){case"keypress":if(Iu(s)===0)break e;case"keydown":case"keyup":m=N4;break;case"focusin":x="focus",m=wf;break;case"focusout":x="blur",m=wf;break;case"beforeblur":case"afterblur":m=wf;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=d4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_4;break;case Dk:case Lk:case Ik:m=m4;break;case Ok:m=C4;break;case"scroll":m=c4;break;case"wheel":m=E4;break;case"copy":case"cut":case"paste":m=x4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gy}var g=(t&4)!==0,y=!g&&e==="scroll",p=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,v;b!==null;){v=b;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,p!==null&&(w=Fl(b,p),w!=null&&g.push(Wl(b,w,v)))),y)break;b=b.return}0<g.length&&(f=new m(f,x,null,s,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&s!==np&&(x=s.relatedTarget||s.fromElement)&&(ki(x)||x[cr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=s.relatedTarget||s.toElement,m=u,x=x?ki(x):null,x!==null&&(y=Gi(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=qy,w="onMouseLeave",p="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Gy,w="onPointerLeave",p="onPointerEnter",b="pointer"),y=m==null?f:ba(m),v=x==null?f:ba(x),f=new g(w,b+"leave",m,s,d),f.target=y,f.relatedTarget=v,w=null,ki(d)===u&&(g=new g(p,b+"enter",x,s,d),g.target=v,g.relatedTarget=y,w=g),y=w,m&&x)t:{for(g=m,p=x,b=0,v=g;v;v=na(v))b++;for(v=0,w=p;w;w=na(w))v++;for(;0<b-v;)g=na(g),b--;for(;0<v-b;)p=na(p),v--;for(;b--;){if(g===p||p!==null&&g===p.alternate)break t;g=na(g),p=na(p)}g=null}else g=null;m!==null&&ib(h,f,m,g,!1),x!==null&&y!==null&&ib(h,y,x,g,!0)}}e:{if(f=u?ba(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=O4;else if(Jy(f))if(Pk)j=B4;else{j=U4;var k=F4}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=$4);if(j&&(j=j(e,u))){Ck(h,j,s,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Qm(f,"number",f.value)}switch(k=u?ba(u):window,e){case"focusin":(Jy(k)||k.contentEditable==="true")&&(ga=k,up=u,dl=null);break;case"focusout":dl=up=ga=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,sb(h,s,d);break;case"selectionchange":if(H4)break;case"keydown":case"keyup":sb(h,s,d)}var P;if(yg)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xa?_k(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(Sk&&s.locale!=="ko"&&(xa||S!=="onCompositionStart"?S==="onCompositionEnd"&&xa&&(P=kk()):(Er=d,pg="value"in Er?Er.value:Er.textContent,xa=!0)),k=hd(u,S),0<k.length&&(S=new Yy(S,e,null,s,d),h.push({event:S,listeners:k}),P?S.data=P:(P=Tk(s),P!==null&&(S.data=P)))),(P=R4?M4(e,s):D4(e,s))&&(u=hd(u,"onBeforeInput"),0<u.length&&(d=new Yy("onBeforeInput","beforeinput",null,s,d),h.push({event:d,listeners:u}),d.data=P))}Uk(h,t)})}function Wl(e,t,s){return{instance:e,listener:t,currentTarget:s}}function hd(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fl(e,s),a!=null&&n.unshift(Wl(e,a,i)),a=Fl(e,t),a!=null&&n.push(Wl(e,a,i))),e=e.return}return n}function na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ib(e,t,s,n,i){for(var a=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Fl(s,a),c!=null&&o.unshift(Wl(s,c,l))):i||(c=Fl(s,a),c!=null&&o.push(Wl(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var G4=/\r\n?/g,K4=/\u0000|\uFFFD/g;function ab(e){return(typeof e=="string"?e:""+e).replace(G4,`
`).replace(K4,"")}function Kc(e,t,s){if(t=ab(t),ab(e)!==t&&s)throw Error(G(425))}function fd(){}var hp=null,fp=null;function mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,X4=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,J4=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(e){return ob.resolve(null).then(e).catch(Q4)}:pp;function Q4(e){setTimeout(function(){throw e})}function Pf(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),Bl(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);Bl(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),An="__reactFiber$"+uo,ql="__reactProps$"+uo,cr="__reactContainer$"+uo,xp="__reactEvents$"+uo,Z4="__reactListeners$"+uo,eA="__reactHandles$"+uo;function ki(e){var t=e[An];if(t)return t;for(var s=e.parentNode;s;){if(t=s[cr]||s[An]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=lb(e);e!==null;){if(s=e[An])return s;e=lb(e)}return t}e=s,s=e.parentNode}return null}function vc(e){return e=e[An]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ba(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function gh(e){return e[ql]||null}var gp=[],va=-1;function Qr(e){return{current:e}}function Ve(e){0>va||(e.current=gp[va],gp[va]=null,va--)}function Ue(e,t){va++,gp[va]=e.current,e.current=t}var qr={},qt=Qr(qr),ps=Qr(!1),Oi=qr;function Ha(e,t){var s=e.type.contextTypes;if(!s)return qr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xs(e){return e=e.childContextTypes,e!=null}function md(){Ve(ps),Ve(qt)}function cb(e,t,s){if(qt.current!==qr)throw Error(G(168));Ue(qt,t),Ue(ps,s)}function Bk(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,FE(e)||"Unknown",i));return Qe({},s,n)}function pd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qr,Oi=qt.current,Ue(qt,e),Ue(ps,ps.current),!0}function ub(e,t,s){var n=e.stateNode;if(!n)throw Error(G(169));s?(e=Bk(e,t,Oi),n.__reactInternalMemoizedMergedChildContext=e,Ve(ps),Ve(qt),Ue(qt,e)):Ve(ps),Ue(ps,s)}var Xn=null,yh=!1,Ef=!1;function zk(e){Xn===null?Xn=[e]:Xn.push(e)}function tA(e){yh=!0,zk(e)}function Zr(){if(!Ef&&Xn!==null){Ef=!0;var e=0,t=Re;try{var s=Xn;for(Re=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Xn=null,yh=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(e+1)),fk(dg,Zr),i}finally{Re=t,Ef=!1}}return null}var wa=[],ja=0,xd=null,gd=0,Ws=[],qs=0,Fi=null,Qn=1,Zn="";function pi(e,t){wa[ja++]=gd,wa[ja++]=xd,xd=e,gd=t}function Vk(e,t,s){Ws[qs++]=Qn,Ws[qs++]=Zn,Ws[qs++]=Fi,Fi=e;var n=Qn;e=Zn;var i=32-mn(n)-1;n&=~(1<<i),s+=1;var a=32-mn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qn=1<<32-mn(t)+i|s<<i|n,Zn=a+e}else Qn=1<<a|s<<i|n,Zn=e}function vg(e){e.return!==null&&(pi(e,1),Vk(e,1,0))}function wg(e){for(;e===xd;)xd=wa[--ja],wa[ja]=null,gd=wa[--ja],wa[ja]=null;for(;e===Fi;)Fi=Ws[--qs],Ws[qs]=null,Zn=Ws[--qs],Ws[qs]=null,Qn=Ws[--qs],Ws[qs]=null}var Es=null,Ts=null,We=!1,un=null;function Hk(e,t){var s=Gs(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function db(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Ts=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Ts=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Fi!==null?{id:Qn,overflow:Zn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Gs(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Es=e,Ts=null,!0):!1;default:return!1}}function yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bp(e){if(We){var t=Ts;if(t){var s=t;if(!db(e,t)){if(yp(e))throw Error(G(418));t=Fr(s.nextSibling);var n=Es;t&&db(e,t)?Hk(n,s):(e.flags=e.flags&-4097|2,We=!1,Es=e)}}else{if(yp(e))throw Error(G(418));e.flags=e.flags&-4097|2,We=!1,Es=e}}}function hb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function Xc(e){if(e!==Es)return!1;if(!We)return hb(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mp(e.type,e.memoizedProps)),t&&(t=Ts)){if(yp(e))throw Wk(),Error(G(418));for(;t;)Hk(e,t),t=Fr(t.nextSibling)}if(hb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ts=Fr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ts=null}}else Ts=Es?Fr(e.stateNode.nextSibling):null;return!0}function Wk(){for(var e=Ts;e;)e=Fr(e.nextSibling)}function Wa(){Ts=Es=null,We=!1}function jg(e){un===null?un=[e]:un.push(e)}var sA=mr.ReactCurrentBatchConfig;function Ao(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(G(309));var n=s.stateNode}if(!n)throw Error(G(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!s._owner)throw Error(G(290,e))}return e}function Jc(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fb(e){var t=e._init;return t(e._payload)}function qk(e){function t(p,b){if(e){var v=p.deletions;v===null?(p.deletions=[b],p.flags|=16):v.push(b)}}function s(p,b){if(!e)return null;for(;b!==null;)t(p,b),b=b.sibling;return null}function n(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function i(p,b){return p=zr(p,b),p.index=0,p.sibling=null,p}function a(p,b,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<b?(p.flags|=2,b):v):(p.flags|=2,b)):(p.flags|=1048576,b)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,b,v,w){return b===null||b.tag!==6?(b=Of(v,p.mode,w),b.return=p,b):(b=i(b,v),b.return=p,b)}function c(p,b,v,w){var j=v.type;return j===pa?d(p,b,v.props.children,w,v.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&fb(j)===b.type)?(w=i(b,v.props),w.ref=Ao(p,b,v),w.return=p,w):(w=Vu(v.type,v.key,v.props,null,p.mode,w),w.ref=Ao(p,b,v),w.return=p,w)}function u(p,b,v,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Ff(v,p.mode,w),b.return=p,b):(b=i(b,v.children||[]),b.return=p,b)}function d(p,b,v,w,j){return b===null||b.tag!==7?(b=Mi(v,p.mode,w,j),b.return=p,b):(b=i(b,v),b.return=p,b)}function h(p,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Of(""+b,p.mode,v),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $c:return v=Vu(b.type,b.key,b.props,null,p.mode,v),v.ref=Ao(p,null,b),v.return=p,v;case ma:return b=Ff(b,p.mode,v),b.return=p,b;case wr:var w=b._init;return h(p,w(b._payload),v)}if(Ko(b)||_o(b))return b=Mi(b,p.mode,v,null),b.return=p,b;Jc(p,b)}return null}function f(p,b,v,w){var j=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(p,b,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $c:return v.key===j?c(p,b,v,w):null;case ma:return v.key===j?u(p,b,v,w):null;case wr:return j=v._init,f(p,b,j(v._payload),w)}if(Ko(v)||_o(v))return j!==null?null:d(p,b,v,w,null);Jc(p,v)}return null}function m(p,b,v,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(v)||null,l(b,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $c:return p=p.get(w.key===null?v:w.key)||null,c(b,p,w,j);case ma:return p=p.get(w.key===null?v:w.key)||null,u(b,p,w,j);case wr:var k=w._init;return m(p,b,v,k(w._payload),j)}if(Ko(w)||_o(w))return p=p.get(v)||null,d(b,p,w,j,null);Jc(b,w)}return null}function x(p,b,v,w){for(var j=null,k=null,P=b,S=b=0,T=null;P!==null&&S<v.length;S++){P.index>S?(T=P,P=null):T=P.sibling;var N=f(p,P,v[S],w);if(N===null){P===null&&(P=T);break}e&&P&&N.alternate===null&&t(p,P),b=a(N,b,S),k===null?j=N:k.sibling=N,k=N,P=T}if(S===v.length)return s(p,P),We&&pi(p,S),j;if(P===null){for(;S<v.length;S++)P=h(p,v[S],w),P!==null&&(b=a(P,b,S),k===null?j=P:k.sibling=P,k=P);return We&&pi(p,S),j}for(P=n(p,P);S<v.length;S++)T=m(P,p,S,v[S],w),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?S:T.key),b=a(T,b,S),k===null?j=T:k.sibling=T,k=T);return e&&P.forEach(function(E){return t(p,E)}),We&&pi(p,S),j}function g(p,b,v,w){var j=_o(v);if(typeof j!="function")throw Error(G(150));if(v=j.call(v),v==null)throw Error(G(151));for(var k=j=null,P=b,S=b=0,T=null,N=v.next();P!==null&&!N.done;S++,N=v.next()){P.index>S?(T=P,P=null):T=P.sibling;var E=f(p,P,N.value,w);if(E===null){P===null&&(P=T);break}e&&P&&E.alternate===null&&t(p,P),b=a(E,b,S),k===null?j=E:k.sibling=E,k=E,P=T}if(N.done)return s(p,P),We&&pi(p,S),j;if(P===null){for(;!N.done;S++,N=v.next())N=h(p,N.value,w),N!==null&&(b=a(N,b,S),k===null?j=N:k.sibling=N,k=N);return We&&pi(p,S),j}for(P=n(p,P);!N.done;S++,N=v.next())N=m(P,p,S,N.value,w),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?S:N.key),b=a(N,b,S),k===null?j=N:k.sibling=N,k=N);return e&&P.forEach(function(M){return t(p,M)}),We&&pi(p,S),j}function y(p,b,v,w){if(typeof v=="object"&&v!==null&&v.type===pa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $c:e:{for(var j=v.key,k=b;k!==null;){if(k.key===j){if(j=v.type,j===pa){if(k.tag===7){s(p,k.sibling),b=i(k,v.props.children),b.return=p,p=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&fb(j)===k.type){s(p,k.sibling),b=i(k,v.props),b.ref=Ao(p,k,v),b.return=p,p=b;break e}s(p,k);break}else t(p,k);k=k.sibling}v.type===pa?(b=Mi(v.props.children,p.mode,w,v.key),b.return=p,p=b):(w=Vu(v.type,v.key,v.props,null,p.mode,w),w.ref=Ao(p,b,v),w.return=p,p=w)}return o(p);case ma:e:{for(k=v.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){s(p,b.sibling),b=i(b,v.children||[]),b.return=p,p=b;break e}else{s(p,b);break}else t(p,b);b=b.sibling}b=Ff(v,p.mode,w),b.return=p,p=b}return o(p);case wr:return k=v._init,y(p,b,k(v._payload),w)}if(Ko(v))return x(p,b,v,w);if(_o(v))return g(p,b,v,w);Jc(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(s(p,b.sibling),b=i(b,v),b.return=p,p=b):(s(p,b),b=Of(v,p.mode,w),b.return=p,p=b),o(p)):s(p,b)}return y}var qa=qk(!0),Yk=qk(!1),yd=Qr(null),bd=null,Na=null,Ng=null;function kg(){Ng=Na=bd=null}function Sg(e){var t=yd.current;Ve(yd),e._currentValue=t}function vp(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Ia(e,t){bd=e,Ng=Na=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ms=!0),e.firstContext=null)}function Zs(e){var t=e._currentValue;if(Ng!==e)if(e={context:e,memoizedValue:t,next:null},Na===null){if(bd===null)throw Error(G(308));Na=e,bd.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Si=null;function _g(e){Si===null?Si=[e]:Si.push(e)}function Gk(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,_g(t)):(s.next=i.next,i.next=s),t.interleaved=s,ur(e,n)}function ur(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var jr=!1;function Tg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ur(e,s)}return i=n.interleaved,i===null?(t.next=t,_g(n)):(t.next=i.next,i.next=t),n.interleaved=t,ur(e,s)}function Ou(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,hg(e,s)}}function mb(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function vd(e,t,s,n){var i=e.updateQueue;jr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,m=s,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=Qe({},h,f);break e;case 2:jr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);$i|=o,e.lanes=o,e.memoizedState=h}}function pb(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var wc={},Dn=Qr(wc),Yl=Qr(wc),Gl=Qr(wc);function _i(e){if(e===wc)throw Error(G(174));return e}function Cg(e,t){switch(Ue(Gl,t),Ue(Yl,e),Ue(Dn,wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ep(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ep(t,e)}Ve(Dn),Ue(Dn,t)}function Ya(){Ve(Dn),Ve(Yl),Ve(Gl)}function Xk(e){_i(Gl.current);var t=_i(Dn.current),s=ep(t,e.type);t!==s&&(Ue(Yl,e),Ue(Dn,s))}function Pg(e){Yl.current===e&&(Ve(Dn),Ve(Yl))}var Ye=Qr(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Af=[];function Eg(){for(var e=0;e<Af.length;e++)Af[e]._workInProgressVersionPrimary=null;Af.length=0}var Fu=mr.ReactCurrentDispatcher,Rf=mr.ReactCurrentBatchConfig,Ui=0,Je=null,gt=null,jt=null,jd=!1,hl=!1,Kl=0,nA=0;function Mt(){throw Error(G(321))}function Ag(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!yn(e[s],t[s]))return!1;return!0}function Rg(e,t,s,n,i,a){if(Ui=a,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fu.current=e===null||e.memoizedState===null?oA:lA,e=s(n,i),hl){a=0;do{if(hl=!1,Kl=0,25<=a)throw Error(G(301));a+=1,jt=gt=null,t.updateQueue=null,Fu.current=cA,e=s(n,i)}while(hl)}if(Fu.current=Nd,t=gt!==null&&gt.next!==null,Ui=0,jt=gt=Je=null,jd=!1,t)throw Error(G(300));return e}function Mg(){var e=Kl!==0;return Kl=0,e}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Je.memoizedState=jt=e:jt=jt.next=e,jt}function en(){if(gt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=jt===null?Je.memoizedState:jt.next;if(t!==null)jt=t,gt=e;else{if(e===null)throw Error(G(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},jt===null?Je.memoizedState=jt=e:jt=jt.next=e}return jt}function Xl(e,t){return typeof t=="function"?t(e):t}function Mf(e){var t=en(),s=t.queue;if(s===null)throw Error(G(311));s.lastRenderedReducer=e;var n=gt,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ui&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Je.lanes|=d,$i|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,yn(n,t.memoizedState)||(ms=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,Je.lanes|=a,$i|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Df(e){var t=en(),s=t.queue;if(s===null)throw Error(G(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);yn(a,t.memoizedState)||(ms=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function Jk(){}function Qk(e,t){var s=Je,n=en(),i=t(),a=!yn(n.memoizedState,i);if(a&&(n.memoizedState=i,ms=!0),n=n.queue,Dg(t2.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,Jl(9,e2.bind(null,s,n,i,t),void 0,null),Nt===null)throw Error(G(349));Ui&30||Zk(s,t,i)}return i}function Zk(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function e2(e,t,s,n){t.value=s,t.getSnapshot=n,s2(t)&&n2(e)}function t2(e,t,s){return s(function(){s2(t)&&n2(e)})}function s2(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!yn(e,s)}catch{return!0}}function n2(e){var t=ur(e,1);t!==null&&pn(t,e,1,-1)}function xb(e){var t=Tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:e},t.queue=e,e=e.dispatch=aA.bind(null,Je,e),[t.memoizedState,e]}function Jl(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function r2(){return en().memoizedState}function Uu(e,t,s,n){var i=Tn();Je.flags|=e,i.memoizedState=Jl(1|t,s,void 0,n===void 0?null:n)}function bh(e,t,s,n){var i=en();n=n===void 0?null:n;var a=void 0;if(gt!==null){var o=gt.memoizedState;if(a=o.destroy,n!==null&&Ag(n,o.deps)){i.memoizedState=Jl(t,s,a,n);return}}Je.flags|=e,i.memoizedState=Jl(1|t,s,a,n)}function gb(e,t){return Uu(8390656,8,e,t)}function Dg(e,t){return bh(2048,8,e,t)}function i2(e,t){return bh(4,2,e,t)}function a2(e,t){return bh(4,4,e,t)}function o2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l2(e,t,s){return s=s!=null?s.concat([e]):null,bh(4,4,o2.bind(null,t,e),s)}function Lg(){}function c2(e,t){var s=en();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Ag(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function u2(e,t){var s=en();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Ag(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function d2(e,t,s){return Ui&21?(yn(s,t)||(s=xk(),Je.lanes|=s,$i|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=s)}function rA(e,t){var s=Re;Re=s!==0&&4>s?s:4,e(!0);var n=Rf.transition;Rf.transition={};try{e(!1),t()}finally{Re=s,Rf.transition=n}}function h2(){return en().memoizedState}function iA(e,t,s){var n=Br(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},f2(e))m2(t,s);else if(s=Gk(e,t,s,n),s!==null){var i=ns();pn(s,e,n,i),p2(s,t,n)}}function aA(e,t,s){var n=Br(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(f2(e))m2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,yn(l,o)){var c=t.interleaved;c===null?(i.next=i,_g(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=Gk(e,t,i,n),s!==null&&(i=ns(),pn(s,e,n,i),p2(s,t,n))}}function f2(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function m2(e,t){hl=jd=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function p2(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,hg(e,s)}}var Nd={readContext:Zs,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},oA={readContext:Zs,useCallback:function(e,t){return Tn().memoizedState=[e,t===void 0?null:t],e},useContext:Zs,useEffect:gb,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Uu(4194308,4,o2.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Uu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uu(4,2,e,t)},useMemo:function(e,t){var s=Tn();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Tn();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=iA.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=Tn();return e={current:e},t.memoizedState=e},useState:xb,useDebugValue:Lg,useDeferredValue:function(e){return Tn().memoizedState=e},useTransition:function(){var e=xb(!1),t=e[0];return e=rA.bind(null,e[1]),Tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Je,i=Tn();if(We){if(s===void 0)throw Error(G(407));s=s()}else{if(s=t(),Nt===null)throw Error(G(349));Ui&30||Zk(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,gb(t2.bind(null,n,a,e),[e]),n.flags|=2048,Jl(9,e2.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=Tn(),t=Nt.identifierPrefix;if(We){var s=Zn,n=Qn;s=(n&~(1<<32-mn(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Kl++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=nA++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lA={readContext:Zs,useCallback:c2,useContext:Zs,useEffect:Dg,useImperativeHandle:l2,useInsertionEffect:i2,useLayoutEffect:a2,useMemo:u2,useReducer:Mf,useRef:r2,useState:function(){return Mf(Xl)},useDebugValue:Lg,useDeferredValue:function(e){var t=en();return d2(t,gt.memoizedState,e)},useTransition:function(){var e=Mf(Xl)[0],t=en().memoizedState;return[e,t]},useMutableSource:Jk,useSyncExternalStore:Qk,useId:h2,unstable_isNewReconciler:!1},cA={readContext:Zs,useCallback:c2,useContext:Zs,useEffect:Dg,useImperativeHandle:l2,useInsertionEffect:i2,useLayoutEffect:a2,useMemo:u2,useReducer:Df,useRef:r2,useState:function(){return Df(Xl)},useDebugValue:Lg,useDeferredValue:function(e){var t=en();return gt===null?t.memoizedState=e:d2(t,gt.memoizedState,e)},useTransition:function(){var e=Df(Xl)[0],t=en().memoizedState;return[e,t]},useMutableSource:Jk,useSyncExternalStore:Qk,useId:h2,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function wp(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Qe({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vh={isMounted:function(e){return(e=e._reactInternals)?Gi(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ns(),i=Br(e),a=sr(n,i);a.payload=t,s!=null&&(a.callback=s),t=Ur(e,a,i),t!==null&&(pn(t,e,i,n),Ou(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ns(),i=Br(e),a=sr(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Ur(e,a,i),t!==null&&(pn(t,e,i,n),Ou(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ns(),n=Br(e),i=sr(s,n);i.tag=2,t!=null&&(i.callback=t),t=Ur(e,i,n),t!==null&&(pn(t,e,n,s),Ou(t,e,n))}};function yb(e,t,s,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Vl(s,n)||!Vl(i,a):!0}function x2(e,t,s){var n=!1,i=qr,a=t.contextType;return typeof a=="object"&&a!==null?a=Zs(a):(i=xs(t)?Oi:qt.current,n=t.contextTypes,a=(n=n!=null)?Ha(e,i):qr),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bb(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&vh.enqueueReplaceState(t,t.state,null)}function jp(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Tg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Zs(a):(a=xs(t)?Oi:qt.current,i.context=Ha(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(wp(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vh.enqueueReplaceState(i,i.state,null),vd(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ga(e,t){try{var s="",n=t;do s+=OE(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Lf(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Np(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var uA=typeof WeakMap=="function"?WeakMap:Map;function g2(e,t,s){s=sr(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Sd||(Sd=!0,Mp=n),Np(e,t)},s}function y2(e,t,s){s=sr(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){Np(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Np(e,t),typeof n!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function vb(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new uA;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=kA.bind(null,e,t,s),t.then(e,e))}function wb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jb(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=sr(-1,1),t.tag=2,Ur(s,t,1))),s.lanes|=1),e)}var dA=mr.ReactCurrentOwner,ms=!1;function Xt(e,t,s,n){t.child=e===null?Yk(t,null,s,n):qa(t,e.child,s,n)}function Nb(e,t,s,n,i){s=s.render;var a=t.ref;return Ia(t,i),n=Rg(e,t,s,n,a,i),s=Mg(),e!==null&&!ms?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dr(e,t,i)):(We&&s&&vg(t),t.flags|=1,Xt(e,t,n,i),t.child)}function kb(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!Vg(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,b2(e,t,a,n,i)):(e=Vu(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(o,n)&&e.ref===t.ref)return dr(e,t,i)}return t.flags|=1,e=zr(a,n),e.ref=t.ref,e.return=t,t.child=e}function b2(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(Vl(a,n)&&e.ref===t.ref)if(ms=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ms=!0);else return t.lanes=e.lanes,dr(e,t,i)}return kp(e,t,s,n,i)}function v2(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Sa,ks),ks|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Sa,ks),ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Ue(Sa,ks),ks|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,Ue(Sa,ks),ks|=n;return Xt(e,t,i,s),t.child}function w2(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function kp(e,t,s,n,i){var a=xs(s)?Oi:qt.current;return a=Ha(t,a),Ia(t,i),s=Rg(e,t,s,n,a,i),n=Mg(),e!==null&&!ms?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dr(e,t,i)):(We&&n&&vg(t),t.flags|=1,Xt(e,t,s,i),t.child)}function Sb(e,t,s,n,i){if(xs(s)){var a=!0;pd(t)}else a=!1;if(Ia(t,i),t.stateNode===null)$u(e,t),x2(t,s,n),jp(t,s,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=s.contextType;typeof u=="object"&&u!==null?u=Zs(u):(u=xs(s)?Oi:qt.current,u=Ha(t,u));var d=s.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&bb(t,o,n,u),jr=!1;var f=t.memoizedState;o.state=f,vd(t,n,o,i),c=t.memoizedState,l!==n||f!==c||ps.current||jr?(typeof d=="function"&&(wp(t,s,d,n),c=t.memoizedState),(l=jr||yb(t,s,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Kk(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:on(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Zs(c):(c=xs(s)?Oi:qt.current,c=Ha(t,c));var m=s.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&bb(t,o,n,c),jr=!1,f=t.memoizedState,o.state=f,vd(t,n,o,i);var x=t.memoizedState;l!==h||f!==x||ps.current||jr?(typeof m=="function"&&(wp(t,s,m,n),x=t.memoizedState),(u=jr||yb(t,s,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Sp(e,t,s,n,a,i)}function Sp(e,t,s,n,i,a){w2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&ub(t,s,!1),dr(e,t,a);n=t.stateNode,dA.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,l,a)):Xt(e,t,l,a),t.memoizedState=n.state,i&&ub(t,s,!0),t.child}function j2(e){var t=e.stateNode;t.pendingContext?cb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cb(e,t.context,!1),Cg(e,t.containerInfo)}function _b(e,t,s,n,i){return Wa(),jg(i),t.flags|=256,Xt(e,t,s,n),t.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function Tp(e){return{baseLanes:e,cachePool:null,transitions:null}}function N2(e,t,s){var n=t.pendingProps,i=Ye.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(Ye,i&1),e===null)return bp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Nh(o,n,0,null),e=Mi(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Tp(s),t.memoizedState=_p,e):Ig(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return hA(e,t,o,n,l,i,s);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=zr(l,a):(a=Mi(a,o,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Tp(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=_p,n}return a=e.child,e=a.sibling,n=zr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Ig(e,t){return t=Nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qc(e,t,s,n){return n!==null&&jg(n),qa(t,e.child,null,s),e=Ig(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hA(e,t,s,n,i,a,o){if(s)return t.flags&256?(t.flags&=-257,n=Lf(Error(G(422))),Qc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Nh({mode:"visible",children:n.children},i,0,null),a=Mi(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&qa(t,e.child,null,o),t.child.memoizedState=Tp(o),t.memoizedState=_p,a);if(!(t.mode&1))return Qc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(G(419)),n=Lf(a,n,void 0),Qc(e,t,o,n)}if(l=(o&e.childLanes)!==0,ms||l){if(n=Nt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ur(e,i),pn(n,e,i,-1))}return zg(),n=Lf(Error(G(421))),Qc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=SA.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ts=Fr(i.nextSibling),Es=t,We=!0,un=null,e!==null&&(Ws[qs++]=Qn,Ws[qs++]=Zn,Ws[qs++]=Fi,Qn=e.id,Zn=e.overflow,Fi=t),t=Ig(t,n.children),t.flags|=4096,t)}function Tb(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vp(e.return,t,s)}function If(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function k2(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Xt(e,t,n.children,s),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tb(e,s,t);else if(e.tag===19)Tb(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ue(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&wd(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),If(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wd(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}If(t,!0,s,null,a);break;case"together":If(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $u(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),$i|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,s=zr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=zr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function fA(e,t,s){switch(t.tag){case 3:j2(t),Wa();break;case 5:Xk(t);break;case 1:xs(t.type)&&pd(t);break;case 4:Cg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ue(yd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ue(Ye,Ye.current&1),t.flags|=128,null):s&t.child.childLanes?N2(e,t,s):(Ue(Ye,Ye.current&1),e=dr(e,t,s),e!==null?e.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return k2(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,v2(e,t,s)}return dr(e,t,s)}var S2,Cp,_2,T2;S2=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Cp=function(){};_2=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,_i(Dn.current);var a=null;switch(s){case"input":i=Xm(e,i),n=Xm(e,n),a=[];break;case"select":i=Qe({},i,{value:void 0}),n=Qe({},n,{value:void 0}),a=[];break;case"textarea":i=Zm(e,i),n=Zm(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fd)}tp(s,n);var o;s=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Il.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Il.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$e("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}s&&(a=a||[]).push("style",s);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};T2=function(e,t,s,n){s!==n&&(t.flags|=4)};function Ro(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function mA(e,t,s){var n=t.pendingProps;switch(wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return xs(t.type)&&md(),Dt(t),null;case 3:return n=t.stateNode,Ya(),Ve(ps),Ve(qt),Eg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(Ip(un),un=null))),Cp(e,t),Dt(t),null;case 5:Pg(t);var i=_i(Gl.current);if(s=t.type,e!==null&&t.stateNode!=null)_2(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Dt(t),null}if(e=_i(Dn.current),Xc(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[An]=t,n[ql]=a,e=(t.mode&1)!==0,s){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(i=0;i<Jo.length;i++)$e(Jo[i],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":Iy(n,a),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},$e("invalid",n);break;case"textarea":Fy(n,a),$e("invalid",n)}tp(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Kc(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Kc(n.textContent,l,e),i=["children",""+l]):Il.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$e("scroll",n)}switch(s){case"input":Bc(n),Oy(n,a,!0);break;case"textarea":Bc(n),Uy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=fd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tk(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[An]=t,e[ql]=n,S2(e,t,!1,!1),t.stateNode=e;e:{switch(o=sp(s,n),s){case"dialog":$e("cancel",e),$e("close",e),i=n;break;case"iframe":case"object":case"embed":$e("load",e),i=n;break;case"video":case"audio":for(i=0;i<Jo.length;i++)$e(Jo[i],e);i=n;break;case"source":$e("error",e),i=n;break;case"img":case"image":case"link":$e("error",e),$e("load",e),i=n;break;case"details":$e("toggle",e),i=n;break;case"input":Iy(e,n),i=Xm(e,n),$e("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Qe({},n,{value:void 0}),$e("invalid",e);break;case"textarea":Fy(e,n),i=Zm(e,n),$e("invalid",e);break;default:i=n}tp(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?rk(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sk(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Ol(e,c):typeof c=="number"&&Ol(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Il.hasOwnProperty(a)?c!=null&&a==="onScroll"&&$e("scroll",e):c!=null&&ag(e,a,c,o))}switch(s){case"input":Bc(e),Oy(e,n,!1);break;case"textarea":Bc(e),Uy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ra(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ra(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fd)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)T2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(s=_i(Gl.current),_i(Dn.current),Xc(t)){if(n=t.stateNode,s=t.memoizedProps,n[An]=t,(a=n.nodeValue!==s)&&(e=Es,e!==null))switch(e.tag){case 3:Kc(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kc(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[An]=t,t.stateNode=n}return Dt(t),null;case 13:if(Ve(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Ts!==null&&t.mode&1&&!(t.flags&128))Wk(),Wa(),t.flags|=98560,a=!1;else if(a=Xc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[An]=t}else Wa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),a=!1}else un!==null&&(Ip(un),un=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?bt===0&&(bt=3):zg())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return Ya(),Cp(e,t),e===null&&Hl(t.stateNode.containerInfo),Dt(t),null;case 10:return Sg(t.type._context),Dt(t),null;case 17:return xs(t.type)&&md(),Dt(t),null;case 19:if(Ve(Ye),a=t.memoizedState,a===null)return Dt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Ro(a,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wd(e),o!==null){for(t.flags|=128,Ro(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ue(Ye,Ye.current&1|2),t.child}e=e.sibling}a.tail!==null&&it()>Ka&&(t.flags|=128,n=!0,Ro(a,!1),t.lanes=4194304)}else{if(!n)if(e=wd(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Ro(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!We)return Dt(t),null}else 2*it()-a.renderingStartTime>Ka&&s!==1073741824&&(t.flags|=128,n=!0,Ro(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,s=Ye.current,Ue(Ye,n?s&1|2:s&1),t):(Dt(t),null);case 22:case 23:return Bg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ks&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function pA(e,t){switch(wg(t),t.tag){case 1:return xs(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(),Ve(ps),Ve(qt),Eg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pg(t),null;case 13:if(Ve(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Wa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ye),null;case 4:return Ya(),null;case 10:return Sg(t.type._context),null;case 22:case 23:return Bg(),null;case 24:return null;default:return null}}var Zc=!1,Ut=!1,xA=typeof WeakSet=="function"?WeakSet:Set,se=null;function ka(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){st(e,t,n)}else s.current=null}function Pp(e,t,s){try{s()}catch(n){st(e,t,n)}}var Cb=!1;function gA(e,t){if(hp=ud,e=Rk(),bg(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===s&&++u===i&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(fp={focusedElem:e,selectionRange:s},ud=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,p=t.stateNode,b=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:on(t.type,g),y);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(w){st(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return x=Cb,Cb=!1,x}function fl(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Pp(t,s,a)}i=i.next}while(i!==n)}}function wh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Ep(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function C2(e){var t=e.alternate;t!==null&&(e.alternate=null,C2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[ql],delete t[xp],delete t[Z4],delete t[eA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P2(e){return e.tag===5||e.tag===3||e.tag===4}function Pb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ap(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=fd));else if(n!==4&&(e=e.child,e!==null))for(Ap(e,t,s),e=e.sibling;e!==null;)Ap(e,t,s),e=e.sibling}function Rp(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rp(e,t,s),e=e.sibling;e!==null;)Rp(e,t,s),e=e.sibling}var Pt=null,ln=!1;function xr(e,t,s){for(s=s.child;s!==null;)E2(e,t,s),s=s.sibling}function E2(e,t,s){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(fh,s)}catch{}switch(s.tag){case 5:Ut||ka(s,t);case 6:var n=Pt,i=ln;Pt=null,xr(e,t,s),Pt=n,ln=i,Pt!==null&&(ln?(e=Pt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Pt.removeChild(s.stateNode));break;case 18:Pt!==null&&(ln?(e=Pt,s=s.stateNode,e.nodeType===8?Pf(e.parentNode,s):e.nodeType===1&&Pf(e,s),Bl(e)):Pf(Pt,s.stateNode));break;case 4:n=Pt,i=ln,Pt=s.stateNode.containerInfo,ln=!0,xr(e,t,s),Pt=n,ln=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Pp(s,t,o),i=i.next}while(i!==n)}xr(e,t,s);break;case 1:if(!Ut&&(ka(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){st(s,t,l)}xr(e,t,s);break;case 21:xr(e,t,s);break;case 22:s.mode&1?(Ut=(n=Ut)||s.memoizedState!==null,xr(e,t,s),Ut=n):xr(e,t,s);break;default:xr(e,t,s)}}function Eb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new xA),t.forEach(function(n){var i=_A.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function nn(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pt=l.stateNode,ln=!1;break e;case 3:Pt=l.stateNode.containerInfo,ln=!0;break e;case 4:Pt=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(Pt===null)throw Error(G(160));E2(a,o,i),Pt=null,ln=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){st(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A2(t,e),t=t.sibling}function A2(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),wn(e),n&4){try{fl(3,e,e.return),wh(3,e)}catch(g){st(e,e.return,g)}try{fl(5,e,e.return)}catch(g){st(e,e.return,g)}}break;case 1:nn(t,e),wn(e),n&512&&s!==null&&ka(s,s.return);break;case 5:if(nn(t,e),wn(e),n&512&&s!==null&&ka(s,s.return),e.flags&32){var i=e.stateNode;try{Ol(i,"")}catch(g){st(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&ZN(i,a),sp(l,o);var u=sp(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?rk(i,h):d==="dangerouslySetInnerHTML"?sk(i,h):d==="children"?Ol(i,h):ag(i,d,h,u)}switch(l){case"input":Jm(i,a);break;case"textarea":ek(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ra(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ra(i,!!a.multiple,a.defaultValue,!0):Ra(i,!!a.multiple,a.multiple?[]:"",!1))}i[ql]=a}catch(g){st(e,e.return,g)}}break;case 6:if(nn(t,e),wn(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){st(e,e.return,g)}}break;case 3:if(nn(t,e),wn(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(g){st(e,e.return,g)}break;case 4:nn(t,e),wn(e);break;case 13:nn(t,e),wn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ug=it())),n&4&&Eb(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||d,nn(t,e),Ut=u):nn(t,e),wn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(h=se=d;se!==null;){switch(f=se,m=f.child,f.tag){case 0:case 11:case 14:case 15:fl(4,f,f.return);break;case 1:ka(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,s=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){st(n,s,g)}}break;case 5:ka(f,f.return);break;case 22:if(f.memoizedState!==null){Rb(h);continue}}m!==null?(m.return=f,se=m):Rb(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nk("display",o))}catch(g){st(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){st(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nn(t,e),wn(e),n&4&&Eb(e);break;case 21:break;default:nn(t,e),wn(e)}}function wn(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(P2(s)){var n=s;break e}s=s.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ol(i,""),n.flags&=-33);var a=Pb(e);Rp(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Pb(e);Ap(e,l,o);break;default:throw Error(G(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yA(e,t,s){se=e,R2(e)}function R2(e,t,s){for(var n=(e.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Zc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=Zc;var u=Ut;if(Zc=o,(Ut=c)&&!u)for(se=i;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?Mb(i):c!==null?(c.return=o,se=c):Mb(i);for(;a!==null;)se=a,R2(a),a=a.sibling;se=i,Zc=l,Ut=u}Ab(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):Ab(e)}}function Ab(e){for(;se!==null;){var t=se;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||wh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ut)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:on(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&pb(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}pb(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ut||t.flags&512&&Ep(t)}catch(f){st(t,t.return,f)}}if(t===e){se=null;break}if(s=t.sibling,s!==null){s.return=t.return,se=s;break}se=t.return}}function Rb(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var s=t.sibling;if(s!==null){s.return=t.return,se=s;break}se=t.return}}function Mb(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{wh(4,t)}catch(c){st(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){st(t,i,c)}}var a=t.return;try{Ep(t)}catch(c){st(t,a,c)}break;case 5:var o=t.return;try{Ep(t)}catch(c){st(t,o,c)}}}catch(c){st(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var bA=Math.ceil,kd=mr.ReactCurrentDispatcher,Og=mr.ReactCurrentOwner,Xs=mr.ReactCurrentBatchConfig,_e=0,Nt=null,ht=null,At=0,ks=0,Sa=Qr(0),bt=0,Ql=null,$i=0,jh=0,Fg=0,ml=null,ds=null,Ug=0,Ka=1/0,Gn=null,Sd=!1,Mp=null,$r=null,eu=!1,Ar=null,_d=0,pl=0,Dp=null,Bu=-1,zu=0;function ns(){return _e&6?it():Bu!==-1?Bu:Bu=it()}function Br(e){return e.mode&1?_e&2&&At!==0?At&-At:sA.transition!==null?(zu===0&&(zu=xk()),zu):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Nk(e.type)),e):1}function pn(e,t,s,n){if(50<pl)throw pl=0,Dp=null,Error(G(185));yc(e,s,n),(!(_e&2)||e!==Nt)&&(e===Nt&&(!(_e&2)&&(jh|=s),bt===4&&Sr(e,At)),gs(e,n),s===1&&_e===0&&!(t.mode&1)&&(Ka=it()+500,yh&&Zr()))}function gs(e,t){var s=e.callbackNode;s4(e,t);var n=cd(e,e===Nt?At:0);if(n===0)s!==null&&zy(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&zy(s),t===1)e.tag===0?tA(Db.bind(null,e)):zk(Db.bind(null,e)),J4(function(){!(_e&6)&&Zr()}),s=null;else{switch(gk(n)){case 1:s=dg;break;case 4:s=mk;break;case 16:s=ld;break;case 536870912:s=pk;break;default:s=ld}s=$2(s,M2.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function M2(e,t){if(Bu=-1,zu=0,_e&6)throw Error(G(327));var s=e.callbackNode;if(Oa()&&e.callbackNode!==s)return null;var n=cd(e,e===Nt?At:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Td(e,n);else{t=n;var i=_e;_e|=2;var a=L2();(Nt!==e||At!==t)&&(Gn=null,Ka=it()+500,Ri(e,t));do try{jA();break}catch(l){D2(e,l)}while(!0);kg(),kd.current=a,_e=i,ht!==null?t=0:(Nt=null,At=0,t=bt)}if(t!==0){if(t===2&&(i=op(e),i!==0&&(n=i,t=Lp(e,i))),t===1)throw s=Ql,Ri(e,0),Sr(e,n),gs(e,it()),s;if(t===6)Sr(e,n);else{if(i=e.current.alternate,!(n&30)&&!vA(i)&&(t=Td(e,n),t===2&&(a=op(e),a!==0&&(n=a,t=Lp(e,a))),t===1))throw s=Ql,Ri(e,0),Sr(e,n),gs(e,it()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:xi(e,ds,Gn);break;case 3:if(Sr(e,n),(n&130023424)===n&&(t=Ug+500-it(),10<t)){if(cd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ns(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pp(xi.bind(null,e,ds,Gn),t);break}xi(e,ds,Gn);break;case 4:if(Sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-mn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bA(n/1960))-n,10<n){e.timeoutHandle=pp(xi.bind(null,e,ds,Gn),n);break}xi(e,ds,Gn);break;case 5:xi(e,ds,Gn);break;default:throw Error(G(329))}}}return gs(e,it()),e.callbackNode===s?M2.bind(null,e):null}function Lp(e,t){var s=ml;return e.current.memoizedState.isDehydrated&&(Ri(e,t).flags|=256),e=Td(e,t),e!==2&&(t=ds,ds=s,t!==null&&Ip(t)),e}function Ip(e){ds===null?ds=e:ds.push.apply(ds,e)}function vA(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!yn(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~Fg,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-mn(t),n=1<<s;e[s]=-1,t&=~n}}function Db(e){if(_e&6)throw Error(G(327));Oa();var t=cd(e,0);if(!(t&1))return gs(e,it()),null;var s=Td(e,t);if(e.tag!==0&&s===2){var n=op(e);n!==0&&(t=n,s=Lp(e,n))}if(s===1)throw s=Ql,Ri(e,0),Sr(e,t),gs(e,it()),s;if(s===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xi(e,ds,Gn),gs(e,it()),null}function $g(e,t){var s=_e;_e|=1;try{return e(t)}finally{_e=s,_e===0&&(Ka=it()+500,yh&&Zr())}}function Bi(e){Ar!==null&&Ar.tag===0&&!(_e&6)&&Oa();var t=_e;_e|=1;var s=Xs.transition,n=Re;try{if(Xs.transition=null,Re=1,e)return e()}finally{Re=n,Xs.transition=s,_e=t,!(_e&6)&&Zr()}}function Bg(){ks=Sa.current,Ve(Sa)}function Ri(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,X4(s)),ht!==null)for(s=ht.return;s!==null;){var n=s;switch(wg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&md();break;case 3:Ya(),Ve(ps),Ve(qt),Eg();break;case 5:Pg(n);break;case 4:Ya();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:Sg(n.type._context);break;case 22:case 23:Bg()}s=s.return}if(Nt=e,ht=e=zr(e.current,null),At=ks=t,bt=0,Ql=null,Fg=jh=$i=0,ds=ml=null,Si!==null){for(t=0;t<Si.length;t++)if(s=Si[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}Si=null}return e}function D2(e,t){do{var s=ht;try{if(kg(),Fu.current=Nd,jd){for(var n=Je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jd=!1}if(Ui=0,jt=gt=Je=null,hl=!1,Kl=0,Og.current=null,s===null||s.return===null){bt=1,Ql=t,ht=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=wb(o);if(m!==null){m.flags&=-257,jb(m,o,l,a,t),m.mode&1&&vb(a,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){vb(a,u,t),zg();break e}c=Error(G(426))}}else if(We&&l.mode&1){var y=wb(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),jb(y,o,l,a,t),jg(Ga(c,l));break e}}a=c=Ga(c,l),bt!==4&&(bt=2),ml===null?ml=[a]:ml.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=g2(a,c,t);mb(a,p);break e;case 1:l=c;var b=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($r===null||!$r.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=y2(a,l,t);mb(a,w);break e}}a=a.return}while(a!==null)}O2(s)}catch(j){t=j,ht===s&&s!==null&&(ht=s=s.return);continue}break}while(!0)}function L2(){var e=kd.current;return kd.current=Nd,e===null?Nd:e}function zg(){(bt===0||bt===3||bt===2)&&(bt=4),Nt===null||!($i&268435455)&&!(jh&268435455)||Sr(Nt,At)}function Td(e,t){var s=_e;_e|=2;var n=L2();(Nt!==e||At!==t)&&(Gn=null,Ri(e,t));do try{wA();break}catch(i){D2(e,i)}while(!0);if(kg(),_e=s,kd.current=n,ht!==null)throw Error(G(261));return Nt=null,At=0,bt}function wA(){for(;ht!==null;)I2(ht)}function jA(){for(;ht!==null&&!YE();)I2(ht)}function I2(e){var t=U2(e.alternate,e,ks);e.memoizedProps=e.pendingProps,t===null?O2(e):ht=t,Og.current=null}function O2(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=pA(s,t),s!==null){s.flags&=32767,ht=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,ht=null;return}}else if(s=mA(s,t,ks),s!==null){ht=s;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);bt===0&&(bt=5)}function xi(e,t,s){var n=Re,i=Xs.transition;try{Xs.transition=null,Re=1,NA(e,t,s,n)}finally{Xs.transition=i,Re=n}return null}function NA(e,t,s,n){do Oa();while(Ar!==null);if(_e&6)throw Error(G(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(n4(e,a),e===Nt&&(ht=Nt=null,At=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||eu||(eu=!0,$2(ld,function(){return Oa(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Xs.transition,Xs.transition=null;var o=Re;Re=1;var l=_e;_e|=4,Og.current=null,gA(e,s),A2(s,e),V4(fp),ud=!!hp,fp=hp=null,e.current=s,yA(s),GE(),_e=l,Re=o,Xs.transition=a}else e.current=s;if(eu&&(eu=!1,Ar=e,_d=i),a=e.pendingLanes,a===0&&($r=null),JE(s.stateNode),gs(e,it()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(Sd)throw Sd=!1,e=Mp,Mp=null,e;return _d&1&&e.tag!==0&&Oa(),a=e.pendingLanes,a&1?e===Dp?pl++:(pl=0,Dp=e):pl=0,Zr(),null}function Oa(){if(Ar!==null){var e=gk(_d),t=Xs.transition,s=Re;try{if(Xs.transition=null,Re=16>e?16:e,Ar===null)var n=!1;else{if(e=Ar,Ar=null,_d=0,_e&6)throw Error(G(331));var i=_e;for(_e|=4,se=e.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:fl(8,d,a)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var f=d.sibling,m=d.return;if(C2(d),d===u){se=null;break}if(f!==null){f.return=m,se=f;break}se=m}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fl(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,se=p;break e}se=a.return}}var b=e.current;for(se=b;se!==null;){o=se;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,se=v;else e:for(o=b;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wh(9,l)}}catch(j){st(l,l.return,j)}if(l===o){se=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,se=w;break e}se=l.return}}if(_e=i,Zr(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(fh,e)}catch{}n=!0}return n}finally{Re=s,Xs.transition=t}}return!1}function Lb(e,t,s){t=Ga(s,t),t=g2(e,t,1),e=Ur(e,t,1),t=ns(),e!==null&&(yc(e,1,t),gs(e,t))}function st(e,t,s){if(e.tag===3)Lb(e,e,s);else for(;t!==null;){if(t.tag===3){Lb(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($r===null||!$r.has(n))){e=Ga(s,e),e=y2(t,e,1),t=Ur(t,e,1),e=ns(),t!==null&&(yc(t,1,e),gs(t,e));break}}t=t.return}}function kA(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=ns(),e.pingedLanes|=e.suspendedLanes&s,Nt===e&&(At&s)===s&&(bt===4||bt===3&&(At&130023424)===At&&500>it()-Ug?Ri(e,0):Fg|=s),gs(e,t)}function F2(e,t){t===0&&(e.mode&1?(t=Hc,Hc<<=1,!(Hc&130023424)&&(Hc=4194304)):t=1);var s=ns();e=ur(e,t),e!==null&&(yc(e,t,s),gs(e,s))}function SA(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),F2(e,s)}function _A(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),F2(e,s)}var U2;U2=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ps.current)ms=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ms=!1,fA(e,t,s);ms=!!(e.flags&131072)}else ms=!1,We&&t.flags&1048576&&Vk(t,gd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$u(e,t),e=t.pendingProps;var i=Ha(t,qt.current);Ia(t,s),i=Rg(null,t,n,e,i,s);var a=Mg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xs(n)?(a=!0,pd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tg(t),i.updater=vh,t.stateNode=i,i._reactInternals=t,jp(t,n,e,s),t=Sp(null,t,n,!0,a,s)):(t.tag=0,We&&a&&vg(t),Xt(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch($u(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=CA(n),e=on(n,e),i){case 0:t=kp(null,t,n,e,s);break e;case 1:t=Sb(null,t,n,e,s);break e;case 11:t=Nb(null,t,n,e,s);break e;case 14:t=kb(null,t,n,on(n.type,e),s);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:on(n,i),kp(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:on(n,i),Sb(e,t,n,i,s);case 3:e:{if(j2(t),e===null)throw Error(G(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Kk(e,t),vd(t,n,null,s);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ga(Error(G(423)),t),t=_b(e,t,n,s,i);break e}else if(n!==i){i=Ga(Error(G(424)),t),t=_b(e,t,n,s,i);break e}else for(Ts=Fr(t.stateNode.containerInfo.firstChild),Es=t,We=!0,un=null,s=Yk(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Wa(),n===i){t=dr(e,t,s);break e}Xt(e,t,n,s)}t=t.child}return t;case 5:return Xk(t),e===null&&bp(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,mp(n,i)?o=null:a!==null&&mp(n,a)&&(t.flags|=32),w2(e,t),Xt(e,t,o,s),t.child;case 6:return e===null&&bp(t),null;case 13:return N2(e,t,s);case 4:return Cg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qa(t,null,n,s):Xt(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:on(n,i),Nb(e,t,n,i,s);case 7:return Xt(e,t,t.pendingProps,s),t.child;case 8:return Xt(e,t,t.pendingProps.children,s),t.child;case 12:return Xt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ue(yd,n._currentValue),n._currentValue=o,a!==null)if(yn(a.value,o)){if(a.children===i.children&&!ps.current){t=dr(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=sr(-1,s&-s),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),vp(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(G(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),vp(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Xt(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ia(t,s),i=Zs(i),n=n(i),t.flags|=1,Xt(e,t,n,s),t.child;case 14:return n=t.type,i=on(n,t.pendingProps),i=on(n.type,i),kb(e,t,n,i,s);case 15:return b2(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:on(n,i),$u(e,t),t.tag=1,xs(n)?(e=!0,pd(t)):e=!1,Ia(t,s),x2(t,n,i),jp(t,n,i,s),Sp(null,t,n,!0,e,s);case 19:return k2(e,t,s);case 22:return v2(e,t,s)}throw Error(G(156,t.tag))};function $2(e,t){return fk(e,t)}function TA(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(e,t,s,n){return new TA(e,t,s,n)}function Vg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CA(e){if(typeof e=="function")return Vg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lg)return 11;if(e===cg)return 14}return 2}function zr(e,t){var s=e.alternate;return s===null?(s=Gs(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Vu(e,t,s,n,i,a){var o=2;if(n=e,typeof e=="function")Vg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pa:return Mi(s.children,i,a,t);case og:o=8,i|=8;break;case qm:return e=Gs(12,s,t,i|2),e.elementType=qm,e.lanes=a,e;case Ym:return e=Gs(13,s,t,i),e.elementType=Ym,e.lanes=a,e;case Gm:return e=Gs(19,s,t,i),e.elementType=Gm,e.lanes=a,e;case XN:return Nh(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GN:o=10;break e;case KN:o=9;break e;case lg:o=11;break e;case cg:o=14;break e;case wr:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Gs(o,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Mi(e,t,s,n){return e=Gs(7,e,n,t),e.lanes=s,e}function Nh(e,t,s,n){return e=Gs(22,e,n,t),e.elementType=XN,e.lanes=s,e.stateNode={isHidden:!1},e}function Of(e,t,s){return e=Gs(6,e,null,t),e.lanes=s,e}function Ff(e,t,s){return t=Gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PA(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hg(e,t,s,n,i,a,o,l,c){return e=new PA(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Gs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(a),e}function EA(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function B2(e){if(!e)return qr;e=e._reactInternals;e:{if(Gi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var s=e.type;if(xs(s))return Bk(e,s,t)}return t}function z2(e,t,s,n,i,a,o,l,c){return e=Hg(s,n,!0,e,i,a,o,l,c),e.context=B2(null),s=e.current,n=ns(),i=Br(s),a=sr(n,i),a.callback=t??null,Ur(s,a,i),e.current.lanes=i,yc(e,i,n),gs(e,n),e}function kh(e,t,s,n){var i=t.current,a=ns(),o=Br(i);return s=B2(s),t.context===null?t.context=s:t.pendingContext=s,t=sr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ur(i,t,o),e!==null&&(pn(e,i,o,a),Ou(e,i,o)),o}function Cd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ib(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Wg(e,t){Ib(e,t),(e=e.alternate)&&Ib(e,t)}function AA(){return null}var V2=typeof reportError=="function"?reportError:function(e){console.error(e)};function qg(e){this._internalRoot=e}Sh.prototype.render=qg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));kh(e,t,null,null)};Sh.prototype.unmount=qg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bi(function(){kh(null,e,null,null)}),t[cr]=null}};function Sh(e){this._internalRoot=e}Sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=vk();e={blockedOn:null,target:e,priority:t};for(var s=0;s<kr.length&&t!==0&&t<kr[s].priority;s++);kr.splice(s,0,e),s===0&&jk(e)}};function Yg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function RA(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Cd(o);a.call(u)}}var o=z2(t,n,e,0,null,!1,!1,"",Ob);return e._reactRootContainer=o,e[cr]=o.current,Hl(e.nodeType===8?e.parentNode:e),Bi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Cd(c);l.call(u)}}var c=Hg(e,0,!1,null,null,!1,!1,"",Ob);return e._reactRootContainer=c,e[cr]=c.current,Hl(e.nodeType===8?e.parentNode:e),Bi(function(){kh(t,c,s,n)}),c}function Th(e,t,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Cd(o);l.call(c)}}kh(t,o,e,i)}else o=RA(s,t,e,i,n);return Cd(o)}yk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Xo(t.pendingLanes);s!==0&&(hg(t,s|1),gs(t,it()),!(_e&6)&&(Ka=it()+500,Zr()))}break;case 13:Bi(function(){var n=ur(e,1);if(n!==null){var i=ns();pn(n,e,1,i)}}),Wg(e,1)}};fg=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var s=ns();pn(t,e,134217728,s)}Wg(e,134217728)}};bk=function(e){if(e.tag===13){var t=Br(e),s=ur(e,t);if(s!==null){var n=ns();pn(s,e,t,n)}Wg(e,t)}};vk=function(){return Re};wk=function(e,t){var s=Re;try{return Re=e,t()}finally{Re=s}};rp=function(e,t,s){switch(t){case"input":if(Jm(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=gh(n);if(!i)throw Error(G(90));QN(n),Jm(n,i)}}}break;case"textarea":ek(e,s);break;case"select":t=s.value,t!=null&&Ra(e,!!s.multiple,t,!1)}};ok=$g;lk=Bi;var MA={usingClientEntryPoint:!1,Events:[vc,ba,gh,ik,ak,$g]},Mo={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DA={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dk(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||AA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{fh=tu.inject(DA),Mn=tu}catch{}}Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MA;Is.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yg(t))throw Error(G(200));return EA(e,t,null,s)};Is.createRoot=function(e,t){if(!Yg(e))throw Error(G(299));var s=!1,n="",i=V2;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hg(e,1,!1,null,null,s,!1,n,i),e[cr]=t.current,Hl(e.nodeType===8?e.parentNode:e),new qg(t)};Is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=dk(t),e=e===null?null:e.stateNode,e};Is.flushSync=function(e){return Bi(e)};Is.hydrate=function(e,t,s){if(!_h(t))throw Error(G(200));return Th(null,e,t,!0,s)};Is.hydrateRoot=function(e,t,s){if(!Yg(e))throw Error(G(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=V2;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=z2(t,null,e,1,s??null,i,!1,a,o),e[cr]=t.current,Hl(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Sh(t)};Is.render=function(e,t,s){if(!_h(t))throw Error(G(200));return Th(null,e,t,!1,s)};Is.unmountComponentAtNode=function(e){if(!_h(e))throw Error(G(40));return e._reactRootContainer?(Bi(function(){Th(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1};Is.unstable_batchedUpdates=$g;Is.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!_h(s))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Th(e,t,s,!1,n)};Is.version="18.3.1-next-f1338f8080-20240426";function H2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H2)}catch(e){console.error(e)}}H2(),HN.exports=Is;var LA=HN.exports,Fb=LA;Hm.createRoot=Fb.createRoot,Hm.hydrateRoot=Fb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Zl.apply(this,arguments)}var Rr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rr||(Rr={}));const Ub="popstate";function IA(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Op("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Pd(i)}return FA(t,s,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OA(){return Math.random().toString(36).substr(2,8)}function $b(e,t){return{usr:e.state,key:e.key,idx:t}}function Op(e,t,s,n){return s===void 0&&(s=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ho(t):t,{state:s,key:t&&t.key||n||OA()})}function Pd(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ho(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function FA(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Rr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Zl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Rr.Pop;let y=d(),p=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:p})}function f(y,p){l=Rr.Push;let b=Op(g.location,y,p);u=d()+1;let v=$b(b,u),w=g.createHref(b);try{o.pushState(v,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(w)}a&&c&&c({action:l,location:g.location,delta:1})}function m(y,p){l=Rr.Replace;let b=Op(g.location,y,p);u=d();let v=$b(b,u),w=g.createHref(b);o.replaceState(v,"",w),a&&c&&c({action:l,location:g.location,delta:0})}function x(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:Pd(y);return b=b.replace(/ $/,"%20"),ot(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let g={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ub,h),c=y,()=>{i.removeEventListener(Ub,h),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let p=x(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(y){return o.go(y)}};return g}var Bb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bb||(Bb={}));function UA(e,t,s){return s===void 0&&(s="/"),$A(e,t,s)}function $A(e,t,s,n){let i=typeof t=="string"?ho(t):t,a=Gg(i.pathname||"/",s);if(a==null)return null;let o=q2(e);BA(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ZA(a);l=XA(o[c],u)}return l}function q2(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Vr([n,c.relativePath]),d=s.concat(c);a.children&&a.children.length>0&&(ot(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q2(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:GA(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Y2(a.path))i(a,o,c)}),t}function Y2(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Y2(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function BA(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:KA(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const zA=/^:[\w-]+$/,VA=3,HA=2,WA=1,qA=10,YA=-2,zb=e=>e==="*";function GA(e,t){let s=e.split("/"),n=s.length;return s.some(zb)&&(n+=YA),t&&(n+=HA),s.filter(i=>!zb(i)).reduce((i,a)=>i+(zA.test(a)?VA:a===""?WA:qA),n)}function KA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function XA(e,t,s){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=JA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Vr([a,h.pathname]),pathnameBase:n5(Vr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Vr([a,h.pathnameBase]))}return o}function JA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=QA(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function QA(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),W2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ZA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return W2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function e5(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?ho(e):e;return{pathname:s?s.startsWith("/")?s:t5(s,t):t,search:r5(n),hash:i5(i)}}function t5(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Uf(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s5(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Kg(e,t){let s=s5(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Xg(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ho(e):(i=Zl({},e),ot(!i.pathname||!i.pathname.includes("?"),Uf("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Uf("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Uf("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=e5(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Vr=e=>e.join("/").replace(/\/\/+/g,"/"),n5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,i5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function a5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const G2=["post","put","patch","delete"];new Set(G2);const o5=["get",...G2];new Set(o5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ec.apply(this,arguments)}const Jg=_.createContext(null),l5=_.createContext(null),ei=_.createContext(null),Ch=_.createContext(null),ti=_.createContext({outlet:null,matches:[],isDataRoute:!1}),K2=_.createContext(null);function c5(e,t){let{relative:s}=t===void 0?{}:t;fo()||ot(!1);let{basename:n,navigator:i}=_.useContext(ei),{hash:a,pathname:o,search:l}=J2(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:Vr([n,o])),i.createHref({pathname:c,search:l,hash:a})}function fo(){return _.useContext(Ch)!=null}function mo(){return fo()||ot(!1),_.useContext(Ch).location}function X2(e){_.useContext(ei).static||_.useLayoutEffect(e)}function kt(){let{isDataRoute:e}=_.useContext(ti);return e?j5():u5()}function u5(){fo()||ot(!1);let e=_.useContext(Jg),{basename:t,future:s,navigator:n}=_.useContext(ei),{matches:i}=_.useContext(ti),{pathname:a}=mo(),o=JSON.stringify(Kg(i,s.v7_relativeSplatPath)),l=_.useRef(!1);return X2(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Xg(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function J2(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=_.useContext(ei),{matches:i}=_.useContext(ti),{pathname:a}=mo(),o=JSON.stringify(Kg(i,n.v7_relativeSplatPath));return _.useMemo(()=>Xg(e,JSON.parse(o),a,s==="path"),[e,o,a,s])}function d5(e,t){return h5(e,t)}function h5(e,t,s,n){fo()||ot(!1);let{navigator:i}=_.useContext(ei),{matches:a}=_.useContext(ti),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=mo(),d;if(t){var h;let y=typeof t=="string"?ho(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ot(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=UA(e,{pathname:m}),g=g5(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Vr([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Vr([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,s,n);return t&&g?_.createElement(Ch.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rr.Pop}},g):g}function f5(){let e=w5(),t=a5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),s?_.createElement("pre",{style:i},s):null,null)}const m5=_.createElement(f5,null);class p5 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?_.createElement(ti.Provider,{value:this.props.routeContext},_.createElement(K2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x5(e){let{routeContext:t,match:s,children:n}=e,i=_.useContext(Jg);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),_.createElement(ti.Provider,{value:t},n)}function g5(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=s,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,g=null,y=null;s&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||m5,c&&(u<0&&f===0?(N5("route-fallback"),x=!0,y=null):u===f&&(x=!0,y=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),b=()=>{let v;return m?v=g:x?v=y:h.route.Component?v=_.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,_.createElement(x5,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:s!=null},children:v})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(p5,{location:s.location,revalidation:s.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var Q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Q2||{}),Z2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z2||{});function y5(e){let t=_.useContext(Jg);return t||ot(!1),t}function b5(e){let t=_.useContext(l5);return t||ot(!1),t}function v5(e){let t=_.useContext(ti);return t||ot(!1),t}function eS(e){let t=v5(),s=t.matches[t.matches.length-1];return s.route.id||ot(!1),s.route.id}function w5(){var e;let t=_.useContext(K2),s=b5(),n=eS();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function j5(){let{router:e}=y5(Q2.UseNavigateStable),t=eS(Z2.UseNavigateStable),s=_.useRef(!1);return X2(()=>{s.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ec({fromRouteId:t},a)))},[e,t])}const Vb={};function N5(e,t,s){Vb[e]||(Vb[e]=!0)}function k5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tt(e){let{to:t,replace:s,state:n,relative:i}=e;fo()||ot(!1);let{future:a,static:o}=_.useContext(ei),{matches:l}=_.useContext(ti),{pathname:c}=mo(),u=kt(),d=Xg(t,Kg(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(h),{replace:s,state:n,relative:i}),[u,h,i,s,n]),null}function et(e){ot(!1)}function S5(e){let{basename:t="/",children:s=null,location:n,navigationType:i=Rr.Pop,navigator:a,static:o=!1,future:l}=e;fo()&&ot(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:a,static:o,future:ec({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ho(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=n,g=_.useMemo(()=>{let y=Gg(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:x},navigationType:i}},[c,d,h,f,m,x,i]);return g==null?null:_.createElement(ei.Provider,{value:u},_.createElement(Ch.Provider,{children:s,value:g}))}function _5(e){let{children:t,location:s}=e;return d5(Fp(t),s)}new Promise(()=>{});function Fp(e,t){t===void 0&&(t=[]);let s=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let a=[...t,i];if(n.type===_.Fragment){s.push.apply(s,Fp(n.props.children,a));return}n.type!==et&&ot(!1),!n.props.index||!n.props.children||ot(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fp(n.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Up.apply(this,arguments)}function T5(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function C5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function P5(e,t){return e.button===0&&(!t||t==="_self")&&!C5(e)}const E5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A5="6";try{window.__reactRouterVersion=A5}catch{}const R5="startTransition",Hb=kE[R5];function M5(e){let{basename:t,children:s,future:n,window:i}=e,a=_.useRef();a.current==null&&(a.current=IA({window:i,v5Compat:!0}));let o=a.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(h=>{u&&Hb?Hb(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>k5(n),[n]),_.createElement(S5,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const D5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wb=_.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=T5(t,E5),{basename:m}=_.useContext(ei),x,g=!1;if(typeof u=="string"&&L5.test(u)&&(x=u,D5))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=Gg(w.pathname,m);w.origin===v.origin&&j!=null?u=j+w.search+w.hash:g=!0}catch{}let y=c5(u,{relative:i}),p=I5(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function b(v){n&&n(v),v.defaultPrevented||p(v)}return _.createElement("a",Up({},f,{href:x||y,onClick:g||a?n:b,ref:s,target:c}))});var qb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qb||(qb={}));var Yb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yb||(Yb={}));function I5(e,t){let{target:s,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=kt(),u=mo(),d=J2(e,{relative:o});return _.useCallback(h=>{if(P5(h,s)){h.preventDefault();let f=n!==void 0?n:Pd(u)===Pd(d);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,s,e,a,o,l])}let O5={data:""},F5=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||O5,U5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$5=/\/\*[^]*?\*\/|  +/g,Gb=/\n+/g,_r=(e,t)=>{let s="",n="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":n+=a[1]=="f"?_r(o,a):a+"{"+_r(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=_r(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=_r.p?_r.p(a,o):a+":"+o+";")}return s+(t&&i?t+"{"+i+"}":i)+n},zn={},tS=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+tS(e[s]);return t}return e},B5=(e,t,s,n,i)=>{let a=tS(e),o=zn[a]||(zn[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!zn[o]){let c=a!==e?e:(u=>{let d,h,f=[{}];for(;d=U5.exec(u.replace($5,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Gb," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Gb," ").trim();return f[0]})(e);zn[o]=_r(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&zn.g?zn.g:null;return s&&(zn.g=zn[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(zn[o],t,n,l),o},z5=(e,t,s)=>e.reduce((n,i,a)=>{let o=t[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":_r(l,""):l===!1?"":l}return n+i+(o??"")},"");function Ph(e){let t=this||{},s=e.call?e(t.p):e;return B5(s.unshift?s.raw?z5(s,[].slice.call(arguments,1),t.p):s.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):s,F5(t.target),t.g,t.o,t.k)}let sS,$p,Bp;Ph.bind({g:1});let hr=Ph.bind({k:1});function V5(e,t,s,n){_r.p=t,sS=e,$p=s,Bp=n}function si(e,t){let s=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:$p&&$p()},l),s.o=/ *go\d+/.test(c),l.className=Ph.apply(s,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Bp&&u[0]&&Bp(l),sS(u,l)}return i}}var H5=e=>typeof e=="function",Ed=(e,t)=>H5(e)?e(t):e,W5=(()=>{let e=0;return()=>(++e).toString()})(),nS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),q5=20,rS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,q5)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:s}=t;return rS(e,{type:e.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Hu=[],Ti={toasts:[],pausedAt:void 0},Ki=e=>{Ti=rS(Ti,e),Hu.forEach(t=>{t(Ti)})},Y5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},G5=(e={})=>{let[t,s]=_.useState(Ti),n=_.useRef(Ti);_.useEffect(()=>(n.current!==Ti&&s(Ti),Hu.push(s),()=>{let a=Hu.indexOf(s);a>-1&&Hu.splice(a,1)}),[]);let i=t.toasts.map(a=>{var o,l,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Y5[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:i}},K5=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||W5()}),jc=e=>(t,s)=>{let n=K5(t,e,s);return Ki({type:2,toast:n}),n.id},Zt=(e,t)=>jc("blank")(e,t);Zt.error=jc("error");Zt.success=jc("success");Zt.loading=jc("loading");Zt.custom=jc("custom");Zt.dismiss=e=>{Ki({type:3,toastId:e})};Zt.remove=e=>Ki({type:4,toastId:e});Zt.promise=(e,t,s)=>{let n=Zt.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Ed(t.success,i):void 0;return a?Zt.success(a,{id:n,...s,...s==null?void 0:s.success}):Zt.dismiss(n),i}).catch(i=>{let a=t.error?Ed(t.error,i):void 0;a?Zt.error(a,{id:n,...s,...s==null?void 0:s.error}):Zt.dismiss(n)}),e};var X5=(e,t)=>{Ki({type:1,toast:{id:e,height:t}})},J5=()=>{Ki({type:5,time:Date.now()})},xl=new Map,Q5=1e3,Z5=(e,t=Q5)=>{if(xl.has(e))return;let s=setTimeout(()=>{xl.delete(e),Ki({type:4,toastId:e})},t);xl.set(e,s)},e3=e=>{let{toasts:t,pausedAt:s}=G5(e);_.useEffect(()=>{if(s)return;let a=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Zt.dismiss(l.id);return}return setTimeout(()=>Zt.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,s]);let n=_.useCallback(()=>{s&&Ki({type:6,time:Date.now()})},[s]),i=_.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(m=>(m.position||u)===(a.position||u)&&m.height),h=d.findIndex(m=>m.id===a.id),f=d.filter((m,x)=>x<h&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,x)=>m+(x.height||0)+c,0)},[t]);return _.useEffect(()=>{t.forEach(a=>{if(a.dismissed)Z5(a.id,a.removeDelay);else{let o=xl.get(a.id);o&&(clearTimeout(o),xl.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:X5,startPause:J5,endPause:n,calculateOffset:i}}},t3=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,s3=hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n3=hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,r3=si("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${t3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${s3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${n3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,i3=hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,a3=si("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${i3} 1s linear infinite;
`,o3=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,l3=hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,c3=si("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${l3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,u3=si("div")`
  position: absolute;
`,d3=si("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,h3=hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f3=si("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${h3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,m3=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?_.createElement(f3,null,t):t:s==="blank"?null:_.createElement(d3,null,_.createElement(a3,{...n}),s!=="loading"&&_.createElement(u3,null,s==="error"?_.createElement(r3,{...n}):_.createElement(c3,{...n})))},p3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,x3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,g3="0%{opacity:0;} 100%{opacity:1;}",y3="0%{opacity:1;} 100%{opacity:0;}",b3=si("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,v3=si("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,w3=(e,t)=>{let s=e.includes("top")?1:-1,[n,i]=nS()?[g3,y3]:[p3(s),x3(s)];return{animation:t?`${hr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},j3=_.memo(({toast:e,position:t,style:s,children:n})=>{let i=e.height?w3(e.position||t||"top-center",e.visible):{opacity:0},a=_.createElement(m3,{toast:e}),o=_.createElement(v3,{...e.ariaProps},Ed(e.message,e));return _.createElement(b3,{className:e.className,style:{...i,...s,...e.style}},typeof n=="function"?n({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});V5(_.createElement);var N3=({id:e,className:t,style:s,onHeightUpdate:n,children:i})=>{let a=_.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return _.createElement("div",{ref:a,className:t,style:s},i)},k3=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:nS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...i}},S3=Ph`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,su=16,_3=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=e3(s);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:su,left:su,right:su,bottom:su,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),f=k3(d,h);return _.createElement(N3,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?S3:"",style:f},u.type==="custom"?Ed(u.message,u):i?i(u):_.createElement(j3,{toast:u,position:d}))}))},D=Zt;const T3={},Kb=e=>{let t;const s=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(x=>x(t,m))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{(T3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(n,i,c);return c},C3=e=>e?Kb(e):Kb;var iS={exports:{}},aS={},oS={exports:{}},lS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=_;function P3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E3=typeof Object.is=="function"?Object.is:P3,A3=Xa.useState,R3=Xa.useEffect,M3=Xa.useLayoutEffect,D3=Xa.useDebugValue;function L3(e,t){var s=t(),n=A3({inst:{value:s,getSnapshot:t}}),i=n[0].inst,a=n[1];return M3(function(){i.value=s,i.getSnapshot=t,$f(i)&&a({inst:i})},[e,s,t]),R3(function(){return $f(i)&&a({inst:i}),e(function(){$f(i)&&a({inst:i})})},[e]),D3(s),s}function $f(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!E3(e,s)}catch{return!0}}function I3(e,t){return t()}var O3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?I3:L3;lS.useSyncExternalStore=Xa.useSyncExternalStore!==void 0?Xa.useSyncExternalStore:O3;oS.exports=lS;var F3=oS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh=_,U3=F3;function $3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B3=typeof Object.is=="function"?Object.is:$3,z3=U3.useSyncExternalStore,V3=Eh.useRef,H3=Eh.useEffect,W3=Eh.useMemo,q3=Eh.useDebugValue;aS.useSyncExternalStoreWithSelector=function(e,t,s,n,i){var a=V3(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=W3(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var x=o.value;if(i(x,m))return h=x}return h=m}if(x=h,B3(d,m))return x;var g=n(m);return i!==void 0&&i(x,g)?(d=m,x):(d=m,h=g)}var u=!1,d,h,f=s===void 0?null:s;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,s,n,i]);var l=z3(e,a[0],a[1]);return H3(function(){o.hasValue=!0,o.value=l},[l]),q3(l),l};iS.exports=aS;var Y3=iS.exports;const G3=dh(Y3),cS={},{useDebugValue:K3}=Pe,{useSyncExternalStoreWithSelector:X3}=G3;let Xb=!1;const J3=e=>e;function Q3(e,t=J3,s){(cS?"production":void 0)!=="production"&&s&&!Xb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xb=!0);const n=X3(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return K3(n),n}const Jb=e=>{(cS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?C3(e):e,s=(n,i)=>Q3(t,n,i);return Object.assign(s,t),s},Ah=e=>e?Jb(e):Jb,Z3="modulepreload",e6=function(e){return"/"+e},Qb={},po=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=e6(c),c in Qb)return;Qb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Z3,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},t6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>po(async()=>{const{default:n}=await Promise.resolve().then(()=>xo);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Qg extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class s6 extends Qg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zb extends Qg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ev extends Qg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zp||(zp={}));var n6=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class r6{constructor(t,{headers:s={},customFetch:n,region:i=zp.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=t6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return n6(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(g=>{throw new s6(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Zb(h);if(!h.ok)throw new ev(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield h.json():m==="application/octet-stream"?x=yield h.blob():m==="text/event-stream"?x=h:m==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof ev||i instanceof Zb?i.context:void 0}}})}}var hs={},Zg={},Rh={},Nc={},Mh={},Dh={},i6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ja=i6();const a6=Ja.fetch,uS=Ja.fetch.bind(Ja),dS=Ja.Headers,o6=Ja.Request,l6=Ja.Response,xo=Object.freeze(Object.defineProperty({__proto__:null,Headers:dS,Request:o6,Response:l6,default:uS,fetch:a6},Symbol.toStringTag,{value:"Module"})),c6=lE(xo);var Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});let u6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Lh.default=u6;var hS=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dh,"__esModule",{value:!0});const d6=hS(c6),h6=hS(Lh);let f6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=d6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,f=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,m="OK")}catch{a.status===404&&g===""?(f=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new h6.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};Dh.default=f6;var m6=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mh,"__esModule",{value:!0});const p6=m6(Dh);let x6=class extends p6.default{select(t){let s=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Mh.default=x6;var g6=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nc,"__esModule",{value:!0});const y6=g6(Mh);let b6=class extends y6.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};Nc.default=b6;var v6=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rh,"__esModule",{value:!0});const Do=v6(Nc);let w6=class{constructor(t,{headers:s={},schema:n,fetch:i}){this.url=t,this.headers=s,this.schema=n,this.fetch=i}select(t,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Do.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Do.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Do.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Do.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Do.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Rh.default=w6;var Ih={},Oh={};Object.defineProperty(Oh,"__esModule",{value:!0});Oh.version=void 0;Oh.version="0.0.0-automated";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.DEFAULT_HEADERS=void 0;const j6=Oh;Ih.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${j6.version}`};var fS=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zg,"__esModule",{value:!0});const N6=fS(Rh),k6=fS(Nc),S6=Ih;let _6=class mS{constructor(t,{headers:s={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},S6.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new N6.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=s);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new k6.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Zg.default=_6;var go=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});hs.PostgrestError=hs.PostgrestBuilder=hs.PostgrestTransformBuilder=hs.PostgrestFilterBuilder=hs.PostgrestQueryBuilder=hs.PostgrestClient=void 0;const pS=go(Zg);hs.PostgrestClient=pS.default;const xS=go(Rh);hs.PostgrestQueryBuilder=xS.default;const gS=go(Nc);hs.PostgrestFilterBuilder=gS.default;const yS=go(Mh);hs.PostgrestTransformBuilder=yS.default;const bS=go(Dh);hs.PostgrestBuilder=bS.default;const vS=go(Lh);hs.PostgrestError=vS.default;var T6=hs.default={PostgrestClient:pS.default,PostgrestQueryBuilder:xS.default,PostgrestFilterBuilder:gS.default,PostgrestTransformBuilder:yS.default,PostgrestBuilder:bS.default,PostgrestError:vS.default};const{PostgrestClient:C6,PostgrestQueryBuilder:PX,PostgrestFilterBuilder:EX,PostgrestTransformBuilder:AX,PostgrestBuilder:RX,PostgrestError:MX}=T6;function P6(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const E6=P6(),A6="2.11.15",R6=`realtime-js/${A6}`,M6="1.0.0",wS=1e4,D6=1e3;var gl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gl||(gl={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(cn||(cn={}));var Vp;(function(e){e.websocket="websocket"})(Vp||(Vp={}));var ji;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ji||(ji={}));class L6{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class jS{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const tv=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=I6(o,e,t,i),a),{})},I6=(e,t,s,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=s[e];return a&&!n.includes(a)?NS(a,o):Hp(o)},NS=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return $6(t,s)}switch(e){case Oe.bool:return O6(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return F6(t);case Oe.json:case Oe.jsonb:return U6(t);case Oe.timestamp:return B6(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Hp(t);default:return Hp(t)}},Hp=e=>e,O6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$6=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>NS(t,l))}return e},B6=e=>typeof e=="string"?e.replace(" ","T"):e,kS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bf{constructor(t,s,n={},i=wS){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sv||(sv={}));class yl{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=yl.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yl.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),x=d.filter(y=>m.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,s,n,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nv||(nv={}));var rv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rv||(rv={}));var Kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class e0{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Bf(this,cn.join,this.params,this.timeout),this.rejoinTimer=new jS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new yl(this),this.broadcastEndpointURL=kS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Kn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Kn.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Kn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let g=0;g<m;g++){const y=f[g],{filter:{event:p,schema:b,table:v,filter:w}}=y,j=d&&d[g];if(j&&j.event===p&&j.schema===b&&j.table===v&&j.filter===w)x.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Kn.SUBSCRIBED);return}}).receive("error",d=>{this.state=It.errored,t==null||t(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Bf(this,cn.leave,{},t),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bf(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=cn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var x,g,y;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var x,g,y,p,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,j=(x=m.filter)===null||x===void 0?void 0:x.event;return w&&((g=s.ids)===null||g===void 0?void 0:g.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(b=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((v=s==null?void 0:s.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:g,table:y,commit_timestamp:p,type:b,errors:v}=x;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:p,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(x))}m.callback(f,n)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&e0.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cn.close,{},t)}_onError(t){this._on(cn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=tv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=tv(t.columns,t.old_record)),s}}const iv=()=>{},z6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V6{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iv,this.ref=0,this.logger=iv,this.conn=null,this.sendBuffer=[],this.serializer=new L6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>po(async()=>{const{default:c}=await Promise.resolve().then(()=>xo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Vp.websocket}`,this.httpEndpoint=kS(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(a,o)=>o(JSON.stringify(a)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=E6),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M6}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gl.connecting:return ji.Connecting;case gl.open:return ji.Open;case gl.closing:return ji.Closing;default:return ji.Closed}}isConnected(){return this.connectionState()===ji.Open}channel(t,s={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new e0(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:R6};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(cn.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(D6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:a,ref:o}=s;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(cn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([z6],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class t0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class H6 extends t0{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wp extends t0{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var W6=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const SS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>po(async()=>{const{default:n}=await Promise.resolve().then(()=>xo);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},q6=()=>W6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield po(()=>Promise.resolve().then(()=>xo),void 0)).Response:Response}),qp=e=>{if(Array.isArray(e))return e.map(s=>qp(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=qp(n)}),t};var Xi=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Y6=(e,t,s)=>Xi(void 0,void 0,void 0,function*(){const n=yield q6();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new H6(zf(i),e.status||500))}).catch(i=>{t(new Wp(zf(i),i))}):t(new Wp(zf(e),e))}),G6=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function kc(e,t,s,n,i,a){return Xi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,G6(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Y6(c,l,n))})})}function Ad(e,t,s,n){return Xi(this,void 0,void 0,function*(){return kc(e,"GET",t,s,n)})}function Nr(e,t,s,n,i){return Xi(this,void 0,void 0,function*(){return kc(e,"POST",t,n,i,s)})}function K6(e,t,s,n,i){return Xi(this,void 0,void 0,function*(){return kc(e,"PUT",t,n,i,s)})}function X6(e,t,s,n){return Xi(this,void 0,void 0,function*(){return kc(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function _S(e,t,s,n,i){return Xi(this,void 0,void 0,function*(){return kc(e,"DELETE",t,n,i,s)})}var os=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const J6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},av={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q6{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=SS(i)}uploadOrUpdate(t,s,n,i){return os(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},av),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(wt(a))return{data:null,error:a};throw a}})}upload(t,s,n){return os(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return os(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:av.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return os(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield Nr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new t0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}update(t,s,n){return os(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return os(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}copy(t,s,n){return os(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return os(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Nr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return os(this,void 0,void 0,function*(){try{const i=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}download(t,s){return os(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ad(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}info(t){return os(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield Ad(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:qp(n),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}exists(t){return os(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield X6(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wt(n)&&n instanceof Wp){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return os(this,void 0,void 0,function*(){try{return{data:yield _S(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}list(t,s,n){return os(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},J6),s),{prefix:t||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Z6="2.7.1",eR={"X-Client-Info":`storage-js/${Z6}`};var ra=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class tR{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},eR),s),this.fetch=SS(n)}listBuckets(){return ra(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}getBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return ra(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return ra(this,void 0,void 0,function*(){try{return{data:yield K6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield _S(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}}class sR extends tR{constructor(t,s={},n){super(t,s,n)}from(t){return new Q6(this.url,this.headers,t,this.fetch)}}const nR="2.50.3";let Qo="";typeof Deno<"u"?Qo="deno":typeof document<"u"?Qo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qo="react-native":Qo="node";const rR={"X-Client-Info":`supabase-js-${Qo}/${nR}`},iR={headers:rR},aR={schema:"public"},oR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lR={};var cR=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const uR=e=>{let t;return e?t=e:typeof fetch>"u"?t=uS:t=fetch,(...s)=>t(...s)},dR=()=>typeof Headers>"u"?dS:Headers,hR=(e,t,s)=>{const n=uR(s),i=dR();return(a,o)=>cR(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var fR=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function mR(e){return e.endsWith("/")?e:e+"/"}function pR(e,t){var s,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>fR(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const TS="2.70.0",ha=30*1e3,Yp=3,Vf=Yp*ha,xR="http://localhost:9999",gR="supabase.auth.token",yR={"X-Client-Info":`gotrue-js/${TS}`},Gp="X-Supabase-Api-Version",CS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vR=6e5;class s0 extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wR extends s0{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function jR(e){return de(e)&&e.name==="AuthApiError"}class PS extends s0{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class ni extends s0{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class br extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NR(e){return de(e)&&e.name==="AuthSessionMissingError"}class nu extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ru extends ni{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class iu extends ni{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kR(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class ov extends ni{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kp extends ni{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Hf(e){return de(e)&&e.name==="AuthRetryableFetchError"}class lv extends ni{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class bl extends ni{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cv=` 	
\r=`.split(""),SR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cv.length;t+=1)e[cv[t].charCodeAt(0)]=-2;for(let t=0;t<Rd.length;t+=1)e[Rd[t].charCodeAt(0)]=t;return e})();function uv(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Rd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Rd[n]),t.queuedBits-=6}}function ES(e,t,s){const n=SR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dv(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{CR(o,n,s)};for(let o=0;o<e.length;o+=1)ES(e.charCodeAt(o),i,a);return t.join("")}function _R(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TR(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}_R(n,t)}}function CR(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function PR(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)ES(e.charCodeAt(i),s,n);return new Uint8Array(t)}function ER(e){const t=[];return TR(e,s=>t.push(s)),new Uint8Array(t)}function AR(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>uv(i,s,n)),uv(null,s,n),t.join("")}function RR(e){return Math.round(Date.now()/1e3)+e}function MR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rn=()=>typeof window<"u"&&typeof document<"u",ci={tested:!1,writable:!1},vl=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ci.tested)return ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ci.tested=!0,ci.writable=!0}catch{ci.tested=!0,ci.writable=!1}return ci.writable};function DR(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const AS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>po(async()=>{const{default:n}=await Promise.resolve().then(()=>xo);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},LR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",RS=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},au=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ou=async(e,t)=>{await e.removeItem(t)};class Fh{constructor(){this.promise=new Fh.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Fh.promiseConstructor=Promise;function Wf(e){const t=e.split(".");if(t.length!==3)throw new bl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!bR.test(t[n]))throw new bl("JWT not in base64url format");return{header:JSON.parse(dv(t[0])),payload:JSON.parse(dv(t[1])),signature:PR(t[2]),raw:{header:t[0],payload:t[1]}}}async function IR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OR(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function FR(e){return("0"+e.toString(16)).substr(-2)}function UR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,FR).join("")}async function $R(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function BR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await $R(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ia(e,t,s=!1){const n=UR();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await RS(e,`${t}-code-verifier`,i);const a=await BR(n);return[a,n===a?"plain":"s256"]}const zR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VR(e){const t=e.headers.get(Gp);if(!t||!t.match(zR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function aa(e){if(!qR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var YR=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GR=[502,503,504];async function hv(e){var t;if(!LR(e))throw new Kp(gi(e),0);if(GR.includes(e.status))throw new Kp(gi(e),e.status);let s;try{s=await e.json()}catch(a){throw new PS(gi(a),a)}let n;const i=VR(e);if(i&&i.getTime()>=CS["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new lv(gi(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new br}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new lv(gi(s),e.status,s.weak_password.reasons);throw new wR(gi(s),e.status||500,n)}const KR=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function xe(e,t,s,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Gp]||(a[Gp]=CS["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await XR(e,t,s+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function XR(e,t,s,n,i,a){const o=KR(t,n,i,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Kp(gi(c),0)}if(l.ok||await hv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await hv(c)}}function Wn(e){var t;let s=null;eM(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=RR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function fv(e){const t=Wn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JR(e){return{data:e,error:null}}function QR(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a}=e,o=YR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ZR(e){return e}function eM(e){return e.access_token&&e.refresh_token&&e.expires_in}const qf=["global","local","others"];var tM=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class sM{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=AS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=qf[0]){if(qf.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qf.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Tr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=tM(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:QR,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(de(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tr})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:ZR});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){aa(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tr})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){aa(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Tr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){aa(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Tr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){aa(t.userId);try{const{data:s,error:n}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(de(s))return{data:null,error:s};throw s}}async _deleteFactor(t){aa(t.userId),aa(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}}const nM={getItem:e=>vl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{vl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{vl()&&globalThis.localStorage.removeItem(e)}};function mv(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function rM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oa={debug:!!(globalThis&&vl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iM extends MS{}async function aM(e,t,s){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}rM();const oM={url:xR,storageKey:gR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pv(e,t,s){return await s()}class tc{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tc.nextInstanceID,tc.nextInstanceID+=1,this.instanceID>0&&rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},oM),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sM({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=AS(i.fetch),this.lock=i.lock||pv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:rn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=aM:this.lock=pv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:vl()?this.storage=nM:(this.memoryStorage={},this.storage=mv(this.memoryStorage)):(this.memoryStorage={},this.storage=mv(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=DR(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),rn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kR(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return de(s)?{error:s}:{error:new PS("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Wn}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var s,n,i;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await ia(this.storage,this.storageKey)),a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:Wn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Wn})}else throw new ru("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fv})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fv})}else throw new ru("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,i,a,o,l,c,u,d,h,f,m;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:y,wallet:p,statement:b,options:v}=t;let w;if(rn())if(typeof p=="object")w=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const j=new URL((s=v==null?void 0:v.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:y,error:p}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:AR(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Wn});if(p)throw p;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new nu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:p})}catch(y){if(de(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const s=await au(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:a,error:o}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Wn});if(await ou(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new nu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(de(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:a,nonce:o}=t,l=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Wn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ia(this.storage,this.storageKey));const{error:h}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ru("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,n;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Wn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ia(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:JR})}catch(a){if(de(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new br;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ru("You must provide either an email or phone number and a type")}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await au(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tr}):await this._useSession(async s=>{var n,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Tr})})}catch(s){if(de(s))return NR(s)&&(await this._removeSession(),await ou(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new br;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ia(this.storage,this.storageKey));const{data:u,error:d}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Tr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new br;const s=Date.now()/1e3;let n=s,i=!0,a=null;const{payload:o}=Wf(t.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(de(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new br;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!rn())throw new iu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new iu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ov("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new iu("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ov("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new iu("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ha&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const p={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await au(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(jR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ou(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=MR(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ia(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(de(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return rn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)throw o;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await OR(async i=>(i>0&&await IR(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Hf(a)&&Date.now()+o-n<ha})}catch(n){if(this._debug(s,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),rn()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await au(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vf;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Vf}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Hf(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fh;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new br;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),de(a)){const o={session:null,error:a};return Hf(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await RS(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ou(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ha);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ha);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ha}ms, refresh threshold is ${Yp} ticks`),i<=Yp&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof MS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ia(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?{data:null,error:a}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(de(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?{data:null,error:a}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(de(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Wf(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+vR>Date.now()))return n;const{data:i,error:a}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new bl("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(o=>o.kid===t),!n)throw new bl("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Wf(n);if(HR(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:o},error:null}}const u=WR(i.alg),d=await this.fetchJwk(i.kid,s),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,ER(`${l}.${c}`)))throw new bl("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}tc.nextInstanceID=0;const lM=tc;class cM extends lM{constructor(t){super(t)}}var uM=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class dM{constructor(t,s,n){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=mR(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:aR,realtime:lR,auth:Object.assign(Object.assign({},oR),{storageKey:u}),global:iR},h=pR(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=hR(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new C6(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new r6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sR(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return uM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cM({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new V6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hM=(e,t,s)=>new dM(e,t,s),xn="https://ykajmsrubmjpbzljxsup.supabase.co",nr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ",H=hM(xn,nr),fM=Object.freeze(Object.defineProperty({__proto__:null,supabase:H,supabaseAnonKey:nr,supabaseUrl:xn},Symbol.toStringTag,{value:"Module"}));function DS(e,t){return function(){return e.apply(t,arguments)}}const{toString:mM}=Object.prototype,{getPrototypeOf:n0}=Object,{iterator:Uh,toStringTag:LS}=Symbol,$h=(e=>t=>{const s=mM.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),bn=e=>(e=e.toLowerCase(),t=>$h(t)===e),Bh=e=>t=>typeof t===e,{isArray:yo}=Array,sc=Bh("undefined");function pM(e){return e!==null&&!sc(e)&&e.constructor!==null&&!sc(e.constructor)&&ys(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const IS=bn("ArrayBuffer");function xM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&IS(e.buffer),t}const gM=Bh("string"),ys=Bh("function"),OS=Bh("number"),zh=e=>e!==null&&typeof e=="object",yM=e=>e===!0||e===!1,Wu=e=>{if($h(e)!=="object")return!1;const t=n0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(LS in e)&&!(Uh in e)},bM=bn("Date"),vM=bn("File"),wM=bn("Blob"),jM=bn("FileList"),NM=e=>zh(e)&&ys(e.pipe),kM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ys(e.append)&&((t=$h(e))==="formdata"||t==="object"&&ys(e.toString)&&e.toString()==="[object FormData]"))},SM=bn("URLSearchParams"),[_M,TM,CM,PM]=["ReadableStream","Request","Response","Headers"].map(bn),EM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sc(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),yo(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=s?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function FS(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,i;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const Ci=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,US=e=>!sc(e)&&e!==Ci;function Xp(){const{caseless:e}=US(this)&&this||{},t={},s=(n,i)=>{const a=e&&FS(t,i)||i;Wu(t[a])&&Wu(n)?t[a]=Xp(t[a],n):Wu(n)?t[a]=Xp({},n):yo(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Sc(arguments[n],s);return t}const AM=(e,t,s,{allOwnKeys:n}={})=>(Sc(t,(i,a)=>{s&&ys(i)?e[a]=DS(i,s):e[a]=i},{allOwnKeys:n}),e),RM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),MM=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},DM=(e,t,s,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&n0(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},LM=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},IM=e=>{if(!e)return null;if(yo(e))return e;let t=e.length;if(!OS(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},OM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&n0(Uint8Array)),FM=(e,t)=>{const n=(e&&e[Uh]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},UM=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},$M=bn("HTMLFormElement"),BM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),xv=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),zM=bn("RegExp"),$S=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Sc(s,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},VM=e=>{$S(e,(t,s)=>{if(ys(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(ys(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},HM=(e,t)=>{const s={},n=i=>{i.forEach(a=>{s[a]=!0})};return yo(e)?n(e):n(String(e).split(t)),s},WM=()=>{},qM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function YM(e){return!!(e&&ys(e.append)&&e[LS]==="FormData"&&e[Uh])}const GM=e=>{const t=new Array(10),s=(n,i)=>{if(zh(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const a=yo(n)?[]:{};return Sc(n,(o,l)=>{const c=s(o,i+1);!sc(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return s(e,0)},KM=bn("AsyncFunction"),XM=e=>e&&(zh(e)||ys(e))&&ys(e.then)&&ys(e.catch),BS=((e,t)=>e?setImmediate:t?((s,n)=>(Ci.addEventListener("message",({source:i,data:a})=>{i===Ci&&a===s&&n.length&&n.shift()()},!1),i=>{n.push(i),Ci.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ys(Ci.postMessage)),JM=typeof queueMicrotask<"u"?queueMicrotask.bind(Ci):typeof process<"u"&&process.nextTick||BS,QM=e=>e!=null&&ys(e[Uh]),V={isArray:yo,isArrayBuffer:IS,isBuffer:pM,isFormData:kM,isArrayBufferView:xM,isString:gM,isNumber:OS,isBoolean:yM,isObject:zh,isPlainObject:Wu,isReadableStream:_M,isRequest:TM,isResponse:CM,isHeaders:PM,isUndefined:sc,isDate:bM,isFile:vM,isBlob:wM,isRegExp:zM,isFunction:ys,isStream:NM,isURLSearchParams:SM,isTypedArray:OM,isFileList:jM,forEach:Sc,merge:Xp,extend:AM,trim:EM,stripBOM:RM,inherits:MM,toFlatObject:DM,kindOf:$h,kindOfTest:bn,endsWith:LM,toArray:IM,forEachEntry:FM,matchAll:UM,isHTMLForm:$M,hasOwnProperty:xv,hasOwnProp:xv,reduceDescriptors:$S,freezeMethods:VM,toObjectSet:HM,toCamelCase:BM,noop:WM,toFiniteNumber:qM,findKey:FS,global:Ci,isContextDefined:US,isSpecCompliantForm:YM,toJSONObject:GM,isAsyncFn:KM,isThenable:XM,setImmediate:BS,asap:JM,isIterable:QM};function he(e,t,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}V.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const zS=he.prototype,VS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{VS[e]={value:e}});Object.defineProperties(he,VS);Object.defineProperty(zS,"isAxiosError",{value:!0});he.from=(e,t,s,n,i,a)=>{const o=Object.create(zS);return V.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),he.call(o,e.message,t,s,n,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const ZM=null;function Jp(e){return V.isPlainObject(e)||V.isArray(e)}function HS(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function gv(e,t,s){return e?e.concat(t).map(function(i,a){return i=HS(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function eD(e){return V.isArray(e)&&!e.some(Jp)}const tD=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Vh(e,t,s){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=V.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!V.isUndefined(y[g])});const n=s.metaTokens,i=s.visitor||d,a=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(V.isDate(x))return x.toISOString();if(V.isBoolean(x))return x.toString();if(!c&&V.isBlob(x))throw new he("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(x)||V.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,y){let p=x;if(x&&!y&&typeof x=="object"){if(V.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(V.isArray(x)&&eD(x)||(V.isFileList(x)||V.endsWith(g,"[]"))&&(p=V.toArray(x)))return g=HS(g),p.forEach(function(v,w){!(V.isUndefined(v)||v===null)&&t.append(o===!0?gv([g],w,a):o===null?g:g+"[]",u(v))}),!1}return Jp(x)?!0:(t.append(gv(y,g,a),u(x)),!1)}const h=[],f=Object.assign(tD,{defaultVisitor:d,convertValue:u,isVisitable:Jp});function m(x,g){if(!V.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(x),V.forEach(x,function(p,b){(!(V.isUndefined(p)||p===null)&&i.call(t,p,V.isString(b)?b.trim():b,g,f))===!0&&m(p,g?g.concat(b):[b])}),h.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return m(e),t}function yv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function r0(e,t){this._pairs=[],e&&Vh(e,this,t)}const WS=r0.prototype;WS.append=function(t,s){this._pairs.push([t,s])};WS.toString=function(t){const s=t?function(n){return t.call(this,n,yv)}:yv;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function sD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qS(e,t,s){if(!t)return e;const n=s&&s.encode||sD;V.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=V.isURLSearchParams(t)?t.toString():new r0(t,s).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class bv{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(n){n!==null&&t(n)})}}const YS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nD=typeof URLSearchParams<"u"?URLSearchParams:r0,rD=typeof FormData<"u"?FormData:null,iD=typeof Blob<"u"?Blob:null,aD={isBrowser:!0,classes:{URLSearchParams:nD,FormData:rD,Blob:iD},protocols:["http","https","file","blob","url","data"]},i0=typeof window<"u"&&typeof document<"u",Qp=typeof navigator=="object"&&navigator||void 0,oD=i0&&(!Qp||["ReactNative","NativeScript","NS"].indexOf(Qp.product)<0),lD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cD=i0&&window.location.href||"http://localhost",uD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:i0,hasStandardBrowserEnv:oD,hasStandardBrowserWebWorkerEnv:lD,navigator:Qp,origin:cD},Symbol.toStringTag,{value:"Module"})),$t={...uD,...aD};function dD(e,t){return Vh(e,new $t.classes.URLSearchParams,Object.assign({visitor:function(s,n,i,a){return $t.isNode&&V.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function hD(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fD(e){const t={},s=Object.keys(e);let n;const i=s.length;let a;for(n=0;n<i;n++)a=s[n],t[a]=e[a];return t}function GS(e){function t(s,n,i,a){let o=s[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=s.length;return o=!o&&V.isArray(i)?i.length:o,c?(V.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!V.isObject(i[o]))&&(i[o]=[]),t(s,n,i[o],a)&&V.isArray(i[o])&&(i[o]=fD(i[o])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const s={};return V.forEachEntry(e,(n,i)=>{t(hD(n),i,s,0)}),s}return null}function mD(e,t,s){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const _c={transitional:YS,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,a=V.isObject(t);if(a&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return i?JSON.stringify(GS(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dD(t,this.formSerializer).toString();if((l=V.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Vh(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),mD(t)):t}],transformResponse:[function(t){const s=this.transitional||_c.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(n&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?he.from(l,he.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{_c.headers[e]={}});const pD=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xD=e=>{const t={};let s,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!s||t[s]&&pD[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},vv=Symbol("internals");function Lo(e){return e&&String(e).trim().toLowerCase()}function qu(e){return e===!1||e==null?e:V.isArray(e)?e.map(qu):String(e)}function gD(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const yD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yf(e,t,s,n,i){if(V.isFunction(n))return n.call(this,t,s);if(i&&(t=s),!!V.isString(t)){if(V.isString(n))return t.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(t)}}function bD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function vD(e,t){const s=V.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let bs=class{constructor(t){t&&this.set(t)}set(t,s,n){const i=this;function a(l,c,u){const d=Lo(c);if(!d)throw new Error("header name must be a non-empty string");const h=V.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=qu(l))}const o=(l,c)=>V.forEach(l,(u,d)=>a(u,d,c));if(V.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(V.isString(t)&&(t=t.trim())&&!yD(t))o(xD(t),s);else if(V.isObject(t)&&V.isIterable(t)){let l={},c,u;for(const d of t){if(!V.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?V.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,s)}else t!=null&&a(s,t,n);return this}get(t,s){if(t=Lo(t),t){const n=V.findKey(this,t);if(n){const i=this[n];if(!s)return i;if(s===!0)return gD(i);if(V.isFunction(s))return s.call(this,i,n);if(V.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Lo(t),t){const n=V.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Yf(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let i=!1;function a(o){if(o=Lo(o),o){const l=V.findKey(n,o);l&&(!s||Yf(n,n[l],l,s))&&(delete n[l],i=!0)}}return V.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const a=s[n];(!t||Yf(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,n={};return V.forEach(this,(i,a)=>{const o=V.findKey(n,a);if(o){s[o]=qu(i),delete s[a];return}const l=t?bD(a):String(a).trim();l!==a&&delete s[a],s[l]=qu(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return V.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=t&&V.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[vv]=this[vv]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Lo(o);n[l]||(vD(i,o),n[l]=!0)}return V.isArray(t)?t.forEach(a):a(t),this}};bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(bs.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});V.freezeMethods(bs);function Gf(e,t){const s=this||_c,n=t||s,i=bs.from(n.headers);let a=n.data;return V.forEach(e,function(l){a=l.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function KS(e){return!!(e&&e.__CANCEL__)}function bo(e,t,s){he.call(this,e??"canceled",he.ERR_CANCELED,t,s),this.name="CanceledError"}V.inherits(bo,he,{__CANCEL__:!0});function XS(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new he("Request failed with status code "+s.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function wD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function jD(e,t){e=e||10;const s=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),s[i]=c,n[i]=u;let h=a,f=0;for(;h!==i;)f+=s[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function ND(e,t){let s=0,n=1e3/t,i,a;const o=(u,d=Date.now())=>{s=d,i=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-s;h>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const Md=(e,t,s=3)=>{let n=0;const i=jD(50,250);return ND(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},wv=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},jv=e=>(...t)=>V.asap(()=>e(...t)),kD=$t.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,$t.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,SD=$t.hasStandardBrowserEnv?{write(e,t,s,n,i,a){const o=[e+"="+encodeURIComponent(t)];V.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),V.isString(n)&&o.push("path="+n),V.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _D(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function TD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function JS(e,t,s){let n=!_D(t);return e&&(n||s==!1)?TD(e,t):t}const Nv=e=>e instanceof bs?{...e}:e;function zi(e,t){t=t||{};const s={};function n(u,d,h,f){return V.isPlainObject(u)&&V.isPlainObject(d)?V.merge.call({caseless:f},u,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function i(u,d,h,f){if(V.isUndefined(d)){if(!V.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function a(u,d){if(!V.isUndefined(d))return n(void 0,d)}function o(u,d){if(V.isUndefined(d)){if(!V.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(Nv(u),Nv(d),h,!0)};return V.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=c[d]||i,f=h(e[d],t[d],d);V.isUndefined(f)&&h!==l||(s[d]=f)}),s}const QS=e=>{const t=zi({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=bs.from(o),t.url=qS(JS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(V.isFormData(s)){if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if($t.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(t)),n||n!==!1&&kD(t.url))){const u=i&&a&&SD.read(a);u&&o.set(i,u)}return t},CD=typeof XMLHttpRequest<"u",PD=CD&&function(e){return new Promise(function(s,n){const i=QS(e);let a=i.data;const o=bs.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,f,m,x;function g(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function p(){if(!y)return;const v=bs.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};XS(function(P){s(P),g()},function(P){n(P),g()},j),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(n(new he("Request aborted",he.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new he("Network Error",he.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||YS;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new he(w,j.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&V.forEach(o.toJSON(),function(w,j){y.setRequestHeader(j,w)}),V.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),l&&l!=="json"&&(y.responseType=i.responseType),u&&([f,x]=Md(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([h,m]=Md(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=v=>{y&&(n(!v||v.type?new bo(null,e,y):v),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=wD(i.url);if(b&&$t.protocols.indexOf(b)===-1){n(new he("Unsupported protocol "+b+":",he.ERR_BAD_REQUEST,e));return}y.send(a||null)})},ED=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof he?d:new bo(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>V.asap(l),c}},AD=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,i;for(;n<s;)i=n+t,yield e.slice(n,i),n=i},RD=async function*(e,t){for await(const s of MD(e))yield*AD(s,t)},MD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},kv=(e,t,s,n)=>{const i=RD(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(s){let f=a+=h;s(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Hh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZS=Hh&&typeof ReadableStream=="function",DD=Hh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),e_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},LD=ZS&&e_(()=>{let e=!1;const t=new Request($t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Sv=64*1024,Zp=ZS&&e_(()=>V.isReadableStream(new Response("").body)),Dd={stream:Zp&&(e=>e.body)};Hh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Dd[t]&&(Dd[t]=V.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new he(`Response type '${t}' is not supported`,he.ERR_NOT_SUPPORT,n)})})})(new Response);const ID=async e=>{if(e==null)return 0;if(V.isBlob(e))return e.size;if(V.isSpecCompliantForm(e))return(await new Request($t.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(V.isArrayBufferView(e)||V.isArrayBuffer(e))return e.byteLength;if(V.isURLSearchParams(e)&&(e=e+""),V.isString(e))return(await DD(e)).byteLength},OD=async(e,t)=>{const s=V.toFiniteNumber(e.getContentLength());return s??ID(t)},FD=Hh&&(async e=>{let{url:t,method:s,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=QS(e);u=u?(u+"").toLowerCase():"text";let m=ED([i,a&&a.toAbortSignal()],o),x;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(c&&LD&&s!=="get"&&s!=="head"&&(y=await OD(d,n))!==0){let j=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(V.isFormData(n)&&(k=j.headers.get("content-type"))&&d.setContentType(k),j.body){const[P,S]=wv(y,Md(jv(c)));n=kv(j.body,Sv,P,S)}}V.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;x=new Request(t,{...f,signal:m,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:p?h:void 0});let b=await fetch(x,f);const v=Zp&&(u==="stream"||u==="response");if(Zp&&(l||v&&g)){const j={};["status","statusText","headers"].forEach(T=>{j[T]=b[T]});const k=V.toFiniteNumber(b.headers.get("content-length")),[P,S]=l&&wv(k,Md(jv(l),!0))||[];b=new Response(kv(b.body,Sv,P,()=>{S&&S(),g&&g()}),j)}u=u||"text";let w=await Dd[V.findKey(Dd,u)||"text"](b,e);return!v&&g&&g(),await new Promise((j,k)=>{XS(j,k,{data:w,headers:bs.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:x})})}catch(p){throw g&&g(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,e,x),{cause:p.cause||p}):he.from(p,p&&p.code,e,x)}}),ex={http:ZM,xhr:PD,fetch:FD};V.forEach(ex,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _v=e=>`- ${e}`,UD=e=>V.isFunction(e)||e===null||e===!1,t_={getAdapter:e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let s,n;const i={};for(let a=0;a<t;a++){s=e[a];let o;if(n=s,!UD(s)&&(n=ex[(o=String(s)).toLowerCase()],n===void 0))throw new he(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(_v).join(`
`):" "+_v(a[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ex};function Kf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bo(null,e)}function Tv(e){return Kf(e),e.headers=bs.from(e.headers),e.data=Gf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),t_.getAdapter(e.adapter||_c.adapter)(e).then(function(n){return Kf(e),n.data=Gf.call(e,e.transformResponse,n),n.headers=bs.from(n.headers),n},function(n){return KS(n)||(Kf(e),n&&n.response&&(n.response.data=Gf.call(e,e.transformResponse,n.response),n.response.headers=bs.from(n.response.headers))),Promise.reject(n)})}const s_="1.10.0",Wh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Cv={};Wh.transitional=function(t,s,n){function i(a,o){return"[Axios v"+s_+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new he(i(o," has been removed"+(s?" in "+s:"")),he.ERR_DEPRECATED);return s&&!Cv[o]&&(Cv[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,o,l):!0}};Wh.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function $D(e,t,s){if(typeof e!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new he("option "+a+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new he("Unknown option "+a,he.ERR_BAD_OPTION)}}const Yu={assertOptions:$D,validators:Wh},jn=Yu.validators;let Di=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bv,response:new bv}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=zi(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:a}=s;n!==void 0&&Yu.assertOptions(n,{silentJSONParsing:jn.transitional(jn.boolean),forcedJSONParsing:jn.transitional(jn.boolean),clarifyTimeoutError:jn.transitional(jn.boolean)},!1),i!=null&&(V.isFunction(i)?s.paramsSerializer={serialize:i}:Yu.assertOptions(i,{encode:jn.function,serialize:jn.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Yu.assertOptions(s,{baseUrl:jn.spelling("baseURL"),withXsrfToken:jn.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=a&&V.merge(a.common,a[s.method]);a&&V.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),s.headers=bs.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,h=0,f;if(!c){const x=[Tv.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,u),f=x.length,d=Promise.resolve(s);h<f;)d=d.then(x[h++],x[h++]);return d}f=l.length;let m=s;for(h=0;h<f;){const x=l[h++],g=l[h++];try{m=x(m)}catch(y){g.call(this,y);break}}try{d=Tv.call(this,m)}catch(x){return Promise.reject(x)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=zi(this.defaults,t);const s=JS(t.baseURL,t.url,t.allowAbsoluteUrls);return qS(s,t.params,t.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(t){Di.prototype[t]=function(s,n){return this.request(zi(n||{},{method:t,url:s,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(t){function s(n){return function(a,o,l){return this.request(zi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Di.prototype[t]=s(),Di.prototype[t+"Form"]=s(!0)});let BD=class n_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new bo(a,o,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new n_(function(i){t=i}),cancel:t}}};function zD(e){return function(s){return e.apply(null,s)}}function VD(e){return V.isObject(e)&&e.isAxiosError===!0}const tx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tx).forEach(([e,t])=>{tx[t]=e});function r_(e){const t=new Di(e),s=DS(Di.prototype.request,t);return V.extend(s,Di.prototype,t,{allOwnKeys:!0}),V.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return r_(zi(e,i))},s}const we=r_(_c);we.Axios=Di;we.CanceledError=bo;we.CancelToken=BD;we.isCancel=KS;we.VERSION=s_;we.toFormData=Vh;we.AxiosError=he;we.Cancel=we.CanceledError;we.all=function(t){return Promise.all(t)};we.spread=zD;we.isAxiosError=VD;we.mergeConfig=zi;we.AxiosHeaders=bs;we.formToJSON=e=>GS(V.isHTMLForm(e)?new FormData(e):e);we.getAdapter=t_.getAdapter;we.HttpStatusCode=tx;we.default=we;const{Axios:IX,AxiosError:OX,CanceledError:FX,isCancel:UX,CancelToken:$X,VERSION:BX,all:zX,Cancel:VX,isAxiosError:HX,spread:WX,toFormData:qX,AxiosHeaders:YX,HttpStatusCode:GX,formToJSON:KX,getAdapter:XX,mergeConfig:JX}=we,Nn="https://mt5.mtapi.io",kn="970ef0fe-76d7-453d-8731-312bceb02433";let ct=null;const nt={getStoredToken:()=>ct,connect:async e=>{var t,s;try{console.log("🔄 Connecting to MT5 server:",{accountNumber:e.accountNumber,server:e.serverName});let n=!0;const i=new URLSearchParams({user:e.accountNumber,password:e.password,server:e.serverName,reconnectOnSymbolUpdate:n.toString()}),a=await we.get(`${Nn}/ConnectEx?${i.toString()}`,{headers:{apikey:kn}});console.log("✅ MT5 connection response:",{status:a.status,hasData:!!a.data,dataType:typeof a.data,dataValue:a.data});let o=null;return typeof a.data=="string"&&a.data.trim()!==""?(o=a.data.trim(),console.log("✅ Token extracted directly from response data")):(t=a.data)!=null&&t.token&&typeof a.data.token=="string"&&a.data.token.trim()!==""?(o=a.data.token.trim(),console.log("✅ Token extracted from response.data.token")):(s=a.data)!=null&&s.id&&typeof a.data.id=="string"&&a.data.id.trim()!==""&&(o=a.data.id.trim(),console.log("✅ Token extracted from response.data.id")),o?(ct=o,console.log("✅ MT5 token stored successfully"),{success:!0,token:o,message:"Connection successful"}):(console.warn("⚠️ No valid MT5 token received in response:",a.data),{success:!1,token:null,message:"Connection failed: No valid token received from MT5 server"})}catch(n){console.error("❌ MT5 connection failed:",n);let i="Failed to connect to MT5 server";return we.isAxiosError(n)?n.response?(i=`MT5 server error: ${n.response.status} - ${n.response.data||"Unknown error"}`,console.error("❌ MT5 server response:",n.response.data)):n.request?i="No response from MT5 server. Please check your internet connection.":i=`Error setting up MT5 connection: ${n.message}`:n instanceof Error&&(i=n.message),{success:!1,token:null,message:i}}},disconnect:()=>{ct=null,console.log("✅ Disconnected from MT5 server")},getAccountInfo:async()=>{var e;try{if(!ct)throw new Error("Not connected to MT5 server");const t=await we.get(`${Nn}/AccountSummary?id=${ct}`,{headers:{apikey:kn}}),s=await we.get(`${Nn}/AccountDetails?id=${ct}`,{headers:{apikey:kn}});return{balance:t.data.balance||0,equity:t.data.equity||0,margin:t.data.margin||0,freeMargin:t.data.freeMargin||0,marginLevel:t.data.marginLevel||0,currency:s.data.currency||"USD",accountNumber:s.data.login||"",accountName:s.data.name||"",serverName:s.data.server||"",leverage:s.data.leverage||100,profit:t.data.profit||0,credit:s.data.credit||0}}catch(t){throw console.error("❌ Failed to get account info:",t),we.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):t}},getPositions:async()=>{var e;try{if(!ct)throw new Error("Not connected to MT5 server");return(await we.get(`${Nn}/OpenedOrders?id=${ct}`,{headers:{apikey:kn}})).data.map(n=>({ticket:n.ticket,symbol:n.symbol,type:n.orderType===0?"Buy":"Sell",volume:n.lots||n.volume,openPrice:n.openPrice,currentPrice:n.currentPrice,profit:n.profit,swap:n.swap,commission:n.commission,openTime:n.openTime,comment:n.comment}))}catch(t){throw console.error("❌ Failed to get positions:",t),we.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):t}},getSymbols:async()=>{var e;try{if(!ct)throw new Error("Not connected to MT5 server");const t=await we.get(`${Nn}/SymbolList?id=${ct}`,{headers:{apikey:kn}});return Array.isArray(t.data)?t.data.filter(n=>typeof n=="string"):[]}catch(t){throw console.error("❌ Failed to get symbols:",t),we.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):t}},getQuote:async e=>{try{if(!ct)throw new Error("Not connected to MT5 server");const t=await we.get(`${Nn}/GetQuote?id=${ct}&symbol=${e}`,{headers:{apikey:kn}});return t.data&&typeof t.data.bid=="number"&&typeof t.data.ask=="number"?{bid:t.data.bid,ask:t.data.ask,time:new Date().toISOString()}:null}catch(t){return console.error(`❌ Failed to get quote for ${e}:`,t),null}},sendOrder:async e=>{var t;try{if(!ct)throw new Error("Not connected to MT5 server");const n=(e.action||"").toUpperCase()==="BUY"?"Buy":"Sell";let i="";e.botToken?i=`[BOT:${e.botToken}]`:e.strategy&&(i=`[STRATEGY:${e.strategy}]`);const a=new URLSearchParams({id:ct,symbol:e.symbol,operation:n,volume:e.volume.toString(),slippage:"10",expertID:"0",comment:i});return e.price&&a.append("price",e.price.toString()),e.sl&&a.append("stoploss",e.sl.toString()),e.tp&&a.append("takeprofit",e.tp.toString()),(await we.get(`${Nn}/OrderSend?${a.toString()}`,{headers:{apikey:kn}})).data}catch(s){throw console.error("❌ Failed to send order:",s),we.isAxiosError(s)&&((t=s.response)==null?void 0:t.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):s}},closePosition:async(e,t)=>{var s;try{if(!ct)throw new Error("Not connected to MT5 server");const n=new URLSearchParams({id:ct,ticket:e.toString(),slippage:"10"});t&&n.append("lots",t.toString());const a=(await we.get(`${Nn}/OrderClose?${n.toString()}`,{headers:{apikey:kn}})).data;return a.formatDescription=t?`Specified volume: ${t}`:"Auto-detected volume",a}catch(n){throw console.error(`❌ Failed to close position ${e}:`,n),we.isAxiosError(n)&&((s=n.response)==null?void 0:s.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):n}},orderHistory:async(e,t)=>{try{if(!ct)throw new Error("Not connected to MT5 server");const s=new URLSearchParams({id:ct});return e&&s.append("from",e),t&&s.append("to",t),(await we.get(`${Nn}/OrderHistory?${s.toString()}`,{headers:{apikey:kn}})).data}catch(s){return console.error("❌ Failed to fetch order history:",s),[]}},filterPositionsByRobot:(e,t)=>e.filter(s=>t.botToken&&s.comment&&typeof s.comment=="string"?s.comment.includes(`[BOT:${t.botToken}]`):t.strategy&&s.comment&&typeof s.comment=="string"?s.comment.includes(`[STRATEGY:${t.strategy}]`)||s.comment.includes(t.strategy):!1),getAccountSummary:async()=>{try{if(!ct)throw new Error("Not connected to MT5 server");return(await we.get(`${Nn}/AccountSummary?id=${ct}`,{headers:{apikey:kn}})).data}catch(e){return console.error("❌ Failed to get account summary:",e),null}}},sx=[{id:"multi-account",name:"Multi-Account Manager",description:"Manage multiple trading accounts simultaneously",tokenCost:200,features:["Connect unlimited MT5 accounts","Copy trades between accounts","Individual risk settings per account","Consolidated reporting"],icon:"User"},{id:"algo-bots",name:"Algo Bot Pack",description:"Advanced algorithmic trading bots",tokenCost:300,features:["10 premium trading strategies","Machine learning optimization","Custom indicators","Backtesting tools"],icon:"TrendingUp"},{id:"advanced-signals",name:"Advanced Signals",description:"Premium trading signals and alerts",tokenCost:250,features:["Professional signal providers","Real-time market alerts","Performance tracking","Custom notification settings"],icon:"TrendingUp"},{id:"risk-manager-pro",name:"Risk Manager Pro",description:"Advanced risk management tools",tokenCost:150,features:["Portfolio-level risk analysis","Drawdown protection","Correlation monitoring","Risk-adjusted position sizing"],icon:"Shield"}],pe=Ah((e,t)=>({isAuthenticated:!1,isLoading:!1,credentials:null,accountInfo:null,userTokens:null,userPlugins:[],lastAccountInfoUpdate:null,error:null,autoRefreshInterval:null,login:async s=>{e({isLoading:!0,error:null});try{const{data:{session:n}}=await H.auth.getSession();if(!(n!=null&&n.user))throw new Error("You must be logged in to connect a broker");const{data:i,error:a}=await H.from("profiles").select("is_approved,expires_at,subscription_package").eq("id",n.user.id).single();if(a){D.error("Failed to fetch profile"),e({isLoading:!1,error:"Failed to fetch profile"});return}if(i&&i.is_approved===!1){D.error("Your account is pending approval by admin."),await H.auth.signOut(),e({isLoading:!1,error:"Account not approved"});return}if(i&&i.expires_at&&new Date(i.expires_at)<new Date){D.error("Your account has expired. Please renew your subscription."),window.location.href=`/payment?package=${i.subscription_package||""}`,e({isLoading:!1,error:"Account expired"});return}console.log("🔐 DEBUG: Starting MT5 login process for user:",n.user.id);const o={accountNumber:s.username,password:s.password,serverName:s.server},l=await nt.connect(o);if(l.success)localStorage.setItem("mt5_UserId",l.token?l.token:"");else throw new Error(l.message);console.log("✅ DEBUG: MT5 connection successful, token receive:",l.token?"YES":"NO");const c=await nt.getAccountInfo();if(!c)throw new Error("Failed to retrieve account information");console.log("📊 DEBUG: Account info retrieved successfully:",{accountNumber:c.accountNumber,serverName:c.serverName,balance:c.balance}),localStorage.setItem("mt5_username",s.username),localStorage.setItem("mt5_nickname",s.nickname||""),localStorage.setItem("mt5_server",s.server);const u={...c,accountType:s.accountType};let d=null;if(l.token&&n.user.id)try{console.log("🔑 DEBUG: Preparing to store MT5 token with account data:",{userId:n.user.id,username:s.username,server:s.server,accountType:s.accountType,tokenReceived:!!l.token,tokenLength:l.token?l.token.length:0,accountName:s.nickname||u.accountName||""});const{error:h}=await H.from("user_accounts").update({is_active:!1}).eq("user_id",n.user.id);h?console.error("❌ DEBUG: Error deactivating existing accounts:",h):console.log("✅ DEBUG: Successfully deactivated existing accounts");const f={user_id:n.user.id,mt5_username:s.username,mt5_server:s.server,account_name:s.nickname||u.accountName||"",account_type:s.accountType,mt5_token:l.token,is_active:!0,updated_at:new Date().toISOString()};console.log("📤 DEBUG: Sending upsert data to Supabase:",f);const{data:m,error:x}=await H.from("user_accounts").upsert(f,{onConflict:"user_id,mt5_username,mt5_server"}).select();if(console.log("📥 DEBUG: Upsert response data:",m),x)console.error("❌ DEBUG: Error storing MT5 token - FULL ERROR:",x),console.error("❌ DEBUG: Error details:",{code:x.code,message:x.message,details:x.details,hint:x.hint}),D.error("Warning: MT5 token could not be stored. Automatic trading may not work.");else{if(console.log("✅ DEBUG: MT5 token stored successfully with account type for webhook automation"),m&&m.length>0)d=m[0].id,console.log("✅ DEBUG: Retrieved MT5 account ID:",d);else{const{data:y,error:p}=await H.from("user_accounts").select("id").eq("user_id",n.user.id).eq("is_active",!0).single();p?console.error("❌ DEBUG: Error fetching MT5 account ID:",p):y&&(d=y.id,console.log("✅ DEBUG: Fetched MT5 account ID:",d))}const g=s.accountType.charAt(0).toUpperCase()+s.accountType.slice(1);D.success(`MT5 ${g} account connected and configured for automatic trading!`)}}catch(h){console.error("❌ DEBUG: Unexpected error storing MT5 token:",h),D.error("Warning: MT5 token could not be stored. Automatic trading may not work.")}else console.warn("⚠️ DEBUG: Cannot store MT5 token - missing token or user ID:",{hasToken:!!l.token,hasUserId:!!n.user.id});await t().fetchUserTokens(),await t().fetchUserPlugins(),e({isAuthenticated:!0,credentials:{...s,mt5AccountId:d},accountInfo:u,lastAccountInfoUpdate:new Date,isLoading:!1,error:null}),t().startAutoRefresh()}catch(n){console.error("❌ DEBUG: Login process failed:",n);let i="Login failed";throw n instanceof Error&&(n.message.includes("Authentication failed")&&n.message.includes("Please check your credentials")?i="MT5 authentication failed. Please double-check your account number, password, and server name.":i=n.message),e({isLoading:!1,error:i}),n}},logout:async()=>{t().stopAutoRefresh(),await H.auth.signOut(),nt.disconnect(),e({isAuthenticated:!1,credentials:null,accountInfo:null,userTokens:null,userPlugins:[],lastAccountInfoUpdate:null,error:null,autoRefreshInterval:null})},reauthenticateMT5:async()=>{var s;try{console.log("🔄 DEBUG: Attempting to reauthenticate MT5 connection...");const{data:{session:n}}=await H.auth.getSession();if(!((s=n==null?void 0:n.user)!=null&&s.id))return console.error("❌ DEBUG: No authenticated user found for reauthentication"),!1;const{data:i,error:a}=await H.from("user_accounts").select("*").eq("user_id",n.user.id).eq("is_active",!0).maybeSingle();if(a)return console.error("❌ DEBUG: Error fetching user account for reauthentication:",a),!1;if(!i)return console.error("❌ DEBUG: No active MT5 account found for reauthentication"),!1;console.log("✅ DEBUG: Found active MT5 account for reauthentication:",{username:i.mt5_username,server:i.mt5_server,accountType:i.account_type,accountId:i.id});const o=t().credentials;if(!o||!o.password)return console.error("❌ DEBUG: No credentials available for reauthentication"),!1;const l={accountNumber:i.mt5_username,password:o.password,serverName:i.mt5_server};console.log("🔄 DEBUG: Attempting to reconnect to MT5 with stored credentials");const c=await nt.connect(l);if(!c.success)return console.error("❌ DEBUG: MT5 reauthentication failed:",c.message),!1;if(console.log("✅ DEBUG: MT5 reauthentication successful, token received:",c.token?"YES":"NO"),c.token){const{error:h}=await H.from("user_accounts").update({mt5_token:c.token,updated_at:new Date().toISOString()}).eq("id",i.id);h?console.error("❌ DEBUG: Error updating MT5 token after reauthentication:",h):console.log("✅ DEBUG: MT5 token updated in database after reauthentication")}const u=await nt.getAccountInfo();if(!u)return console.error("❌ DEBUG: Failed to retrieve account info after reauthentication"),!1;const d={...u,accountType:i.account_type};return e({credentials:{...o,mt5AccountId:i.id},accountInfo:d,lastAccountInfoUpdate:new Date}),console.log("✅ DEBUG: MT5 reauthentication completed successfully"),!0}catch(n){return console.error("❌ DEBUG: MT5 reauthentication failed with error:",n),!1}},refreshAccountInfo:async()=>{if(t().isAuthenticated)try{const s=await nt.getAccountInfo();if(s){const n=t().credentials,i={...s,accountType:n==null?void 0:n.accountType};e({accountInfo:i,lastAccountInfoUpdate:new Date})}}catch(s){if(s instanceof Error)if(console.error("Failed to refresh account info:",s.message),s.message.includes("Authentication failed")||s.message.includes("Session expired")||s.message.includes("Invalid token"))if(console.log("🔄 DEBUG: Authentication error detected, attempting to reauthenticate..."),await t().reauthenticateMT5()){console.log("✅ DEBUG: Reauthentication successful, continuing session"),D.success("MT5 session refreshed successfully");return}else console.error("❌ DEBUG: Reauthentication failed, logging out user"),D.error("MT5 session expired. Please login again."),t().logout();else console.warn("Account info refresh failed:",s.message);else console.error("Failed to refresh account info:",s)}},fetchUserTokens:async()=>{var s;try{const{data:{session:n}}=await H.auth.getSession();if(!((s=n==null?void 0:n.user)!=null&&s.id)){console.log("❌ No authenticated user found for token fetch");return}console.log("🔄 DEBUG: Fetching user tokens for user ID:",n.user.id);const{data:i,error:a}=await H.from("profiles").select("id").eq("id",n.user.id).maybeSingle();if(a&&console.error("❌ DEBUG: Error checking user profile:",a),i)console.log("✅ DEBUG: User profile exists:",i);else{console.log("⚠️ DEBUG: User profile not found, creating profile record first");const{error:h}=await H.from("profiles").insert({id:n.user.id,updated_at:new Date().toISOString()});if(h){console.error("❌ DEBUG: Error creating user profile:",h);return}console.log("✅ DEBUG: Created user profile successfully")}let{data:o,error:l}=await H.from("user_tokens").select("*").eq("user_id",n.user.id).maybeSingle();if(l){console.error("❌ DEBUG: Error fetching user tokens:",l);return}if(console.log("📊 DEBUG: User tokens fetch result:",o?"Found":"Not found"),!o)try{console.log("🔄 DEBUG: Creating new user_tokens record for user:",n.user.id);const{data:h,error:f}=await H.from("user_tokens").insert({user_id:n.user.id,balance:100,earned:100,spent:0}).select().single();if(f)if(f.code==="23505"){console.log("⚠️ DEBUG: User tokens record already exists (race condition), fetching existing record...");const{data:m,error:x}=await H.from("user_tokens").select("*").eq("user_id",n.user.id).single();if(x){console.error("❌ DEBUG: Error fetching existing user tokens after race condition:",x);return}o=m,console.log("✅ DEBUG: Retrieved existing tokens after race condition")}else if(f.code==="23503"){console.error("❌ DEBUG: Foreign key constraint error - user may not exist in auth.users:",f),console.log("🔄 DEBUG: Attempting to verify user existence and fix the issue..."),console.log("⚠️ DEBUG: Skipping token creation due to foreign key constraint");return}else{console.error("❌ DEBUG: Error creating user tokens:",f);return}else{o=h,console.log("✅ DEBUG: Created new user tokens record successfully");const{error:m}=await H.from("token_transactions").insert({user_id:n.user.id,type:"earned",amount:100,description:"Welcome bonus - 100 free tokens!",related_service:"welcome"});m?console.error("❌ DEBUG: Error creating welcome transaction:",m):console.log("✅ DEBUG: Created welcome transaction successfully"),D.success("Welcome! You received 100 free tokens to get started!")}}catch(h){console.error("❌ DEBUG: Unexpected error during user tokens creation:",h);return}if(!o){console.log("⚠️ DEBUG: No user tokens available after all attempts");return}const{data:c,error:u}=await H.from("token_transactions").select("*").eq("user_id",n.user.id).order("created_at",{ascending:!1}).limit(10);u?console.error("❌ DEBUG: Error fetching token transactions:",u):console.log(`✅ DEBUG: Fetched ${(c==null?void 0:c.length)||0} token transactions`);const d={id:o.id,userId:o.user_id,balance:o.balance,earned:o.earned,spent:o.spent,transactions:(c==null?void 0:c.map(h=>({id:h.id,userId:h.user_id,type:h.type,amount:h.amount,description:h.description,relatedService:h.related_service,timestamp:h.created_at})))||[]};e({userTokens:d}),console.log(`✅ DEBUG: User tokens loaded: ${d.balance} balance, ${d.earned} earned, ${d.spent} spent`)}catch(n){console.error("❌ DEBUG: Error fetching user tokens:",n)}},updateTokenCirculation:async()=>{var s;try{const{data:{session:n}}=await H.auth.getSession();if(!((s=n==null?void 0:n.user)!=null&&s.id)){console.log("❌ No authenticated user found for token circulation update");return}const{userTokens:i}=t();if(!i){console.log("❌ No user tokens available for circulation update");return}const{data:a,error:o}=await H.rpc("get_token_circulation_stats");if(o){console.error("❌ Error fetching token circulation stats:",o);return}if(a&&a.length>0){const l=a[0];console.log("✅ Token circulation stats updated:",{totalBalance:l.total_balance,totalEarned:l.total_earned,totalSpent:l.total_spent})}await t().fetchUserTokens()}catch(n){console.error("❌ Error updating token circulation:",n)}},fetchUserPlugins:async()=>{var s;try{const{data:{session:n}}=await H.auth.getSession();if(!((s=n==null?void 0:n.user)!=null&&s.id)){console.log("❌ No authenticated user found for plugins fetch");return}const{data:i,error:a}=await H.from("user_plugins").select("*").eq("user_id",n.user.id);if(a){console.error("❌ Error fetching user plugins:",a);return}const o=(i==null?void 0:i.map(l=>({id:l.plugin_id,name:l.name,description:l.description,tokenCost:l.token_cost,isActive:l.is_active,expiresAt:l.expires_at})))||[];e({userPlugins:o}),console.log(`✅ User plugins loaded: ${o.length} plugins`)}catch(n){console.error("❌ Error fetching user plugins:",n)}},purchaseVPSPlan:async s=>{var n;try{const{data:{session:i}}=await H.auth.getSession();if(!((n=i==null?void 0:i.user)!=null&&n.id))return D.error("You must be logged in to purchase a VPS plan"),!1;const a=t().userTokens;if(!a)return D.error("Unable to load token balance"),!1;const{data:o,error:l}=await H.from("vps_plans").select("*").eq("id",s).single();if(l||!o)return D.error("VPS plan not found"),!1;if(a.balance<o.token_cost)return D.error(`Insufficient tokens. You need ${o.token_cost-a.balance} more tokens.`),!1;if(o.token_cost===0)return D("You are already on the free plan"),!0;const c=new Date,u=new Date;o.duration==="monthly"?u.setMonth(u.getMonth()+1):o.duration==="yearly"?u.setFullYear(u.getFullYear()+1):o.duration==="lifetime"&&u.setFullYear(u.getFullYear()+100);const{error:d}=await H.from("user_vps_subscriptions").insert({user_id:i.user.id,plan_id:s,start_date:c.toISOString(),end_date:u.toISOString(),tokens_spent:o.token_cost,is_active:!0});if(d)return console.error("❌ Error creating VPS subscription:",d),D.error("Failed to create VPS subscription"),!1;const h=a.balance-o.token_cost,f=a.spent+o.token_cost,{error:m}=await H.from("user_tokens").update({balance:h,spent:f,updated_at:new Date().toISOString()}).eq("user_id",i.user.id);return m?(console.error("❌ Error updating user tokens:",m),D.error("Failed to process token payment"),!1):(await H.from("token_transactions").insert({user_id:i.user.id,type:"spent",amount:o.token_cost,description:`VPS Plan: ${o.name} (${o.duration})`,related_service:"vps"}),e({userTokens:{...a,balance:h,spent:f}}),await t().updateTokenCirculation(),D.success(`Successfully upgraded to ${o.name}! Your VPS is being set up.`),!0)}catch(i){return console.error("❌ Error purchasing VPS plan:",i),D.error("Failed to purchase VPS plan"),!1}},purchasePlugin:async s=>{var n;try{const{data:{session:i}}=await H.auth.getSession();if(!((n=i==null?void 0:i.user)!=null&&n.id))return D.error("You must be logged in to purchase a plugin"),!1;const a=t().userTokens;if(!a)return D.error("Unable to load token balance"),!1;const{data:o,error:l}=await H.from("plugins").select("*").eq("id",s).single();if(l){console.error("❌ Error fetching plugin details:",l);const u=sx.find(d=>d.id===s);return u?await Pv(i.user.id,a,{id:u.id,name:u.name,description:u.description,tokenCost:u.tokenCost,isActive:!0}):(D.error("Plugin not found"),!1)}const c={id:o.id,name:o.name,description:o.description,tokenCost:o.token_cost,features:o.features,isActive:o.is_active};return await Pv(i.user.id,a,c)}catch(i){return console.error("❌ Error purchasing plugin:",i),D.error("Failed to purchase plugin"),!1}},ensureMT5TokenStored:async()=>{var s;try{const{data:{session:n}}=await H.auth.getSession();if(!((s=n==null?void 0:n.user)!=null&&s.id))return console.log("❌ No authenticated user found"),!1;console.log("🔍 DEBUG: Checking if MT5 token is stored for user:",n.user.id);const{data:i,error:a}=await H.from("user_accounts").select("id, mt5_token, mt5_username, mt5_server, account_type").eq("user_id",n.user.id).eq("is_active",!0).limit(1);if(a)return console.error("❌ DEBUG: Error checking MT5 token:",a),!1;const o=i==null?void 0:i[0];if(console.log("📊 DEBUG: User account data retrieved:",{hasAccount:!!o,hasToken:o!=null&&o.mt5_token?"YES":"NO",username:o==null?void 0:o.mt5_username,server:o==null?void 0:o.mt5_server,accountType:o==null?void 0:o.account_type,accountId:o==null?void 0:o.id}),o!=null&&o.mt5_token){console.log("✅ DEBUG: MT5 token already stored and available");const d=t().credentials;return d&&!d.mt5AccountId&&o.id&&(e({credentials:{...d,mt5AccountId:o.id}}),console.log("✅ DEBUG: Updated credentials with MT5 account ID:",o.id)),!0}const l=nt.getStoredToken(),c=t().credentials,u=t().accountInfo;if(console.log("🔑 DEBUG: Current state for token storage:",{hasStoredToken:!!l,hasCredentials:!!c,hasAccountInfo:!!u,tokenLength:l?l.length:0}),l&&c&&u){console.log("🔄 DEBUG: Storing missing MT5 token with account type...",{userId:n.user.id,username:c.username,server:c.server,accountType:c.accountType,accountName:u.accountName||""});const{error:d}=await H.from("user_accounts").update({is_active:!1}).eq("user_id",n.user.id);d?console.error("❌ DEBUG: Error deactivating existing accounts:",d):console.log("✅ DEBUG: Successfully deactivated existing accounts");const h={user_id:n.user.id,mt5_username:c.username,mt5_server:c.server,account_name:u.accountName||"",account_type:c.accountType,mt5_token:l,is_active:!0,updated_at:new Date().toISOString()};console.log("📤 DEBUG: Sending upsert data to Supabase:",h);const{data:f,error:m}=await H.from("user_accounts").upsert(h,{onConflict:"user_id,mt5_username,mt5_server"}).select();return console.log("📥 DEBUG: Upsert response data:",f),m?(console.error("❌ DEBUG: Error storing MT5 token - FULL ERROR:",m),console.error("❌ DEBUG: Error details:",{code:m.code,message:m.message,details:m.details,hint:m.hint}),!1):(console.log("✅ DEBUG: MT5 token stored successfully with account type"),f&&f.length>0&&(e({credentials:{...c,mt5AccountId:f[0].id}}),console.log("✅ DEBUG: Updated credentials with MT5 account ID:",f[0].id)),D.success("MT5 token updated for automatic trading"),!0)}return console.log("⚠️ DEBUG: No MT5 token available to store"),!1}catch(n){return console.error("❌ DEBUG: Error ensuring MT5 token storage:",n),!1}},startAutoRefresh:()=>{t().stopAutoRefresh();const s=setInterval(()=>{t().refreshAccountInfo()},2e3);e({autoRefreshInterval:s})},stopAutoRefresh:()=>{const{autoRefreshInterval:s}=t();s&&(clearInterval(s),e({autoRefreshInterval:null}))},clearError:()=>e({error:null}),isUserExpired:async()=>{var i;const{data:{session:s}}=await H.auth.getSession();if(!((i=s==null?void 0:s.user)!=null&&i.id))return!1;const{data:n}=await H.from("profiles").select("expires_at").eq("id",s.user.id).single();return!!(n&&n.expires_at&&new Date(n.expires_at)<new Date)}}));async function Pv(e,t,s){try{const{data:n}=await H.from("user_plugins").select("id").eq("user_id",e).eq("plugin_id",s.id);if(n&&n.length>0)return D("You already own this plugin"),!0;if(t.balance<s.tokenCost)return D.error(`Insufficient tokens. You need ${s.tokenCost-t.balance} more tokens.`),!1;const i=new Date;i.setFullYear(i.getFullYear()+1);const{error:a}=await H.from("user_plugins").insert({user_id:e,plugin_id:s.id,name:s.name,description:s.description,token_cost:s.tokenCost,is_active:!0,expires_at:i.toISOString()});if(a)return console.error("❌ Error creating plugin record:",a),D.error("Failed to purchase plugin"),!1;const o=t.balance-s.tokenCost,l=t.spent+s.tokenCost,{error:c}=await H.from("user_tokens").update({balance:o,spent:l,updated_at:new Date().toISOString()}).eq("user_id",e);return c?(console.error("❌ Error updating user tokens:",c),D.error("Failed to process token payment"),!1):(await H.from("token_transactions").insert({user_id:e,type:"spent",amount:s.tokenCost,description:`Plugin: ${s.name}`,related_service:"plugins"}),pe.setState(u=>({userTokens:{...u.userTokens,balance:o,spent:l},userPlugins:[...u.userPlugins,{id:s.id,name:s.name,description:s.description,tokenCost:s.tokenCost,isActive:!0,expiresAt:i.toISOString()}]})),await pe.getState().updateTokenCirculation(),D.success(`Successfully purchased ${s.name}!`),!0)}catch(n){return console.error("❌ Error in purchasePluginWithDetails:",n),D.error("Failed to purchase plugin"),!1}}H.auth.onAuthStateChange((e,t)=>{e==="SIGNED_IN"&&t?pe.setState({isAuthenticated:!0}):e==="SIGNED_OUT"&&pe.setState({isAuthenticated:!1,credentials:null,accountInfo:null,userTokens:null})});(async()=>{try{const{data:{session:e}}=await H.auth.getSession();e&&pe.setState({isAuthenticated:!0})}catch(e){console.error("Error checking initial session:",e),await H.auth.signOut(),pe.setState({isAuthenticated:!1})}})();async function HD(e){const{error:t}=await H.from("profiles").update({is_approved:!0}).eq("id",e);return t?(D.error("Failed to approve user"),!1):(D.success("User approved!"),!0)}async function WD(e){try{return await H.from("profiles").delete().eq("id",e),await H.from("user_accounts").delete().eq("user_id",e),await H.from("user_tokens").delete().eq("user_id",e),await H.from("user_plugins").delete().eq("user_id",e),D.success("User deleted!"),!0}catch{return D.error("Failed to delete user"),!1}}const Xf={username:"admin",password:"admin123",role:"super_admin"},Tc=Ah((e,t)=>({isAuthenticated:!1,isLoading:!1,error:null,adminUsers:[],adminPlugins:[],currentAdmin:null,login:async s=>{e({isLoading:!0,error:null});try{if(s.username===Xf.username&&s.password===Xf.password)e({isAuthenticated:!0,currentAdmin:{username:s.username,password:s.password,role:Xf.role},isLoading:!1,error:null}),await t().fetchAllUsersWithTokens(),await t().fetchAdminPlugins(),D.success("Admin login successful");else throw new Error("Invalid admin credentials")}catch(n){throw e({isAuthenticated:!1,currentAdmin:null,isLoading:!1,error:n instanceof Error?n.message:"Login failed"}),n}},logout:()=>{e({isAuthenticated:!1,currentAdmin:null,adminUsers:[],adminPlugins:[],error:null})},fetchAllUsersWithTokens:async()=>{try{console.log("🔄 Admin: Fetching all users with token data..."),e({isLoading:!0});const{data:s,error:n}=await H.rpc("get_all_users_email");if(n){console.error("❌ Error fetching user emails:",n),D.error("Failed to load user data"),e({isLoading:!1});return}if(!s||s.length===0){console.log("⚠️ No users found in auth.users"),e({adminUsers:[],isLoading:!1});return}console.log(`✅ Found ${s.length} users in auth.users`);const{data:i,error:a}=await H.from("user_tokens").select("*");a&&(console.error("❌ Error fetching token data:",a),D.error("Failed to load token data"));const{data:o,error:l}=await H.rpc("get_last_sign_in_times");l&&console.error("❌ Error fetching sign in times:",l);const c={};o&&o.forEach(f=>{f.user_id&&f.last_sign_in&&(c[f.user_id]=f.last_sign_in)});const{data:u,error:d}=await H.from("user_limits").select("*");d&&console.error("❌ Error fetching user limits:",d);const h=s.map(f=>{const m=i==null?void 0:i.find(y=>y.user_id===f.id),x=c[f.id],g=u==null?void 0:u.find(y=>y.user_id===f.id);return{id:f.id,email:f.email||`User-${f.id.slice(0,8)}`,created_at:f.created_at||new Date().toISOString(),last_sign_in_at:x,tokens:m?{balance:m.balance,earned:m.earned,spent:m.spent}:null,maxRobots:(g==null?void 0:g.max_robots)??0,maxMt5Accounts:(g==null?void 0:g.max_mt5_accounts)??0,expires_at:(g==null?void 0:g.expires_at)??""}});e({adminUsers:h,isLoading:!1}),console.log(`✅ Admin: Loaded ${h.length} users`)}catch(s){console.error("❌ Admin: Error fetching all users with tokens:",s),D.error("Failed to load admin data"),e({error:"Failed to load user data",isLoading:!1})}},fetchAdminPlugins:async()=>{try{console.log("🔄 Admin: Fetching plugins...");const{data:s,error:n}=await H.from("plugins").select("*").order("created_at",{ascending:!1});if(n){console.error("❌ Error fetching plugins:",n),D.error("Failed to load plugins data");return}const i=s.map(a=>({id:a.id,name:a.name,description:a.description,tokenCost:a.token_cost,features:a.features||[],isActive:a.is_active,expiresAt:a.expires_at,createdAt:a.created_at,updatedAt:a.updated_at}));e({adminPlugins:i}),console.log(`✅ Admin: Loaded ${i.length} plugins`)}catch(s){console.error("❌ Admin: Error fetching plugins:",s),D.error("Failed to load plugins data")}},addAdminPlugin:async s=>{try{console.log("🔄 Admin: Adding new plugin:",s.name);const{error:n}=await H.from("plugins").insert({id:s.id,name:s.name,description:s.description,token_cost:s.tokenCost,features:s.features||[],is_active:s.isActive,expires_at:s.expiresAt});return n?(console.error("❌ Error adding plugin:",n),D.error("Failed to add plugin"),!1):(await t().fetchAdminPlugins(),D.success(`Plugin "${s.name}" added successfully`),!0)}catch(n){return console.error("❌ Admin: Error adding plugin:",n),D.error("Failed to add plugin"),!1}},updateAdminPlugin:async(s,n)=>{try{console.log(`🔄 Admin: Updating plugin ${s}:`,n);const{error:i}=await H.from("plugins").update({name:n.name,description:n.description,token_cost:n.tokenCost,features:n.features,is_active:n.isActive,expires_at:n.expiresAt,updated_at:new Date().toISOString()}).eq("id",s);return i?(console.error("❌ Error updating plugin:",i),D.error("Failed to update plugin"),!1):(await t().fetchAdminPlugins(),D.success("Plugin updated successfully"),!0)}catch(i){return console.error("❌ Admin: Error updating plugin:",i),D.error("Failed to update plugin"),!1}},deleteAdminPlugin:async s=>{try{console.log(`🔄 Admin: Deleting plugin ${s}`);const{error:n}=await H.from("plugins").delete().eq("id",s);return n?(console.error("❌ Error deleting plugin:",n),D.error("Failed to delete plugin"),!1):(e(i=>({adminPlugins:i.adminPlugins.filter(a=>a.id!==s)})),D.success("Plugin deleted successfully"),!0)}catch(n){return console.error("❌ Admin: Error deleting plugin:",n),D.error("Failed to delete plugin"),!1}},addTokensToUser:async(s,n,i)=>{try{console.log(`🔄 Admin: Adding ${n} tokens to user ${s}`);const a=t().currentAdmin;if(!a)return D.error("Admin authentication required"),!1;const o=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/admin-add-tokens",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({userId:s,amount:n,description:i,adminCredentials:{username:a.username,password:a.password}})}),l=await o.json();return o.ok?(e(c=>({adminUsers:c.adminUsers.map(u=>{var d;return u.id===s?{...u,tokens:{balance:l.newBalance,earned:l.newEarned,spent:((d=u.tokens)==null?void 0:d.spent)||0}}:u})})),D.success(l.message),console.log(`✅ Admin: Successfully added ${n} tokens to user ${s}`),await t().fetchAllUsersWithTokens(),!0):(console.error("❌ Error from edge function:",l.error),D.error(l.error||"Failed to add tokens"),!1)}catch(a){return console.error("❌ Admin: Error adding tokens to user:",a),D.error("Failed to add tokens to user"),!1}},updateUserLimits:async(s,n,i,a)=>{try{debugger;const o={user_id:s,max_robots:n,max_mt5_accounts:i};a&&a.length>0?o.expires_at=new Date(a).toISOString():o.expires_at=null;const{error:l}=await H.from("user_limits").upsert([o],{onConflict:"user_id"});return l?(D.error("Failed to update user limits"),!1):(a&&a.length>0?await H.from("profiles").update({expires_at:new Date(a).toISOString()}).eq("id",s):await H.from("profiles").update({expires_at:null}).eq("id",s),await t().fetchAllUsersWithTokens(),!0)}catch{return D.error("Failed to update user limits"),!1}},fetchUserDetails:async s=>{try{const n=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/admin-user-details",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({userId:s})}),i=await n.json();return n.ok?(console.log("Admin user details:",i),{robots:i.robots||[],mt5Accounts:i.mt5Accounts||[],balance:i.balance??null,drawdown:i.drawdown??null}):(D.error(i.error||"Failed to fetch user details"),null)}catch(n){return D.error("Failed to fetch user details"),console.error("fetchUserDetails error:",n),null}},clearError:()=>e({error:null}),enforceUserLimits:async(s,n)=>{try{debugger;const i=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/user-limits-enforce",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({userId:s,type:n})}),a=await i.json();return!i.ok||!a.allowed?(D.error(a.reason||"User limit reached or account expired"),{allowed:!1,reason:a.reason}):{allowed:!0}}catch{return D.error("Failed to enforce user limits"),{allowed:!1,reason:"Failed to enforce user limits"}}}}));var Cc=e=>e.type==="checkbox",Pi=e=>e instanceof Date,Jt=e=>e==null;const i_=e=>typeof e=="object";var lt=e=>!Jt(e)&&!Array.isArray(e)&&i_(e)&&!Pi(e),qD=e=>lt(e)&&e.target?Cc(e.target)?e.target.checked:e.target.value:e,YD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,GD=(e,t)=>e.has(YD(t)),KD=e=>{const t=e.constructor&&e.constructor.prototype;return lt(t)&&t.hasOwnProperty("isPrototypeOf")},a0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(e){let t;const s=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(a0&&(e instanceof Blob||n))&&(s||lt(e)))if(t=s?[]:{},!s&&!KD(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Lt(e[i]));else return e;return t}var qh=e=>/^\w*$/.test(e),dt=e=>e===void 0,o0=e=>Array.isArray(e)?e.filter(Boolean):[],l0=e=>o0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),re=(e,t,s)=>{if(!t||!lt(e))return s;const n=(qh(t)?[t]:l0(t)).reduce((i,a)=>Jt(i)?i:i[a],e);return dt(n)||n===e?dt(e[t])?s:e[t]:n},En=e=>typeof e=="boolean",Be=(e,t,s)=>{let n=-1;const i=qh(t)?[t]:l0(t),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=s;if(n!==o){const u=e[l];c=lt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ev={BLUR:"blur",FOCUS_OUT:"focusout"},dn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XD=Pe.createContext(null);XD.displayName="HookFormContext";var JD=(e,t,s,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==dn.all&&(t._proxyFormState[o]=!n||dn.all),e[o]}});return i};const QD=typeof window<"u"?_.useLayoutEffect:_.useEffect;var Rn=e=>typeof e=="string",ZD=(e,t,s,n,i)=>Rn(e)?(n&&t.watch.add(e),re(s,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),re(s,a))):(n&&(t.watchAll=!0),s),eL=(e,t,s,n,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[n]:i||!0}}:{},wl=e=>Array.isArray(e)?e:[e],Av=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},nx=e=>Jt(e)||!i_(e);function Cr(e,t){if(nx(e)||nx(t))return e===t;if(Pi(e)&&Pi(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(const i of s){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Pi(a)&&Pi(o)||lt(a)&&lt(o)||Array.isArray(a)&&Array.isArray(o)?!Cr(a,o):a!==o)return!1}}return!0}var us=e=>lt(e)&&!Object.keys(e).length,c0=e=>e.type==="file",hn=e=>typeof e=="function",Ld=e=>{if(!a0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},a_=e=>e.type==="select-multiple",u0=e=>e.type==="radio",tL=e=>u0(e)||Cc(e),Jf=e=>Ld(e)&&e.isConnected;function sL(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=dt(e)?n++:e[t[n++]];return e}function nL(e){for(const t in e)if(e.hasOwnProperty(t)&&!dt(e[t]))return!1;return!0}function xt(e,t){const s=Array.isArray(t)?t:qh(t)?[t]:l0(t),n=s.length===1?e:sL(e,s),i=s.length-1,a=s[i];return n&&delete n[a],i!==0&&(lt(n)&&us(n)||Array.isArray(n)&&nL(n))&&xt(e,s.slice(0,-1)),e}var o_=e=>{for(const t in e)if(hn(e[t]))return!0;return!1};function Id(e,t={}){const s=Array.isArray(e);if(lt(e)||s)for(const n in e)Array.isArray(e[n])||lt(e[n])&&!o_(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Id(e[n],t[n])):Jt(e[n])||(t[n]=!0);return t}function l_(e,t,s){const n=Array.isArray(e);if(lt(e)||n)for(const i in e)Array.isArray(e[i])||lt(e[i])&&!o_(e[i])?dt(t)||nx(s[i])?s[i]=Array.isArray(e[i])?Id(e[i],[]):{...Id(e[i])}:l_(e[i],Jt(t)?{}:t[i],s[i]):s[i]=!Cr(e[i],t[i]);return s}var Io=(e,t)=>l_(e,t,Id(t));const Rv={value:!1,isValid:!1},Mv={value:!0,isValid:!0};var c_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dt(e[0].attributes.value)?dt(e[0].value)||e[0].value===""?Mv:{value:e[0].value,isValid:!0}:Mv:Rv}return Rv},u_=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>dt(e)?e:t?e===""?NaN:e&&+e:s&&Rn(e)?new Date(e):n?n(e):e;const Dv={isValid:!1,value:null};var d_=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Dv):Dv;function Lv(e){const t=e.ref;return c0(t)?t.files:u0(t)?d_(e.refs).value:a_(t)?[...t.selectedOptions].map(({value:s})=>s):Cc(t)?c_(e.refs).value:u_(dt(t.value)?e.ref.value:t.value,e)}var rL=(e,t,s,n)=>{const i={};for(const a of e){const o=re(t,a);o&&Be(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:n}},Od=e=>e instanceof RegExp,Oo=e=>dt(e)?e:Od(e)?e.source:lt(e)?Od(e.value)?e.value.source:e.value:e,Iv=e=>({isOnSubmit:!e||e===dn.onSubmit,isOnBlur:e===dn.onBlur,isOnChange:e===dn.onChange,isOnAll:e===dn.all,isOnTouch:e===dn.onTouched});const Ov="AsyncFunction";var iL=e=>!!e&&!!e.validate&&!!(hn(e.validate)&&e.validate.constructor.name===Ov||lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ov)),aL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Fv=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const jl=(e,t,s,n)=>{for(const i of s||Object.keys(e)){const a=re(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(jl(l,t))break}else if(lt(l)&&jl(l,t))break}}};function Uv(e,t,s){const n=re(e,s);if(n||qh(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=re(t,a),l=re(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:s}}var oL=(e,t,s,n)=>{s(e);const{name:i,...a}=e;return us(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||dn.all))},lL=(e,t,s)=>!e||!t||e===t||wl(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),cL=(e,t,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?n.isOnBlur:i.isOnBlur)?!e:(s?n.isOnChange:i.isOnChange)?e:!0,uL=(e,t)=>!o0(re(e,t)).length&&xt(e,t),dL=(e,t,s)=>{const n=wl(re(e,s));return Be(n,"root",t[s]),Be(e,s,n),e},Gu=e=>Rn(e);function $v(e,t,s="validate"){if(Gu(e)||Array.isArray(e)&&e.every(Gu)||En(e)&&!e)return{type:s,message:Gu(e)?e:"",ref:t}}var la=e=>lt(e)&&!Od(e)?e:{value:e,message:""},Bv=async(e,t,s,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:m,validate:x,name:g,valueAsNumber:y,mount:p}=e._f,b=re(s,g);if(!p||t.has(g))return{};const v=l?l[0]:o,w=M=>{i&&v.reportValidity&&(v.setCustomValidity(En(M)?"":M||""),v.reportValidity())},j={},k=u0(o),P=Cc(o),S=k||P,T=(y||c0(o))&&dt(o.value)&&dt(b)||Ld(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,N=eL.bind(null,g,n,j),E=(M,O,F,z=Vn.maxLength,Q=Vn.minLength)=>{const I=M?O:F;j[g]={type:M?z:Q,message:I,ref:o,...N(M?z:Q,I)}};if(a?!Array.isArray(b)||!b.length:c&&(!S&&(T||Jt(b))||En(b)&&!b||P&&!c_(l).isValid||k&&!d_(l).isValid)){const{value:M,message:O}=Gu(c)?{value:!!c,message:c}:la(c);if(M&&(j[g]={type:Vn.required,message:O,ref:v,...N(Vn.required,O)},!n))return w(O),j}if(!T&&(!Jt(h)||!Jt(f))){let M,O;const F=la(f),z=la(h);if(!Jt(b)&&!isNaN(b)){const Q=o.valueAsNumber||b&&+b;Jt(F.value)||(M=Q>F.value),Jt(z.value)||(O=Q<z.value)}else{const Q=o.valueAsDate||new Date(b),I=C=>new Date(new Date().toDateString()+" "+C),$=o.type=="time",B=o.type=="week";Rn(F.value)&&b&&(M=$?I(b)>I(F.value):B?b>F.value:Q>new Date(F.value)),Rn(z.value)&&b&&(O=$?I(b)<I(z.value):B?b<z.value:Q<new Date(z.value))}if((M||O)&&(E(!!M,F.message,z.message,Vn.max,Vn.min),!n))return w(j[g].message),j}if((u||d)&&!T&&(Rn(b)||a&&Array.isArray(b))){const M=la(u),O=la(d),F=!Jt(M.value)&&b.length>+M.value,z=!Jt(O.value)&&b.length<+O.value;if((F||z)&&(E(F,M.message,O.message),!n))return w(j[g].message),j}if(m&&!T&&Rn(b)){const{value:M,message:O}=la(m);if(Od(M)&&!b.match(M)&&(j[g]={type:Vn.pattern,message:O,ref:o,...N(Vn.pattern,O)},!n))return w(O),j}if(x){if(hn(x)){const M=await x(b,s),O=$v(M,v);if(O&&(j[g]={...O,...N(Vn.validate,O.message)},!n))return w(O.message),j}else if(lt(x)){let M={};for(const O in x){if(!us(M)&&!n)break;const F=$v(await x[O](b,s),v,O);F&&(M={...F,...N(O,F.message)},w(F.message),n&&(j[g]=M))}if(!us(M)&&(j[g]={ref:v,...M},!n))return j}}return w(!0),j};const hL={mode:dn.onSubmit,reValidateMode:dn.onChange,shouldFocusError:!0};function fL(e={}){let t={...hL,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:hn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=lt(t.defaultValues)||lt(t.values)?Lt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Lt(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:Av(),state:Av()},m=t.criteriaMode===dn.all,x=R=>U=>{clearTimeout(u),u=setTimeout(R,U)},g=async R=>{if(!t.disabled&&(d.isValid||h.isValid||R)){const U=t.resolver?us((await P()).errors):await T(n,!0);U!==s.isValid&&f.state.next({isValid:U})}},y=(R,U)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((R||Array.from(l.mount)).forEach(W=>{W&&(U?Be(s.validatingFields,W,U):xt(s.validatingFields,W))}),f.state.next({validatingFields:s.validatingFields,isValidating:!us(s.validatingFields)}))},p=(R,U=[],W,ee,Z=!0,J=!0)=>{if(ee&&W&&!t.disabled){if(o.action=!0,J&&Array.isArray(re(n,R))){const L=W(re(n,R),ee.argA,ee.argB);Z&&Be(n,R,L)}if(J&&Array.isArray(re(s.errors,R))){const L=W(re(s.errors,R),ee.argA,ee.argB);Z&&Be(s.errors,R,L),uL(s.errors,R)}if((d.touchedFields||h.touchedFields)&&J&&Array.isArray(re(s.touchedFields,R))){const L=W(re(s.touchedFields,R),ee.argA,ee.argB);Z&&Be(s.touchedFields,R,L)}(d.dirtyFields||h.dirtyFields)&&(s.dirtyFields=Io(i,a)),f.state.next({name:R,isDirty:E(R,U),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Be(a,R,U)},b=(R,U)=>{Be(s.errors,R,U),f.state.next({errors:s.errors})},v=R=>{s.errors=R,f.state.next({errors:s.errors,isValid:!1})},w=(R,U,W,ee)=>{const Z=re(n,R);if(Z){const J=re(a,R,dt(W)?re(i,R):W);dt(J)||ee&&ee.defaultChecked||U?Be(a,R,U?J:Lv(Z._f)):F(R,J),o.mount&&g()}},j=(R,U,W,ee,Z)=>{let J=!1,L=!1;const Y={name:R};if(!t.disabled){if(!W||ee){(d.isDirty||h.isDirty)&&(L=s.isDirty,s.isDirty=Y.isDirty=E(),J=L!==Y.isDirty);const te=Cr(re(i,R),U);L=!!re(s.dirtyFields,R),te?xt(s.dirtyFields,R):Be(s.dirtyFields,R,!0),Y.dirtyFields=s.dirtyFields,J=J||(d.dirtyFields||h.dirtyFields)&&L!==!te}if(W){const te=re(s.touchedFields,R);te||(Be(s.touchedFields,R,W),Y.touchedFields=s.touchedFields,J=J||(d.touchedFields||h.touchedFields)&&te!==W)}J&&Z&&f.state.next(Y)}return J?Y:{}},k=(R,U,W,ee)=>{const Z=re(s.errors,R),J=(d.isValid||h.isValid)&&En(U)&&s.isValid!==U;if(t.delayError&&W?(c=x(()=>b(R,W)),c(t.delayError)):(clearTimeout(u),c=null,W?Be(s.errors,R,W):xt(s.errors,R)),(W?!Cr(Z,W):Z)||!us(ee)||J){const L={...ee,...J&&En(U)?{isValid:U}:{},errors:s.errors,name:R};s={...s,...L},f.state.next(L)}},P=async R=>{y(R,!0);const U=await t.resolver(a,t.context,rL(R||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(R),U},S=async R=>{const{errors:U}=await P(R);if(R)for(const W of R){const ee=re(U,W);ee?Be(s.errors,W,ee):xt(s.errors,W)}else s.errors=U;return U},T=async(R,U,W={valid:!0})=>{for(const ee in R){const Z=R[ee];if(Z){const{_f:J,...L}=Z;if(J){const Y=l.array.has(J.name),te=Z._f&&iL(Z._f);te&&d.validatingFields&&y([ee],!0);const le=await Bv(Z,l.disabled,a,m,t.shouldUseNativeValidation&&!U,Y);if(te&&d.validatingFields&&y([ee]),le[J.name]&&(W.valid=!1,U))break;!U&&(re(le,J.name)?Y?dL(s.errors,le,J.name):Be(s.errors,J.name,le[J.name]):xt(s.errors,J.name))}!us(L)&&await T(L,U,W)}}return W.valid},N=()=>{for(const R of l.unMount){const U=re(n,R);U&&(U._f.refs?U._f.refs.every(W=>!Jf(W)):!Jf(U._f.ref))&&fe(R)}l.unMount=new Set},E=(R,U)=>!t.disabled&&(R&&U&&Be(a,R,U),!Cr(C(),i)),M=(R,U,W)=>ZD(R,l,{...o.mount?a:dt(U)?i:Rn(R)?{[R]:U}:U},W,U),O=R=>o0(re(o.mount?a:i,R,t.shouldUnregister?re(i,R,[]):[])),F=(R,U,W={})=>{const ee=re(n,R);let Z=U;if(ee){const J=ee._f;J&&(!J.disabled&&Be(a,R,u_(U,J)),Z=Ld(J.ref)&&Jt(U)?"":U,a_(J.ref)?[...J.ref.options].forEach(L=>L.selected=Z.includes(L.value)):J.refs?Cc(J.ref)?J.refs.forEach(L=>{(!L.defaultChecked||!L.disabled)&&(Array.isArray(Z)?L.checked=!!Z.find(Y=>Y===L.value):L.checked=Z===L.value||!!Z)}):J.refs.forEach(L=>L.checked=L.value===Z):c0(J.ref)?J.ref.value="":(J.ref.value=Z,J.ref.type||f.state.next({name:R,values:Lt(a)})))}(W.shouldDirty||W.shouldTouch)&&j(R,Z,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&B(R)},z=(R,U,W)=>{for(const ee in U){if(!U.hasOwnProperty(ee))return;const Z=U[ee],J=R+"."+ee,L=re(n,J);(l.array.has(R)||lt(Z)||L&&!L._f)&&!Pi(Z)?z(J,Z,W):F(J,Z,W)}},Q=(R,U,W={})=>{const ee=re(n,R),Z=l.array.has(R),J=Lt(U);Be(a,R,J),Z?(f.array.next({name:R,values:Lt(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&W.shouldDirty&&f.state.next({name:R,dirtyFields:Io(i,a),isDirty:E(R,J)})):ee&&!ee._f&&!Jt(J)?z(R,J,W):F(R,J,W),Fv(R,l)&&f.state.next({...s}),f.state.next({name:o.mount?R:void 0,values:Lt(a)})},I=async R=>{o.mount=!0;const U=R.target;let W=U.name,ee=!0;const Z=re(n,W),J=te=>{ee=Number.isNaN(te)||Pi(te)&&isNaN(te.getTime())||Cr(te,re(a,W,te))},L=Iv(t.mode),Y=Iv(t.reValidateMode);if(Z){let te,le;const je=U.type?Lv(Z._f):qD(R),qe=R.type===Ev.BLUR||R.type===Ev.FOCUS_OUT,Fs=!aL(Z._f)&&!t.resolver&&!re(s.errors,W)&&!Z._f.deps||cL(qe,re(s.touchedFields,W),s.isSubmitted,Y,L),q=Fv(W,l,qe);Be(a,W,je),qe?(Z._f.onBlur&&Z._f.onBlur(R),c&&c(0)):Z._f.onChange&&Z._f.onChange(R);const Te=j(W,je,qe),Ze=!us(Te)||q;if(!qe&&f.state.next({name:W,type:R.type,values:Lt(a)}),Fs)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?qe&&g():qe||g()),Ze&&f.state.next({name:W,...q?{}:Te});if(!qe&&q&&f.state.next({...s}),t.resolver){const{errors:pt}=await P([W]);if(J(je),ee){const Us=Uv(s.errors,n,W),$s=Uv(pt,n,Us.name||W);te=$s.error,W=$s.name,le=us(pt)}}else y([W],!0),te=(await Bv(Z,l.disabled,a,m,t.shouldUseNativeValidation))[W],y([W]),J(je),ee&&(te?le=!1:(d.isValid||h.isValid)&&(le=await T(n,!0)));ee&&(Z._f.deps&&B(Z._f.deps),k(W,le,te,Te))}},$=(R,U)=>{if(re(s.errors,U)&&R.focus)return R.focus(),1},B=async(R,U={})=>{let W,ee;const Z=wl(R);if(t.resolver){const J=await S(dt(R)?R:Z);W=us(J),ee=R?!Z.some(L=>re(J,L)):W}else R?(ee=(await Promise.all(Z.map(async J=>{const L=re(n,J);return await T(L&&L._f?{[J]:L}:L)}))).every(Boolean),!(!ee&&!s.isValid)&&g()):ee=W=await T(n);return f.state.next({...!Rn(R)||(d.isValid||h.isValid)&&W!==s.isValid?{}:{name:R},...t.resolver||!R?{isValid:W}:{},errors:s.errors}),U.shouldFocus&&!ee&&jl(n,$,R?Z:l.mount),ee},C=R=>{const U={...o.mount?a:i};return dt(R)?U:Rn(R)?re(U,R):R.map(W=>re(U,W))},ne=(R,U)=>({invalid:!!re((U||s).errors,R),isDirty:!!re((U||s).dirtyFields,R),error:re((U||s).errors,R),isValidating:!!re(s.validatingFields,R),isTouched:!!re((U||s).touchedFields,R)}),ie=R=>{R&&wl(R).forEach(U=>xt(s.errors,U)),f.state.next({errors:R?s.errors:{}})},A=(R,U,W)=>{const ee=(re(n,R,{_f:{}})._f||{}).ref,Z=re(s.errors,R)||{},{ref:J,message:L,type:Y,...te}=Z;Be(s.errors,R,{...te,...U,ref:ee}),f.state.next({name:R,errors:s.errors,isValid:!1}),W&&W.shouldFocus&&ee&&ee.focus&&ee.focus()},ve=(R,U)=>hn(R)?f.state.subscribe({next:W=>R(M(void 0,U),W)}):M(R,U,!0),Me=R=>f.state.subscribe({next:U=>{lL(R.name,U.name,R.exact)&&oL(U,R.formState||d,sa,R.reRenderRoot)&&R.callback({values:{...a},...s,...U})}}).unsubscribe,ue=R=>(o.mount=!0,h={...h,...R.formState},Me({...R,formState:h})),fe=(R,U={})=>{for(const W of R?wl(R):l.mount)l.mount.delete(W),l.array.delete(W),U.keepValue||(xt(n,W),xt(a,W)),!U.keepError&&xt(s.errors,W),!U.keepDirty&&xt(s.dirtyFields,W),!U.keepTouched&&xt(s.touchedFields,W),!U.keepIsValidating&&xt(s.validatingFields,W),!t.shouldUnregister&&!U.keepDefaultValue&&xt(i,W);f.state.next({values:Lt(a)}),f.state.next({...s,...U.keepDirty?{isDirty:E()}:{}}),!U.keepIsValid&&g()},De=({disabled:R,name:U})=>{(En(R)&&o.mount||R||l.disabled.has(U))&&(R?l.disabled.add(U):l.disabled.delete(U))},ft=(R,U={})=>{let W=re(n,R);const ee=En(U.disabled)||En(t.disabled);return Be(n,R,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:R}},name:R,mount:!0,...U}}),l.mount.add(R),W?De({disabled:En(U.disabled)?U.disabled:t.disabled,name:R}):w(R,!0,U.value),{...ee?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:Oo(U.min),max:Oo(U.max),minLength:Oo(U.minLength),maxLength:Oo(U.maxLength),pattern:Oo(U.pattern)}:{},name:R,onChange:I,onBlur:I,ref:Z=>{if(Z){ft(R,U),W=re(n,R);const J=dt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,L=tL(J),Y=W._f.refs||[];if(L?Y.find(te=>te===J):J===W._f.ref)return;Be(n,R,{_f:{...W._f,...L?{refs:[...Y.filter(Jf),J,...Array.isArray(re(i,R))?[{}]:[]],ref:{type:J.type,name:R}}:{ref:J}}}),w(R,!1,void 0,J)}else W=re(n,R,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(GD(l.array,R)&&o.action)&&l.unMount.add(R)}}},St=()=>t.shouldFocusError&&jl(n,$,l.mount),mt=R=>{En(R)&&(f.state.next({disabled:R}),jl(n,(U,W)=>{const ee=re(n,W);ee&&(U.disabled=ee._f.disabled||R,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(Z=>{Z.disabled=ee._f.disabled||R}))},0,!1))},Kt=(R,U)=>async W=>{let ee;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let Z=Lt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:L}=await P();s.errors=J,Z=L}else await T(n);if(l.disabled.size)for(const J of l.disabled)Be(Z,J,void 0);if(xt(s.errors,"root"),us(s.errors)){f.state.next({errors:{}});try{await R(Z,W)}catch(J){ee=J}}else U&&await U({...s.errors},W),St(),setTimeout(St);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:us(s.errors)&&!ee,submitCount:s.submitCount+1,errors:s.errors}),ee)throw ee},js=(R,U={})=>{re(n,R)&&(dt(U.defaultValue)?Q(R,Lt(re(i,R))):(Q(R,U.defaultValue),Be(i,R,Lt(U.defaultValue))),U.keepTouched||xt(s.touchedFields,R),U.keepDirty||(xt(s.dirtyFields,R),s.isDirty=U.defaultValue?E(R,Lt(re(i,R))):E()),U.keepError||(xt(s.errors,R),d.isValid&&g()),f.state.next({...s}))},Bn=(R,U={})=>{const W=R?Lt(R):i,ee=Lt(W),Z=us(R),J=Z?i:ee;if(U.keepDefaultValues||(i=W),!U.keepValues){if(U.keepDirtyValues){const L=new Set([...l.mount,...Object.keys(Io(i,a))]);for(const Y of Array.from(L))re(s.dirtyFields,Y)?Be(J,Y,re(a,Y)):Q(Y,re(J,Y))}else{if(a0&&dt(R))for(const L of l.mount){const Y=re(n,L);if(Y&&Y._f){const te=Array.isArray(Y._f.refs)?Y._f.refs[0]:Y._f.ref;if(Ld(te)){const le=te.closest("form");if(le){le.reset();break}}}}for(const L of l.mount)Q(L,re(J,L))}a=Lt(J),f.array.next({values:{...J}}),f.state.next({values:{...J}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:U.keepSubmitCount?s.submitCount:0,isDirty:Z?!1:U.keepDirty?s.isDirty:!!(U.keepDefaultValues&&!Cr(R,i)),isSubmitted:U.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Z?{}:U.keepDirtyValues?U.keepDefaultValues&&a?Io(i,a):s.dirtyFields:U.keepDefaultValues&&R?Io(i,R):U.keepDirty?s.dirtyFields:{},touchedFields:U.keepTouched?s.touchedFields:{},errors:U.keepErrors?s.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(R,U)=>Bn(hn(R)?R(a):R,U),oi=(R,U={})=>{const W=re(n,R),ee=W&&W._f;if(ee){const Z=ee.refs?ee.refs[0]:ee.ref;Z.focus&&(Z.focus(),U.shouldSelect&&hn(Z.select)&&Z.select())}},sa=R=>{s={...s,...R}},li={control:{register:ft,unregister:fe,getFieldState:ne,handleSubmit:Kt,setError:A,_subscribe:Me,_runSchema:P,_focusError:St,_getWatch:M,_getDirty:E,_setValid:g,_setFieldArray:p,_setDisabledField:De,_setErrors:v,_getFieldArray:O,_reset:Bn,_resetDefaultValues:()=>hn(t.defaultValues)&&t.defaultValues().then(R=>{_t(R,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:mt,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(R){o=R},get _defaultValues(){return i},get _names(){return l},set _names(R){l=R},get _formState(){return s},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:ue,trigger:B,register:ft,handleSubmit:Kt,watch:ve,setValue:Q,getValues:C,reset:_t,resetField:js,clearErrors:ie,unregister:fe,setError:A,setFocus:oi,getFieldState:ne};return{...li,formControl:li}}function vo(e={}){const t=Pe.useRef(void 0),s=Pe.useRef(void 0),[n,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:hn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:hn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!hn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=fL(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,QD(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Pe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Pe.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Pe.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Pe.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Pe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Pe.useEffect(()=>{e.values&&!Cr(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),Pe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=JD(n,a),t.current}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const s=_.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>_.createElement("svg",{ref:d,...mL,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${pL(e)}`,l].join(" "),...u},[...t.map(([h,f])=>_.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=X("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=X("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=X("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=X("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=X("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=X("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=X("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=X("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=X("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=X("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=X("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=X("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=X("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=X("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=X("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=X("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=X("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=X("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=X("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=X("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=X("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=X("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=X("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=X("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=X("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=X("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=X("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=X("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=X("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=X("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=X("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=X("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=X("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=X("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=X("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=X("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=X("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=X("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=X("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=X("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=X("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=X("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=X("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=X("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=X("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ML=()=>{const[e,t]=_.useState(!0),[s,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(null),c=kt(),{register:u,handleSubmit:d,formState:{errors:h},reset:f}=vo(),m=async g=>{a(!0),l(null);try{if(e){await H.auth.signOut();const{error:y}=await H.auth.signInWithPassword({email:g.email,password:g.password});if(y)throw y.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):y.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link before signing in."):new Error(y.message);D.success("Successfully signed in!"),c("/broker-setup")}else{const{error:y,data:p}=await H.auth.signUp({email:g.email,password:g.password,options:{data:{first_name:g.firstName,last_name:g.lastName,address:g.address,years_experience:g.yearsExperience,referral_code:g.referralCode,how_heard_about:g.howHeardAbout,newsletter:g.newsletter}}});if(y)if(y.message.toLowerCase().includes("user already registered")||y.message.toLowerCase().includes("user already exists")||y.code==="user_already_exists"){t(!0),l("An account with this email already exists. Please sign in with your existing credentials."),D.error("Account already exists. Switched to sign in mode.");return}else throw y.message.includes("Password should be at least")?new Error("Password must be at least 6 characters long."):new Error(y.message);p!=null&&p.user&&!p.session?D.success("Account created! Please check your email for verification before signing in."):(D.success("Account created and signed in successfully!"),c("/broker-setup")),t(!0),f()}}catch(y){const p=y instanceof Error?y.message:"Authentication failed";l(p),D.error(p)}finally{a(!1)}},x=()=>{t(!e),l(null),f()};return r.jsxs("div",{className:"min-h-screen flex",children:[r.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-black p-12 flex-col justify-center",children:r.jsxs("div",{className:"max-w-md mx-auto text-white",children:[r.jsx("div",{className:"mb-8 flex justify-center",children:r.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Platform Logo",className:"h-16 w-auto"})}),r.jsx("h1",{className:"text-4xl font-bold mb-6",children:"MT5 Trading Platform"}),r.jsx("p",{className:"text-xl mb-8 text-white/80",children:"The most advanced trading platform for forex, stocks, and cryptocurrencies."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:r.jsx(_s,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Personal Dashboard"}),r.jsx("p",{className:"text-white/70",children:"Manage all your trading accounts in one place"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:r.jsx(SL,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"TradingView Integration"}),r.jsx("p",{className:"text-white/70",children:"Connect your TradingView alerts for automated trading"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:r.jsx(yL,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Multiple Brokers"}),r.jsx("p",{className:"text-white/70",children:"Connect to any MT5 broker of your choice"})]})]})]})]})}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 bg-white",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"bg-black w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 cursor-pointer",onClick:()=>c("/admin-login"),title:"Admin Login",children:e?r.jsx(_L,{className:"w-8 h-8 text-white"}):r.jsx(T_,{className:"w-8 h-8 text-black"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Welcome Back":"Create Account"}),r.jsx("p",{className:"text-gray-600 mt-2",children:e?"Sign in to your trading platform":"Join the MT5 trading platform"})]}),r.jsxs("form",{onSubmit:d(m),className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(w_,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{...u("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",placeholder:"your@email.com",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),h.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(f0,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{...u("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:s?"text":"password",placeholder:"••••••••",className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?r.jsx(x_,{className:"w-5 h-5"}):r.jsx(Pc,{className:"w-5 h-5"})})]}),h.password&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.password.message})]}),!e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{...u("firstName",{required:"First name is required"}),type:"text",placeholder:"John",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),h.firstName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.firstName.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{...u("lastName",{required:"Last name is required"}),type:"text",placeholder:"Doe",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),h.lastName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.lastName.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(j_,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{...u("address"),type:"text",placeholder:"123 Trading St, New York, NY",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Trading Experience"}),r.jsxs("div",{className:"relative",children:[r.jsx(Za,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsxs("select",{...u("yearsExperience"),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[r.jsx("option",{value:"",children:"Select experience"}),r.jsx("option",{value:"0-1",children:"Less than 1 year"}),r.jsx("option",{value:"1-3",children:"1-3 years"}),r.jsx("option",{value:"3-5",children:"3-5 years"}),r.jsx("option",{value:"5-10",children:"5-10 years"}),r.jsx("option",{value:"10+",children:"More than 10 years"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referral Code (Optional)"}),r.jsx("input",{...u("referralCode"),type:"text",placeholder:"Enter referral code if you have one",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you hear about us?"}),r.jsxs("div",{className:"relative",children:[r.jsx(b_,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsxs("select",{...u("howHeardAbout"),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[r.jsx("option",{value:"",children:"Select an option"}),r.jsx("option",{value:"search",children:"Search Engine"}),r.jsx("option",{value:"social",children:"Social Media"}),r.jsx("option",{value:"friend",children:"Friend or Colleague"}),r.jsx("option",{value:"blog",children:"Blog or Article"}),r.jsx("option",{value:"ad",children:"Advertisement"}),r.jsx("option",{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{...u("newsletter"),type:"checkbox",id:"newsletter",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"newsletter",className:"ml-2 text-sm text-gray-700",children:"Subscribe to our newsletter for trading tips and updates"})]})]}),o&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[r.jsx(Yr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 text-sm font-medium",children:e?"Sign In Failed":"Authentication Notice"}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:o})]})]}),r.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-black text-white rounded-lg font-semibold hover:bg-gray-900 transition-colors",disabled:i,children:e?"Sign In":"Create Account"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[e?"Don't have an account?":"Already have an account?",r.jsx("button",{onClick:x,className:"ml-1 text-blue-600 hover:text-blue-700 font-medium",children:e?"Sign up":"Sign in"})]})})]})})]})},DL=["RoboForex-ECN"],em=[{id:"live",label:"Live Account",description:"Real money trading",icon:Se,color:"green"}],LL=()=>{const[e,t]=_.useState(!1),[s,n]=_.useState(null),[i,a]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[d,h]=_.useState({isOpen:!1,account:null,password:"",isConnecting:!1}),{register:f,handleSubmit:m,watch:x,setValue:g,formState:{errors:y}}=vo({defaultValues:{accountType:"live",nickname:""}}),p=x("accountType");_.useEffect(()=>{(async()=>{var N;try{const{data:{session:E}}=await H.auth.getSession();if(!((N=E==null?void 0:E.user)!=null&&N.id))return;const{data:M,error:O}=await H.from("user_accounts").select("*").eq("user_id",E.user.id).order("created_at",{ascending:!1});if(O){console.error("❌ Error fetching saved accounts:",O);return}if(M&&M.length>0){const F=M.map(z=>({id:z.id,username:z.mt5_username,server:z.mt5_server,accountType:z.account_type,nickname:z.account_name||`${z.account_type} - ${z.mt5_username}`,isActive:z.is_active}));a(F),l(!1)}}catch(E){console.error("Error fetching saved accounts:",E)}})()},[]);const b=async T=>{var N,E;t(!0),n(null);try{const{data:{session:M}}=await H.auth.getSession();if(!((N=M==null?void 0:M.user)!=null&&N.email))throw new Error("No authenticated user found");const O={email:M.user.email,password:T.password,username:T.username,server:T.server,accountType:T.accountType,nickname:T.nickname},{login:F}=pe.getState();await F(O);const z=((E=em.find(Q=>Q.id===T.accountType))==null?void 0:E.label)||T.accountType;D.success(`Successfully connected to MT5 ${z}!`)}catch(M){console.error("Broker connection failed:",M);const O=M instanceof Error?M.message:"Failed to connect to broker";n(O),D.error("Failed to connect to MT5 broker")}finally{t(!1)}},v=T=>{h({isOpen:!0,account:T,password:"",isConnecting:!1})},w=async()=>{var T;if(!d.account||!d.password){D.error("Please enter your MT5 password");return}h(N=>({...N,isConnecting:!0})),n(null);try{const{data:{session:N}}=await H.auth.getSession();if(!((T=N==null?void 0:N.user)!=null&&T.email))throw new Error("No authenticated user found");await H.from("user_accounts").update({is_active:!1}).eq("user_id",N.user.id),await H.from("user_accounts").update({is_active:!0}).eq("id",d.account.id);const E={email:N.user.email,password:d.password,username:d.account.username,server:d.account.server,accountType:d.account.accountType,nickname:d.account.nickname},{login:M}=pe.getState();await M(E),D.success(`Successfully connected to ${d.account.nickname}!`),a(O=>O.map(F=>({...F,isActive:F.id===d.account.id}))),h({isOpen:!1,account:null,password:"",isConnecting:!1})}catch(N){console.error("Account selection failed:",N);const E=N instanceof Error?N.message:"Failed to connect to broker";n(E),D.error("Failed to connect to selected account")}finally{h(N=>({...N,isConnecting:!1}))}},j=()=>{h({isOpen:!1,account:null,password:"",isConnecting:!1})},k=T=>{const N=T.toLowerCase();return N.includes("invalid account")||N.includes("invalid_account")||N.includes("invalid password")||N.includes("invalid_password")||N.includes("invalid server")||N.includes("invalid_server")||N.includes("authentication failed")||N.includes("login failed")||N.includes("incorrect")||N.includes("wrong")},P=T=>em.find(N=>N.id===T),S=P(p);return r.jsxs("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center p-4",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("img",{src:"/src/images/tradinghub_light_logo.png",alt:"Platform Logo",className:"mx-auto block h-auto w-auto"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Connect Your Broker"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Add your MT5 broker account to start trading"})]}),i.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Accounts"}),r.jsx("button",{onClick:()=>l(!o),className:"flex items-center space-x-1 text-black hover:text-gray-700 text-sm",children:o?"Hide":"Add New Account"})]}),r.jsx("div",{className:"space-y-3",children:i.map(T=>{const N=P(T.accountType),E=(N==null?void 0:N.icon)||Se;return r.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${T.isActive?"border-black bg-gray-100":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>v(T),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${T.isActive?"bg-black":"bg-gray-100"}`,children:r.jsx(E,{className:`w-5 h-5 ${T.isActive?"text-white":"text-gray-500"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:T.nickname}),r.jsxs("p",{className:"text-sm text-gray-500",children:[T.username," • ",T.server]})]})]}),T.isActive&&r.jsx("div",{className:"p-1 rounded-full bg-black",children:r.jsx(Le,{className:"w-4 h-4 text-white"})})]})},T.id)})})]}),(o||i.length===0)&&r.jsxs(r.Fragment,{children:[i.length>0&&r.jsx("div",{className:"border-t border-gray-200 pt-6 mb-6",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Ln,{className:"w-5 h-5 mr-2 text-black"}),"Add New Account"]})}),r.jsxs("form",{onSubmit:m(b),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Account Type"}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:em.map(T=>{const N=T.icon,E=p===T.id;return r.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${E?"border-black bg-gray-100":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[r.jsx("input",{...f("accountType",{required:"Account type is required"}),type:"radio",value:T.id,className:"sr-only",onChange:()=>g("accountType",T.id)}),r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${E?"bg-black":"bg-gray-100"}`,children:r.jsx(N,{className:`w-5 h-5 ${E?"text-white":"text-gray-500"}`})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${E?"text-gray-900":"text-gray-700"}`,children:T.label}),r.jsx("p",{className:`text-xs ${E?"text-gray-600":"text-gray-500"}`,children:T.description})]}),E&&r.jsx("div",{className:"w-5 h-5 rounded-full bg-black flex items-center justify-center",children:r.jsx(Le,{className:"w-3 h-3 text-white"})})]},T.id)})})]}),S&&r.jsx("div",{className:`p-4 rounded-lg border border-${S.color}-200 bg-${S.color}-50`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(S.icon,{className:`w-5 h-5 text-${S.color}-600 flex-shrink-0 mt-0.5`}),r.jsxs("div",{children:[r.jsxs("p",{className:`text-${S.color}-800 text-sm font-medium`,children:[S.label," Selected"]}),r.jsxs("div",{className:`text-${S.color}-700 text-xs mt-1 space-y-1`,children:[p==="live"&&r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"• Uses standard symbols (e.g., EURUSD)"}),r.jsx("p",{children:"• Real money trading with full features"})]}),p==="prop"&&r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"• Uses .raw symbols (e.g., EURUSD.raw)"}),r.jsx("p",{children:"• Funded account with profit sharing"})]})]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Nickname (Optional)"}),r.jsx("input",{...f("nickname"),type:"text",placeholder:"e.g., My Live Account",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A friendly name to identify this account"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Account Number"}),r.jsx("input",{...f("username",{required:"Account number is required",pattern:{value:/^\d+$/,message:"Account number must contain only digits"}}),type:"text",placeholder:"Your broker account number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"}),y.username&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.username.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Password"}),r.jsx("input",{...f("password",{required:"Password is required"}),type:"password",placeholder:"Your broker account password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"}),y.password&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.password.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Server"}),r.jsxs("select",{...f("server",{required:"Server is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",children:[r.jsx("option",{value:"",children:"Select your broker's server"}),DL.map(T=>r.jsx("option",{value:T,children:T},T))]}),y.server&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.server.message})]}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Connection Failed"}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:s}),k(s)&&r.jsxs("div",{className:"mt-3 p-3 bg-red-100 rounded-md",children:[r.jsx("p",{className:"text-red-800 text-xs font-medium mb-2",children:"💡 Troubleshooting Tips:"}),r.jsxs("ul",{className:"text-red-700 text-xs space-y-1",children:[r.jsx("li",{children:"• Double-check your account number (no spaces or special characters)"}),r.jsx("li",{children:"• Verify your password is correct"}),r.jsx("li",{children:"• Ensure you selected the right server for your broker"}),r.jsx("li",{children:"• Make sure your account is active and not suspended"}),r.jsx("li",{children:"• Try logging into MT5 desktop app first to verify credentials"})]}),r.jsxs("button",{type:"button",onClick:()=>u(!c),className:"mt-2 text-red-600 hover:text-red-700 text-xs flex items-center space-x-1",children:[r.jsx(Fd,{className:"w-3 h-3"}),r.jsxs("span",{children:[c?"Hide":"Show"," detailed help"]})]})]})]})]})}),c&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Fd,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-800 text-sm font-medium mb-2",children:"How to find your MT5 credentials:"}),r.jsxs("div",{className:"text-blue-700 text-xs space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Account Number:"}),r.jsx("p",{children:"• Found in your broker's welcome email"}),r.jsx("p",{children:'• Visible in MT5 desktop app under "Navigator" → "Accounts"'}),r.jsx("p",{children:"• Usually 6-8 digits (e.g., 12345678)"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Password:"}),r.jsx("p",{children:"• The password you use to log into MT5"}),r.jsx("p",{children:"• If forgotten, contact your broker to reset"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Server:"}),r.jsx("p",{children:"• Found in your broker's setup instructions"}),r.jsx("p",{children:"• Visible in MT5 when connecting"}),r.jsx("p",{children:"• Format: BrokerName-ServerType (e.g., RoboForex-ECN)"})]})]}),r.jsxs("a",{href:"https://www.metatrader5.com/en/download",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700 text-xs",children:[r.jsx(er,{className:"w-3 h-3"}),r.jsx("span",{children:"Download MT5 to verify credentials"})]})]})]})}),r.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-black text-white rounded-lg font-semibold hover:bg-gray-900 transition-colors",disabled:e,children:"Connect"})]})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Your broker credentials are securely stored and encrypted"}),r.jsxs(Wb,{to:"/login",className:"mt-4 inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[r.jsx(rx,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login Page"})]})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("p",{className:"text-xs text-gray-500",children:["Need to create a new account? ",r.jsx(Wb,{to:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign up here"})]})})]}),d.isOpen&&d.account&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(f0,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enter MT5 Password"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Please enter your MT5 password for account: ",r.jsx("br",{}),r.jsx("span",{className:"font-medium",children:d.account.nickname})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Password"}),r.jsx("input",{type:"password",value:d.password,onChange:T=>h(N=>({...N,password:T.target.value})),placeholder:"Enter your MT5 account password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",onKeyPress:T=>{T.key==="Enter"&&w()}})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:j,disabled:d.isConnecting,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),r.jsx("button",{onClick:w,disabled:d.isConnecting||!d.password,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:d.isConnecting?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Connecting..."})]}):"Connect"})]})]})]})})]})},qv=()=>{const[e,t]=_.useState(!1),{login:s,isLoading:n,error:i,clearError:a}=Tc(),o=kt(),{register:l,handleSubmit:c,formState:{errors:u}}=vo(),d=async h=>{try{a(),await s(h),D.success("Successfully logged in as admin!"),o("/admin-dashboard")}catch{D.error("Failed to authenticate as admin")}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(rs,{className:"w-8 h-8 text-purple-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Portal"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Secure administrator access"})]}),r.jsxs("form",{onSubmit:c(d),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Username"}),r.jsx("input",{...l("username",{required:"Username is required"}),type:"text",placeholder:"Enter admin username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"}),u.username&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.username.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{...l("password",{required:"Password is required"}),type:e?"text":"password",placeholder:"Enter admin password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"}),r.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e?r.jsx(x_,{className:"w-5 h-5"}):r.jsx(Pc,{className:"w-5 h-5"})})]}),u.password&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.password.message})]}),i&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[r.jsx(Yr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Authentication Failed"}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:i})]})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Authenticating..."})]}):"Login as Admin"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Authorized personnel only"}),r.jsx("a",{href:"/login",className:"text-sm text-purple-600 hover:text-purple-700 mt-2 inline-block",children:"← Back to User Login"})]})]})})},Ct=[];for(let e=0;e<256;++e)Ct.push((e+256).toString(16).slice(1));function IL(e,t=0){return(Ct[e[t+0]]+Ct[e[t+1]]+Ct[e[t+2]]+Ct[e[t+3]]+"-"+Ct[e[t+4]]+Ct[e[t+5]]+"-"+Ct[e[t+6]]+Ct[e[t+7]]+"-"+Ct[e[t+8]]+Ct[e[t+9]]+"-"+Ct[e[t+10]]+Ct[e[t+11]]+Ct[e[t+12]]+Ct[e[t+13]]+Ct[e[t+14]]+Ct[e[t+15]]).toLowerCase()}let tm;const OL=new Uint8Array(16);function FL(){if(!tm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tm=crypto.getRandomValues.bind(crypto)}return tm(OL)}const UL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yv={randomUUID:UL};function P_(e,t,s){var i;if(Yv.randomUUID&&!e)return Yv.randomUUID();e=e||{};const n=e.random??((i=e.rng)==null?void 0:i.call(e))??FL();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,IL(n)}function Gv(){return"bot_"+P_().replace(/-/g,"")}function sm(e,t){return e.startsWith("XAU")||e.startsWith("XAG")||e.startsWith("US30")||e.startsWith("NAS100")||e.startsWith("SPX500")||e.startsWith("UK100")||e.startsWith("GER30")||e.startsWith("BTC")||e.startsWith("ETH")||e.startsWith("LTC")||e.startsWith("XRP")||e.startsWith("BCH")||e.includes("OIL")?e:t==="prop"&&!e.match(/\.(raw|m|c|pro|ecn|stp)$/i)?e+".raw":e}const Ds=Ah((e,t)=>({positions:[],signals:[],robots:[],availableSymbols:[],adminUsers:[],isLoading:!1,lastPositionsUpdate:null,lastSignalsUpdate:null,autoRefreshInterval:null,autoRefreshIntervalSignals:null,error:null,ordersHistory:[],fetchOrdersHistory:async()=>{try{let s=new Date,n=new Date(s.getFullYear(),s.getMonth(),1),a=(await nt.orderHistory(n.toISOString(),s.toISOString())).orders||[];a&&a.length>0&&e({ordersHistory:a,lastPositionsUpdate:new Date,error:null})}catch(s){console.error("❌ Failed to fetch order history:",s)}},fetchPositions:async()=>{if(await pe.getState().isUserExpired()){e({positions:[],error:"Your account is expired. Only account/robot history is available."}),D.error("Your account is expired. Live trading data is unavailable.");return}try{console.log("🔄 Fetching positions from MT5...");const i=(await nt.getPositions()).filter(l=>l.ticket&&l.ticket>0&&l.symbol&&l.volume>0);console.log(`📊 Valid positions found: ${i.length}`);const o=t().positions.filter(l=>!i.some(c=>c.ticket===l.ticket));o.length>0&&console.log(`🧹 Found ${o.length} positions that are no longer on MT5:`,o.map(l=>`${l.ticket} (${l.symbol})`)),e({positions:i,lastPositionsUpdate:new Date,error:null})}catch(n){let i="Failed to fetch positions";n instanceof Error?(console.error("Failed to fetch positions:",n.message),n.message.includes("Authentication failed")||n.message.includes("Session expired")?(i="Session expired. Please login again.",D.error(i),pe.getState().logout()):(i=n.message,!n.message.includes("timeout")&&!n.message.includes("network")&&console.warn("Position fetch error (not showing toast):",n.message))):console.error("Failed to fetch positions:",n),e({error:i,lastPositionsUpdate:new Date})}},forceRefreshPositions:async()=>{console.log("🔄 Force refreshing positions and account info..."),e({isLoading:!0});try{const s=pe.getState();e({positions:[]}),await Promise.all([t().fetchPositions(),t().fetchOrdersHistory(),s.refreshAccountInfo()]),console.log("✅ Force refresh completed"),D.success("Positions and account info refreshed")}catch(s){console.error("❌ Force refresh failed:",s),D.error("Failed to refresh data")}finally{e({isLoading:!1})}},removeClosedPositionFromCache:s=>{console.log(`🧹 Removing position ${s} from cache`),e(n=>({positions:n.positions.filter(i=>i.ticket!==s)}))},verifyPositionExists:async s=>{try{console.log(`🔍 Verifying if position ${s} still exists on MT5...`);const i=(await nt.getPositions()).some(a=>a.ticket===s);return console.log(`📊 Position ${s} exists on MT5: ${i?"YES":"NO"}`),i}catch(n){return console.error(`❌ Error verifying position ${s}:`,n),!1}},fetchAvailableSymbols:async()=>{try{const s=await nt.getSymbols();e({availableSymbols:s}),s.length>0?console.log(`Loaded ${s.length} symbols from broker:`,s.slice(0,10),"..."):console.warn("No symbols received from broker")}catch(s){console.error("Failed to fetch symbols:",s),e({availableSymbols:["EURUSD","GBPUSD","USDJPY","AUDUSD","USDCAD","NZDUSD","USDCHF","EURJPY","EURGBP","GBPJPY","XAUUSD","XAGUSD","USOIL","UKOIL","US30","US500","NAS100","GER30","UK100","JPN225","BTCUSD","ETHUSD","LTCUSD","XRPUSD","BCHUSD"]}),s instanceof Error&&s.message.includes("Authentication failed")?(D.error("Session expired. Please login again."),pe.getState().logout()):D("Could not load broker symbols. Using common symbols instead.")}},fetchRobots:async()=>{var s;try{const{data:{session:n}}=await H.auth.getSession();if(!((s=n==null?void 0:n.user)!=null&&s.id)){console.warn("No authenticated user found");return}const{credentials:i}=pe.getState(),a=i==null?void 0:i.mt5AccountId;console.log(`🔍 Fetching robots for user ${n.user.id} with MT5 account ID: ${a||"None"}`);let o=H.from("trading_robots").select("*").eq("user_id",n.user.id).order("created_at",{ascending:!1});a&&(o=o.eq("mt5_account_id",a));const{data:l,error:c}=await o;if(c){console.error("Error fetching robots:",c),D.error("Failed to load trading robots");return}const u=(l==null?void 0:l.map(d=>({id:d.id,name:d.name,symbol:d.symbol,isActive:d.is_active||!1,strategy:d.strategy,riskLevel:d.risk_level,maxLotSize:parseFloat(d.max_lot_size),stopLoss:d.stop_loss,takeProfit:d.take_profit,createdAt:d.created_at,botToken:d.bot_token||Gv(),mt5AccountId:d.mt5_account_id,performance:{totalTrades:d.total_trades||0,winRate:parseFloat(d.win_rate)||0,profit:parseFloat(d.profit)||0},userId:d.userId})))||[];e({robots:u}),console.log(`Loaded ${u.length} robots from database for MT5 account: ${a||"None"}`),await t().updateRobotPerformanceFromSignals()}catch(n){console.error("Error fetching robots:",n),D.error("Failed to load trading robots")}},fetchAllUsersWithTokens:async()=>{try{console.log("🔄 Fetching all users with token data for admin dashboard...");const{data:s,error:n}=await H.auth.admin.listUsers();if(n){console.error("❌ Error fetching users:",n);const{data:c,error:u}=await H.from("user_tokens").select(`
            user_id,
            balance,
            earned,
            spent,
            created_at
          `);if(u){console.error("❌ Error fetching token users:",u),D.error("Failed to load user data");return}const d=(c==null?void 0:c.map(h=>({id:h.user_id,email:"Unknown",created_at:h.created_at,tokens:{balance:h.balance,earned:h.earned,spent:h.spent}})))||[];e({adminUsers:d}),console.log(`✅ Loaded ${d.length} users from token data`);return}const i=s.users.map(c=>c.id),{data:a,error:o}=await H.from("user_tokens").select("*").in("user_id",i);o&&console.error("❌ Error fetching token data:",o);const l=s.users.map(c=>{const u=a==null?void 0:a.find(d=>d.user_id===c.id);return{id:c.id,email:c.email||"No email",created_at:c.created_at,last_sign_in_at:c.last_sign_in_at,tokens:u?{balance:u.balance,earned:u.earned,spent:u.spent}:null}});e({adminUsers:l}),console.log(`✅ Loaded ${l.length} users with token data for admin dashboard`)}catch(s){console.error("❌ Error fetching all users with tokens:",s),D.error("Failed to load admin data")}},fetchInitialSignals:async()=>{var n;if(await pe.getState().isUserExpired()){e({signals:[],error:"Your account is expired. Only account/robot history is available."}),D.error("Your account is expired. Live signals are unavailable.");return}try{const{data:{session:i}}=await H.auth.getSession();if(!((n=i==null?void 0:i.user)!=null&&n.id)){console.warn("No authenticated user found for signals fetch");return}const{data:a,error:o}=await H.from("trading_signals").select("*").eq("user_id",i.user.id).order("created_at",{ascending:!1}).limit(50);if(o){console.error("Error fetching signals:",o);return}const l=(a==null?void 0:a.map(c=>({id:c.id,symbol:c.symbol,action:c.action,volume:parseFloat(c.volume),price:c.price?parseFloat(c.price):void 0,stopLoss:c.stop_loss?parseFloat(c.stop_loss):void 0,takeProfit:c.take_profit?parseFloat(c.take_profit):void 0,timestamp:c.created_at,source:c.source,botToken:c.bot_token,ticket:c.ticket,profitLoss:c.profit_loss?parseFloat(c.profit_loss):void 0})))||[];e({signals:l,lastSignalsUpdate:new Date}),console.log(`📊 Fetched ${l.length} signals for user ${i.user.id}`),await t().updateRobotPerformanceFromSignals()}catch(i){console.error("Error fetching initial signals:",i)}},subscribeToSignals:()=>{const s=H.channel("trading_signals").on("postgres_changes",{event:"INSERT",schema:"public",table:"trading_signals"},n=>{const i=n.new,a={id:i.id,symbol:i.symbol,action:i.action,volume:parseFloat(i.volume),price:i.price?parseFloat(i.price):void 0,stopLoss:i.stop_loss?parseFloat(i.stop_loss):void 0,takeProfit:i.take_profit?parseFloat(i.take_profit):void 0,timestamp:i.created_at,source:i.source,botToken:i.bot_token,ticket:i.ticket,profitLoss:i.profit_loss?parseFloat(i.profit_loss):void 0};e(o=>({signals:[a,...o.signals.slice(0,49)],lastSignalsUpdate:new Date})),a.action!=="CLOSE"?D.success(`New ${a.action} signal received for ${a.symbol} - Auto-executed`):console.log(`📊 Close signal received for ${a.symbol}`),t().updateRobotPerformanceFromSignals()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"trading_signals"},n=>{const i=n.new;e(a=>({signals:a.signals.map(o=>o.id===i.id?{...o,timestamp:i.created_at,profitLoss:i.profit_loss?parseFloat(i.profit_loss):void 0}:o),lastSignalsUpdate:new Date})),t().updateRobotPerformanceFromSignals()}).subscribe();return()=>{H.removeChannel(s)}},addSignal:s=>{e(n=>({signals:[s,...n.signals.slice(0,99)],lastSignalsUpdate:new Date})),t().updateRobotPerformanceFromSignals()},executeSignal:async s=>{var i,a;if(await pe.getState().isUserExpired())return D.error("Your account is expired. You cannot execute trades or signals."),!1;try{console.log("🔄 Executing signal:",s);const{data:{session:o}}=await H.auth.getSession();if(!((i=o==null?void 0:o.user)!=null&&i.id))return D.error("You must be logged in to execute trades"),!1;const c=(a=pe.getState().accountInfo)==null?void 0:a.accountType;console.log(`🏦 Account type: ${c}`);const{data:u,error:d}=await H.from("trading_signals").insert({user_id:o.user.id,symbol:s.symbol,action:s.action,volume:s.volume,price:s.price,stop_loss:s.stopLoss,take_profit:s.takeProfit,source:s.source||"manual",status:"pending",bot_token:s.botToken,ticket:s.ticket}).select().single();if(d)return console.error("Error saving signal:",d),D.error("Failed to save signal"),!1;let h,f=!1;if(s.action==="CLOSE")if(s.ticket)console.log(`Closing specific position with ticket ${s.ticket}`),await t().verifyPositionExists(s.ticket)?(f=await t().forceClosePosition(s.ticket),h={retcode:f?10009:10004,comment:f?`Closed position ${s.ticket}`:`Failed to close position ${s.ticket}`}):(console.log(`⚠️ Position ${s.ticket} not found or already closed`),h={retcode:10009,comment:"Position already closed or not found"},f=!0);else{const g=t().positions.filter(y=>y.symbol===sm(s.symbol,c));if(g.length===0)console.log(`No open positions found for ${s.symbol} to close`),h={retcode:10009,comment:"No positions to close"},f=!0;else{console.log(`Closing ${g.length} positions for ${s.symbol}`);let y=0;for(const p of g)await t().forceClosePosition(p.ticket,p.volume)&&y++;f=y>0,h={retcode:f?10009:10004,comment:f?`Closed ${y} of ${g.length} positions`:"Failed to close positions"}}}else{let x=sm(s.symbol,c);x!==s.symbol&&console.log(`🔄 Symbol adjusted for ${c} account: "${s.symbol}" -> "${x}"`),h=await nt.sendOrder({symbol:x,action:s.action,volume:s.volume,price:s.price,sl:s.stopLoss,tp:s.takeProfit}),f=h.retcode===10009}console.log("📥 Signal execution result:",h);const m={status:f?"executed":"failed",executed_at:f?new Date().toISOString():null};if(f&&h.profit!==void 0&&(m.profit_loss=h.profit,console.log(`✅ Adding profit_loss to signal: ${h.profit}`)),await H.from("trading_signals").update(m).eq("id",u.id),f){const x={id:u.id,symbol:s.symbol,action:s.action,volume:s.volume,price:s.price,stopLoss:s.stopLoss,takeProfit:s.takeProfit,timestamp:u.created_at,source:s.source||"manual",botToken:s.botToken,ticket:s.ticket,profitLoss:h.profit!==void 0?h.profit:void 0};if(t().addSignal(x),await t().refreshAfterTrade(),s.action==="CLOSE")s.ticket?D.success(`Close signal executed successfully for position #${s.ticket}`):D.success(`Close signal executed successfully for ${s.symbol}`);else{let g=sm(s.symbol,c);const y=g!==s.symbol?`${s.symbol} (${g})`:s.symbol;D.success(`${s.action} order executed successfully for ${y}`)}return s.botToken&&t().robots.find(y=>y.botToken===s.botToken)&&await t().updateRobotPerformanceFromSignals(),!0}else{console.error("Signal execution failed:",h);const x=s.action==="CLOSE"?"close positions":`execute ${s.action} order`;return D.error(`Failed to ${x} for ${s.symbol}: ${h.comment||"Unknown error"}`),!1}}catch(o){return console.error("Error executing signal:",o),o instanceof Error?o.message.includes("Authentication failed")||o.message.includes("Session expired")?(D.error("Session expired. Please login again."),pe.getState().logout()):D.error(`Failed to execute signal: ${o.message}`):D.error("Failed to execute signal"),!1}},closePosition:async s=>{if(await pe.getState().isUserExpired())return D.error("Your account is expired. You cannot close positions."),!1;try{if(console.log("🔄 Closing position:",s),t().removeClosedPositionFromCache(s),!await t().verifyPositionExists(s))return console.log(`⚠️ Position ${s} not found on MT5 - already closed`),D.success(`Position ${s} is already closed`),await t().forceRefreshPositions(),!0;const a=await nt.closePosition(s);console.log("📥 Close position result:",a);const o=a.retcode===10009;if(o){if(await t().refreshAfterTrade(),D.success(`Position ${s} closed successfully`),a.profit!==void 0){const{data:l}=await H.from("trading_signals").select("*").eq("ticket",s).order("created_at",{ascending:!1}).limit(1);l&&l.length>0&&(await H.from("trading_signals").update({profit_loss:a.profit}).eq("id",l[0].id),console.log(`✅ Updated signal ${l[0].id} with profit_loss: ${a.profit}`))}}else console.error("Close position failed:",a),D.error(`Failed to close position ${s}: ${a.comment||"Unknown error"}`),await t().forceRefreshPositions();return o}catch(i){if(i instanceof Error){if(i.message.includes("position not found")||i.message.includes("already closed")||i.message.includes("POSITION_NOT_EXISTS"))return console.log(`✅ Position ${s} was already closed`),D.success(`Position ${s} was already closed`),await t().forceRefreshPositions(),!0;i.message.includes("Authentication failed")||i.message.includes("Session expired")?(D.error("Session expired. Please login again."),pe.getState().logout()):D.error(`Failed to close position ${s}: ${i.message}`),await t().forceRefreshPositions()}else console.error("Failed to close position:",i),D.error(`Failed to close position ${s}`),await t().forceRefreshPositions();return!1}},forceClosePosition:async(s,n)=>{if(await pe.getState().isUserExpired())return D.error("Your account is expired. You cannot close positions."),!1;try{console.log(`🔄 Force closing position ${s} with enhanced volume detection...`),t().removeClosedPositionFromCache(s);const a=await nt.closePosition(s,n);if(a.retcode===10009){if(console.log(`✅ Position ${s} closed successfully using ${a.formatDescription||"auto-detected format"}`),await t().refreshAfterTrade(),D.success(`Position ${s} closed successfully`),a.profit!==void 0){const{data:o}=await H.from("trading_signals").select("*").eq("ticket",s).order("created_at",{ascending:!1}).limit(1);o&&o.length>0&&(await H.from("trading_signals").update({profit_loss:a.profit}).eq("id",o[0].id),console.log(`✅ Updated signal ${o[0].id} with profit_loss: ${a.profit}`))}return!0}else return console.error(`❌ Failed to close position ${s}:`,a),D.error(`Failed to close position ${s}: ${a.comment||"Unknown error"}`),await t().forceRefreshPositions(),!1}catch(a){if(console.error(`❌ Force close failed for position ${s}:`,a),a instanceof Error){if(a.message.includes("position not found")||a.message.includes("already closed")||a.message.includes("POSITION_NOT_EXISTS"))return console.log(`✅ Position ${s} was already closed`),D.success(`Position ${s} was already closed`),await t().forceRefreshPositions(),!0;D.error(`Failed to close position ${s}: ${a.message}`)}else D.error(`Failed to close position ${s}`);return await t().forceRefreshPositions(),!1}},closeAllPositions:async()=>{if(await pe.getState().isUserExpired())return D.error("Your account is expired. You cannot close positions."),!1;const{positions:n}=t();if(n.length===0)return D("No positions to close"),!1;let i=0;const a=n.length;for(const o of n)await t().forceClosePosition(o.ticket,o.volume)&&i++;return i>0?(D.success(`Closed ${i} of ${a} positions`),!0):(D.error("Failed to close any positions"),!1)},closeAllProfitablePositions:async()=>{if(await pe.getState().isUserExpired())return D.error("Your account is expired. You cannot close positions."),!1;const{positions:n}=t(),i=n.filter(l=>l.profit>0);if(i.length===0)return D("No profitable positions to close"),!1;let a=0;const o=i.length;for(const l of i)await t().forceClosePosition(l.ticket,l.volume)&&a++;return a>0?(D.success(`Closed ${a} of ${o} profitable positions`),!0):(D.error("Failed to close any profitable positions"),!1)},closeAllLosingPositions:async()=>{if(await pe.getState().isUserExpired())return D.error("Your account is expired. You cannot close positions."),!1;const{positions:n}=t(),i=n.filter(l=>l.profit<0);if(i.length===0)return D("No losing positions to close"),!1;let a=0;const o=i.length;for(const l of i)await t().forceClosePosition(l.ticket,l.volume)&&a++;return a>0?(D.success(`Closed ${a} of ${o} losing positions`),!0):(D.error("Failed to close any losing positions"),!1)},createRobot:async s=>{var i;if(await pe.getState().isUserExpired())return D.error("Your account is expired. You cannot create robots."),null;try{const{data:{session:a}}=await H.auth.getSession();if(!((i=a==null?void 0:a.user)!=null&&i.id))return D.error("You must be logged in to create a robot"),null;const{allowed:o,reason:l}=await Tc.getState().enforceUserLimits(a.user.id,"robot");if(!o)return D.error(l||"You are not allowed to create more robots."),null;const{credentials:c}=pe.getState(),u=c==null?void 0:c.mt5AccountId;if(!u)return console.warn("No active MT5 account ID found when creating robot"),D.error("No active MT5 account found. Please reconnect your broker."),null;const d=Gv(),h={user_id:a.user.id,mt5_account_id:u,name:s.name,symbol:s.symbol,strategy:s.strategy,risk_level:s.riskLevel,max_lot_size:s.maxLotSize,stop_loss:s.stopLoss,take_profit:s.takeProfit,is_active:s.isActive||!1,bot_token:d,total_trades:0,win_rate:0,profit:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("🤖 Creating new robot with data:",{...h,mt5_account_id:u});debugger;const{data:f,error:m}=await H.from("trading_robots").insert(h).select().single();if(m)return console.error("Error creating robot:",m),D.error("Failed to create robot: "+m.message),null;const x={id:f.id,name:f.name,symbol:f.symbol,isActive:f.is_active,strategy:f.strategy,riskLevel:f.risk_level,maxLotSize:parseFloat(f.max_lot_size),stopLoss:f.stop_loss,takeProfit:f.take_profit,createdAt:f.created_at,botToken:f.bot_token,mt5AccountId:f.mt5_account_id,performance:{totalTrades:f.total_trades||0,winRate:parseFloat(f.win_rate)||0,profit:parseFloat(f.profit)||0},userId:f.userId};e(y=>({robots:[x,...y.robots]}));const g=x.symbol||"All Symbols";return D.success(`Robot "${x.name}" created successfully for ${g}`),x}catch(a){return console.error("Error creating robot:",a),D.error("Failed to create robot"),null}},toggleRobot:async s=>{try{if(await pe.getState().isUserExpired()){D.error("Your account is expired. Please renew your subscription to enable or start robots.");return}const i=t().robots.find(d=>d.id===s);if(!i){D.error("Robot not found");return}const{credentials:a}=pe.getState(),o=a==null?void 0:a.mt5AccountId;if(!o){console.warn("No active MT5 account ID found when toggling robot"),D.error("No active MT5 account found. Please reconnect your broker.");return}const l=!i.isActive;console.log(`🤖 CRITICAL: Toggling robot "${i.name}" from ${i.isActive?"ACTIVE":"INACTIVE"} to ${l?"ACTIVE":"INACTIVE"}`);const{error:c}=await H.from("trading_robots").update({is_active:l,updated_at:new Date().toISOString()}).eq("id",s).eq("mt5_account_id",o);if(c){console.error("❌ Error toggling robot in database:",c),D.error("Failed to update robot status");return}console.log(`✅ Robot "${i.name}" successfully updated in database to ${l?"ACTIVE":"INACTIVE"}`),e(d=>({robots:d.robots.map(h=>h.id===s?{...h,isActive:l}:h)}));const u=l?"activated":"deactivated";D.success(`Robot "${i.name}" ${u} successfully`),console.log(`🔍 Robot "${i.name}" current state in UI: ${l?"ACTIVE":"INACTIVE"}`)}catch(n){console.error("❌ Error toggling robot:",n),D.error("Failed to update robot status")}},deleteRobot:async s=>{try{const n=t().robots.find(l=>l.id===s);if(!n){D.error("Robot not found");return}const{credentials:i}=pe.getState(),a=i==null?void 0:i.mt5AccountId;if(!a){console.warn("No active MT5 account ID found when deleting robot"),D.error("No active MT5 account found. Please reconnect your broker.");return}const{error:o}=await H.from("trading_robots").delete().eq("id",s).eq("mt5_account_id",a);if(o){console.error("Error deleting robot:",o),D.error("Failed to delete robot");return}e(l=>({robots:l.robots.filter(c=>c.id!==s)})),D.success(`Robot "${n.name}" deleted successfully`)}catch(n){console.error("Error deleting robot:",n),D.error("Failed to delete robot")}},updateRobotPerformance:async(s,n)=>{var i;try{const{data:{session:a}}=await H.auth.getSession();if(!((i=a==null?void 0:a.user)!=null&&i.id)){console.warn("No authenticated user found");return}const{credentials:o}=pe.getState(),l=o==null?void 0:o.mt5AccountId;if(!l){console.warn("No active MT5 account ID found when updating robot performance");return}if(!t().robots.find(h=>h.id===s)){console.warn(`Robot with ID ${s} not found`);return}const u={};n.totalTrades!==void 0&&(u.total_trades=n.totalTrades),n.winRate!==void 0&&(u.win_rate=n.winRate),n.profit!==void 0&&(u.profit=n.profit),u.updated_at=new Date().toISOString();const{error:d}=await H.from("trading_robots").update(u).eq("id",s).eq("mt5_account_id",l);if(d){console.error("Error updating robot performance:",d);return}e(h=>({robots:h.robots.map(f=>f.id===s?{...f,performance:{...f.performance,...n}}:f)})),console.log(`Updated performance for robot ${s}:`,n)}catch(a){console.error("Error updating robot performance:",a)}},getRobotSignalStats:async s=>{var n;try{const{data:{session:i}}=await H.auth.getSession();if(!((n=i==null?void 0:i.user)!=null&&n.id))return console.warn("No authenticated user found"),{totalTrades:0,winCount:0,lossCount:0,profit:0};const a=t().robots.find(g=>g.id===s);if(!a)return console.warn(`Robot with ID ${s} not found`),{totalTrades:0,winCount:0,lossCount:0,profit:0};const{data:o,error:l}=await H.from("trading_signals").select("*").eq("user_id",i.user.id).eq("bot_token",a.botToken).order("created_at",{ascending:!1});if(l)return console.error("Error fetching robot signals:",l),{totalTrades:0,winCount:0,lossCount:0,profit:0};if(!o||o.length===0)return{totalTrades:0,winCount:0,lossCount:0,profit:0};const u=o.filter(g=>g.action==="BUY"||g.action==="SELL").length;let d=0,h=0;const f=o.filter(g=>g.profit_loss!==null&&g.profit_loss!==void 0);for(const g of f){const y=parseFloat(g.profit_loss);d+=y,y>0&&h++}const m=h,x=f.length-m;return{totalTrades:u,winCount:m,lossCount:x,profit:d}}catch(i){return console.error("Error getting robot signal stats:",i),{totalTrades:0,winCount:0,lossCount:0,profit:0}}},updateRobotPerformanceFromSignals:async()=>{try{const{robots:s}=t();if(s.length===0)return;console.log(`🔄 Updating performance for ${s.length} robots based on actual signals`);for(const n of s){if(!n.isActive)continue;const i=await t().getRobotSignalStats(n.id),a=i.totalTrades>0?i.winCount/i.totalTrades*100:0;await t().updateRobotPerformance(n.id,{totalTrades:i.totalTrades,winRate:a,profit:i.profit})}console.log("✅ Robot performance updated from signals")}catch(s){console.error("Error updating robot performance from signals:",s)}},startAutoRefresh:()=>{t().stopAutoRefresh();const s=setInterval(()=>{t().fetchPositions(),t().fetchOrdersHistory(),t().updateRobotPerformanceFromSignals()},1e3);e({autoRefreshInterval:s})},stopAutoRefresh:()=>{const{autoRefreshInterval:s}=t();s&&(clearInterval(s),e({autoRefreshInterval:null}))},startSignalsAutoRefresh:()=>{t().stopSignalsAutoRefresh();const s=setInterval(()=>{t().fetchInitialSignals()},1e4);e({autoRefreshIntervalSignals:s}),console.log("🔄 Started signals auto-refresh (every 10 seconds)")},stopSignalsAutoRefresh:()=>{const{autoRefreshIntervalSignals:s}=t();s&&(clearInterval(s),e({autoRefreshIntervalSignals:null}),console.log("⏹️ Stopped signals auto-refresh"))},refreshAfterTrade:async()=>{const s=pe.getState();console.log("🔄 Refreshing after trade execution..."),e({positions:[]}),await Promise.all([t().fetchPositions(),t().fetchOrdersHistory(),s.refreshAccountInfo()]),console.log("✅ Post-trade refresh completed")}}));function dx(e){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dx(e)}function vn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Bt(e){vn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||dx(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var $L={};function BL(){return $L}function Kv(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Xu(e,t){vn(2,arguments);var s=Bt(e),n=Bt(t),i=s.getTime()-n.getTime();return i<0?-1:i>0?1:i}function zL(e,t){vn(2,arguments);var s=Bt(e),n=Bt(t),i=s.getFullYear()-n.getFullYear(),a=s.getMonth()-n.getMonth();return i*12+a}function VL(e,t){return vn(2,arguments),Bt(e).getTime()-Bt(t).getTime()}var HL={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},WL="trunc";function qL(e){return HL[WL]}function YL(e){vn(1,arguments);var t=Bt(e);return t.setHours(23,59,59,999),t}function GL(e){vn(1,arguments);var t=Bt(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function KL(e){vn(1,arguments);var t=Bt(e);return YL(t).getTime()===GL(t).getTime()}function XL(e,t){vn(2,arguments);var s=Bt(e),n=Bt(t),i=Xu(s,n),a=Math.abs(zL(s,n)),o;if(a<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);var l=Xu(s,n)===-i;KL(Bt(e))&&a===1&&Xu(e,n)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function JL(e,t,s){vn(2,arguments);var n=VL(e,t)/1e3;return qL()(n)}var QL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZL=function(t,s,n){var i,a=QL[t];return typeof a=="string"?i=a:s===1?i=a.one:i=a.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function nm(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):e.defaultWidth,n=e.formats[s]||e.formats[e.defaultWidth];return n}}var eI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nI={date:nm({formats:eI,defaultWidth:"full"}),time:nm({formats:tI,defaultWidth:"full"}),dateTime:nm({formats:sI,defaultWidth:"full"})},rI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iI=function(t,s,n,i){return rI[t]};function Fo(e){return function(t,s){var n=s!=null&&s.context?String(s.context):"standalone",i;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,c=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var aI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hI=function(t,s){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fI={ordinalNumber:hI,era:Fo({values:aI,defaultWidth:"wide"}),quarter:Fo({values:oI,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Fo({values:lI,defaultWidth:"wide"}),day:Fo({values:cI,defaultWidth:"wide"}),dayPeriod:Fo({values:uI,defaultWidth:"wide",formattingValues:dI,defaultFormattingWidth:"wide"})};function Uo(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pI(l,function(h){return h.test(o)}):mI(l,function(h){return h.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=s.valueCallback?s.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function mI(e,t){for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return s}function pI(e,t){for(var s=0;s<e.length;s++)if(t(e[s]))return s}function xI(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var gI=/^(\d+)(th|st|nd|rd)?/i,yI=/\d+/i,bI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vI={any:[/^b/i,/^(a|c)/i]},wI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jI={any:[/1/i,/2/i,/3/i,/4/i]},NI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_I={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PI={ordinalNumber:xI({matchPattern:gI,parsePattern:yI,valueCallback:function(t){return parseInt(t,10)}}),era:Uo({matchPatterns:bI,defaultMatchWidth:"wide",parsePatterns:vI,defaultParseWidth:"any"}),quarter:Uo({matchPatterns:wI,defaultMatchWidth:"wide",parsePatterns:jI,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Uo({matchPatterns:NI,defaultMatchWidth:"wide",parsePatterns:kI,defaultParseWidth:"any"}),day:Uo({matchPatterns:SI,defaultMatchWidth:"wide",parsePatterns:_I,defaultParseWidth:"any"}),dayPeriod:Uo({matchPatterns:TI,defaultMatchWidth:"any",parsePatterns:CI,defaultParseWidth:"any"})},EI={code:"en-US",formatDistance:ZL,formatLong:nI,formatRelative:iI,localize:fI,match:PI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function E_(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}function AI(e){return E_({},e)}var Xv=1440,RI=2520,rm=43200,MI=86400;function DI(e,t,s){var n,i;vn(2,arguments);var a=BL(),o=(n=(i=s==null?void 0:s.locale)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:EI;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Xu(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=E_(AI(s),{addSuffix:!!(s!=null&&s.addSuffix),comparison:l}),u,d;l>0?(u=Bt(t),d=Bt(e)):(u=Bt(e),d=Bt(t));var h=JL(d,u),f=(Kv(d)-Kv(u))/1e3,m=Math.round((h-f)/60),x;if(m<2)return s!=null&&s.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,c):h<10?o.formatDistance("lessThanXSeconds",10,c):h<20?o.formatDistance("lessThanXSeconds",20,c):h<40?o.formatDistance("halfAMinute",0,c):h<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):m===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",m,c);if(m<45)return o.formatDistance("xMinutes",m,c);if(m<90)return o.formatDistance("aboutXHours",1,c);if(m<Xv){var g=Math.round(m/60);return o.formatDistance("aboutXHours",g,c)}else{if(m<RI)return o.formatDistance("xDays",1,c);if(m<rm){var y=Math.round(m/Xv);return o.formatDistance("xDays",y,c)}else if(m<MI)return x=Math.round(m/rm),o.formatDistance("aboutXMonths",x,c)}if(x=XL(d,u),x<12){var p=Math.round(m/rm);return o.formatDistance("xMonths",p,c)}else{var b=x%12,v=Math.floor(x/12);return b<3?o.formatDistance("aboutXYears",v,c):b<9?o.formatDistance("overXYears",v,c):o.formatDistance("almostXYears",v+1,c)}}function In(e,t){return vn(1,arguments),DI(e,Date.now(),t)}const LI=({positions:e,onClose:t})=>{const[s,n]=_.useState(""),[i,a]=_.useState("profit"),[o,l]=_.useState("desc"),[c,u]=_.useState("all"),{closePosition:d}=Ds(),h=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(j),f=async j=>{await d(j)},x=[...e.filter(j=>{const k=j.symbol.toLowerCase().includes(s.toLowerCase())||j.ticket.toString().includes(s),P=c==="all"||c==="buy"&&j.type==="Buy"||c==="sell"&&j.type==="Sell";return k&&P})].sort((j,k)=>{if(i==="profit")return o==="desc"?k.profit-j.profit:j.profit-k.profit;if(i==="symbol")return o==="desc"?k.symbol.localeCompare(j.symbol):j.symbol.localeCompare(k.symbol);if(i==="openTime"){const P=new Date(j.openTime).getTime(),S=new Date(k.openTime).getTime();return o==="desc"?S-P:P-S}return 0}),g=e.reduce((j,k)=>j+k.profit,0),y=e.filter(j=>j.profit>0),p=e.filter(j=>j.profit<0),b=y.length>0?y.reduce((j,k)=>j+k.profit,0)/y.length:0,v=p.length>0?p.reduce((j,k)=>j+k.profit,0)/p.length:0,w=j=>{i===j?l(o==="asc"?"desc":"asc"):(a(j),l("desc"))};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Open Positions"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," active positions with ",h(g)," total P&L"]})]})]}),r.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(vs,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"w-5 h-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:"Total Positions"}),r.jsx("p",{className:"text-xl font-bold text-blue-800",children:e.length})]})]})}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tn,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600",children:"Total P&L"}),r.jsx("p",{className:`text-xl font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:h(g)})]})]})}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600",children:"Profitable"}),r.jsxs("p",{className:"text-xl font-bold text-green-600",children:[y.length," (",b>0?h(b):"$0.00",")"]})]})]})}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{className:"w-5 h-5 text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-red-600",children:"Losing"}),r.jsxs("p",{className:"text-xl font-bold text-red-600",children:[p.length," (",v<0?h(v):"$0.00",")"]})]})]})})]})}),r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"relative w-full md:w-auto md:flex-1",children:[r.jsx(Ji,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by symbol or ticket...",value:s,onChange:j=>n(j.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(g_,{className:"w-4 h-4 text-gray-500"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>u("all"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),r.jsx("button",{onClick:()=>u("buy"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c==="buy"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Buy"}),r.jsx("button",{onClick:()=>u("sell"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c==="sell"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Sell"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gL,{className:"w-4 h-4 text-gray-500"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsxs("button",{onClick:()=>w("profit"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i==="profit"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Profit ",i==="profit"&&(o==="desc"?"↓":"↑")]}),r.jsxs("button",{onClick:()=>w("symbol"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i==="symbol"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Symbol ",i==="symbol"&&(o==="desc"?"↓":"↑")]}),r.jsxs("button",{onClick:()=>w("openTime"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i==="openTime"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Time ",i==="openTime"&&(o==="desc"?"↓":"↑")]})]})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volume"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit/Loss"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(j=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:j.ticket}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:j.symbol})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.type==="Buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.type})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.volume}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:j.openPrice}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:j.currentPrice||j.openPrice}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`text-sm font-semibold ${j.profit>=0?"text-green-600":"text-red-600"}`,children:h(j.profit)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.openTime?In(new Date(j.openTime),{addSuffix:!0}):"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{onClick:()=>f(j.ticket),className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:`Close position ${j.ticket}`,children:[r.jsx(vs,{className:"w-4 h-4 mr-1"}),"Close"]})})]},j.ticket))})]})}),x.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No positions match your filters"})]}),r.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end",children:r.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})},II=({positions:e})=>{const[t,s]=_.useState(!1),[n,i]=_.useState(0),a=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(c),o=e.reduce((c,u)=>c+u.profit,0);_.useEffect(()=>{if(e.length<=1)return;const c=setInterval(()=>{i(u=>(u+1)%Math.min(e.length,10))},3e3);return()=>clearInterval(c)},[e.length]);const l=e.slice(0,10);return e.length===0?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Open Positions"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx($a,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Live"})]})]}),r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Se,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No open positions"})]})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Open Positions"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Total P&L"}),r.jsx("p",{className:`text-sm font-bold ${o>=0?"text-green-600":"text-red-600"}`,children:a(o)})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Live"})]})]})]})}),r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:l.length>0&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${l[n].type==="Buy"?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:l[n].type==="Buy"?r.jsx(Se,{className:"w-5 h-5"}):r.jsx(Qi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:l[n].symbol}),r.jsxs("p",{className:"text-sm text-gray-500",children:[l[n].type," ",l[n].volume," lots"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:`font-semibold ${l[n].profit>=0?"text-green-600":"text-red-600"}`,children:a(l[n].profit)}),r.jsxs("p",{className:"text-sm text-gray-500",children:["@ ",l[n].currentPrice||l[n].openPrice]})]})]})}),r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50",children:[r.jsx("div",{className:"flex items-center space-x-1",children:l.map((c,u)=>r.jsx("div",{className:`w-2 h-2 rounded-full ${u===n?"bg-blue-500":"bg-gray-300"}`},u))}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",n+1," of ",Math.min(e.length,10)]}),r.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[r.jsx(Pc,{className:"w-4 h-4"}),r.jsx("span",{children:"See All"}),r.jsx(Fa,{className:"w-4 h-4"})]})]})]})]})]}),t&&r.jsx(LI,{positions:e,onClose:()=>s(!1)})]})},OI=()=>{const{signals:e,lastSignalsUpdate:t}=Ds(),s=t&&Date.now()-t.getTime()<1e3;return r.jsxs("div",{className:"bg-[#181818] rounded-xl shadow border border-[#ffa31a] relative overflow-hidden",children:[r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{background:"linear-gradient(120deg, #ffa31a11 0%, #181818 60%)",zIndex:0}}),r.jsxs("div",{className:"p-4 border-b border-[#ffa31a] relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent border-b border-[#ffa31a] pb-1 inline-block tracking-wide",children:"Trading Signals"}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s?r.jsx($a,{className:"w-4 h-4 text-green-400"}):r.jsx($a,{className:"w-4 h-4 text-orange-400"}),r.jsx("span",{className:"text-[#ffa31a] font-medium",children:t?`Updated ${In(t,{addSuffix:!0})}`:"Never updated"}),r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-[#ffa31a] font-semibold",children:"Auto-executed"})]})]}),r.jsx("div",{className:"mt-2 h-0.5 rounded-full bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] opacity-60 w-1/3 mx-auto"})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto relative z-10",children:e.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Qs,{className:"w-8 h-8 text-[#ffa31a] mx-auto mb-4"}),r.jsx("p",{className:"text-[#ffa31a] text-lg font-bold",children:"No signals received"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure your TradingView webhook to start receiving signals"})]}):r.jsx("div",{className:"divide-y divide-[#292929]",children:e.map(n=>r.jsxs("div",{className:"p-4 relative bg-transparent hover:bg-[#232323] transition-colors",children:[r.jsx("div",{className:"absolute top-3 right-3",children:r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg border border-[#ffa31a] text-base ${n.action==="BUY"?"bg-[#181818] border-green-400 text-green-400":n.action==="SELL"?"bg-[#181818] border-red-400 text-red-400":"bg-[#181818] border-[#808080] text-[#ffa31a]"}`,children:n.action==="BUY"?r.jsx(Se,{className:"w-5 h-5"}):n.action==="SELL"?r.jsx(Qi,{className:"w-5 h-5"}):r.jsx(er,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold text-white text-base tracking-wide",children:[n.action," ",r.jsx("span",{className:"text-[#ffa31a]",children:n.symbol})]}),r.jsxs("p",{className:"text-sm text-gray-400 font-medium",children:["Volume: ",r.jsx("span",{className:"text-white font-semibold",children:n.volume})," | Source: ",r.jsx("span",{className:"text-white font-semibold",children:n.source})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-[#ffa31a] rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-[#ffa31a] font-bold tracking-wide",children:"Auto-executed"})]})]}),(n.price||n.stopLoss||n.takeProfit)&&r.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3 text-sm",children:[n.price&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Price"}),r.jsx("p",{className:"font-bold text-white",children:n.price})]}),n.stopLoss&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Stop Loss"}),r.jsx("p",{className:"font-bold text-white",children:n.stopLoss})]}),n.takeProfit&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Take Profit"}),r.jsx("p",{className:"font-bold text-white",children:n.takeProfit})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-3 text-xs text-[#ffa31a]",children:[r.jsx(rr,{className:"w-4 h-4"}),r.jsx("span",{children:In(new Date(n.timestamp),{addSuffix:!0})})]})]},n.id))})})]})};function Yh(e){return!e||typeof e!="string"?(console.warn("getPipValue: Invalid symbol provided, using default pip value"),1e-4):e.includes("XAU")||e.includes("XAG")||e.includes("JPY")||e.includes("US30")||e.includes("NAS100")||e.includes("SPX500")||e.includes("UK100")||e.includes("GER30")?.01:e.includes("BTC")?1:e.includes("ETH")?.1:e.includes("LTC")||e.includes("XRP")||e.includes("BCH")||e.includes("OIL")||e.includes("USOIL")||e.includes("UKOIL")?.01:1e-4}function FI(e){return!e||typeof e!="string"?(console.warn("getPipMultiplier: Invalid symbol provided, using default pip multiplier"),1e4):e.includes("XAU")||e.includes("XAG")||e.includes("JPY")||e.includes("US30")||e.includes("NAS100")||e.includes("SPX500")||e.includes("UK100")||e.includes("GER30")?100:e.includes("BTC")?1:e.includes("ETH")?10:e.includes("LTC")||e.includes("XRP")||e.includes("BCH")||e.includes("OIL")||e.includes("USOIL")||e.includes("UKOIL")?100:1e4}function UI(e,t,s,n,i){const a=Yh(s);let o,l;return o=e-n*a,l=e+i*a,{stopLoss:o,takeProfit:l}}function Bd(e,t){return!t||typeof t!="string"?e.toFixed(5):t.includes("JPY")?e.toFixed(3):t.includes("XAU")||t.includes("XAG")?e.toFixed(2):t.includes("BTC")?e.toFixed(1):t.includes("ETH")||t.includes("US30")||t.includes("NAS100")||t.includes("SPX500")||t.includes("UK100")||t.includes("GER30")||t.includes("OIL")||t.includes("USOIL")||t.includes("UKOIL")?e.toFixed(2):e.toFixed(5)}function $I(e,t,s){const n=t-e,i=FI(s);return n*i}function BI(e,t,s,n){if(!t||e===t)return 0;const i=Yh(n),o=Math.abs(e-t)/i;let l;!n||typeof n!="string"?l=10:n.includes("XAU")?l=1:n.includes("XAG")?l=.5:n.includes("JPY")?l=.9:n.includes("US30")||n.includes("NAS100")?l=1:n.includes("SPX500")?l=.5:n.includes("BTC")||n.includes("ETH")||n.includes("OIL")||n.includes("USOIL")||n.includes("UKOIL")?l=1:l=10;const c=l*s;return o*c}function zI(e,t,s,n,i){if(!n||s===n)return .01;const a=e*(t/100),o=Yh(i),c=Math.abs(s-n)/o;let u;!i||typeof i!="string"?u=10:i.includes("XAU")?u=1:i.includes("XAG")?u=.5:i.includes("JPY")?u=.9:i.includes("US30")||i.includes("NAS100")?u=1:i.includes("SPX500")?u=.5:i.includes("BTC")||i.includes("ETH")||i.includes("OIL")||i.includes("USOIL")||i.includes("UKOIL")?u=1:u=10;const d=a/(c*u);return Math.max(.01,Math.round(d*100)/100)}function lu(e){return!e||typeof e!="string"?"":e.replace(/\.(raw|m|c|pro|ecn|stp)$/i,"")}const VI=({robot:e,onClose:t})=>{var x,g;const[s,n]=_.useState(new Set),[i,a]=_.useState(!1),o=async(y,p)=>{try{await navigator.clipboard.writeText(y),n(b=>new Set(b).add(p)),D.success(`${p} copied to clipboard`),setTimeout(()=>{n(b=>{const v=new Set(b);return v.delete(p),v})},2e3)}catch{D.error(`Failed to copy ${p}`)}},l=(x=e.symbol)!=null&&x.includes("JPY")?150.25:(g=e.symbol)!=null&&g.includes("XAU")?2050.5:1.085,c=UI(l,"BUY",e.symbol||"EURUSD",e.stopLoss,e.takeProfit),u={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},d={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},h={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},f={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},m={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",timestamp:"{{time}}",strategy:"Close specific position",userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken,ticket:12345678};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(ss,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"🎉 Robot Created Successfully!"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Your trading robot is ready with enhanced features"})]})]}),r.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(vs,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"📋 Robot Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Name:"})," ",e.name]}),r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Symbol:"})," ",e.symbol]}),r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Strategy:"})," ",e.strategy]}),r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Risk Level:"})," ",e.riskLevel]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Max Lot Size:"})," ",e.maxLotSize]}),r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Stop Loss:"})," ",e.riskLevel==="STRATEGY"?"Strategy":e.stopLoss+" pips"," "]}),r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Take Profit:"})," ",e.riskLevel==="STRATEGY"?"Strategy":e.takeProfit+" pips"," "]}),r.jsxs("p",{className:"text-blue-700",children:[r.jsx("strong",{children:"Status:"})," ",e.isActive?"🟢 Active":"🔴 Inactive"]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Qs,{className:"w-5 h-5 mr-2 text-green-600"}),"🚀 Ready to Use - Copy This JSON"]}),r.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"Copy this JSON payload and paste it into your TradingView alert message. That's it!"}),r.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:r.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(e.riskLevel==="STRATEGY"?d:u,null,2)})}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("p",{className:"text-sm text-gray-600"}),r.jsxs("button",{onClick:()=>o(JSON.stringify(e.riskLevel==="STRATEGY"?d:u,null,2),"Quick Setup JSON"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.has("Quick Setup JSON")?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{children:s.has("Quick Setup JSON")?"Copied!":"Copy JSON"})]})]})]}),r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"🔗 TradingView Webhook URL"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-white border border-purple-300 rounded-lg p-3 font-mono text-sm text-gray-800 break-all",children:"http://91.98.23.85/api/WebHook/hook"}),r.jsxs("button",{onClick:()=>o("http://91.98.23.85/api/WebHook/hook","Webhook URL"),className:"flex items-center space-x-1 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.has("Webhook URL")?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{children:s.has("Webhook URL")?"Copied":"Copy"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[r.jsx(d0,{className:"w-4 h-4"}),r.jsxs("span",{children:[i?"Hide":"Show"," Advanced Options & Tutorials"]})]}),i&&r.jsxs("div",{className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-yellow-900 font-medium mb-2",children:"🤖 Bot Token (Advanced)"}),r.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"For targeting this specific robot in complex setups"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-white border border-yellow-300 rounded-lg p-2 font-mono text-xs text-gray-800 break-all",children:e.botToken}),r.jsx("button",{onClick:()=>o(e.botToken,"Bot Token"),className:"px-2 py-1 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700 transition-colors",children:s.has("Bot Token")?"Copied":"Copy"})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"📊 BUY Example with Pre-calculated SL/TP"}),r.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:r.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(h,null,2)})}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Pre-calculated SL/TP: ",Bd(c.stopLoss,e.symbol||"EURUSD")," / ",Bd(c.takeProfit,e.symbol||"EURUSD")]}),r.jsx("button",{onClick:()=>o(JSON.stringify(h,null,2),"BUY Example"),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:s.has("BUY Example")?"Copied":"Copy"})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"📊 CLOSE All Positions Example"}),r.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:r.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(f,null,2)})}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Closes all positions for the specified symbol"}),r.jsx("button",{onClick:()=>o(JSON.stringify(f,null,2),"CLOSE Example"),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:s.has("CLOSE Example")?"Copied":"Copy"})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"📊 CLOSE Specific Position Example"}),r.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:r.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(m,null,2)})}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Closes only the position with the specified ticket number"}),r.jsx("button",{onClick:()=>o(JSON.stringify(m,null,2),"CLOSE Specific Example"),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:s.has("CLOSE Specific Example")?"Copied":"Copy"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-blue-800 font-medium mb-2",children:"📚 Tutorials & Documentation"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx(er,{className:"w-4 h-4"}),r.jsx("span",{children:"How to set up TradingView alerts (Coming Soon)"})]}),r.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx(er,{className:"w-4 h-4"}),r.jsx("span",{children:"Advanced robot configuration (Coming Soon)"})]}),r.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx(er,{className:"w-4 h-4"}),r.jsx("span",{children:"Risk management best practices (Coming Soon)"})]})]})]})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-green-800 font-medium mb-2",children:"🧪 Quick Test"}),r.jsx("p",{className:"text-green-700 text-sm mb-3",children:"Create a TradingView alert with the JSON above to test your setup. The system will use your robot's settings for Stop Loss and Take Profit."}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(er,{className:"w-4 h-4 text-green-600"}),r.jsx("a",{href:"https://www.tradingview.com/chart/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800 underline",children:"Open TradingView to create your first alert"})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{onClick:()=>o(JSON.stringify(u,null,2),"Final JSON"),className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"📋 Copy JSON for TradingView"}),r.jsx("button",{onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Done"})]})]})]})})},Jv=[{id:"Scalping",name:"Scalping",description:"Quick trades capturing small price movements",icon:Qs,color:"yellow",characteristics:["High frequency","Small profits","Quick execution"]},{id:"Trend Following",name:"Trend Following",description:"Follow market trends for sustained moves",icon:Se,color:"green",characteristics:["Medium frequency","Trend-based","Momentum driven"]},{id:"Mean Reversion",name:"Mean Reversion",description:"Trade when price deviates from average",icon:Vi,color:"blue",characteristics:["Counter-trend","Statistical edge","Range-bound"]},{id:"Breakout",name:"Breakout",description:"Trade when price breaks key levels",icon:Se,color:"purple",characteristics:["Volatility-based","Level breaks","Momentum"]},{id:"Grid Trading",name:"Grid Trading",description:"Place orders at regular intervals",icon:jL,color:"indigo",characteristics:["Systematic","Range markets","Multiple orders"]}],HI=({data:e,onNext:t,availableSymbols:s})=>{const[n,i]=_.useState(""),[a,o]=_.useState(e.strategy||""),{register:l,handleSubmit:c,watch:u,formState:{errors:d}}=vo({defaultValues:e}),h=u("symbol"),f=s.filter(p=>p.toLowerCase().includes(n.toLowerCase())),m=f.slice(0,50),x=p=>{t({...p,strategy:a})},y=(p=>Jv.find(b=>b.id===p))(a);return r.jsxs("form",{onSubmit:c(x),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Robot Name"}),r.jsx("input",{...l("name",{required:"Robot name is required"}),type:"text",placeholder:"e.g., EURUSD Scalper Pro",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose a descriptive name that helps you identify this robot"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Trading Symbol",s.length>0&&r.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",s.length," available from your broker)"]})]}),s.length>10&&r.jsxs("div",{className:"relative mb-2",children:[r.jsx(Ji,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search symbols...",value:n,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),r.jsxs("select",{...l("symbol",{required:"Symbol is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a symbol"}),m.map(p=>r.jsx("option",{value:p,children:p},p)),f.length>50&&r.jsxs("option",{disabled:!0,children:["... and ",f.length-50," more (refine search)"]})]}),d.symbol&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.symbol.message}),n&&f.length===0&&r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['No symbols found matching "',n,'"']}),s.length===0&&r.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Symbols are being loaded from your broker..."}),h&&r.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($d,{className:"w-4 h-4 text-green-600"}),r.jsxs("p",{className:"text-green-800 text-sm",children:[r.jsx("strong",{children:"Selected:"})," ",h]})]}),r.jsxs("p",{className:"text-green-700 text-xs mt-1",children:["This robot will trade exclusively on ",h," using your chosen strategy"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trading Strategy"}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:Jv.map(p=>{const b=p.icon,v=a===p.id;return r.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${v?`border-${p.color}-500 bg-${p.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"}`,children:[r.jsx("input",{type:"radio",value:p.id,checked:a===p.id,onChange:()=>o(p.id),className:"sr-only"}),r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${v?`bg-${p.color}-100`:"bg-gray-100"}`,children:r.jsx(b,{className:`w-5 h-5 ${v?`text-${p.color}-600`:"text-gray-500"}`})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${v?"text-gray-900":"text-gray-700"}`,children:p.name}),r.jsx("p",{className:`text-xs ${v?"text-gray-600":"text-gray-500"}`,children:p.description}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.characteristics.map((w,j)=>r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v?`bg-${p.color}-100 text-${p.color}-700`:"bg-gray-100 text-gray-600"}`,children:w},j))})]}),v&&r.jsx("div",{className:`w-5 h-5 rounded-full bg-${p.color}-500 flex items-center justify-center`,children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},p.id)})}),!a&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please select a trading strategy"})]}),y&&r.jsx("div",{className:`p-4 rounded-lg border border-${y.color}-200 bg-${y.color}-50`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(y.icon,{className:`w-5 h-5 text-${y.color}-600 flex-shrink-0 mt-0.5`}),r.jsxs("div",{children:[r.jsxs("p",{className:`text-${y.color}-800 text-sm font-medium`,children:[y.name," Strategy Selected"]}),r.jsx("p",{className:`text-${y.color}-700 text-xs mt-1`,children:y.description})]})]})}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{type:"submit",disabled:!a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next: Risk Settings"})})]})},Qv=[{id:"LOW",name:"Conservative",description:"Minimal risk with steady growth",icon:rs,color:"green",characteristics:["Low drawdown","Steady returns","Capital preservation"],recommendedLot:.01,recommendedSL:30,recommendedTP:60},{id:"MEDIUM",name:"Balanced",description:"Moderate risk for balanced returns",icon:Se,color:"blue",characteristics:["Balanced approach","Moderate volatility","Growth focused"],recommendedLot:.05,recommendedSL:50,recommendedTP:100},{id:"HIGH",name:"Aggressive",description:"Higher risk for maximum returns",icon:$d,color:"red",characteristics:["High returns","Higher volatility","Growth aggressive"],recommendedLot:.1,recommendedSL:80,recommendedTP:150},{id:"STRATEGY",name:"Trading View Strategy",description:"Strategy based risk management",icon:$d,color:"yellow",characteristics:["Follows your strategy rules","Dynamic risk management","Optimized for strategy"],recommendedLot:.01,recommendedSL:0,recommendedTP:0}],WI={Scalping:{defaultSL:15,defaultTP:25,description:"Tight stops for quick scalping trades"},"Trend Following":{defaultSL:50,defaultTP:100,description:"Wider stops to ride trends"},"Mean Reversion":{defaultSL:40,defaultTP:60,description:"Moderate stops for reversion trades"},Breakout:{defaultSL:60,defaultTP:120,description:"Wider stops for breakout momentum"},"Grid Trading":{defaultSL:100,defaultTP:50,description:"Large stops with smaller targets"}},qI=({data:e,onNext:t,onBack:s,strategy:n,symbol:i})=>{const[a,o]=Pe.useState(e.riskLevel||"MEDIUM"),{register:l,handleSubmit:c,watch:u,setValue:d,formState:{errors:h}}=vo({defaultValues:e}),f=u(),m=WI[n];Pe.useEffect(()=>{if(a){const p=Qv.find(b=>b.id===a);p&&(d("maxLotSize",p.recommendedLot),d("stopLoss",(m==null?void 0:m.defaultSL)||p.recommendedSL),d("takeProfit",(m==null?void 0:m.defaultTP)||p.recommendedTP))}},[a,d,m]);const x=p=>{t({...p,riskLevel:a})},y=(()=>{if(!f.maxLotSize||!f.stopLoss)return null;const p=i.includes("JPY")||i.includes("XAU")||i.includes("XAG")?.01:1e-4,b=f.stopLoss*p*1e5,v=f.maxLotSize*b;return{riskPerLot:b,totalRisk:v,riskRewardRatio:f.takeProfit/f.stopLoss}})();return r.jsxs("form",{onSubmit:c(x),className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-blue-800 font-medium mb-2",children:["Strategy: ",n]}),r.jsx("p",{className:"text-blue-700 text-sm",children:(m==null?void 0:m.description)||"Configure risk parameters for your trading strategy"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Risk Profile"}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:Qv.map(p=>{const b=p.icon,v=a===p.id;return r.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${v?`border-${p.color}-500 bg-${p.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"}`,children:[r.jsx("input",{type:"radio",value:p.id,checked:a===p.id,onChange:()=>o(p.id),className:"sr-only"}),r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${v?`bg-${p.color}-100`:"bg-gray-100"}`,children:r.jsx(b,{className:`w-5 h-5 ${v?`text-${p.color}-600`:"text-gray-500"}`})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${v?"text-gray-900":"text-gray-700"}`,children:p.name}),r.jsx("p",{className:`text-xs ${v?"text-gray-600":"text-gray-500"}`,children:p.description}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.characteristics.map((w,j)=>r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v?`bg-${p.color}-100 text-${p.color}-700`:"bg-gray-100 text-gray-600"}`,children:w},j))})]}),v&&r.jsx("div",{className:`w-5 h-5 rounded-full bg-${p.color}-500 flex items-center justify-center`,children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},p.id)})}),!a&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please select a risk profile"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Lot Size"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{...l("maxLotSize",{required:"Max lot size is required",min:{value:.01,message:"Minimum 0.01"},max:{value:100,message:"Maximum 100"}}),type:"number",step:"0.01",placeholder:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(f_,{className:"w-4 h-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),h.maxLotSize&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.maxLotSize.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum position size per trade"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stop Loss (pips)"}),r.jsx("input",{...l("stopLoss",{required:"Stop loss is required",min:{value:1,message:"Minimum 1 pip"}}),type:"number",placeholder:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),h.stopLoss&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.stopLoss.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum loss per trade"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Take Profit (pips)"}),r.jsx("input",{...l("takeProfit",{required:"Take profit is required",min:{value:1,message:"Minimum 1 pip"}}),type:"number",placeholder:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),h.takeProfit&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.takeProfit.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Target profit per trade"})]})]}),y&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-gray-800 font-medium mb-3 flex items-center",children:[r.jsx(tn,{className:"w-4 h-4 mr-2"}),"Risk Analysis"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Risk/Reward Ratio"}),r.jsxs("p",{className:`font-semibold ${y.riskRewardRatio>=2?"text-green-600":y.riskRewardRatio>=1.5?"text-yellow-600":"text-red-600"}`,children:["1:",y.riskRewardRatio.toFixed(1)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Max Risk per Trade"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:["$",y.totalRisk.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Strategy Fit"}),r.jsx("p",{className:"font-semibold text-blue-600",children:n})]})]}),y.riskRewardRatio<1.5&&r.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Js,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"Risk/Reward Warning"}),r.jsx("p",{className:"text-yellow-700 text-xs",children:"Consider increasing take profit or decreasing stop loss for better risk/reward ratio"})]})]})})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx("button",{type:"button",onClick:s,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),r.jsx("button",{type:"submit",disabled:!a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next: Review & Create"})]})]})},YI=e=>{switch(e){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-blue-600 bg-blue-100";case"HIGH":return"text-red-600 bg-red-100";case"STRATEGY":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},GI=({data:e,onSubmit:t,onBack:s,formData:n,isCreating:i})=>{const[a,o]=Pe.useState(e.isActive||!1),l=()=>{t({isActive:a})},c=n.symbol.includes("JPY")||n.symbol.includes("XAU")||n.symbol.includes("XAG")?.01:1e-4,u=n.maxLotSize*n.stopLoss*c*1e5,d=n.takeProfit/n.stopLoss;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Le,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Review Your Robot"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Verify all settings before creating your trading robot"})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(ss,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:n.name}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx($d,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:n.symbol})]}),r.jsx("div",{className:"flex items-center space-x-1",children:r.jsx("span",{className:"text-gray-700",children:n.strategy})}),r.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${YI(n.riskLevel)}`,children:[n.riskLevel," RISK"]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[r.jsx(cx,{className:"w-4 h-4 mr-2"}),"Trading Parameters"]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Max Lot Size:"}),r.jsx("span",{className:"font-medium",children:n.maxLotSize})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Stop Loss:"}),r.jsx("span",{className:"font-medium",children:n.riskLevel==="STRATEGY"?"Strategy":n.stopLoss+" pips"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Take Profit:"}),r.jsx("span",{className:"font-medium",children:n.riskLevel==="STRATEGY"?"Strategy":n.takeProfit+" pips"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Risk/Reward:"}),r.jsx("span",{className:`font-medium ${n.riskLevel==="STRATEGY"||d>=2?"text-green-600":d>=1.5?"text-yellow-600":"text-red-600"}`,children:n.riskLevel==="STRATEGY"?"Strategy":"1:"+d.toFixed(1)})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[r.jsx(rs,{className:"w-4 h-4 mr-2"}),"Risk Analysis"]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Risk Profile:"}),r.jsx("span",{className:`font-medium ${n.riskLevel==="STRATEGY"||n.riskLevel==="LOW"?"text-green-600":n.riskLevel==="MEDIUM"?"text-blue-600":"text-red-600"}`,children:n.riskLevel==="STRATEGY"?"Strategy":n.riskLevel==="LOW"?"Conservative":n.riskLevel==="MEDIUM"?"Balanced":"Aggressive"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Max Risk/Trade:"}),r.jsxs("span",{className:"font-medium",children:["$",u.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Strategy:"}),r.jsx("span",{className:"font-medium",children:n.strategy})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Symbol Type:"}),r.jsx("span",{className:"font-medium",children:n.symbol.includes("JPY")?"JPY Pair":n.symbol.includes("XAU")?"Gold":n.symbol.includes("XAG")?"Silver":"Major Pair"})]})]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Js,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"text-yellow-800 font-medium",children:"Robot Activation"}),r.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Choose whether to activate your robot immediately after creation. You can always change this later from the dashboard."}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:a,onChange:h=>o(h.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-yellow-800",children:"Start robot immediately after creation"})]})})]})]})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h5",{className:"text-blue-800 font-medium mb-2",children:"📋 What happens next?"}),r.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[r.jsx("li",{children:"• Your robot will be created with a unique bot token for TradingView integration"}),r.jsx("li",{children:"• You'll receive the exact JSON payload for your TradingView alerts"}),r.jsx("li",{children:"• The robot will use enhanced pip calculation for accurate SL/TP"}),r.jsx("li",{children:"• All trades will be executed automatically when signals are received"}),a&&r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Robot will be ACTIVE and ready to trade immediately"})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx("button",{type:"button",onClick:s,disabled:i,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Back"}),r.jsx("button",{onClick:l,disabled:i,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:i?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Creating Robot..."})]}):"Create Robot"})]})]})},Zv=[{id:1,name:"Basic Info",description:"Name, symbol & strategy"},{id:2,name:"Risk Settings",description:"Risk management & parameters"},{id:3,name:"Review",description:"Confirm & create"}],KI=({onClose:e})=>{const[t,s]=_.useState(1),[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState(null),[u,d]=_.useState(null),{createRobot:h,availableSymbols:f,fetchAvailableSymbols:m,robots:x}=Ds(),[g,y]=_.useState(null),[p,b]=_.useState({step1:{name:"",symbol:"",strategy:""},step2:{riskLevel:"MEDIUM",maxLotSize:.01,stopLoss:50,takeProfit:100},step3:{isActive:!1}});Pe.useEffect(()=>{f.length===0&&m()},[f.length,m]),Pe.useEffect(()=>{(async()=>{var N;try{const{supabase:E}=await po(async()=>{const{supabase:O}=await Promise.resolve().then(()=>fM);return{supabase:O}},void 0),{data:{session:M}}=await E.auth.getSession();(N=M==null?void 0:M.user)!=null&&N.id&&d(M.user.id)}catch(E){console.error("Error getting user ID:",E)}})()},[]);const v=T=>{if(x.some(E=>E.symbol===T.symbol&&E.strategy===T.strategy)){y("A robot with this symbol and strategy already exists.");return}else y(null);b(E=>({...E,step1:T})),s(2)},w=T=>{b(N=>({...N,step2:T})),s(3)},j=async T=>{debugger;b(N=>({...N,step3:T})),i(!0);try{const N={name:p.step1.name,symbol:p.step1.symbol,strategy:p.step1.strategy,riskLevel:p.step2.riskLevel,maxLotSize:p.step2.maxLotSize,stopLoss:p.step2.stopLoss,takeProfit:p.step2.takeProfit,isActive:T.isActive,userId:""};console.log("🤖 Creating robot with wizard data:",N);const E=await h(N);E&&(c(E),o(!0))}catch(N){console.error("Error creating robot:",N)}finally{i(!1)}},k=()=>{t>1&&s(t-1)},P=()=>{o(!1),c(null),e()},S=`${xn}/functions/v1/tradingview-webhook`;return a&&l&&u?r.jsx(VI,{robot:l,userId:u,webhookUrl:S,onClose:P}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(ss,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Trading Robot"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Set up your automated trading robot in 3 easy steps"})]})]}),r.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(vs,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mt-6",children:r.jsx("div",{className:"flex items-center justify-between",children:Zv.map((T,N)=>r.jsxs(Pe.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${t>=T.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:T.id}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:`text-sm font-medium ${t>=T.id?"text-blue-600":"text-gray-500"}`,children:T.name}),r.jsx("p",{className:"text-xs text-gray-500",children:T.description})]})]}),N<Zv.length-1&&r.jsx(Fa,{className:`w-5 h-5 ${t>T.id?"text-blue-600":"text-gray-300"}`})]},T.id))})})]}),r.jsxs("div",{className:"p-6",children:[g&&r.jsx("div",{className:"mb-4 text-red-600 font-semibold bg-red-50 border border-red-200 rounded p-2",children:g}),t===1&&r.jsx(HI,{data:p.step1,onNext:v,availableSymbols:f}),t===2&&r.jsx(qI,{data:p.step2,onNext:w,onBack:k,strategy:p.step1.strategy,symbol:p.step1.symbol}),t===3&&r.jsx(GI,{data:p.step3,onSubmit:j,onBack:k,formData:{...p.step1,...p.step2},isCreating:n})]})]})})};var A_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ew=Pe.createContext&&Pe.createContext(A_),XI=["attr","size","title"];function JI(e,t){if(e==null)return{};var s=QI(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function QI(e,t){if(e==null)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},zd.apply(this,arguments)}function tw(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,n)}return s}function Vd(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(s),!0).forEach(function(n){ZI(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tw(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function ZI(e,t,s){return t=eO(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function eO(e){var t=tO(e,"string");return typeof t=="symbol"?t:t+""}function tO(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_(e){return e&&e.map((t,s)=>Pe.createElement(t.tag,Vd({key:s},t.attr),R_(t.child)))}function g0(e){return t=>Pe.createElement(sO,zd({attr:Vd({},e.attr)},t),R_(e.child))}function sO(e){var t=s=>{var{attr:n,size:i,title:a}=e,o=JI(e,XI),l=i||s.size||"1em",c;return s.className&&(c=s.className),e.className&&(c=(c?c+" ":"")+e.className),Pe.createElement("svg",zd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,o,{className:c,style:Vd(Vd({color:e.color||s.color},s.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Pe.createElement("title",null,a),e.children)};return ew!==void 0?Pe.createElement(ew.Consumer,null,s=>t(s)):t(A_)}function nO(e){return g0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"},child:[]}]})(e)}function rO(e){return g0({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function iO(e){return g0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const cu=5,aO=({robot:e,onClose:t,userId:s})=>{const[n,i]=_.useState([]),[a,o]=_.useState(null),[l,c]=_.useState(0),[u,d]=_.useState(e),[h,f]=_.useState(null),[m,x]=_.useState([]),[g,y]=_.useState(null),p=_.useRef(null),[b,v]=_.useState(null);function w(N,E="success"){v({message:N,type:E}),setTimeout(()=>v(null),3e3)}_.useEffect(()=>{async function N(){let E=await nt.getAccountSummary();y(E||null)}N()},[u]),_.useEffect(()=>{s&&H.from("trading_robots").select("*").eq("user_id",s).order("created_at",{ascending:!1}).then(({data:N})=>{if(e&&N){const E=N.find(M=>M.id===e.id);E&&d(E)}})},[s,e]),_.useEffect(()=>{u!=null&&u.id&&H.from("trading_robots").select("*").eq("id",u.id).single().then(({data:N})=>{f(N||null)})},[u]),_.useEffect(()=>{if(!(u!=null&&u.user_id)||!(u!=null&&u.bot_token))return;o(null),console.log("selectedRobot.user_id:",u.user_id),console.log("selectedRobot.bot_token:",u.bot_token);async function N(){let E=new Date,M=new Date(E.getFullYear(),E.getMonth(),1),F=(await nt.orderHistory(M.toISOString(),E.toISOString())).orders||[];if(F&&F.length>0){let z=F.filter(Q=>Q.comment===u.strategy&&Q.symbol===u.symbol);i(z||[])}else F=[]}N()},[u]),_.useEffect(()=>{let N=!1;async function E(){try{let F=await nt.getPositions()||[];u!=null&&u.strategy&&(F=F.filter(z=>typeof z.comment=="string"&&z.comment.includes(u.strategy))),N||x(F)}catch{N||x([])}}E();const M=setInterval(E,2e3);return()=>{N=!0,clearInterval(M)}},[u]),_.useEffect(()=>{let N=!1;async function E(){if(!(u!=null&&u.strategy)||!(u!=null&&u.symbol)||!(u!=null&&u.account_id))return;o(null);let O=H.from("trading_signals").select("*").eq("strategy",u.strategy).eq("symbol",u.symbol).eq("account_id",u.account_id).not("profit_loss","is",null).order("executed_at",{ascending:!1});u.botToken&&(O=O.or(`botToken.eq.${u.botToken},bot_token.eq.${u.botToken}`));const{data:F,error:z}=await O;N||(z&&o("Failed to fetch trading_signals table"),F&&F.length>0&&(p.current=F[0].id))}E();const M=setInterval(async()=>{if(!(u!=null&&u.strategy)||!(u!=null&&u.symbol)||!(u!=null&&u.account_id))return;let O=H.from("trading_signals").select("id").eq("strategy",u.strategy).eq("symbol",u.symbol).eq("account_id",u.account_id).not("profit_loss","is",null).order("executed_at",{ascending:!1}).limit(1);u.botToken&&(O=O.or(`botToken.eq.${u.botToken},bot_token.eq.${u.botToken}`));const{data:F}=await O;F&&F[0]&&F[0].id!==p.current&&E()},2e3);return()=>{N=!0,clearInterval(M)}},[u]);const j=n.slice(l*cu,(l+1)*cu);_.useEffect(()=>{if(!(u!=null&&u.strategy)||!(u!=null&&u.symbol))return;async function N(){}N()},[u]);const k=async()=>{if(!(u!=null&&u.id)||!window.confirm("Are you sure you want to delete this robot? This will close all open trades and remove all data. This action cannot be undone."))return;try{const M=(await nt.getPositions()).filter(O=>typeof O.comment=="string"&&O.comment.includes(u.strategy));for(const O of M)try{await nt.closePosition(O.ticket)}catch{}}catch{}const{error:N}=await H.from("trading_robots").delete().eq("id",u.id);N?w("Failed to delete robot: "+N.message,"error"):(d(null),t(),w("Robot deleted and all open trades closed.","success"))},P=async()=>{if(!(u!=null&&u.id))return;const N=!u.is_active,{error:E}=await H.from("trading_robots").update({is_active:N}).eq("id",u.id);E?w("Failed to update robot status: "+E.message,"error"):(d({...u,is_active:N}),f({...h,is_active:N}),w(N?"Robot activated. All new trades will be managed by this robot.":"Robot deactivated. Existing open trades remain open, but no new trades will be managed until re-activation.","success"))};if(_.useEffect(()=>{if(!(u!=null&&u.strategy)||!(u!=null&&u.symbol)||!(u!=null&&u.account_id))return;const N=H.channel("realtime:trading_signals").on("postgres_changes",{event:"*",schema:"public",table:"trading_signals",filter:`strategy=eq.${u.strategy},symbol=eq.${u.symbol},account_id=eq.${u.account_id}`},E=>{E.new&&E.new==="open"&&H.from("trading_signals").select("*").eq("strategy",u.strategy).eq("symbol",u.symbol).eq("account_id",u.account_id).eq("status","open").then(({data:M})=>{M&&M.length>0?x(M):x([])})}).subscribe();return H.from("trading_signals").select("*").eq("strategy",u.strategy).eq("symbol",u.symbol).eq("account_id",u.account_id).eq("status","open").then(({data:E})=>{E&&E.length>0?x(E):x([])}),()=>{H.removeChannel(N)}},[u]),_.useEffect(()=>{let N=!1;async function E(){if(!(u!=null&&u.strategy)||!(u!=null&&u.symbol)||!(u!=null&&u.account_id))return;o(null);let O=H.from("trading_signals").select("*").eq("strategy",u.strategy).eq("symbol",u.symbol).eq("account_id",u.account_id).not("profit_loss","is",null).order("executed_at",{ascending:!1});u.botToken&&(O=O.or(`botToken.eq.${u.botToken},bot_token.eq.${u.botToken}`));const{data:F,error:z}=await O;N||(z&&o("Failed to fetch trading_signals table"),F&&F.length>0&&(p.current=F[0].id))}E();const M=H.channel("realtime:trading_signals_history").on("postgres_changes",{event:"*",schema:"public",table:"trading_signals",filter:`strategy=eq.${u.strategy},symbol=eq.${u.symbol},account_id=eq.${u.account_id}`},O=>{O.new&&O.new!=="open"&&O.new!==null&&E()}).subscribe();return()=>{N=!0,H.removeChannel(M)}},[u]),_.useEffect(()=>{if(!(u!=null&&u.symbol)||!(u!=null&&u.strategy))return;const M=Ds.getState().positions.filter(O=>O.symbol===u.symbol).filter(O=>typeof O.comment=="string"&&O.comment.includes(u.strategy));x(M)},[u,Ds.getState().positions]),_.useEffect(()=>{if(!(u!=null&&u.symbol)||!(u!=null&&u.strategy))return;async function N(){let E=new Date,M=new Date(E.getFullYear(),E.getMonth(),1),F=(await nt.orderHistory(M.toISOString(),E.toISOString())).orders||[];if(F&&F.length>0){let z=F.filter(Q=>Q.comment===u.strategy&&Q.symbol===u.symbol&&Q.profit!==0);i(z.sort((Q,I)=>I.ticket-Q.ticket)||[])}else F=[]}N()},[u]),_.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),!u)return null;const S=async N=>{try{await navigator.clipboard.writeText("http://91.98.23.85/api/WebHook/hook"),w(`${N} copied to clipboard`,"success")}catch{w(`Failed to copy ${N}`,"error")}},T=async(N,E)=>{try{const M={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},O={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken};let F=JSON.stringify(N==="STRATEGY"?O:M,null,2);await navigator.clipboard.writeText(F),w(`${E} copied to clipboard`,"success")}catch{w(`Failed to copy ${E}`,"error")}};return r.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-black via-[#181818] to-[#232323] w-screen h-screen min-h-screen flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between w-full px-10 py-6 bg-[#181818] border-b-2 border-[#bfa14a]/30 shadow-lg z-20",children:[r.jsxs("div",{className:"flex items-center gap-4 w-full",children:[r.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Logo",className:"h-12 w-auto"}),h&&r.jsxs("div",{className:"flex flex-wrap gap-3 items-center ml-6",children:[r.jsx("span",{className:"px-4 py-2 rounded-full bg-[#bfa14a]/20 text-[#bfa14a] font-bold text-base",children:h.name}),r.jsx("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:h.strategy}),r.jsx("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:h.symbol}),r.jsxs("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:["Risk: ",r.jsx("b",{children:h.risk_level||"-"})]}),r.jsxs("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:["Max Lot: ",r.jsx("b",{children:h.max_lot_size||"-"})]}),r.jsxs("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:["Active: ",r.jsx("b",{children:h.is_active?"Yes":"No"})]})]})]}),r.jsxs("div",{className:"flex gap-4 items-center ml-8",children:[r.jsx("button",{onClick:P,title:h!=null&&h.is_active?"Deactivate Robot":"Activate Robot",className:`p-3 rounded-full border-2 transition flex items-center justify-center text-xl ${h!=null&&h.is_active?"border-yellow-400 bg-yellow-600 text-white hover:bg-yellow-700":"border-green-400 bg-green-600 text-white hover:bg-green-700"}`,"aria-pressed":h==null?void 0:h.is_active,children:r.jsx(nO,{})}),r.jsx("button",{onClick:k,className:"p-3 rounded-full border-2 border-red-400 bg-red-600 text-white hover:bg-red-700 transition flex items-center justify-center text-xl",title:"Delete Robot",children:r.jsx(iO,{})}),r.jsx("button",{onClick:t,className:"p-3 rounded-full border-2 border-gray-400 bg-[#232323] text-white hover:bg-gray-700 transition flex items-center justify-center text-xl",title:"Close",children:r.jsx(rO,{})})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row w-full h-full gap-8 px-10 py-8",children:[r.jsx("div",{className:"w-full md:w-[28%] flex flex-col gap-8",children:r.jsxs("div",{className:"w-full bg-[#232323]/80 border border-[#bfa14a]/40 rounded-2xl p-8 flex flex-col gap-6 shadow-lg",children:[r.jsx("h4",{className:"text-lg font-bold text-[#bfa14a] mb-2 text-center",children:"Live Robot Performance"}),r.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Balance"}),r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:m&&m.length>0?((g?g.balance:0)+m.reduce((N,E)=>N+E.profit,0)).toFixed(2):(g?g.balance:0).toFixed(2)})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Robot Total P/L"}),r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:n&&n.length>0?(n.reduce((N,E)=>N+E.profit,0)+(m&&m.length>0?m.reduce((N,E)=>N+E.profit,0):0)).toFixed(2):0})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Equity"}),r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:g?g.equity.toFixed(2):0})]})]}),r.jsx("div",{className:"flex gap-4 items-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:m.length}),r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Open Trades"})]})}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Win"}),r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:n&&n.length>0?n.filter(N=>N.profit>0).reduce((N,E)=>N+E.profit,0).toFixed(2):0})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Loss"}),r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:n&&n.length>0?n.filter(N=>N.profit<0).reduce((N,E)=>N+E.profit,0).toFixed(2):0})]})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Margin"}),r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:g?g.margin.toFixed(2):0})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Free Margin"}),r.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:g?g.freeMargin.toFixed(2):0})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Margin level (%)"}),r.jsxs("span",{className:"text-2xl font-bold text-[#fffbe6]",children:[(g?g.marginLevel:0).toFixed(2),"%"]})]})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("button",{onClick:()=>T(e.riskLevel,"JSON Alert Signal"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:r.jsx("span",{children:"Copy JSON"})})}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("button",{onClick:()=>S("WebHook URL"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:r.jsx("span",{children:"Copy WebHook"})})}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("a",{href:e.name==="TradingHub"?"https://www.tradingview.com/script/KWExb6wY-Trading-Hub-MultiStrategy-Gold-Trading-System/":"https://tradingview.com/chart",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Trading View"})})]}),performance&&r.jsxs("div",{className:"w-full flex flex-col items-center mt-4",children:[r.jsx("span",{className:"text-xs text-[#bfa14a] mb-1",children:"Win/Loss Ratio"}),r.jsx("div",{className:"w-full h-4 bg-[#232323] rounded-full border border-[#bfa14a]/30 flex overflow-hidden",children:r.jsx("div",{})}),r.jsx("div",{className:"flex justify-between w-full text-xs mt-1"})]})]})]})}),r.jsx("div",{className:"w-full md:w-[72%] flex flex-col gap-8",children:r.jsxs("div",{className:"bg-[#232323]/80 border border-[#bfa14a]/40 rounded-2xl p-6 shadow-lg overflow-x-auto",children:[r.jsx("h4",{className:"text-lg font-bold text-[#bfa14a] mb-4",children:"Open Positions"}),m.length===0?r.jsx("div",{className:"text-center text-gray-400",children:"No open positions for this robot."}):r.jsxs("table",{className:"min-w-full text-xs md:text-sm text-left text-gray-400 mb-6",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-[#bfa14a]/30",children:[r.jsx("th",{className:"py-2 px-2",children:"Ticket"}),r.jsx("th",{className:"py-2 px-2",children:"Symbol"}),r.jsx("th",{className:"py-2 px-2",children:"Comment"}),r.jsx("th",{className:"py-2 px-2",children:"Type"}),r.jsx("th",{className:"py-2 px-2",children:"Volume"}),r.jsx("th",{className:"py-2 px-2",children:"Open Price"}),r.jsx("th",{className:"py-2 px-2",children:"Profit"}),r.jsx("th",{className:"py-2 px-2",children:"Opened"})]})}),r.jsx("tbody",{children:m.filter(N=>N.symbol===u.symbol&&typeof N.comment=="string"&&N.comment.includes(u.strategy)).map((N,E)=>r.jsxs("tr",{className:"border-b border-[#bfa14a]/10 hover:bg-[#181818]/40",children:[r.jsx("td",{className:"py-2 px-2",children:N.ticket??"-"}),r.jsx("td",{className:"py-2 px-2",children:N.symbol??"-"}),r.jsx("td",{className:"py-2 px-2",children:N.comment??"-"}),r.jsx("td",{className:"py-2 px-2",children:typeof N.type=="string"?N.type.toLowerCase()==="buy"?"Buy":"Sell":N.type===0?"Buy":N.type===1?"Sell":"-"}),r.jsx("td",{className:"py-2 px-2",children:N.volume??"-"}),r.jsx("td",{className:"py-2 px-2",children:N.openPrice??"-"}),r.jsx("td",{className:`py-2 px-2 font-bold ${parseFloat(N.profit)>=0?"text-green-400":"text-red-400"}`,children:typeof N.profit=="number"?N.profit.toFixed(2):"0.00"}),r.jsx("td",{className:"py-2 px-2",children:N.openTime?new Date(N.openTime).toLocaleString():"-"})]},N.ticket||E))})]}),r.jsx("h4",{className:"text-lg font-bold text-[#bfa14a] mb-4 mt-8",children:"Trade History"}),a?r.jsx("div",{className:"text-center text-red-400 py-8",children:a}):n.length===0?r.jsx("div",{className:"text-center text-gray-400",children:"No trade history for this robot."}):r.jsxs("table",{className:"min-w-full text-xs md:text-sm text-left text-gray-400 mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-[#bfa14a]/30",children:[r.jsx("th",{className:"py-2 px-2",children:"Ticket"}),r.jsx("th",{className:"py-2 px-2",children:"Symbol"}),r.jsx("th",{className:"py-2 px-2",children:"Action"}),r.jsx("th",{className:"py-2 px-2",children:"Volume"}),r.jsx("th",{className:"py-2 px-2",children:"Price"}),r.jsx("th",{className:"py-2 px-2",children:"Profit/Loss"}),r.jsx("th",{className:"py-2 px-2",children:"Created"}),r.jsx("th",{className:"py-2 px-2",children:"Win/Loss"})]})}),r.jsx("tbody",{children:j.map(N=>r.jsxs("tr",{className:"border-b border-[#bfa14a]/10 hover:bg-[#181818]/40",children:[r.jsx("td",{className:"py-2 px-2",children:N.ticket}),r.jsx("td",{className:"py-2 px-2",children:N.symbol}),r.jsx("td",{className:"py-2 px-2",children:N.orderType}),r.jsx("td",{className:"py-2 px-2",children:N.lots}),r.jsx("td",{className:"py-2 px-2",children:N.openPrice.toFixed(2)??"-"}),r.jsx("td",{className:"py-2 px-2",children:N.profit.toFixed(2)??"-"}),r.jsx("td",{className:"py-2 px-2",children:N.openTime?new Date(N.openTime).toLocaleString():"-"}),r.jsx("td",{className:`py-2 px-2 font-bold ${parseFloat(N.profit)>=0?"text-green-400":"text-red-400"}`,children:N.profit>0?"Win":"Loss"})]},N.id))})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsx("button",{className:"px-3 py-1 rounded bg-[#bfa14a]/20 text-[#bfa14a] font-bold disabled:opacity-40",onClick:()=>c(l-1),disabled:l===0,children:"Previous"}),r.jsxs("span",{className:"text-gray-400",children:["Page ",l+1," of ",Math.ceil(n.length/cu)||1]}),r.jsx("button",{className:"px-3 py-1 rounded bg-[#bfa14a]/20 text-[#bfa14a] font-bold disabled:opacity-40",onClick:()=>c(l+1),disabled:(l+1)*cu>=n.length,children:"Next"})]})]})})]}),b&&r.jsx("div",{className:`fixed top-6 right-6 z-[9999] px-6 py-3 rounded-lg shadow-lg font-bold text-base ${b.type==="success"?"bg-green-700 text-white":"bg-red-700 text-white"}`,children:b.message})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ec(e){return e+.5|0}const Mr=(e,t,s)=>Math.max(Math.min(e,s),t);function Zo(e){return Mr(Ec(e*2.55),0,255)}function Hr(e){return Mr(Ec(e*255),0,255)}function Jn(e){return Mr(Ec(e/2.55)/100,0,1)}function sw(e){return Mr(Ec(e*100),0,100)}const Bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hx=[..."0123456789ABCDEF"],oO=e=>hx[e&15],lO=e=>hx[(e&240)>>4]+hx[e&15],uu=e=>(e&240)>>4===(e&15),cO=e=>uu(e.r)&&uu(e.g)&&uu(e.b)&&uu(e.a);function uO(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Bs[e[1]]*17,g:255&Bs[e[2]]*17,b:255&Bs[e[3]]*17,a:t===5?Bs[e[4]]*17:255}:(t===7||t===9)&&(s={r:Bs[e[1]]<<4|Bs[e[2]],g:Bs[e[3]]<<4|Bs[e[4]],b:Bs[e[5]]<<4|Bs[e[6]],a:t===9?Bs[e[7]]<<4|Bs[e[8]]:255})),s}const dO=(e,t)=>e<255?t(e):"";function hO(e){var t=cO(e)?oO:lO;return e?"#"+t(e.r)+t(e.g)+t(e.b)+dO(e.a,t):void 0}const fO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function M_(e,t,s){const n=t*Math.min(s,1-s),i=(a,o=(a+e/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function mO(e,t,s){const n=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function pO(e,t,s){const n=M_(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function xO(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function y0(e){const s=e.r/255,n=e.g/255,i=e.b/255,a=Math.max(s,n,i),o=Math.min(s,n,i),l=(a+o)/2;let c,u,d;return a!==o&&(d=a-o,u=l>.5?d/(2-a-o):d/(a+o),c=xO(s,n,i,d,a),c=c*60+.5),[c|0,u||0,l]}function b0(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Hr)}function v0(e,t,s){return b0(M_,e,t,s)}function gO(e,t,s){return b0(pO,e,t,s)}function yO(e,t,s){return b0(mO,e,t,s)}function D_(e){return(e%360+360)%360}function bO(e){const t=fO.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Zo(+t[5]):Hr(+t[5]));const i=D_(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=gO(i,a,o):t[1]==="hsv"?n=yO(i,a,o):n=v0(i,a,o),{r:n[0],g:n[1],b:n[2],a:s}}function vO(e,t){var s=y0(e);s[0]=D_(s[0]+t),s=v0(s),e.r=s[0],e.g=s[1],e.b=s[2]}function wO(e){if(!e)return;const t=y0(e),s=t[0],n=sw(t[1]),i=sw(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${Jn(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const nw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jO(){const e={},t=Object.keys(rw),s=Object.keys(nw);let n,i,a,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],i=0;i<s.length;i++)a=s[i],l=l.replace(a,nw[a]);a=parseInt(rw[o],16),e[l]=[a>>16&255,a>>8&255,a&255]}return e}let du;function NO(e){du||(du=jO(),du.transparent=[0,0,0,0]);const t=du[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const kO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function SO(e){const t=kO.exec(e);let s=255,n,i,a;if(t){if(t[7]!==n){const o=+t[7];s=t[8]?Zo(o):Mr(o*255,0,255)}return n=+t[1],i=+t[3],a=+t[5],n=255&(t[2]?Zo(n):Mr(n,0,255)),i=255&(t[4]?Zo(i):Mr(i,0,255)),a=255&(t[6]?Zo(a):Mr(a,0,255)),{r:n,g:i,b:a,a:s}}}function _O(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Jn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const im=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ca=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function TO(e,t,s){const n=ca(Jn(e.r)),i=ca(Jn(e.g)),a=ca(Jn(e.b));return{r:Hr(im(n+s*(ca(Jn(t.r))-n))),g:Hr(im(i+s*(ca(Jn(t.g))-i))),b:Hr(im(a+s*(ca(Jn(t.b))-a))),a:e.a+s*(t.a-e.a)}}function hu(e,t,s){if(e){let n=y0(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=v0(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function L_(e,t){return e&&Object.assign(t||{},e)}function iw(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Hr(e[3]))):(t=L_(e,{r:0,g:0,b:0,a:1}),t.a=Hr(t.a)),t}function CO(e){return e.charAt(0)==="r"?SO(e):bO(e)}class nc{constructor(t){if(t instanceof nc)return t;const s=typeof t;let n;s==="object"?n=iw(t):s==="string"&&(n=uO(t)||NO(t)||CO(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=L_(this._rgb);return t&&(t.a=Jn(t.a)),t}set rgb(t){this._rgb=iw(t)}rgbString(){return this._valid?_O(this._rgb):void 0}hexString(){return this._valid?hO(this._rgb):void 0}hslString(){return this._valid?wO(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let a;const o=s===a?.5:s,l=2*o-1,c=n.a-i.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-u,n.r=255&u*n.r+a*i.r+.5,n.g=255&u*n.g+a*i.g+.5,n.b=255&u*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=TO(this._rgb,t._rgb,s)),this}clone(){return new nc(this.rgb)}alpha(t){return this._rgb.a=Hr(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Ec(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return hu(this._rgb,2,t),this}darken(t){return hu(this._rgb,2,-t),this}saturate(t){return hu(this._rgb,1,t),this}desaturate(t){return hu(this._rgb,1,-t),this}rotate(t){return vO(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Hn(){}const PO=(()=>{let e=0;return()=>e++})();function Ge(e){return e==null}function yt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ne(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Yt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Sn(e,t){return Yt(e)?e:t}function ge(e,t){return typeof e>"u"?t:e}const EO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,I_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ze(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Ee(e,t,s,n){let i,a,o;if(yt(e))for(a=e.length,i=0;i<a;i++)t.call(s,e[i],i);else if(Ne(e))for(o=Object.keys(e),a=o.length,i=0;i<a;i++)t.call(s,e[o[i]],o[i])}function Hd(e,t){let s,n,i,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],a=t[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Wd(e){if(yt(e))return e.map(Wd);if(Ne(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Wd(e[s[i]]);return t}return e}function O_(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function AO(e,t,s,n){if(!O_(e))return;const i=t[e],a=s[e];Ne(i)&&Ne(a)?rc(i,a,n):t[e]=Wd(a)}function rc(e,t,s){const n=yt(t)?t:[t],i=n.length;if(!Ne(e))return e;s=s||{};const a=s.merger||AO;let o;for(let l=0;l<i;++l){if(o=n[l],!Ne(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)a(c[u],e,o,s)}return e}function Nl(e,t){return rc(e,t,{merger:RO})}function RO(e,t,s){if(!O_(e))return;const n=t[e],i=s[e];Ne(n)&&Ne(i)?Nl(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Wd(i))}const aw={"":e=>e,x:e=>e.x,y:e=>e.y};function MO(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function DO(e){const t=MO(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function ic(e,t){return(aw[t]||(aw[t]=DO(t)))(e)}function w0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const qd=e=>typeof e<"u",Gr=e=>typeof e=="function",ow=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function LO(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ae=Math.PI,Xe=2*Ae,IO=Xe+Ae,Yd=Number.POSITIVE_INFINITY,OO=Ae/180,vt=Ae/2,ui=Ae/4,lw=Ae*2/3,F_=Math.log10,to=Math.sign;function kl(e,t,s){return Math.abs(e-t)<s}function cw(e){const t=Math.round(e);e=kl(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(F_(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function FO(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,a)=>i-a).pop(),t}function UO(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Gd(e){return!UO(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function $O(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function BO(e,t,s){let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function tr(e){return e*(Ae/180)}function zO(e){return e*(180/Ae)}function uw(e){if(!Yt(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function U_(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*Ae&&(a+=Xe),{angle:a,distance:i}}function fx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function VO(e,t){return(e-t+IO)%Xe-Ae}function Ss(e){return(e%Xe+Xe)%Xe}function ac(e,t,s,n){const i=Ss(e),a=Ss(t),o=Ss(s),l=Ss(a-i),c=Ss(o-i),u=Ss(i-a),d=Ss(i-o);return i===a||i===o||n&&a===o||l>c&&u<d}function Ps(e,t,s){return Math.max(t,Math.min(s,e))}function HO(e){return Ps(e,-32768,32767)}function Ei(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function j0(e,t,s){s=s||(o=>e[o]<t);let n=e.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const mx=(e,t,s,n)=>j0(e,s,n?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),WO=(e,t,s)=>j0(e,s,n=>e[n][t]>=s);function qO(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const $_=["push","pop","shift","splice","unshift"];function YO(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$_.forEach(s=>{const n="_onData"+w0(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return e._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...a)}),o}})})}function dw(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&($_.forEach(a=>{delete e[a]}),delete e._chartjs)}function GO(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const B_=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function z_(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,B_.call(window,()=>{n=!1,e.apply(t,s)}))}}function KO(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const N0=e=>e==="start"?"left":e==="end"?"right":"center",Ot=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,XO=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t,fu=e=>e===0||e===1,hw=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Xe/s)),fw=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Xe/s)+1,Sl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*vt)+1,easeOutSine:e=>Math.sin(e*vt),easeInOutSine:e=>-.5*(Math.cos(Ae*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>fu(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>fu(e)?e:hw(e,.075,.3),easeOutElastic:e=>fu(e)?e:fw(e,.075,.3),easeInOutElastic(e){return fu(e)?e:e<.5?.5*hw(e*2,.1125,.45):.5+.5*fw(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sl.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sl.easeInBounce(e*2)*.5:Sl.easeOutBounce(e*2-1)*.5+.5};function k0(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function mw(e){return k0(e)?e:new nc(e)}function am(e){return k0(e)?e:new nc(e).saturate(.5).darken(.1).hexString()}const JO=["x","y","borderWidth","radius","tension"],QO=["color","borderColor","backgroundColor"];function ZO(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:QO},numbers:{type:"number",properties:JO}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function e8(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pw=new Map;function t8(e,t){t=t||{};const s=e+JSON.stringify(t);let n=pw.get(s);return n||(n=new Intl.NumberFormat(e,t),pw.set(s,n)),n}function S0(e,t,s){return t8(t,s).format(e)}const s8={values(e){return yt(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,a=e;if(s.length>1){const u=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=n8(e,s)}const o=F_(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),S0(e,n,c)}};function n8(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var V_={formatters:s8};function r8(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:V_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Wi=Object.create(null),px=Object.create(null);function _l(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const a=s[n];e=e[a]||(e[a]=Object.create(null))}return e}function om(e,t,s){return typeof t=="string"?rc(_l(e,t),s):rc(_l(e,""),t)}class i8{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>am(i.backgroundColor),this.hoverBorderColor=(n,i)=>am(i.borderColor),this.hoverColor=(n,i)=>am(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return om(this,t,s)}get(t){return _l(this,t)}describe(t,s){return om(px,t,s)}override(t,s){return om(Wi,t,s)}route(t,s,n,i){const a=_l(this,t),o=_l(this,n),l="_"+s;Object.defineProperties(a,{[l]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],u=o[i];return Ne(c)?Object.assign({},u,c):ge(c,u)},set(c){this[l]=c}}})}apply(t){t.forEach(s=>s(this))}}var at=new i8({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZO,e8,r8]);function a8(e){return!e||Ge(e.size)||Ge(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function xw(e,t,s,n,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,s.push(i)),a>n&&(n=a),n}function di(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function gw(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function xx(e,t,s,n){H_(e,t,s,n,null)}function H_(e,t,s,n,i){let a,o,l,c,u,d,h,f;const m=t.pointStyle,x=t.rotation,g=t.radius;let y=(x||0)*OO;if(m&&typeof m=="object"&&(a=m.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(y),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:i?e.ellipse(s,n,i/2,g,0,0,Xe):e.arc(s,n,g,0,Xe),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(s+Math.sin(y)*d,n-Math.cos(y)*g),y+=lw,e.lineTo(s+Math.sin(y)*d,n-Math.cos(y)*g),y+=lw,e.lineTo(s+Math.sin(y)*d,n-Math.cos(y)*g),e.closePath();break;case"rectRounded":u=g*.516,c=g-u,o=Math.cos(y+ui)*c,h=Math.cos(y+ui)*(i?i/2-u:c),l=Math.sin(y+ui)*c,f=Math.sin(y+ui)*(i?i/2-u:c),e.arc(s-h,n-l,u,y-Ae,y-vt),e.arc(s+f,n-o,u,y-vt,y),e.arc(s+h,n+l,u,y,y+vt),e.arc(s-f,n+o,u,y+vt,y+Ae),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*g,d=i?i/2:c,e.rect(s-d,n-c,2*d,2*c);break}y+=ui;case"rectRot":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,n-l),e.lineTo(s+f,n-o),e.lineTo(s+h,n+l),e.lineTo(s-f,n+o),e.closePath();break;case"crossRot":y+=ui;case"cross":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+f,n-o),e.lineTo(s-f,n+o);break;case"star":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+f,n-o),e.lineTo(s-f,n+o),y+=ui,h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+f,n-o),e.lineTo(s-f,n+o);break;case"line":o=i?i/2:Math.cos(y)*g,l=Math.sin(y)*g,e.moveTo(s-o,n-l),e.lineTo(s+o,n+l);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(y)*(i?i/2:g),n+Math.sin(y)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function oc(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Gh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Kh(e){e.restore()}function o8(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function l8(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function c8(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ge(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function u8(e,t,s,n,i){if(i.strikethrough||i.underline){const a=e.measureText(n),o=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,u=s+a.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,d),e.lineTo(l,d),e.stroke()}}function d8(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function lc(e,t,s,n,i,a={}){const o=yt(t)?t:[t],l=a.strokeWidth>0&&a.strokeColor!=="";let c,u;for(e.save(),e.font=i.string,c8(e,a),c=0;c<o.length;++c)u=o[c],a.backdrop&&d8(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Ge(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(u,s,n,a.maxWidth)),e.fillText(u,s,n,a.maxWidth),u8(e,s,n,u,a),n+=Number(i.lineHeight);e.restore()}function gx(e,t){const{x:s,y:n,w:i,h:a,radius:o}=t;e.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ae,Ae,!0),e.lineTo(s,n+a-o.bottomLeft),e.arc(s+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,Ae,vt,!0),e.lineTo(s+i-o.bottomRight,n+a),e.arc(s+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,vt,0,!0),e.lineTo(s+i,n+o.topRight),e.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-vt,!0),e.lineTo(s+o.topLeft,n)}const h8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,f8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function m8(e,t){const s=(""+e).match(h8);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const p8=e=>+e||0;function _0(e,t){const s={},n=Ne(t),i=n?Object.keys(t):t,a=Ne(e)?n?o=>ge(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)s[o]=p8(a(o));return s}function x8(e){return _0(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Tl(e){return _0(e,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(e){const t=x8(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function zt(e,t){e=e||{},t=t||at.font;let s=ge(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=ge(e.style,t.style);n&&!(""+n).match(f8)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ge(e.family,t.family),lineHeight:m8(ge(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:ge(e.weight,t.weight),string:""};return i.string=a8(i),i}function mu(e,t,s,n){let i,a,o;for(i=0,a=e.length;i<a;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function g8(e,t,s){const{min:n,max:i}=e,a=I_(t,(i-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function Zi(e,t){return Object.assign(Object.create(e),t)}function T0(e,t=[""],s,n,i=()=>e[0]){const a=s||e;typeof n>"u"&&(n=G_("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:i,override:l=>T0([l,...e],t,a,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return q_(l,c,()=>S8(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return bw(l).includes(c)},ownKeys(l){return bw(l)},set(l,c,u){const d=l._storage||(l._storage=i());return l[c]=d[c]=u,delete l._keys,!0}})}function so(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:W_(e,n),setContext:a=>so(e,a,s,n),override:a=>so(e.override(a),t,s,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,l){return q_(a,o,()=>b8(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,l){return e[o]=l,delete a[o],!0}})}function W_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Gr(s)?s:()=>s,isIndexable:Gr(n)?n:()=>n}}const y8=(e,t)=>e?e+w0(t):t,C0=(e,t)=>Ne(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function q_(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function b8(e,t,s){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=e;let l=n[t];return Gr(l)&&o.isScriptable(t)&&(l=v8(t,l,e,s)),yt(l)&&l.length&&(l=w8(t,l,e,o.isIndexable)),C0(t,l)&&(l=so(l,i,a&&a[t],o)),l}function v8(e,t,s,n){const{_proxy:i,_context:a,_subProxy:o,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(a,o||n);return l.delete(e),C0(e,c)&&(c=P0(i._scopes,i,e,c)),c}function w8(e,t,s,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=s;if(typeof a.index<"u"&&n(e))return t[a.index%t.length];if(Ne(t[0])){const c=t,u=i._scopes.filter(d=>d!==c);t=[];for(const d of c){const h=P0(u,i,e,d);t.push(so(h,a,o&&o[e],l))}}return t}function Y_(e,t,s){return Gr(e)?e(t,s):e}const j8=(e,t)=>e===!0?t:typeof e=="string"?ic(t,e):void 0;function N8(e,t,s,n,i){for(const a of t){const o=j8(s,a);if(o){e.add(o);const l=Y_(o._fallback,s,i);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function P0(e,t,s,n){const i=t._rootScopes,a=Y_(t._fallback,s,n),o=[...e,...i],l=new Set;l.add(n);let c=yw(l,o,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=yw(l,o,a,c,n),c===null)?!1:T0(Array.from(l),[""],i,a,()=>k8(t,s,n))}function yw(e,t,s,n,i){for(;s;)s=N8(e,t,s,n,i);return s}function k8(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return yt(i)&&Ne(s)?s:i||{}}function S8(e,t,s,n){let i;for(const a of t)if(i=G_(y8(a,e),s),typeof i<"u")return C0(e,i)?P0(s,n,e,i):i}function G_(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function bw(e){let t=e._keys;return t||(t=e._keys=_8(e._scopes)),t}function _8(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const T8=Number.EPSILON||1e-14,no=(e,t)=>t<e.length&&!e[t].skip&&e[t],K_=e=>e==="x"?"y":"x";function C8(e,t,s,n){const i=e.skip?t:e,a=t,o=s.skip?t:s,l=fx(a,i),c=fx(o,a);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=n*u,f=n*d;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+f*(o.x-i.x),y:a.y+f*(o.y-i.y)}}}function P8(e,t,s){const n=e.length;let i,a,o,l,c,u=no(e,0);for(let d=0;d<n-1;++d)if(c=u,u=no(e,d+1),!(!c||!u)){if(kl(t[d],0,T8)){s[d]=s[d+1]=0;continue}i=s[d]/t[d],a=s[d+1]/t[d],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),s[d]=i*o*t[d],s[d+1]=a*o*t[d])}}function E8(e,t,s="x"){const n=K_(s),i=e.length;let a,o,l,c=no(e,0);for(let u=0;u<i;++u){if(o=l,l=c,c=no(e,u+1),!l)continue;const d=l[s],h=l[n];o&&(a=(d-o[s])/3,l[`cp1${s}`]=d-a,l[`cp1${n}`]=h-a*t[u]),c&&(a=(c[s]-d)/3,l[`cp2${s}`]=d+a,l[`cp2${n}`]=h+a*t[u])}}function A8(e,t="x"){const s=K_(t),n=e.length,i=Array(n).fill(0),a=Array(n);let o,l,c,u=no(e,0);for(o=0;o<n;++o)if(l=c,c=u,u=no(e,o+1),!!c){if(u){const d=u[t]-c[t];i[o]=d!==0?(u[s]-c[s])/d:0}a[o]=l?u?to(i[o-1])!==to(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}P8(e,i,a),E8(e,a,t)}function pu(e,t,s){return Math.max(Math.min(e,s),t)}function R8(e,t){let s,n,i,a,o,l=oc(e[0],t);for(s=0,n=e.length;s<n;++s)o=a,a=l,l=s<n-1&&oc(e[s+1],t),a&&(i=e[s],o&&(i.cp1x=pu(i.cp1x,t.left,t.right),i.cp1y=pu(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=pu(i.cp2x,t.left,t.right),i.cp2y=pu(i.cp2y,t.top,t.bottom)))}function M8(e,t,s,n,i){let a,o,l,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")A8(e,i);else{let u=n?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)l=e[a],c=C8(u,l,e[Math.min(a+1,o-(n?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}t.capBezierPoints&&R8(e,s)}function E0(){return typeof window<"u"&&typeof document<"u"}function A0(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kd(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Xh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function D8(e,t){return Xh(e).getPropertyValue(t)}const L8=["top","right","bottom","left"];function Li(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=L8[i];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const I8=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function O8(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:a}=n;let o=!1,l,c;if(I8(i,a,e.target))l=i,c=a;else{const u=t.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function yi(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Xh(s),a=i.boxSizing==="border-box",o=Li(i,"padding"),l=Li(i,"border","width"),{x:c,y:u,box:d}=O8(e,s),h=o.left+(d&&l.left),f=o.top+(d&&l.top);let{width:m,height:x}=t;return a&&(m-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/m*s.width/n),y:Math.round((u-f)/x*s.height/n)}}function F8(e,t,s){let n,i;if(t===void 0||s===void 0){const a=e&&A0(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const o=a.getBoundingClientRect(),l=Xh(a),c=Li(l,"border","width"),u=Li(l,"padding");t=o.width-u.width-c.width,s=o.height-u.height-c.height,n=Kd(l.maxWidth,a,"clientWidth"),i=Kd(l.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:n||Yd,maxHeight:i||Yd}}const xu=e=>Math.round(e*10)/10;function U8(e,t,s,n){const i=Xh(e),a=Li(i,"margin"),o=Kd(i.maxWidth,e,"clientWidth")||Yd,l=Kd(i.maxHeight,e,"clientHeight")||Yd,c=F8(e,t,s);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=Li(i,"border","width"),m=Li(i,"padding");u-=m.width+f.width,d-=m.height+f.height}return u=Math.max(0,u-a.width),d=Math.max(0,n?u/n:d-a.height),u=xu(Math.min(u,o,c.maxWidth)),d=xu(Math.min(d,l,c.maxHeight)),u&&!d&&(d=xu(u/2)),(t!==void 0||s!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=xu(Math.floor(d*n))),{width:u,height:d}}function vw(e,t,s){const n=t||1,i=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(e.currentDevicePixelRatio=n,o.height=i,o.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const $8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};E0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ww(e,t){const s=D8(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function bi(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function B8(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function z8(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=bi(e,i,s),l=bi(i,a,s),c=bi(a,t,s),u=bi(o,l,s),d=bi(l,c,s);return bi(u,d,s)}const V8=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},H8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ba(e,t,s){return e?V8(t,s):H8()}function X_(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function J_(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Q_(e){return e==="angle"?{between:ac,compare:VO,normalize:Ss}:{between:Ei,compare:(t,s)=>t-s,normalize:t=>t}}function jw({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function W8(e,t,s){const{property:n,start:i,end:a}=s,{between:o,normalize:l}=Q_(n),c=t.length;let{start:u,end:d,loop:h}=e,f,m;if(h){for(u+=c,d+=c,f=0,m=c;f<m&&o(l(t[u%c][n]),i,a);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:e.style}}function Z_(e,t,s){if(!s)return[e];const{property:n,start:i,end:a}=s,o=t.length,{compare:l,between:c,normalize:u}=Q_(n),{start:d,end:h,loop:f,style:m}=W8(e,t,s),x=[];let g=!1,y=null,p,b,v;const w=()=>c(i,v,p)&&l(i,v)!==0,j=()=>l(a,p)===0||c(a,v,p),k=()=>g||w(),P=()=>!g||j();for(let S=d,T=d;S<=h;++S)b=t[S%o],!b.skip&&(p=u(b[n]),p!==v&&(g=c(p,i,a),y===null&&k()&&(y=l(p,i)===0?S:T),y!==null&&P()&&(x.push(jw({start:y,end:S,loop:f,count:o,style:m})),y=null),T=S,v=p));return y!==null&&x.push(jw({start:y,end:h,loop:f,count:o,style:m})),x}function eT(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const a=Z_(n[i],e.points,t);a.length&&s.push(...a)}return s}function q8(e,t,s,n){let i=0,a=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function Y8(e,t,s,n){const i=e.length,a=[];let o=t,l=e[t],c;for(c=t+1;c<=s;++c){const u=e[c%i];u.skip||u.stop?l.skip||(n=!1,a.push({start:t%i,end:(c-1)%i,loop:n}),t=o=u.stop?c:null):(o=c,l.skip&&(t=c)),l=u}return o!==null&&a.push({start:t%i,end:o%i,loop:n}),a}function G8(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const a=!!e._loop,{start:o,end:l}=q8(s,i,a,n);if(n===!0)return Nw(e,[{start:o,end:l,loop:a}],s,t);const c=l<o?l+i:l,u=!!e._fullLoop&&o===0&&l===i-1;return Nw(e,Y8(s,o,c,u),s,t)}function Nw(e,t,s,n){return!n||!n.setContext||!s?t:K8(e,t,s,n)}function K8(e,t,s,n){const i=e._chart.getContext(),a=kw(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=s.length,u=[];let d=a,h=t[0].start,f=h;function m(x,g,y,p){const b=l?-1:1;if(x!==g){for(x+=c;s[x%c].skip;)x-=b;for(;s[g%c].skip;)g+=b;x%c!==g%c&&(u.push({start:x%c,end:g%c,loop:y,style:p}),d=p,h=g%c)}}for(const x of t){h=l?h:x.start;let g=s[h%c],y;for(f=h+1;f<=x.end;f++){const p=s[f%c];y=kw(n.setContext(Zi(i,{type:"segment",p0:g,p1:p,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),X8(y,d)&&m(h,f-1,x.loop,d),g=p,d=y}h<f-1&&m(h,f-1,x.loop,d)}return u}function kw(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function X8(e,t){if(!t)return!1;const s=[],n=function(i,a){return k0(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function gu(e,t,s){return e.options.clip?e[s]:t[s]}function J8(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:gu(s,t,"left"),right:gu(s,t,"right"),top:gu(n,t,"top"),bottom:gu(n,t,"bottom")}:t}function tT(e,t){const s=t._clip;if(s.disabled)return!1;const n=J8(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Q8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const a=s.listeners[i],o=s.duration;a.forEach(l=>l({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=B_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),l=!0):(a[o]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,n,t,"progress")),a.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qn=new Q8;const Sw="transparent",Z8={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=mw(e||Sw),i=n.valid&&mw(t||Sw);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class eF{constructor(t,s,n,i){const a=s[n];i=mu([t.to,i,a,t.from]);const o=mu([t.from,a,i]);this._active=!0,this._fn=t.fn||Z8[t.type||typeof o],this._easing=Sl[t.easing]||Sl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=mu([t.to,s,i,t.from]),this._from=mu([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||s<n),!this._active){this._target[i]=l,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class sT{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!Ne(t))return;const s=Object.keys(at.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!Ne(a))return;const o={};for(const l of s)o[l]=a[l];(yt(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,s){const n=s.options,i=sF(t,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&tF(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,s){const n=this._properties,i=[],a=t.$animations||(t.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,s));continue}const d=s[u];let h=a[u];const f=n.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){t[u]=d;continue}a[u]=h=new eF(f,t,u,d),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return qn.add(this._chart,n),!0}}function tF(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const a=e[n[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function sF(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function _w(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:n?a:i,end:n?i:a}}function nF(e,t,s){if(s===!1)return!1;const n=_w(e,s),i=_w(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function rF(e){let t,s,n,i;return Ne(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function nT(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=n.length;i<a;++i)s.push(n[i].index);return s}function Tw(e,t,s,n={}){const i=e.keys,a=n.mode==="single";let o,l,c,u;if(t===null)return;let d=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===s){if(d=!0,n.all)continue;break}u=e.values[c],Yt(u)&&(a||t===0||to(t)===to(u))&&(t+=u)}return!d&&!n.all?0:t}function iF(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],l[c]={[i]:d,[a]:e[d]};return l}function lm(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function aF(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function oF(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function lF(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Cw(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const a=e[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function Pw(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:a,vScale:o,index:l}=n,c=a.axis,u=o.axis,d=aF(a,o,n),h=t.length;let f;for(let m=0;m<h;++m){const x=t[m],{[c]:g,[u]:y}=x,p=x._stacks||(x._stacks={});f=p[u]=lF(i,d,g),f[l]=y,f._top=Cw(f,o,!0,n.type),f._bottom=Cw(f,o,!1,n.type);const b=f._visualValues||(f._visualValues={});b[l]=y}}function cm(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function cF(e,t){return Zi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function uF(e,t,s){return Zi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function $o(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const um=e=>e==="reset"||e==="none",Ew=(e,t)=>t?e:Object.assign({},e),dF=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:nT(s,!0),values:null};class Cl{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=lm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&$o(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,m,x)=>h==="x"?f:h==="r"?x:m,a=s.xAxisID=ge(n.xAxisID,cm(t,"x")),o=s.yAxisID=ge(n.yAxisID,cm(t,"y")),l=s.rAxisID=ge(n.rAxisID,cm(t,"r")),c=s.indexAxis,u=s.iAxisID=i(c,a,o,l),d=s.vAxisID=i(c,o,a,l);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(u),s.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dw(this._data,this),t._stacked&&$o(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(Ne(s)){const i=this._cachedMeta;this._data=iF(s,i)}else if(n!==s){if(n){dw(n,this);const i=this._cachedMeta;$o(i),i._parsed=[]}s&&Object.isExtensible(s)&&YO(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=lm(s.vScale,s),s.stack!==n.stack&&(i=!0,$o(s),s.stack=n.stack),this._resyncElements(t),(i||a!==s._stacked)&&(Pw(this,s._parsed),s._stacked=lm(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,l=a.axis;let c=t===0&&s===i.length?!0:n._sorted,u=t>0&&n._parsed[t-1],d,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{yt(i[t])?f=this.parseArrayData(n,i,t,s):Ne(i[t])?f=this.parseObjectData(n,i,t,s):f=this.parsePrimitiveData(n,i,t,s);const m=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<s;++d)n._parsed[d+t]=h=f[d],c&&(m()&&(c=!1),u=h);n._sorted=c}o&&Pw(this,f)}parsePrimitiveData(t,s,n,i){const{iScale:a,vScale:o}=t,l=a.axis,c=o.axis,u=a.getLabels(),d=a===o,h=new Array(i);let f,m,x;for(f=0,m=i;f<m;++f)x=f+n,h[f]={[l]:d||a.parse(u[x],x),[c]:o.parse(s[x],x)};return h}parseArrayData(t,s,n,i){const{xScale:a,yScale:o}=t,l=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+n,h=s[d],l[c]={x:a.parse(h[0],d),y:o.parse(h[1],d)};return l}parseObjectData(t,s,n,i){const{xScale:a,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,h,f,m;for(d=0,h=i;d<h;++d)f=d+n,m=s[f],u[d]={x:a.parse(ic(m,l),f),y:o.parse(ic(m,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,a=this._cachedMeta,o=s[t.axis],l={keys:nT(i,!0),values:s._stacks[t.axis]._visualValues};return Tw(l,o,a.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const a=n[s.axis];let o=a===null?NaN:a;const l=i&&n._stacks[s.axis];i&&l&&(i.values=l,o=Tw(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&t===n.iScale,o=i.length,l=this._getOtherScale(t),c=dF(s,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=oF(l);let f,m;function x(){m=i[f];const g=m[l.axis];return!Yt(m[t.axis])||d>g||h<g}for(f=0;f<o&&!(!x()&&(this.updateRangeFromParsed(u,t,m,c),a));++f);if(a){for(f=o-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(u,t,m,c);break}}return u}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=s.length;i<a;++i)o=s[i][t.axis],Yt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=rF(ge(this.options.clip,nF(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],a=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,a,l,c),d=l;d<l+c;++d){const h=i[d];h.hidden||(h.active&&u?o.push(h):h.draw(t,a))}for(d=0;d<o.length;++d)o[d].draw(t,a)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=uF(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=cF(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",a=this._cachedDataOpts,o=t+"-"+s,l=a[o],c=this.enableOptionSharing&&qd(n);if(l)return Ew(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),m=Object.keys(at.elements[t]),x=()=>this.getContext(n,i,s),g=u.resolveNamedOptions(f,m,x,h);return g.$shared&&(g.$shared=c,a[o]=Object.freeze(Ew(g,c))),g}_resolveAnimations(t,s,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${s}`,l=a[o];if(l)return l;let c;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,s),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(t,n,s))}const u=new sT(i,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||um(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:o}}updateElement(t,s,n,i){um(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!um(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const i=n.length,a=s.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,s,n=!0){const i=this._cachedMeta,a=i.data,o=t+s;let l;const c=u=>{for(u.length+=s,l=u.length-1;l>=o;l--)u[l]=u[l-s]};for(c(a),l=t;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,s),n&&this.updateElements(a,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&$o(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ae(Cl,"defaults",{}),ae(Cl,"datasetElementType",null),ae(Cl,"dataElementType",null);function hF(e,t,s){let n=1,i=1,a=0,o=0;if(t<Xe){const l=e,c=l+t,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),f=Math.sin(c),m=(v,w,j)=>ac(v,l,c,!0)?1:Math.max(w,w*s,j,j*s),x=(v,w,j)=>ac(v,l,c,!0)?-1:Math.min(w,w*s,j,j*s),g=m(0,u,h),y=m(vt,d,f),p=x(Ae,u,h),b=x(Ae+vt,d,f);n=(g-p)/2,i=(y-b)/2,a=-(g+p)/2,o=-(y+b)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}class el extends Cl{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=c=>+n[c];if(Ne(n[t])){const{key:c="value"}=this._parsing;a=u=>+ic(n[u],c)}let o,l;for(o=t,l=t+s;o<l;++o)i._parsed[o]=a(o)}}_getRotation(){return tr(this.options.rotation-90)}_getCircumference(){return tr(this.options.circumference)}_getRotationExtents(){let t=Xe,s=-Xe;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),o=i._getCircumference();t=Math.min(t,a),s=Math.max(s,a+o)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(EO(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:x,offsetY:g}=hF(h,d,c),y=(n.width-o)/f,p=(n.height-o)/m,b=Math.max(Math.min(y,p)/2,0),v=I_(this.options.radius,b),w=Math.max(v*c,0),j=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=g*v,i.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/Xe)}updateElements(t,s,n,i){const a=i==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=a&&u.animateScale,m=f?0:this.innerRadius,x=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(s,i);let p=this._getRotation(),b;for(b=0;b<s;++b)p+=this._circumference(b,a);for(b=s;b<s+n;++b){const v=this._circumference(b,a),w=t[b],j={x:d+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+v,circumference:v,outerRadius:x,innerRadius:m};y&&(j.options=g||this.resolveDataElementOptions(b,w.active?"active":i)),p+=v,this.updateElement(w,b,j,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Xe*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=S0(s._parsed[t],n.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,a,o,l,c;if(!t){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,l=o.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const a=this.resolveDataElementOptions(n);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(ge(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ae(el,"id","doughnut"),ae(el,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ae(el,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ae(el,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((a,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class yx extends el{}ae(yx,"id","pie"),ae(yx,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function hi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class R0{constructor(t){ae(this,"options");this.options=t||{}}static override(t){Object.assign(R0.prototype,t)}init(){}formats(){return hi()}parse(){return hi()}format(){return hi()}add(){return hi()}diff(){return hi()}startOf(){return hi()}endOf(){return hi()}}var fF={_date:R0};function mF(e,t,s,n){const{controller:i,data:a,_sorted:o}=e,l=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&a.length){const u=l._reversePixels?WO:mx;if(n){if(i._sharedOptions){const d=a[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const f=u(a,t,s-h),m=u(a,t,s+h);return{lo:f.lo,hi:m.hi}}}}else{const d=u(a,t,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,m=f.slice(0,d.lo+1).reverse().findIndex(g=>!Ge(g[h.axis]));d.lo-=Math.max(0,m);const x=f.slice(d.hi).findIndex(g=>!Ge(g[h.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:a.length-1}}function Jh(e,t,s,n,i){const a=e.getSortedVisibleDatasetMetas(),o=s[t];for(let l=0,c=a.length;l<c;++l){const{index:u,data:d}=a[l],{lo:h,hi:f}=mF(a[l],t,o,i);for(let m=h;m<=f;++m){const x=d[m];x.skip||n(x,u,m)}}}function pF(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const a=t?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function dm(e,t,s,n,i){const a=[];return!i&&!e.isPointInArea(t)||Jh(e,s,t,function(l,c,u){!i&&!oc(l,e.chartArea,0)||l.inRange(t.x,t.y,n)&&a.push({element:l,datasetIndex:c,index:u})},!0),a}function xF(e,t,s,n){let i=[];function a(o,l,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:h}=U_(o,{x:t.x,y:t.y});ac(h,u,d)&&i.push({element:o,datasetIndex:l,index:c})}return Jh(e,s,t,a),i}function gF(e,t,s,n,i,a){let o=[];const l=pF(s);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const m=d.inRange(t.x,t.y,i);if(n&&!m)return;const x=d.getCenterPoint(i);if(!(!!a||e.isPointInArea(x))&&!m)return;const y=l(t,x);y<c?(o=[{element:d,datasetIndex:h,index:f}],c=y):y===c&&o.push({element:d,datasetIndex:h,index:f})}return Jh(e,s,t,u),o}function hm(e,t,s,n,i,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!n?xF(e,t,s,i):gF(e,t,s,n,i,a)}function Aw(e,t,s,n,i){const a=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return Jh(e,s,t,(c,u,d)=>{c[o]&&c[o](t[s],i)&&(a.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(t.x,t.y,i))}),n&&!l?[]:a}var yF={modes:{index(e,t,s,n){const i=yi(t,e),a=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?dm(e,i,a,n,o):hm(e,i,a,!1,n,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,s,n){const i=yi(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?dm(e,i,a,n,o):hm(e,i,a,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,u=e.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(e,t,s,n){const i=yi(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return dm(e,i,a,n,o)},nearest(e,t,s,n){const i=yi(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return hm(e,i,a,s.intersect,n,o)},x(e,t,s,n){const i=yi(t,e);return Aw(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=yi(t,e);return Aw(e,i,"y",s.intersect,n)}}};const rT=["left","top","right","bottom"];function Bo(e,t){return e.filter(s=>s.pos===t)}function Rw(e,t){return e.filter(s=>rT.indexOf(s.pos)===-1&&s.box.axis===t)}function zo(e,t){return e.sort((s,n)=>{const i=t?n:s,a=t?s:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function bF(e){const t=[];let s,n,i,a,o,l;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:a,options:{stack:o,stackWeight:l=1}}=i,t.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:l});return t}function vF(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:a}=s;if(!n||!rT.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function wF(e,t){const s=vF(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let a,o,l;for(a=0,o=e.length;a<o;++a){l=e[a];const{fullSize:c}=l.box,u=s[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&t.availableWidth,l.height=i):(l.width=n,l.height=d?d*i:c&&t.availableHeight)}return s}function jF(e){const t=bF(e),s=zo(t.filter(u=>u.box.fullSize),!0),n=zo(Bo(t,"left"),!0),i=zo(Bo(t,"right")),a=zo(Bo(t,"top"),!0),o=zo(Bo(t,"bottom")),l=Rw(t,"x"),c=Rw(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:Bo(t,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(o).concat(l)}}function Mw(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function iT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function NF(e,t,s,n){const{pos:i,box:a}=s,o=e.maxPadding;if(!Ne(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,e[i]+=s.size}a.getPadding&&iT(o,a.getPadding());const l=Math.max(0,t.outerWidth-Mw(o,e,"left","right")),c=Math.max(0,t.outerHeight-Mw(o,e,"top","bottom")),u=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,s.horizontal?{same:u,other:d}:{same:d,other:u}}function kF(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function SF(e,t){const s=t.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(t[o],s[o])}),a}return n(e?["left","right"]:["top","bottom"])}function tl(e,t,s,n){const i=[];let a,o,l,c,u,d;for(a=0,o=e.length,u=0;a<o;++a){l=e[a],c=l.box,c.update(l.width||t.w,l.height||t.h,SF(l.horizontal,t));const{same:h,other:f}=NF(t,s,l,n);u|=h&&i.length,d=d||f,c.fullSize||i.push(l)}return u&&tl(i,t,s,n)||d}function yu(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function Dw(e,t,s,n){const i=s.padding;let{x:a,y:o}=t;for(const l of e){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=t.w*d,f=u.size||c.height;qd(u.start)&&(o=u.start),c.fullSize?yu(c,i.left,o,s.outerWidth-i.right-i.left,f):yu(c,t.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=t.h*d,f=u.size||c.width;qd(u.start)&&(a=u.start),c.fullSize?yu(c,a,i.top,f,s.outerHeight-i.bottom-i.top):yu(c,a,t.top+u.placed,f,h),u.start=a,u.placed+=h,a=c.right}}t.x=a,t.y=o}var Ks={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=sn(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(s-i.height,0),l=jF(e.boxes),c=l.vertical,u=l.horizontal;Ee(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);iT(f,sn(n));const m=Object.assign({maxPadding:f,w:a,h:o,x:i.left,y:i.top},i),x=wF(c.concat(u),h);tl(l.fullSize,m,h,x),tl(c,m,h,x),tl(u,m,h,x)&&tl(c,m,h,x),kF(m),Dw(l.leftAndTop,m,h,x),m.x+=m.w,m.y+=m.h,Dw(l.rightAndBottom,m,h,x),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ee(l.chartArea,g=>{const y=g.box;Object.assign(y,e.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class aT{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class _F extends aT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ju="$chartjs",TF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lw=e=>e===null||e==="";function CF(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Ju]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Lw(i)){const a=ww(e,"width");a!==void 0&&(e.width=a)}if(Lw(n))if(e.style.height==="")e.height=e.width/(t||2);else{const a=ww(e,"height");a!==void 0&&(e.height=a)}return e}const oT=$8?{passive:!0}:!1;function PF(e,t,s){e&&e.addEventListener(t,s,oT)}function EF(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,oT)}function AF(e,t){const s=TF[e.type]||e.type,{x:n,y:i}=yi(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Xd(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function RF(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Xd(l.addedNodes,n),o=o&&!Xd(l.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function MF(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Xd(l.removedNodes,n),o=o&&!Xd(l.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const cc=new Map;let Iw=0;function lT(){const e=window.devicePixelRatio;e!==Iw&&(Iw=e,cc.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function DF(e,t){cc.size||window.addEventListener("resize",lT),cc.set(e,t)}function LF(e){cc.delete(e),cc.size||window.removeEventListener("resize",lT)}function IF(e,t,s){const n=e.canvas,i=n&&A0(n);if(!i)return;const a=z_((l,c)=>{const u=i.clientWidth;s(l,c),u<i.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||a(u,d)});return o.observe(i),DF(e,a),o}function fm(e,t,s){s&&s.disconnect(),t==="resize"&&LF(e)}function OF(e,t,s){const n=e.canvas,i=z_(a=>{e.ctx!==null&&s(AF(a,e))},e);return PF(n,t,i),i}class FF extends aT{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(CF(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Ju])return!1;const n=s[Ju].initial;["height","width"].forEach(a=>{const o=n[a];Ge(o)?s.removeAttribute(a):s.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[Ju],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),o={attach:RF,detach:MF,resize:IF}[s]||OF;i[s]=o(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:fm,detach:fm,resize:fm}[s]||EF)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return U8(t,s,n,i)}isAttached(t){const s=t&&A0(t);return!!(s&&s.isConnected)}}function UF(e){return!E0()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?_F:FF}var Au;let ri=(Au=class{constructor(){ae(this,"x");ae(this,"y");ae(this,"active",!1);ae(this,"options");ae(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Gd(this.x)&&Gd(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}},ae(Au,"defaults",{}),ae(Au,"defaultRoutes"),Au);function $F(e,t){const s=e.options.ticks,n=BF(e),i=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?VF(t):[],o=a.length,l=a[0],c=a[o-1],u=[];if(o>i)return HF(t,u,a,o/i),u;const d=zF(a,t,i);if(o>0){let h,f;const m=o>1?Math.round((c-l)/(o-1)):null;for(bu(t,u,d,Ge(m)?0:l-m,l),h=0,f=o-1;h<f;h++)bu(t,u,d,a[h],a[h+1]);return bu(t,u,d,c,Ge(m)?t.length:c+m),u}return bu(t,u,d),u}function BF(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function zF(e,t,s){const n=WF(e),i=t.length/s;if(!n)return Math.max(i,1);const a=FO(n);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>i)return c}return Math.max(i,1)}function VF(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function HF(e,t,s,n){let i=0,a=s[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===a&&(t.push(e[o]),i++,a=s[i*n])}function bu(e,t,s,n,i){const a=ge(n,0),o=Math.min(ge(i,e.length),e.length);let l=0,c,u,d;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),d=a;d<0;)l++,d=Math.round(a+l*s);for(u=Math.max(a,0);u<o;u++)u===d&&(t.push(e[u]),l++,d=Math.round(a+l*s))}function WF(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const qF=e=>e==="left"?"right":e==="right"?"left":e,Ow=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,Fw=(e,t)=>Math.min(t||e,e);function Uw(e,t){const s=[],n=e.length/t,i=e.length;let a=0;for(;a<i;a+=n)s.push(e[Math.floor(a)]);return s}function YF(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),a=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(i),u;if(!(s&&(n===1?u=Math.max(c-a,o-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(i-1))/2,c+=i<t?u:-u,c<a-l||c>o+l)))return c}function GF(e,t){Ee(e,s=>{const n=s.gc,i=n.length/2;let a;if(i>t){for(a=0;a<i;++a)delete s.data[n[a]];n.splice(0,i)}})}function Vo(e){return e.drawTicks?e.tickLength:0}function $w(e,t){if(!e.display)return 0;const s=zt(e.font,t),n=sn(e.padding);return(yt(e.text)?e.text.length:1)*s.lineHeight+n.height}function KF(e,t){return Zi(e,{scale:t,type:"scale"})}function XF(e,t,s){return Zi(e,{tick:s,index:t,type:"tick"})}function JF(e,t,s){let n=N0(e);return(s&&t!=="right"||!s&&t==="right")&&(n=qF(n)),n}function QF(e,t,s,n){const{top:i,left:a,bottom:o,right:l,chart:c}=e,{chartArea:u,scales:d}=c;let h=0,f,m,x;const g=o-i,y=l-a;if(e.isHorizontal()){if(m=Ot(n,a,l),Ne(s)){const p=Object.keys(s)[0],b=s[p];x=d[p].getPixelForValue(b)+g-t}else s==="center"?x=(u.bottom+u.top)/2+g-t:x=Ow(e,s,t);f=l-a}else{if(Ne(s)){const p=Object.keys(s)[0],b=s[p];m=d[p].getPixelForValue(b)-y+t}else s==="center"?m=(u.left+u.right)/2-y+t:m=Ow(e,s,t);x=Ot(n,o,i),h=s==="left"?-vt:vt}return{titleX:m,titleY:x,maxWidth:f,rotation:h}}class wo extends ri{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=Sn(t,Number.POSITIVE_INFINITY),s=Sn(s,Number.NEGATIVE_INFINITY),n=Sn(n,Number.POSITIVE_INFINITY),i=Sn(i,Number.NEGATIVE_INFINITY),{min:Sn(t,n),max:Sn(s,i),minDefined:Yt(t),maxDefined:Yt(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(this,t),i||(s=Math.min(s,o.min)),a||(n=Math.max(n,o.max));return s=a&&s>n?n:s,n=i&&s>n?s:n,{min:Sn(s,Sn(n,s)),max:Sn(n,Sn(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ze(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=g8(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Uw(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$F(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ze(this.options.afterUpdate,[this])}beforeSetDimensions(){ze(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ze(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ze(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ze(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n],a.label=ze(s.callback,[a.value,n,t],this)}afterTickToLabelConversion(){ze(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ze(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=Fw(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let o=i,l,c,u;if(!this._isVisible()||!s.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=Ps(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/n:m/(n-1),h+6>l&&(l=m/(n-(t.offset?.5:1)),c=this.maxHeight-Vo(t.grid)-s.padding-$w(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=zO(Math.min(Math.asin(Ps((d.highest.height+6)/l,-1,1)),Math.asin(Ps(c/u,-1,1))-Math.asin(Ps(f/u,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){ze(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ze(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=$w(i,s.options.font);if(l?(t.width=this.maxWidth,t.height=Vo(a)+c):(t.height=this.maxHeight,t.width=Vo(a)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),m=n.padding*2,x=tr(this.labelRotation),g=Math.cos(x),y=Math.sin(x);if(l){const p=n.mirror?0:y*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+p+m)}else{const p=n.mirror?0:g*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+p+m)}this._calculatePadding(u,d,y,g)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?u?(f=i*t.width,m=n*s.height):(f=n*t.height,m=i*s.width):a==="start"?m=s.width:a==="end"?f=t.width:a!=="inner"&&(f=t.width/2,m=s.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let d=s.height/2,h=t.height/2;a==="start"?(d=0,h=t.height):a==="end"&&(d=s.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ze(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)Ge(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Uw(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(s/Fw(s,n));let u=0,d=0,h,f,m,x,g,y,p,b,v,w,j;for(h=0;h<s;h+=c){if(x=t[h].label,g=this._resolveTickFontOptions(h),i.font=y=g.string,p=a[y]=a[y]||{data:{},gc:[]},b=g.lineHeight,v=w=0,!Ge(x)&&!yt(x))v=xw(i,p.data,p.gc,v,x),w=b;else if(yt(x))for(f=0,m=x.length;f<m;++f)j=x[f],!Ge(j)&&!yt(j)&&(v=xw(i,p.data,p.gc,v,j),w+=b);o.push(v),l.push(w),u=Math.max(v,u),d=Math.max(w,d)}GF(a,s);const k=o.indexOf(u),P=l.indexOf(d),S=T=>({width:o[T]||0,height:l[T]||0});return{first:S(0),last:S(s-1),widest:S(k),highest:S(P),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return HO(this._alignToPixels?di(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=XF(this.getContext(),t,n))}return this.$context||(this.$context=KF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=tr(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:l}=i,c=a.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Vo(a),m=[],x=l.setContext(this.getContext()),g=x.display?x.width:0,y=g/2,p=function(Q){return di(n,Q,g)};let b,v,w,j,k,P,S,T,N,E,M,O;if(o==="top")b=p(this.bottom),P=this.bottom-f,T=b-y,E=p(t.top)+y,O=t.bottom;else if(o==="bottom")b=p(this.top),E=t.top,O=p(t.bottom)-y,P=b+y,T=this.top+f;else if(o==="left")b=p(this.right),k=this.right-f,S=b-y,N=p(t.left)+y,M=t.right;else if(o==="right")b=p(this.left),N=t.left,M=p(t.right)-y,k=b+y,S=this.left+f;else if(s==="x"){if(o==="center")b=p((t.top+t.bottom)/2+.5);else if(Ne(o)){const Q=Object.keys(o)[0],I=o[Q];b=p(this.chart.scales[Q].getPixelForValue(I))}E=t.top,O=t.bottom,P=b+y,T=P+f}else if(s==="y"){if(o==="center")b=p((t.left+t.right)/2);else if(Ne(o)){const Q=Object.keys(o)[0],I=o[Q];b=p(this.chart.scales[Q].getPixelForValue(I))}k=b-y,S=k-f,N=t.left,M=t.right}const F=ge(i.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/F));for(v=0;v<h;v+=z){const Q=this.getContext(v),I=a.setContext(Q),$=l.setContext(Q),B=I.lineWidth,C=I.color,ne=$.dash||[],ie=$.dashOffset,A=I.tickWidth,ve=I.tickColor,Me=I.tickBorderDash||[],ue=I.tickBorderDashOffset;w=YF(this,v,c),w!==void 0&&(j=di(n,w,B),u?k=S=N=M=j:P=T=E=O=j,m.push({tx1:k,ty1:P,tx2:S,ty2:T,x1:N,y1:E,x2:M,y2:O,width:B,color:C,borderDash:ne,borderDashOffset:ie,tickWidth:A,tickColor:ve,tickBorderDash:Me,tickBorderDashOffset:ue}))}return this._ticksLength=h,this._borderValue=b,m}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=a,f=Vo(n.grid),m=f+d,x=h?-d:m,g=-tr(this.labelRotation),y=[];let p,b,v,w,j,k,P,S,T,N,E,M,O="middle";if(i==="top")k=this.bottom-x,P=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+x,P=this._getXAxisLabelAlignment();else if(i==="left"){const z=this._getYAxisLabelAlignment(f);P=z.textAlign,j=z.x}else if(i==="right"){const z=this._getYAxisLabelAlignment(f);P=z.textAlign,j=z.x}else if(s==="x"){if(i==="center")k=(t.top+t.bottom)/2+m;else if(Ne(i)){const z=Object.keys(i)[0],Q=i[z];k=this.chart.scales[z].getPixelForValue(Q)+m}P=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")j=(t.left+t.right)/2-m;else if(Ne(i)){const z=Object.keys(i)[0],Q=i[z];j=this.chart.scales[z].getPixelForValue(Q)}P=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?O="top":c==="end"&&(O="bottom"));const F=this._getLabelSizes();for(p=0,b=l.length;p<b;++p){v=l[p],w=v.label;const z=a.setContext(this.getContext(p));S=this.getPixelForTick(p)+a.labelOffset,T=this._resolveTickFontOptions(p),N=T.lineHeight,E=yt(w)?w.length:1;const Q=E/2,I=z.color,$=z.textStrokeColor,B=z.textStrokeWidth;let C=P;o?(j=S,P==="inner"&&(p===b-1?C=this.options.reverse?"left":"right":p===0?C=this.options.reverse?"right":"left":C="center"),i==="top"?u==="near"||g!==0?M=-E*N+N/2:u==="center"?M=-F.highest.height/2-Q*N+N:M=-F.highest.height+N/2:u==="near"||g!==0?M=N/2:u==="center"?M=F.highest.height/2-Q*N:M=F.highest.height-E*N,h&&(M*=-1),g!==0&&!z.showLabelBackdrop&&(j+=N/2*Math.sin(g))):(k=S,M=(1-E)*N/2);let ne;if(z.showLabelBackdrop){const ie=sn(z.backdropPadding),A=F.heights[p],ve=F.widths[p];let Me=M-ie.top,ue=0-ie.left;switch(O){case"middle":Me-=A/2;break;case"bottom":Me-=A;break}switch(P){case"center":ue-=ve/2;break;case"right":ue-=ve;break;case"inner":p===b-1?ue-=ve:p>0&&(ue-=ve/2);break}ne={left:ue,top:Me,width:ve+ie.width,height:A+ie.height,color:z.backdropColor}}y.push({label:w,font:T,textOffset:M,options:{rotation:g,color:I,strokeColor:$,strokeWidth:B,textAlign:C,textBaseline:O,translation:[j,k],backdrop:ne}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-tr(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),l=t+a,c=o.widest.width;let u,d;return s==="left"?i?(d=this.right+a,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):s==="right"?i?(d=this.left+a,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:a,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,a,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(s.display)for(a=0,o=i.length;a<o;++a){const c=i[a];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=di(t,this.left,o)-o/2,d=di(t,this.right,l)+l/2,h=f=c):(h=di(t,this.top,o)-o/2,f=di(t,this.bottom,l)+l/2,u=d=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(u,h),s.lineTo(d,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Gh(n,i);const a=this.getLabelItems(t);for(const o of a){const l=o.options,c=o.font,u=o.label,d=o.textOffset;lc(n,u,0,d,c,l)}i&&Kh(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const a=zt(n.font),o=sn(n.padding),l=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||Ne(s)?(c+=o.bottom,yt(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=QF(this,c,s,l);lc(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:f,textAlign:JF(l,s,i),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=ge(t.grid&&t.grid.z,-1),i=ge(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==wo.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=s.length;a<o;++a){const l=s[a];l[n]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return zt(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class vu{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;tU(s)&&(n=this.register(s));const i=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,ZF(t,o,n),this.override&&at.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in at[i]&&(delete at[i][n],this.override&&delete Wi[n])}}function ZF(e,t,s){const n=rc(Object.create(null),[s?at.get(s):{},at.get(t),e.defaults]);at.set(t,n),e.defaultRoutes&&eU(t,e.defaultRoutes),e.descriptors&&at.describe(t,e.descriptors)}function eU(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),a=[e].concat(n).join("."),o=t[s].split("."),l=o.pop(),c=o.join(".");at.route(a,i,c,l)})}function tU(e){return"id"in e&&"defaults"in e}class sU{constructor(){this.controllers=new vu(Cl,"datasets",!0),this.elements=new vu(ri,"elements"),this.plugins=new vu(Object,"plugins"),this.scales=new vu(wo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):Ee(i,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,s,n){const i=w0(t);ze(n["before"+i],[],n),s[t](n),ze(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Cn=new sU;class nU{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(a,t,s,n);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,s,n,i){i=i||{};for(const a of t){const o=a.plugin,l=o[n],c=[s,i,a.options];if(ze(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=ge(n.options&&n.options.plugins,{}),a=rU(n);return i===!1&&!s?[]:aU(t,a,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function rU(e){const t={},s=[],n=Object.keys(Cn.plugins.items);for(let a=0;a<n.length;a++)s.push(Cn.getPlugin(n[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function iU(e,t){return!t&&e===!1?null:e===!0?{}:e}function aU(e,{plugins:t,localIds:s},n,i){const a=[],o=e.getContext();for(const l of t){const c=l.id,u=iU(n[c],i);u!==null&&a.push({plugin:l,options:oU(e.config,{plugin:l,local:s[c]},u,o)})}return a}function oU(e,{plugin:t,local:s},n,i){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(n,a);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bx(e,t){const s=at.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function lU(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function cU(e,t){return e===t?"_index_":"_value_"}function Bw(e){if(e==="x"||e==="y"||e==="r")return e}function uU(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function vx(e,...t){if(Bw(e))return e;for(const s of t){const n=s.axis||uU(s.position)||e.length>1&&Bw(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function zw(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function dU(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return zw(e,"x",s[0])||zw(e,"y",s[0])}return{}}function hU(e,t){const s=Wi[e.type]||{scales:{}},n=t.scales||{},i=bx(e.type,t),a=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Ne(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=vx(o,l,dU(o,e),at.scales[l.type]),u=cU(c,i),d=s.scales||{};a[o]=Nl(Object.create(null),[{axis:c},l,d[c],d[u]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||bx(l,t),d=(Wi[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=lU(h,c),m=o[f+"AxisID"]||f;a[m]=a[m]||Object.create(null),Nl(a[m],[{axis:f},n[m],d[h]])})}),Object.keys(a).forEach(o=>{const l=a[o];Nl(l,[at.scales[l.type],at.scale])}),a}function cT(e){const t=e.options||(e.options={});t.plugins=ge(t.plugins,{}),t.scales=hU(e,t)}function uT(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function fU(e){return e=e||{},e.data=uT(e.data),cT(e),e}const Vw=new Map,dT=new Set;function wu(e,t){let s=Vw.get(e);return s||(s=t(),Vw.set(e,s),dT.add(s)),s}const Ho=(e,t,s)=>{const n=ic(t,s);n!==void 0&&e.add(n)};class mU{constructor(t){this._config=fU(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=uT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),cT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return wu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return wu(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return wu(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return wu(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:a}=this,o=this._cachedScopes(t,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(d=>{t&&(c.add(t),d.forEach(h=>Ho(c,t,h))),d.forEach(h=>Ho(c,i,h)),d.forEach(h=>Ho(c,Wi[a]||{},h)),d.forEach(h=>Ho(c,at,h)),d.forEach(h=>Ho(c,px,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),dT.has(s)&&o.set(s,u),u}chartOptionScopes(){const{options:t,type:s}=this;return[t,Wi[s]||{},at.datasets[s]||{},{type:s},at,px]}resolveNamedOptions(t,s,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=Hw(this._resolverCache,t,i);let c=o;if(xU(o,s)){a.$shared=!1,n=Gr(n)?n():n;const u=this.createResolver(t,n,l);c=so(o,n,u)}for(const u of s)a[u]=c[u];return a}createResolver(t,s,n=[""],i){const{resolver:a}=Hw(this._resolverCache,t,n);return Ne(s)?so(a,s,void 0,i):a}}function Hw(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let a=n.get(i);return a||(a={resolver:T0(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,a)),a}const pU=e=>Ne(e)&&Object.getOwnPropertyNames(e).some(t=>Gr(e[t]));function xU(e,t){const{isScriptable:s,isIndexable:n}=W_(e);for(const i of t){const a=s(i),o=n(i),l=(o||a)&&e[i];if(a&&(Gr(l)||pU(l))||o&&yt(l))return!0}return!1}var gU="4.5.0";const yU=["top","bottom","left","right","chartArea"];function Ww(e,t){return e==="top"||e==="bottom"||yU.indexOf(e)===-1&&t==="x"}function qw(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Yw(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),ze(s&&s.onComplete,[e],t)}function bU(e){const t=e.chart,s=t.options.animation;ze(s&&s.onProgress,[e],t)}function hT(e){return E0()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Qu={},Gw=e=>{const t=hT(e);return Object.values(Qu).filter(s=>s.canvas===t).pop()};function vU(e,t,s){const n=Object.keys(e);for(const i of n){const a=+i;if(a>=t){const o=e[i];delete e[i],(s>0||a>t)&&(e[a+s]=o)}}}function wU(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var yr;let Qh=(yr=class{static register(...t){Cn.add(...t),Kw()}static unregister(...t){Cn.remove(...t),Kw()}constructor(t,s){const n=this.config=new mU(s),i=hT(t),a=Gw(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||UF(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=PO(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KO(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Qu[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",Yw),qn.listen(this,"progress",bU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:a}=this;return Ge(t)?s&&a?a:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Cn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gw(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(t,s){qn.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,s,a),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vw(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ze(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Ee(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let a=[];s&&(a=a.concat(Object.keys(s).map(o=>{const l=s[o],c=vx(o,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Ee(a,o=>{const l=o.options,c=l.id,u=vx(c,l),d=ge(l.type,o.dtype);(l.position===void 0||Ww(l.position,u)!==Ww(o.dposition))&&(l.position=o.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===d)h=n[c];else{const f=Cn.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,t)}),Ee(i,(o,l)=>{o||delete n[l]}),Ee(n,o=>{Ks.configure(this,o,o.options),Ks.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,a)=>i.index-a.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(qw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const a=s[n];let o=this.getDatasetMeta(n);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=a.indexAxis||bx(l,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Cn.getController(l),{datasetElementType:u,dataElementType:d}=at.datasets[l];Object.assign(c,{dataElementType:Cn.getElement(d),datasetElementType:u&&Cn.getElement(u)}),o.controller=new c(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ee(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Ee(a,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qw("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ee(this.scales,t=>{Ks.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!ow(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of s){const o=n==="_removeElements"?-a:a;vU(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(t.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<s;a++)if(!ow(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ks.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Ee(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Gr(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),Yw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,a;for(i=0,a=s.length;i<a;++i){const o=s[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=tT(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Gh(s,i),t.controller.draw(),i&&Kh(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return oc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const a=yF.modes[s];return typeof a=="function"?a(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,i);qd(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(a,{visible:n}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),qn.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gw(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Qu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(a,o)=>{s.addEventListener(this,a,o),t[a]=o},i=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};Ee(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(c,u)=>{s.addEventListener(this,c,u),t[c]=u},i=(c,u)=>{t[c]&&(s.removeEventListener(this,c,u),delete t[c])},a=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){Ee(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Ee(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let a,o,l,c;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!Hd(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,a=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=a(s,t),l=n?t:a(t,s);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:a}=this,o=s,l=this._getActiveElements(t,i,n,o),c=LO(t),u=wU(t,this._lastEvent,n,c);n&&(this._lastEvent=null,ze(a.onHover,[t,l,this],this),c&&ze(a.onClick,[t,l,this],this));const d=!Hd(l,i);return(d||s)&&(this._active=l,this._updateHoverStyles(l,i,s)),this._lastEvent=u,d}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},ae(yr,"defaults",at),ae(yr,"instances",Qu),ae(yr,"overrides",Wi),ae(yr,"registry",Cn),ae(yr,"version",gU),ae(yr,"getChart",Gw),yr);function Kw(){return Ee(Qh.instances,e=>e._plugins.invalidate())}function jU(e,t,s){const{startAngle:n,x:i,y:a,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,Ss(n-s));if(e.beginPath(),e.arc(i,a,o-u/2,n+h/2,s-h/2),l>0){const f=Math.min(u/l,Ss(n-s));e.arc(i,a,l+u/2,s-f/2,n+f/2,!0)}else{const f=Math.min(u/2,o*Ss(n-s));if(d==="round")e.arc(i,a,f,s-Ae/2,n+Ae/2,!0);else if(d==="bevel"){const m=2*f*f,x=-m*Math.cos(s+Ae/2)+i,g=-m*Math.sin(s+Ae/2)+a,y=m*Math.cos(n+Ae/2)+i,p=m*Math.sin(n+Ae/2)+a;e.lineTo(x,g),e.lineTo(y,p)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function NU(e,t,s){const{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:l,innerRadius:c}=t;let u=i/l;e.beginPath(),e.arc(a,o,l,n-u,s+u),c>i?(u=i/c,e.arc(a,o,c,s+u,n-u,!0)):e.arc(a,o,i,s+vt,n-vt),e.closePath(),e.clip()}function kU(e){return _0(e,["outerStart","outerEnd","innerStart","innerEnd"])}function SU(e,t,s,n){const i=kU(e.options.borderRadius),a=(s-t)/2,o=Math.min(a,n*t/2),l=c=>{const u=(s-Math.min(a,c))*n/2;return Ps(c,0,Math.min(a,u))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Ps(i.innerStart,0,o),innerEnd:Ps(i.innerEnd,0,o)}}function ua(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Jd(e,t,s,n,i,a){const{x:o,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=t,h=Math.max(t.outerRadius+n+s-u,0),f=d>0?d+n+s+u:0;let m=0;const x=i-c;if(n){const z=d>0?d-n:0,Q=h>0?h-n:0,I=(z+Q)/2,$=I!==0?x*I/(I+n):x;m=(x-$)/2}const g=Math.max(.001,x*h-s/Ae)/h,y=(x-g)/2,p=c+y+m,b=i-y-m,{outerStart:v,outerEnd:w,innerStart:j,innerEnd:k}=SU(t,f,h,b-p),P=h-v,S=h-w,T=p+v/P,N=b-w/S,E=f+j,M=f+k,O=p+j/E,F=b-k/M;if(e.beginPath(),a){const z=(T+N)/2;if(e.arc(o,l,h,T,z),e.arc(o,l,h,z,N),w>0){const B=ua(S,N,o,l);e.arc(B.x,B.y,w,N,b+vt)}const Q=ua(M,b,o,l);if(e.lineTo(Q.x,Q.y),k>0){const B=ua(M,F,o,l);e.arc(B.x,B.y,k,b+vt,F+Math.PI)}const I=(b-k/f+(p+j/f))/2;if(e.arc(o,l,f,b-k/f,I,!0),e.arc(o,l,f,I,p+j/f,!0),j>0){const B=ua(E,O,o,l);e.arc(B.x,B.y,j,O+Math.PI,p-vt)}const $=ua(P,p,o,l);if(e.lineTo($.x,$.y),v>0){const B=ua(P,T,o,l);e.arc(B.x,B.y,v,p-vt,T)}}else{e.moveTo(o,l);const z=Math.cos(T)*h+o,Q=Math.sin(T)*h+l;e.lineTo(z,Q);const I=Math.cos(N)*h+o,$=Math.sin(N)*h+l;e.lineTo(I,$)}e.closePath()}function _U(e,t,s,n,i){const{fullCircles:a,startAngle:o,circumference:l}=t;let c=t.endAngle;if(a){Jd(e,t,s,n,c,i);for(let u=0;u<a;++u)e.fill();isNaN(l)||(c=o+(l%Xe||Xe))}return Jd(e,t,s,n,c,i),e.fill(),c}function TU(e,t,s,n,i){const{fullCircles:a,startAngle:o,circumference:l,options:c}=t,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:m}=c,x=c.borderAlign==="inner";if(!u)return;e.setLineDash(h||[]),e.lineDashOffset=f,x?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let g=t.endAngle;if(a){Jd(e,t,s,n,g,i);for(let y=0;y<a;++y)e.stroke();isNaN(l)||(g=o+(l%Xe||Xe))}x&&NU(e,t,g),c.selfJoin&&g-o>=Ae&&m===0&&d!=="miter"&&jU(e,t,g),a||(Jd(e,t,s,n,g,i),e.stroke())}class sl extends ri{constructor(s){super();ae(this,"circumference");ae(this,"endAngle");ae(this,"fullCircles");ae(this,"innerRadius");ae(this,"outerRadius");ae(this,"pixelMargin");ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:l}=U_(a,{x:s,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,x=ge(f,u-c),g=ac(o,c,u)&&c!==u,y=x>=Xe||g,p=Ei(l,d+m,h+m);return y&&p}getCenterPoint(s){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:u,spacing:d}=this.options,h=(a+o)/2,f=(l+c+d+u)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Xe?Math.floor(i/Xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const u=1-Math.sin(Math.min(Ae,i||0)),d=a*u;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,_U(s,this,d,o,l),TU(s,this,d,o,l),s.restore()}}ae(sl,"id","arc"),ae(sl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ae(sl,"defaultRoutes",{backgroundColor:"backgroundColor"}),ae(sl,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function fT(e,t,s=t){e.lineCap=ge(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ge(s.borderDash,t.borderDash)),e.lineDashOffset=ge(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ge(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ge(s.borderWidth,t.borderWidth),e.strokeStyle=ge(s.borderColor,t.borderColor)}function CU(e,t,s){e.lineTo(s.x,s.y)}function PU(e){return e.stepped?o8:e.tension||e.cubicInterpolationMode==="monotone"?l8:CU}function mT(e,t,s={}){const n=e.length,{start:i=0,end:a=n-1}=s,{start:o,end:l}=t,c=Math.max(i,o),u=Math.min(a,l),d=i<o&&a<o||i>l&&a>l;return{count:n,start:c,loop:t.loop,ilen:u<c&&!d?n+u-c:u-c}}function EU(e,t,s,n){const{points:i,options:a}=t,{count:o,start:l,loop:c,ilen:u}=mT(i,s,n),d=PU(a);let{move:h=!0,reverse:f}=n||{},m,x,g;for(m=0;m<=u;++m)x=i[(l+(f?u-m:m))%o],!x.skip&&(h?(e.moveTo(x.x,x.y),h=!1):d(e,g,x,f,a.stepped),g=x);return c&&(x=i[(l+(f?u:0))%o],d(e,g,x,f,a.stepped)),!!c}function AU(e,t,s,n){const i=t.points,{count:a,start:o,ilen:l}=mT(i,s,n),{move:c=!0,reverse:u}=n||{};let d=0,h=0,f,m,x,g,y,p;const b=w=>(o+(u?l-w:w))%a,v=()=>{g!==y&&(e.lineTo(d,y),e.lineTo(d,g),e.lineTo(d,p))};for(c&&(m=i[b(0)],e.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=i[b(f)],m.skip)continue;const w=m.x,j=m.y,k=w|0;k===x?(j<g?g=j:j>y&&(y=j),d=(h*d+w)/++h):(v(),e.lineTo(w,j),x=k,h=0,g=y=j),p=j}v()}function wx(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?AU:EU}function RU(e){return e.stepped?B8:e.tension||e.cubicInterpolationMode==="monotone"?z8:bi}function MU(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),fT(e,t.options),e.stroke(i)}function DU(e,t,s,n){const{segments:i,options:a}=t,o=wx(t);for(const l of i)fT(e,a,l.style),e.beginPath(),o(e,t,l,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const LU=typeof Path2D=="function";function IU(e,t,s,n){LU&&!t.options.segment?MU(e,t,s,n):DU(e,t,s,n)}class Dr extends ri{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;M8(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=G8(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],a=this.points,o=eT(this,{property:s,start:i,end:i});if(!o.length)return;const l=[],c=RU(n);let u,d;for(u=0,d=o.length;u<d;++u){const{start:h,end:f}=o[u],m=a[h],x=a[f];if(m===x){l.push(m);continue}const g=Math.abs((i-m[s])/(x[s]-m[s])),y=c(m,x,g,n.stepped);y[s]=t[s],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,s,n){return wx(this)(t,this,s,n)}path(t,s,n){const i=this.segments,a=wx(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of i)o&=a(t,this,l,{start:s,end:s+n-1});return!!o}draw(t,s,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),IU(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ae(Dr,"id","line"),ae(Dr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ae(Dr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ae(Dr,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Xw(e,t,s,n){const i=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<i.radius+i.hitRadius}class Zu extends ri{constructor(s){super();ae(this,"parsed");ae(this,"skip");ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return Xw(this,s,"x",n)}inYRange(s,n){return Xw(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!oc(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,xx(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}ae(Zu,"id","point"),ae(Zu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ae(Zu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function OU(e,t,s){const n=e.segments,i=e.points,a=t.points,o=[];for(const l of n){let{start:c,end:u}=l;u=Zh(c,u,i);const d=jx(s,i[c],i[u],l.loop);if(!t.segments){o.push({source:l,target:d,start:i[c],end:i[u]});continue}const h=eT(t,d);for(const f of h){const m=jx(s,a[f.start],a[f.end],f.loop),x=Z_(l,i,m);for(const g of x)o.push({source:g,target:f,start:{[s]:Jw(d,m,"start",Math.max)},end:{[s]:Jw(d,m,"end",Math.min)}})}}return o}function jx(e,t,s,n){if(n)return;let i=t[e],a=s[e];return e==="angle"&&(i=Ss(i),a=Ss(a)),{property:e,start:i,end:a}}function FU(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,a=[];return t.segments.forEach(({start:o,end:l})=>{l=Zh(o,l,i);const c=i[o],u=i[l];n!==null?(a.push({x:c.x,y:n}),a.push({x:u.x,y:n})):s!==null&&(a.push({x:s,y:c.y}),a.push({x:s,y:u.y}))}),a}function Zh(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Jw(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function pT(e,t){let s=[],n=!1;return yt(e)?(n=!0,s=e):s=FU(e,t),s.length?new Dr({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Qw(e){return e&&e.fill!==!1}function UU(e,t,s){let i=e[t].fill;const a=[t];let o;if(!s)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Yt(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function $U(e,t,s){const n=HU(e);if(Ne(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Yt(i)&&Math.floor(i)===i?BU(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function BU(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function zU(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:Ne(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function VU(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:Ne(e)?n=e.value:n=t.getBaseValue(),n}function HU(e){const t=e.options,s=t.fill;let n=ge(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function WU(e){const{scale:t,index:s,line:n}=e,i=[],a=n.segments,o=n.points,l=qU(t,s);l.push(pT({x:null,y:t.bottom},n));for(let c=0;c<a.length;c++){const u=a[c];for(let d=u.start;d<=u.end;d++)YU(i,o[d],l)}return new Dr({points:i,options:{}})}function qU(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const a=n[i];if(a.index===t)break;a.hidden||s.unshift(a.dataset)}return s}function YU(e,t,s){const n=[];for(let i=0;i<s.length;i++){const a=s[i],{first:o,last:l,point:c}=GU(a,t,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(e.push(c),!l)break}}e.push(...n)}function GU(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],a=e.segments,o=e.points;let l=!1,c=!1;for(let u=0;u<a.length;u++){const d=a[u],h=o[d.start][s],f=o[d.end][s];if(Ei(i,h,f)){l=i===h,c=i===f;break}}return{first:l,last:c,point:n}}class xT{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:a,radius:o}=this;return s=s||{start:0,end:Xe},t.arc(i,a,o,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,a=t.angle;return{x:s+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function KU(e){const{chart:t,fill:s,line:n}=e;if(Yt(s))return XU(t,s);if(s==="stack")return WU(e);if(s==="shape")return!0;const i=JU(e);return i instanceof xT?i:pT(i,n)}function XU(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function JU(e){return(e.scale||{}).getPointPositionForValue?ZU(e):QU(e)}function QU(e){const{scale:t={},fill:s}=e,n=zU(s,t);if(Yt(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function ZU(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,a=n.reverse?t.max:t.min,o=VU(s,t,a),l=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,a);return new xT({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(t.getPointPositionForValue(c,o));return l}function mm(e,t,s){const n=KU(t),{chart:i,index:a,line:o,scale:l,axis:c}=t,u=o.options,d=u.fill,h=u.backgroundColor,{above:f=h,below:m=h}=d||{},x=i.getDatasetMeta(a),g=tT(i,x);n&&o.points.length&&(Gh(e,s),e$(e,{line:o,target:n,above:f,below:m,area:s,scale:l,axis:c,clip:g}),Kh(e))}function e$(e,t){const{line:s,target:n,above:i,below:a,area:o,scale:l,clip:c}=t,u=s._loop?"angle":t.axis;e.save();let d=a;a!==i&&(u==="x"?(Zw(e,n,o.top),pm(e,{line:s,target:n,color:i,scale:l,property:u,clip:c}),e.restore(),e.save(),Zw(e,n,o.bottom)):u==="y"&&(ej(e,n,o.left),pm(e,{line:s,target:n,color:a,scale:l,property:u,clip:c}),e.restore(),e.save(),ej(e,n,o.right),d=i)),pm(e,{line:s,target:n,color:d,scale:l,property:u,clip:c}),e.restore()}function Zw(e,t,s){const{segments:n,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:u}=l,d=i[c],h=i[Zh(c,u,i)];a?(e.moveTo(d.x,d.y),a=!1):(e.lineTo(d.x,s),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(h.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function ej(e,t,s){const{segments:n,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:u}=l,d=i[c],h=i[Zh(c,u,i)];a?(e.moveTo(d.x,d.y),a=!1):(e.lineTo(s,d.y),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(s,h.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function pm(e,t){const{line:s,target:n,property:i,color:a,scale:o,clip:l}=t,c=OU(s,n,i);for(const{source:u,target:d,start:h,end:f}of c){const{style:{backgroundColor:m=a}={}}=u,x=n!==!0;e.save(),e.fillStyle=m,t$(e,o,l,x&&jx(i,h,f)),e.beginPath();const g=!!s.pathSegment(e,u);let y;if(x){g?e.closePath():tj(e,n,f,i);const p=!!n.pathSegment(e,d,{move:g,reverse:!0});y=g&&p,y||tj(e,n,h,i)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function t$(e,t,s,n){const i=t.chart.chartArea,{property:a,start:o,end:l}=n||{};if(a==="x"||a==="y"){let c,u,d,h;a==="x"?(c=o,u=i.top,d=l,h=i.bottom):(c=i.left,u=o,d=i.right,h=l),e.beginPath(),s&&(c=Math.max(c,s.left),d=Math.min(d,s.right),u=Math.max(u,s.top),h=Math.min(h,s.bottom)),e.rect(c,u,d-c,h-u),e.clip()}}function tj(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var s$={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let a,o,l,c;for(o=0;o<n;++o)a=e.getDatasetMeta(o),l=a.dataset,c=null,l&&l.options&&l instanceof Dr&&(c={visible:e.isDatasetVisible(o),index:o,fill:$U(l,o,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=c,i.push(c);for(o=0;o<n;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=UU(i,o,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(a,l.axis),n&&l.fill&&mm(e.ctx,l,a))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;Qw(a)&&mm(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!Qw(n)||s.drawTime!=="beforeDatasetDraw"||mm(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const sj=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},n$=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class nj extends ri{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=ze(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=zt(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=sj(n,a);let u,d;s.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,a,l,c)+10):(d=this.maxHeight,u=this._fitCols(o,i,l,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+l;let h=t;a.textAlign="left",a.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((x,g)=>{const y=n+s/2+a.measureText(x.text).width;(g===0||u[u.length-1]+y+2*l>o)&&(h+=d,u[u.length-(g>0?0:1)]=0,m+=d,f++),c[g]={left:0,top:m,row:f,width:y,height:i},u[u.length-1]+=y+l}),h}_fitCols(t,s,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t;let h=l,f=0,m=0,x=0,g=0;return this.legendItems.forEach((y,p)=>{const{itemWidth:b,itemHeight:v}=r$(n,s,a,y,i);p>0&&m+v+2*l>d&&(h+=f+l,u.push({width:f,height:m}),x+=f+l,g++,f=m=0),c[p]={left:x,top:m,col:g,width:b,height:v},f=Math.max(f,b),m+=v+l}),h+=f,u.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:a}}=this,o=Ba(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ot(n,this.left+i,this.right-this.lineWidths[l]);for(const u of s)l!==u.row&&(l=u.row,c=Ot(n,this.left+i,this.right-this.lineWidths[l])),u.top+=this.top+t+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let l=0,c=Ot(n,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const u of s)u.col!==l&&(l=u.col,c=Ot(n,this.top+t+i,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gh(t,this),this._draw(),Kh(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:a,labels:o}=t,l=at.color,c=Ba(t.rtl,this.left,this.width),u=zt(o.font),{padding:d}=o,h=u.size,f=h/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:x,boxHeight:g,itemHeight:y}=sj(o,h),p=function(k,P,S){if(isNaN(x)||x<=0||isNaN(g)||g<0)return;i.save();const T=ge(S.lineWidth,1);if(i.fillStyle=ge(S.fillStyle,l),i.lineCap=ge(S.lineCap,"butt"),i.lineDashOffset=ge(S.lineDashOffset,0),i.lineJoin=ge(S.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=ge(S.strokeStyle,l),i.setLineDash(ge(S.lineDash,[])),o.usePointStyle){const N={radius:g*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:T},E=c.xPlus(k,x/2),M=P+f;H_(i,N,E,M,o.pointStyleWidth&&x)}else{const N=P+Math.max((h-g)/2,0),E=c.leftForLtr(k,x),M=Tl(S.borderRadius);i.beginPath(),Object.values(M).some(O=>O!==0)?gx(i,{x:E,y:N,w:x,h:g,radius:M}):i.rect(E,N,x,g),i.fill(),T!==0&&i.stroke()}i.restore()},b=function(k,P,S){lc(i,S.text,k,P+y/2,u,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?m={x:Ot(a,this.left+d,this.right-n[0]),y:this.top+d+w,line:0}:m={x:this.left+d,y:Ot(a,this.top+w+d,this.bottom-s[0].height),line:0},X_(this.ctx,t.textDirection);const j=y+d;this.legendItems.forEach((k,P)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const S=i.measureText(k.text).width,T=c.textAlign(k.textAlign||(k.textAlign=o.textAlign)),N=x+f+S;let E=m.x,M=m.y;c.setWidth(this.width),v?P>0&&E+N+d>this.right&&(M=m.y+=j,m.line++,E=m.x=Ot(a,this.left+d,this.right-n[m.line])):P>0&&M+j>this.bottom&&(E=m.x=E+s[m.line].width+d,m.line++,M=m.y=Ot(a,this.top+w+d,this.bottom-s[m.line].height));const O=c.x(E);if(p(O,M,k),E=XO(T,E+x+f,v?E+N:this.right,t.rtl),b(c.x(E),M,k),v)m.x+=N+d;else if(typeof k.text!="string"){const F=u.lineHeight;m.y+=gT(k,F)+d}else m.y+=j}),J_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=zt(s.font),i=sn(s.padding);if(!s.display)return;const a=Ba(t.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,u=i.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Ot(t.align,h,this.right-f);else{const x=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);d=u+Ot(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const m=Ot(l,h,h+f);o.textAlign=a.textAlign(N0(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,lc(o,s.text,m,d,n)}_computeTitleHeight(){const t=this.options.title,s=zt(t.font),n=sn(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,a;if(Ei(t,this.left,this.right)&&Ei(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],Ei(t,i.left,i.left+i.width)&&Ei(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!o$(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=n$(i,n);i&&!a&&ze(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!a&&ze(s.onHover,[t,n,this],this)}else n&&ze(s.onClick,[t,n,this],this)}}function r$(e,t,s,n,i){const a=i$(n,e,t,s),o=a$(i,n,t.lineHeight);return{itemWidth:a,itemHeight:o}}function i$(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),t+s.size/2+n.measureText(i).width}function a$(e,t,s){let n=e;return typeof t.text!="string"&&(n=gT(t,s)),n}function gT(e,t){const s=e.text?e.text.length:0;return t*s}function o$(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var l$={id:"legend",_element:nj,start(e,t,s){const n=e.legend=new nj({ctx:e.ctx,options:s,chart:e});Ks.configure(e,n,s),Ks.addBox(e,n)},stop(e){Ks.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Ks.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(s?0:void 0),d=sn(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class yT extends ri{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=yt(n.text)?n.text.length:1;this._padding=sn(n.padding);const a=i*zt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:a,options:o}=this,l=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=Ot(l,n,a),h=s+t,u=a-n):(o.position==="left"?(d=n+t,h=Ot(l,i,s),c=Ae*-.5):(d=a-t,h=Ot(l,s,i),c=Ae*.5),u=i-s),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=zt(s.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(a);lc(t,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:u,textAlign:N0(s.align),textBaseline:"middle",translation:[o,l]})}}function c$(e,t){const s=new yT({ctx:e.ctx,options:t,chart:e});Ks.configure(e,s,t),Ks.addBox(e,s),e.titleBlock=s}var u$={id:"title",_element:yT,start(e,t,s){c$(e,s)},stop(e){const t=e.titleBlock;Ks.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Ks.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nl={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,a=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=e.length;a<o;++a){const c=e[a].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=fx(t,u);d<i&&(i=d,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function _n(e,t){return t&&(yt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Yn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function d$(e,t){const{element:s,datasetIndex:n,index:i}=t,a=e.getDatasetMeta(n).controller,{label:o,value:l}=a.getLabelAndValue(i);return{chart:e,label:o,parsed:a.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function rj(e,t){const s=e.chart.ctx,{body:n,footer:i,title:a}=e,{boxWidth:o,boxHeight:l}=t,c=zt(t.bodyFont),u=zt(t.titleFont),d=zt(t.footerFont),h=a.length,f=i.length,m=n.length,x=sn(t.padding);let g=x.height,y=0,p=n.reduce((w,j)=>w+j.before.length+j.lines.length+j.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),p){const w=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=m*w+(p-m)*c.lineHeight+(p-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let b=0;const v=function(w){y=Math.max(y,s.measureText(w).width+b)};return s.save(),s.font=u.string,Ee(e.title,v),s.font=c.string,Ee(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?o+2+t.boxPadding:0,Ee(n,w=>{Ee(w.before,v),Ee(w.lines,v),Ee(w.after,v)}),b=0,s.font=d.string,Ee(e.footer,v),s.restore(),y+=x.width,{width:y,height:g}}function h$(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function f$(e,t,s,n){const{x:i,width:a}=n,o=s.caretSize+s.caretPadding;if(e==="left"&&i+a+o>t.width||e==="right"&&i-a-o<0)return!0}function m$(e,t,s,n){const{x:i,width:a}=s,{width:o,chartArea:{left:l,right:c}}=e;let u="center";return n==="center"?u=i<=(l+c)/2?"left":"right":i<=a/2?u="left":i>=o-a/2&&(u="right"),f$(u,e,t,s)&&(u="center"),u}function ij(e,t,s){const n=s.yAlign||t.yAlign||h$(e,s);return{xAlign:s.xAlign||t.xAlign||m$(e,t,s,n),yAlign:n}}function p$(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function x$(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function aj(e,t,s,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=e,{xAlign:l,yAlign:c}=s,u=i+a,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=Tl(o);let x=p$(t,l);const g=x$(t,c,u);return c==="center"?l==="left"?x+=u:l==="right"&&(x-=u):l==="left"?x-=Math.max(d,f)+i:l==="right"&&(x+=Math.max(h,m)+i),{x:Ps(x,0,n.width-t.width),y:Ps(g,0,n.height-t.height)}}function ju(e,t,s){const n=sn(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function oj(e){return _n([],Yn(e))}function g$(e,t,s){return Zi(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function lj(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const bT={beforeTitle:Hn,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Hn,beforeBody:Hn,beforeLabel:Hn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Ge(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Hn,afterBody:Hn,beforeFooter:Hn,footer:Hn,afterFooter:Hn};function ls(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?bT[t].call(s,n):i}class Nx extends ri{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,a=new sT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=g$(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=ls(n,"beforeTitle",this,t),a=ls(n,"title",this,t),o=ls(n,"afterTitle",this,t);let l=[];return l=_n(l,Yn(i)),l=_n(l,Yn(a)),l=_n(l,Yn(o)),l}getBeforeBody(t,s){return oj(ls(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return Ee(t,a=>{const o={before:[],lines:[],after:[]},l=lj(n,a);_n(o.before,Yn(ls(l,"beforeLabel",this,a))),_n(o.lines,ls(l,"label",this,a)),_n(o.after,Yn(ls(l,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(t,s){return oj(ls(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=ls(n,"beforeFooter",this,t),a=ls(n,"footer",this,t),o=ls(n,"afterFooter",this,t);let l=[];return l=_n(l,Yn(i)),l=_n(l,Yn(a)),l=_n(l,Yn(o)),l}_createItems(t){const s=this._active,n=this.chart.data,i=[],a=[],o=[];let l=[],c,u;for(c=0,u=s.length;c<u;++c)l.push(d$(this.chart,s[c]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,n))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,n))),Ee(l,d=>{const h=lj(t.callbacks,d);i.push(ls(h,"labelColor",this,d)),a.push(ls(h,"labelPointStyle",this,d)),o.push(ls(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=nl[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=rj(this,n),u=Object.assign({},l,c),d=ij(this.chart,n,u),h=aj(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const a=this.getCaretPosition(t,n,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Tl(l),{x:f,y:m}=t,{width:x,height:g}=s;let y,p,b,v,w,j;return a==="center"?(w=m+g/2,i==="left"?(y=f,p=y-o,v=w+o,j=w-o):(y=f+x,p=y+o,v=w-o,j=w+o),b=y):(i==="left"?p=f+Math.max(c,d)+o:i==="right"?p=f+x-Math.max(u,h)-o:p=this.caretX,a==="top"?(v=m,w=v-o,y=p-o,b=p+o):(v=m+g,w=v+o,y=p+o,b=p-o),j=v),{x1:y,x2:p,x3:b,y1:v,y2:w,y3:j}}drawTitle(t,s,n){const i=this.title,a=i.length;let o,l,c;if(a){const u=Ba(n.rtl,this.x,this.width);for(t.x=ju(this,n.titleAlign,n),s.textAlign=u.textAlign(n.titleAlign),s.textBaseline="middle",o=zt(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<a;++c)s.fillText(i[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===a&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,s,n,i,a){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=a,d=zt(a.bodyFont),h=ju(this,"left",a),f=i.x(h),m=c<d.lineHeight?(d.lineHeight-c)/2:0,x=s.y+m;if(a.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=i.leftForLtr(f,u)+u/2,p=x+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,xx(t,g,y,p),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,xx(t,g,y,p)}else{t.lineWidth=Ne(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(f,u),y=i.leftForLtr(i.xPlus(f,1),u-2),p=Tl(o.borderRadius);Object.values(p).some(b=>b!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,gx(t,{x:g,y:x,w:u,h:c,radius:p}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),gx(t,{x:y,y:x+1,w:u-2,h:c-2,radius:p}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(g,x,u,c),t.strokeRect(g,x,u,c),t.fillStyle=o.backgroundColor,t.fillRect(y,x+1,u-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,h=zt(n.bodyFont);let f=h.lineHeight,m=0;const x=Ba(n.rtl,this.x,this.width),g=function(S){s.fillText(S,x.x(t.x+m),t.y+f/2),t.y+=f+a},y=x.textAlign(o);let p,b,v,w,j,k,P;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,t.x=ju(this,y,n),s.fillStyle=n.bodyColor,Ee(this.beforeBody,g),m=l&&y!=="right"?o==="center"?u/2+d:u+2+d:0,w=0,k=i.length;w<k;++w){for(p=i[w],b=this.labelTextColors[w],s.fillStyle=b,Ee(p.before,g),v=p.lines,l&&v.length&&(this._drawColorBox(s,t,w,x,n),f=Math.max(h.lineHeight,c)),j=0,P=v.length;j<P;++j)g(v[j]),f=h.lineHeight;Ee(p.after,g)}m=0,f=h.lineHeight,Ee(this.afterBody,g),t.y-=a}drawFooter(t,s,n){const i=this.footer,a=i.length;let o,l;if(a){const c=Ba(n.rtl,this.x,this.width);for(t.x=ju(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=zt(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<a;++l)s.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=t,{width:u,height:d}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:x}=Tl(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(t,s,n,i),s.lineTo(l+u-f,c),s.quadraticCurveTo(l+u,c,l+u,c+f),o==="center"&&a==="right"&&this.drawCaret(t,s,n,i),s.lineTo(l+u,c+d-x),s.quadraticCurveTo(l+u,c+d,l+u-x,c+d),o==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(l+m,c+d),s.quadraticCurveTo(l,c+d,l,c+d-m),o==="center"&&a==="left"&&this.drawCaret(t,s,n,i),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=nl[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=rj(this,t),c=Object.assign({},o,this._size),u=ij(s,t,c),d=aj(t,c,u,s);(i._to!==d.x||a._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=sn(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,i,s),X_(t,s.textDirection),a.y+=o.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),J_(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),a=!Hd(n,i),o=this._positionChanged(i,s);(a||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(t,a,s,n),l=this._positionChanged(o,t),c=s||!Hd(o,a)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,n,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:n,caretY:i,options:a}=this,o=nl[a.position].call(this,t,s);return o!==!1&&(n!==o.x||i!==o.y)}}ae(Nx,"positioners",nl);var y$={id:"tooltip",_element:Nx,positioners:nl,afterInit(e,t,s){s&&(e.tooltip=new Nx({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const b$=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function v$(e,t,s,n){const i=e.indexOf(t);if(i===-1)return b$(e,t,s,n);const a=e.lastIndexOf(t);return i!==a?s:i}const w$=(e,t)=>e===null?null:Ps(Math.round(e),0,t);function cj(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class kx extends wo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:a}of s)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Ge(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:v$(n,t,ge(s,t),this._addedLabels),w$(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=s;o++)i.push({value:o});return i}getLabelForValue(t){return cj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ae(kx,"id","category"),ae(kx,"defaults",{ticks:{callback:cj}});function j$(e,t){const s=[],{bounds:i,step:a,min:o,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=e,m=a||1,x=d-1,{min:g,max:y}=t,p=!Ge(o),b=!Ge(l),v=!Ge(u),w=(y-g)/(h+1);let j=cw((y-g)/x/m)*m,k,P,S,T;if(j<1e-14&&!p&&!b)return[{value:g},{value:y}];T=Math.ceil(y/j)-Math.floor(g/j),T>x&&(j=cw(T*j/x/m)*m),Ge(c)||(k=Math.pow(10,c),j=Math.ceil(j*k)/k),i==="ticks"?(P=Math.floor(g/j)*j,S=Math.ceil(y/j)*j):(P=g,S=y),p&&b&&a&&$O((l-o)/a,j/1e3)?(T=Math.round(Math.min((l-o)/j,d)),j=(l-o)/T,P=o,S=l):v?(P=p?o:P,S=b?l:S,T=u-1,j=(S-P)/T):(T=(S-P)/j,kl(T,Math.round(T),j/1e3)?T=Math.round(T):T=Math.ceil(T));const N=Math.max(uw(j),uw(P));k=Math.pow(10,Ge(c)?N:c),P=Math.round(P*k)/k,S=Math.round(S*k)/k;let E=0;for(p&&(f&&P!==o?(s.push({value:o}),P<o&&E++,kl(Math.round((P+E*j)*k)/k,o,uj(o,w,e))&&E++):P<o&&E++);E<T;++E){const M=Math.round((P+E*j)*k)/k;if(b&&M>l)break;s.push({value:M})}return b&&f&&S!==l?s.length&&kl(s[s.length-1].value,l,uj(l,w,e))?s[s.length-1].value=l:s.push({value:l}):(!b||S===l)&&s.push({value:S}),s}function uj(e,t,{horizontal:s,minRotation:n}){const i=tr(n),a=(s?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class N$ extends wo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Ge(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=c=>i=s?i:c,l=c=>a=n?a:c;if(t){const c=to(i),u=to(a);c<0&&u<0?l(0):c>0&&u>0&&o(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);l(a+c),t||o(i-c)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,o=j$(i,a);return t.bounds==="ticks"&&BO(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return S0(t,this.chart.options.locale,this.options.ticks.format)}}class Sx extends N${determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Yt(t)?t:0,this.max=Yt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=tr(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ae(Sx,"id","linear"),ae(Sx,"defaults",{ticks:{callback:V_.formatters.numeric}});const ef={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fs=Object.keys(ef);function dj(e,t){return e-t}function hj(e,t){if(Ge(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:a}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Yt(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(Gd(a)||a===!0)?s.startOf(o,"isoWeek",a):s.startOf(o,i)),+o)}function fj(e,t,s,n){const i=fs.length;for(let a=fs.indexOf(e);a<i-1;++a){const o=ef[fs[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(l*o.size))<=n)return fs[a]}return fs[i-1]}function k$(e,t,s,n,i){for(let a=fs.length-1;a>=fs.indexOf(s);a--){const o=fs[a];if(ef[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return fs[s?fs.indexOf(s):0]}function S$(e){for(let t=fs.indexOf(e)+1,s=fs.length;t<s;++t)if(ef[fs[t]].common)return fs[t]}function mj(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=j0(s,t),a=s[n]>=t?s[n]:s[i];e[a]=!0}}function _$(e,t,s,n){const i=e._adapter,a=+i.startOf(t[0].value,n),o=t[t.length-1].value;let l,c;for(l=a;l<=o;l=+i.add(l,1,n))c=s[l],c>=0&&(t[c].major=!0);return t}function pj(e,t,s){const n=[],i={},a=t.length;let o,l;for(o=0;o<a;++o)l=t[o],i[l]=o,n.push({value:l,major:!1});return a===0||!s?n:_$(e,n,i,s)}class Qd extends wo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new fF._date(t.adapters.date);i.init(s),Nl(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:hj(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!l&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Yt(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),a=Yt(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,l=qO(i,a,o);return this._unit=s.unit||(n.autoSkip?fj(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):k$(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:S$(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),pj(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=Ps(s,0,o),n=Ps(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||fj(a.minUnit,s,n,this._getLabelCapacity(s)),l=ge(i.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,u=Gd(c)||c===!0,d={};let h=s,f,m;if(u&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,u?"day":o),t.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const x=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+t.add(f,l,o),m++)mj(d,f,x);return(f===n||i.bounds==="ticks"||m===1)&&mj(d,f,x),Object.keys(d).sort(dj).map(g=>+g)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,a=this._unit,o=s||i[a];return this._adapter.format(t,o)}_tickFormatFunction(t,s,n,i){const a=this.options,o=a.ticks.callback;if(o)return ze(o,[t,s,n],this);const l=a.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=n[s],m=u&&h&&f&&f.major;return this._adapter.format(t,i||(m?h:d))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=tr(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*a+l*o,h:n*o+l*a}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,a=this._tickFormatFunction(t,0,pj(this,[t],this._majorUnit),i),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(hj(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return GO(t.sort(dj))}}ae(Qd,"id","time"),ae(Qd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nu(e,t,s){let n=0,i=e.length-1,a,o,l,c;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=mx(e,"pos",t)),{pos:a,time:l}=e[n],{pos:o,time:c}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=mx(e,"time",t)),{time:a,pos:l}=e[n],{time:o,pos:c}=e[i]);const u=o-a;return u?l+(c-l)*(t-a)/u:l}class xj extends Qd{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Nu(s,this.min),this._tableRange=Nu(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],a=[];let o,l,c,u,d;for(o=0,l=t.length;o<l;++o)u=t[o],u>=s&&u<=n&&i.push(u);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)d=i[o+1],c=i[o-1],u=i[o],Math.round((d+c)/2)!==u&&a.push({time:u,pos:o/(l-1)});return a}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Nu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Nu(this._table,n*this._tableRange+this._minPos,!0)}}ae(xj,"id","timeseries"),ae(xj,"defaults",Qd.defaults);const vT="label";function gj(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function T$(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function wT(e,t){e.labels=t}function jT(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vT;const n=[];e.datasets=t.map(i=>{const a=e.datasets.find(o=>o[s]===i[s]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function C$(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vT;const s={labels:[],datasets:[]};return wT(s,e.labels),jT(s,e.datasets,t),s}function P$(e,t){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=e,m=_.useRef(null),x=_.useRef(null),g=()=>{m.current&&(x.current=new Qh(m.current,{type:o,data:C$(l,a),options:c&&{...c},plugins:u}),gj(t,x.current))},y=()=>{gj(t,null),x.current&&(x.current.destroy(),x.current=null)};return _.useEffect(()=>{!i&&x.current&&c&&T$(x.current,c)},[i,c]),_.useEffect(()=>{!i&&x.current&&wT(x.current.config.data,l.labels)},[i,l.labels]),_.useEffect(()=>{!i&&x.current&&l.datasets&&jT(x.current.config.data,l.datasets,a)},[i,l.datasets]),_.useEffect(()=>{x.current&&(i?(y(),setTimeout(g)):x.current.update(h))},[i,c,l.labels,l.datasets,h]),_.useEffect(()=>{x.current&&(y(),setTimeout(g))},[o]),_.useEffect(()=>(g(),()=>y()),[]),Pe.createElement("canvas",{ref:m,role:"img",height:s,width:n,...f},d)}const E$=_.forwardRef(P$);function A$(e,t){return Qh.register(t),_.forwardRef((s,n)=>Pe.createElement(E$,{...s,ref:n,type:e}))}const R$=A$("pie",yx),M$=()=>{const{ordersHistory:e,robots:t,positions:s,fetchRobots:n,updateRobotPerformanceFromSignals:i}=Ds(),[a,o]=_.useState(!1),[l,c]=_.useState(null),[u,d]=_.useState(1200),[h,f]=_.useState({});_.useEffect(()=>{const b=H.channel("positions-changes").on("postgres_changes",{event:"*",schema:"public",table:"positions"},()=>{n(),i(),m(),d(1200)}).subscribe();return console.log("robotPerformance",h),()=>{H.removeChannel(b)}},[n,i]),_.useEffect(()=>{n();const b=setInterval(()=>{n(),i(),m()},u);return()=>clearInterval(b)},[n,u,i]),_.useEffect(()=>{const b=()=>{o(!0)};return window.addEventListener("openCreateRobotModal",b),()=>{window.removeEventListener("openCreateRobotModal",b)}},[]);const m=()=>{const b={};t.forEach(v=>{const w=s.filter(P=>{var S,T,N,E;if(v.symbol){const M=lu(P.symbol)===lu(v.symbol),O=((S=P.comment)==null?void 0:S.includes(v.botToken))||v.strategy&&((T=P.comment)==null?void 0:T.includes(v.strategy));return M&&O}return((N=P.comment)==null?void 0:N.includes(v.botToken))||v.strategy&&((E=P.comment)==null?void 0:E.includes(v.strategy))}),j=w.reduce((P,S)=>P+S.profit,0),k=w.length;b[v.id]={floatingPnL:j,openPositions:k}}),f(b)},x=async()=>{try{const b=await nt.getPositions(),v={};t.forEach(w=>{const j=b.filter(S=>{var T,N,E,M;if(w.symbol){const O=lu(S.symbol)===lu(w.symbol),F=((T=S.comment)==null?void 0:T.includes(w.botToken))||w.strategy&&((N=S.comment)==null?void 0:N.includes(w.strategy));return O&&F}return((E=S.comment)==null?void 0:E.includes(w.botToken))||w.strategy&&((M=S.comment)==null?void 0:M.includes(w.strategy))}),k=j.reduce((S,T)=>S+T.profit,0),P=j.length;v[w.id]={floatingPnL:k,openPositions:P}}),f(w=>Object.keys(v).some(k=>{var P,S;return((P=w[k])==null?void 0:P.floatingPnL)!==v[k].floatingPnL||((S=w[k])==null?void 0:S.openPositions)!==v[k].openPositions})?v:w)}catch(b){console.error("Failed to fetch MT5 positions:",b)}};_.useEffect(()=>{x();const b=setInterval(x,u);return()=>clearInterval(b)},[t,u]),_.useEffect(()=>{m()},[s,t]),_.useEffect(()=>{async function b(){for(const v of t){const w=v.userId,j=v.botToken;if(!w||!j)continue;const{data:k}=await H.from("trading_signals").select("*").eq("user_id",w).eq("bot_token",j).eq("strategy",v.strategy).eq("symbol",v.symbol).eq("status","pending");if(k&&k.length>0)for(const P of k)try{await H.from("trading_signals").update({status:"executed"}).eq("id",P.id)}catch(S){console.error("Failed to auto-execute trade for signal",P,S)}}}t.length>0&&b()},[t]);const g=b=>{switch(b){case"LOW":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"MEDIUM":return"bg-amber-50 text-amber-700 border-amber-200";case"HIGH":return"bg-rose-50 text-rose-700 border-rose-200"}},y=b=>`${b.userId}_${b.botToken}_${b.symbol||"ALL"}_${b.strategy}`,p=async()=>{try{const{data:{session:b}}=await H.auth.getSession(),v=b?b.user.id:"";let w=localStorage.getItem("mt5_username"),j=localStorage.getItem("mt5_nickname"),k=localStorage.getItem("mt5_server");localStorage.setItem("userId",v);let P=await H.from("user_accounts").select("*").eq("user_id",v).eq("mt5_username",w).eq("mt5_server",k).eq("account_name",j).single();debugger;if(!v){D.error("User not authenticated");return}const S={user_id:v,mt5_account_id:P.data.id,name:"TradingHub",symbol:"XAUUSD",strategy:"Scalping",risk_level:"STRATEGY",max_lot_size:.01,stop_loss:0,take_profit:0,is_active:!0,bot_token:`tradinghub-${v}-${Date.now()}`,total_trades:0,win_rate:0,profit:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:T}=await H.from("trading_robots").insert([S]);T?D.error("Failed to create default robot: "+T.message):(D.success("Default robot created!"),n())}catch(b){D.error("Error creating robot"),console.error("Error creating robot:",b)}};return r.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-[#181818] via-[#232323] to-[#0a0a0a] py-10 px-0 overflow-hidden",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-10",children:[r.jsxs("div",{className:"rounded-3xl shadow-2xl border-4 border-[#bfa14a] bg-gradient-to-br from-[#232323] via-[#181818] to-[#0a0a0a] p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-[#fffbe6] tracking-wide drop-shadow-lg",children:"Trading Robots"}),t.length>0&&r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-8 py-3 rounded-2xl font-bold text-lg bg-gradient-to-r from-[#bfa14a] to-[#fffbe6] text-[#181818] border-2 border-[#bfa14a] shadow-lg hover:from-[#fffbe6] hover:to-[#bfa14a] hover:text-black transition-all duration-200",children:[r.jsx(Ln,{className:"w-6 h-6"})," Create Robot"]})]}),r.jsx("div",{className:"text-center",children:t.length===0?r.jsxs("div",{className:"text-center py-24",children:[r.jsx(ss,{className:"w-20 h-20 text-[#bfa14a] mx-auto mb-6"}),r.jsx("button",{onClick:()=>p(),className:"flex items-center gap-2 px-8 py-3 rounded-2xl font-bold text-lg bg-gradient-to-r from-[#bfa14a] to-[#fffbe6] text-[#181818] border-2 border-[#bfa14a] shadow-lg hover:from-[#fffbe6] hover:to-[#bfa14a] hover:text-black transition-all duration-200",children:"Create Default Robot"}),r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-8 py-3 rounded-2xl font-bold text-lg bg-gradient-to-r from-[#bfa14a] to-[#fffbe6] text-[#181818] border-2 border-[#bfa14a] shadow-lg hover:from-[#fffbe6] hover:to-[#bfa14a] hover:text-black transition-all duration-200",children:[r.jsx(Ln,{className:"w-6 h-6"})," Create Robot"]}),r.jsx("p",{className:"text-[#fffbe6] text-2xl font-bold",children:"No trading robots created"}),r.jsx("p",{className:"text-lg text-[#bfa14a] mt-2",children:"Create automated trading robots to execute strategies"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:t.map(b=>{const v=y(b),w=b.isActive,j=b.performance.winRate,k=100-j,P={labels:["Win","Loss"],datasets:[{data:[j,k],backgroundColor:["#bfa14a","#232323"],borderWidth:0}]};return r.jsxs("div",{className:`relative rounded-2xl border-4 border-[#bfa14a] bg-gradient-to-br from-[#232323] via-[#181818] to-[#000000] p-0 shadow-2xl transition-all duration-200 cursor-pointer flex flex-col group hover:scale-[1.03] ${w?"":"opacity-40 grayscale"}`,onClick:()=>c(b),style:{boxShadow:"0 8px 32px 0 rgba(191,161,74,0.22), 0 1.5px 0 0 #bfa14a",minBlockSize:180,overflow:"hidden"},children:[r.jsx("span",{className:"absolute right-8 top-1/2 -translate-y-1/2 z-20 px-3 py-1 rounded text-sm font-extrabold tracking-widest border border-[#bfa14a] shadow-lg",style:{background:"linear-gradient(90deg, #fffbe6 0%, #bfa14a 100%)",color:"#ffffff",letterSpacing:2},children:r.jsx("div",{className:"flex flex-col items-left",children:r.jsx("span",{className:"text-m font-bold text-[#000000]",children:e&&e.length>0?e==null?void 0:e.filter(S=>S.comment===b.strategy&&S.symbol===b.symbol).reduce((S,T)=>S+T.profit,0).toFixed(2):0})})}),r.jsxs("div",{className:"flex flex-row items-center justify-between px-8 pt-4 pb-2",children:[r.jsxs("div",{className:"flex flex-col gap-2 min-w-[180px] w-full",children:[r.jsx("div",{className:"flex-1 flex flex-row justify-evenly items-center gap-2",children:r.jsx("div",{className:"flex flex-col items-left",children:r.jsx("span",{className:"text-2xl font-extrabold text-[#fffbe6] tracking-wide drop-shadow-lg whitespace-nowrap",children:b.name})})}),r.jsxs("div",{className:"flex flex-row items-center gap-3 mt-1 w-full",children:[r.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold tracking-widest ${w?"text-[#bfa14a] bg-[#181818]/80 border border-[#bfa14a]":"text-red-400 bg-[#181818]/40 border border-red-400"} w-fit`,children:w?"ACTIVE":"INACTIVE"}),r.jsxs("span",{className:"text-xs text-[#bfa14a] font-normal",children:["Risk: ",r.jsx("span",{className:`font-semibold ${g(b.riskLevel)}`,children:b.riskLevel})]}),r.jsxs("span",{className:"text-xs text-[#bfa14a] font-normal",children:["Symbol: ",r.jsx("span",{className:"font-semibold text-[#fffbe6]",children:b.symbol||"All Symbols"})]})]})]}),r.jsx("div",{className:"min-w-[100px]"})]}),r.jsxs("div",{className:"flex flex-row items-center justify-between px-8 pb-5 pt-2 border-t border-[#bfa14a]/30 bg-gradient-to-r from-[#181818]/80 to-[#232323]/80",children:[r.jsxs("div",{className:"w-14 h-14 relative",children:[r.jsx(R$,{data:P,options:{plugins:{legend:{display:!1}},cutout:"70%"}}),r.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-base font-bold text-[#bfa14a]",children:[e&&e.length>0?(e.filter(S=>S.comment===b.strategy&&S.symbol===b.symbol&&S.profit>=0).length/e.length*100).toFixed(0):0,"%"]})]}),r.jsxs("div",{className:"flex-1 flex flex-row justify-evenly items-center gap-2",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a] font-semibold",children:"Open Pos"}),r.jsx("span",{className:"text-lg font-bold text-[#fffbe6]",children:s.length>0?s.filter(S=>S.comment===b.strategy&&S.symbol===b.symbol).length:"0"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a] font-semibold",children:"Total Win"}),r.jsx("span",{className:"text-lg font-bold text-[#fffbe6]",children:e&&e.length>0?e==null?void 0:e.filter(S=>S.comment===b.strategy&&S.symbol===b.symbol&&S.profit>=0).reduce((S,T)=>S+T.profit,0).toFixed(2):0})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs text-[#bfa14a] font-semibold",children:"Total Loss"}),r.jsx("span",{className:"text-lg font-bold text-[#fffbe6]",children:e&&e.length>0?e==null?void 0:e.filter(S=>S.comment===b.strategy&&S.symbol===b.symbol&&S.profit<0).reduce((S,T)=>S+T.profit,0).toFixed(2):0})]})]})]})]},v)})})})]}),a&&r.jsx(KI,{onClose:()=>o(!1)}),l&&r.jsx(aO,{robot:l,onClose:()=>{c(null),n()},userId:""})]})})},D$=()=>{const[e,t]=_.useState(!1),[s,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(null),{robots:c}=Ds(),u=`${xn}/functions/v1/tradingview-webhook`;_.useEffect(()=>{(async()=>{var y;try{const{data:{session:p}}=await H.auth.getSession();(y=p==null?void 0:p.user)!=null&&y.id&&l(p.user.id)}catch(p){console.error("Error getting user ID:",p)}})()},[]);const d=async()=>{try{await navigator.clipboard.writeText(u),t(!0),D.success("Webhook URL copied to clipboard"),setTimeout(()=>t(!1),2e3)}catch{D.error("Failed to copy URL")}},h=async()=>{if(!o){D.error("User ID not available");return}try{await navigator.clipboard.writeText(o),n(!0),D.success("User ID copied to clipboard"),setTimeout(()=>n(!1),2e3)}catch{D.error("Failed to copy User ID")}},f=c.length>0?{symbol:"EURUSD",action:"BUY",volume:.1,price:"{{close}}",stopLoss:1.08,takeProfit:1.09,timestamp:"{{time}}",strategy:"Your Strategy Name",botToken:c[0].botToken,userId:o}:null,m={symbol:"EURUSD",action:"BUY",volume:.1,price:"{{close}}",stopLoss:1.08,takeProfit:1.09,timestamp:"{{time}}",strategy:"Your Strategy Name",userId:o},x={symbol:"EURUSD",action:"CLOSE",price:"{{close}}",timestamp:"{{time}}",strategy:"Close All EURUSD",userId:o};return r.jsx("div",{className:"bg-[#181818] min-h-screen flex items-center justify-center py-12 px-4",children:r.jsxs("div",{className:"w-full max-w-2xl bg-[#292929] border border-[#ffa31a] rounded-xl shadow p-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[r.jsx("div",{className:"bg-[#ffa31a] p-2 rounded-lg",children:r.jsx(C_,{className:"w-5 h-5 text-[#1b1b1b]"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent",children:"TradingView Webhook"}),r.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Configure your TradingView alerts for automatic signal execution"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-[#ffa31a] mb-2",children:"Webhook URL"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-[#1b1b1b] border border-[#808080] rounded-lg p-3 font-mono text-sm text-[#ffa31a] break-all",children:u}),r.jsxs("button",{onClick:d,className:"flex items-center space-x-1 px-3 py-2 bg-[#ffa31a] text-[#1b1b1b] rounded-lg hover:bg-[#ffb84d] transition-colors font-bold",children:[e?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e?"Copied":"Copy"})]})]})]}),r.jsx("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(_s,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-[#ffa31a] text-sm font-bold mb-2",children:"Your User ID (Required)"}),r.jsx("p",{className:"text-[#ffa31a] text-xs mb-3",children:"You must include this User ID in your TradingView JSON payload for signals to appear in your dashboard and for automatic execution."}),o?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-[#1b1b1b] border border-[#808080] rounded-lg p-2 font-mono text-sm text-[#ffa31a] break-all",children:o}),r.jsxs("button",{onClick:h,className:"flex items-center space-x-1 px-3 py-2 bg-[#ffa31a] text-[#1b1b1b] rounded-lg hover:bg-[#ffb84d] transition-colors font-bold",children:[s?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:s?"Copied":"Copy"})]})]}):r.jsx("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-2 text-sm text-[#ffa31a]",children:"Loading user ID..."})]})]})}),c.length>0&&r.jsx("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ss,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[#ffa31a] text-sm font-bold mb-2",children:"Bot Token Targeting (Optional)"}),r.jsxs("p",{className:"text-[#ffa31a] text-xs mb-3",children:["Include a specific robot's ",r.jsx("code",{className:"bg-[#ffa31a] text-[#1b1b1b] px-1 rounded",children:"botToken"})," in your webhook payload to target that robot specifically. Without a botToken, any active robot matching the symbol will execute the signal."]}),r.jsxs("div",{className:"text-xs text-[#ffa31a]",children:[r.jsx("p",{className:"font-bold",children:"Your Active Robots:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:c.filter(g=>g.isActive).map(g=>r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsxs("span",{children:["• ",g.name]}),r.jsxs("span",{className:"text-[#ffa31a]",children:["(",g.symbol||"All Symbols",")"]}),r.jsxs("code",{className:"bg-[#ffa31a] text-[#1b1b1b] px-1 rounded text-xs",children:[g.botToken.substring(0,12),"..."]})]},g.id))})]})]})]})}),r.jsx("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Js,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[#ffa31a] text-sm font-bold mb-2",children:"Automatic Execution"}),r.jsx("p",{className:"text-[#ffa31a] text-xs",children:"When you have active trading robots and your MT5 account is connected, signals will be automatically executed. The system will use your robot's settings for volume, stop loss, and take profit calculations."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:[r.jsx("h3",{className:"font-bold text-[#ffa31a] mb-2",children:"Setup Instructions"}),r.jsxs("ol",{className:"text-xs text-[#ffa31a] space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Create and activate trading robots"}),r.jsx("li",{children:"Open your TradingView alert"}),r.jsx("li",{children:'Set "Webhook URL" to the URL above'}),r.jsx("li",{children:r.jsx("strong",{children:"Include your User ID in the JSON payload"})}),r.jsx("li",{children:"Optionally include botToken for specific robot targeting"}),r.jsx("li",{children:"Configure the JSON payload (see examples below)"}),r.jsx("li",{children:"Test your alert"})]})]}),r.jsxs("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:[r.jsx("h3",{className:"font-bold text-[#ffa31a] mb-2",children:"Supported Actions"}),r.jsxs("ul",{className:"text-xs text-[#ffa31a] space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"BUY"})," - Open long position (auto-executed if robot active)"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"SELL"})," - Open short position (auto-executed if robot active)"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"CLOSE"})," - Close all positions for symbol"]})]})]})]}),r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 text-[#ffa31a] hover:text-white transition-colors font-bold mt-2",children:[r.jsx(h0,{className:"w-4 h-4"}),r.jsxs("span",{children:[i?"Hide":"Show"," JSON Payload Examples"]})]}),i&&r.jsxs("div",{className:"mt-4 space-y-4",children:[f&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"Targeted Robot Signal (with botToken):"}),r.jsx("div",{className:"bg-[#1b1b1b] rounded-lg p-4 overflow-x-auto border border-[#808080]",children:r.jsx("pre",{className:"text-[#ffa31a] text-xs font-mono",children:JSON.stringify(f,null,2)})}),r.jsx("p",{className:"text-xs text-[#ffa31a] mt-2",children:"This will target the specific robot with the provided botToken."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"General Signal (any active robot):"}),r.jsx("div",{className:"bg-[#1b1b1b] rounded-lg p-4 overflow-x-auto border border-[#808080]",children:r.jsx("pre",{className:"text-[#ffa31a] text-xs font-mono",children:JSON.stringify(m,null,2)})}),r.jsx("p",{className:"text-xs text-[#ffa31a] mt-2",children:"This will use any active robot that matches the symbol (or all-symbol robots)."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"CLOSE Signal Example:"}),r.jsx("div",{className:"bg-[#1b1b1b] rounded-lg p-4 overflow-x-auto border border-[#808080]",children:r.jsx("pre",{className:"text-[#ffa31a] text-xs font-mono",children:JSON.stringify(x,null,2)})})]}),o&&r.jsx("div",{className:"p-3 bg-[#292929] border border-[#ffa31a] rounded-lg",children:r.jsxs("p",{className:"text-[#ffa31a] text-xs",children:[r.jsx("strong",{children:"✓ Your User ID is included in these examples."})," Copy these exact JSON structures and paste them into your TradingView alert message."]})}),r.jsxs("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-4",children:[r.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"Enhanced Features:"}),r.jsxs("ul",{className:"text-xs text-[#ffa31a] space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Bot Token Targeting:"})," Use botToken to target specific robots"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Symbol Normalization:"})," Automatically handles symbol variations (e.g., EURUSD.raw → EURUSD)"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Market Price Fallback:"})," If no price provided, system fetches current market price"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Robot Priority:"}),' Symbol-specific robots take priority over "All Symbols" robots']}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Pre-calculated SL/TP:"})," Include exact SL/TP prices in your webhook"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Volume Control:"})," Respects robot's maximum lot size settings"]})]})]})]})]}),r.jsx("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(er,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[#ffa31a] text-sm font-bold",children:"Important: User ID Required"}),r.jsxs("p",{className:"text-[#ffa31a] text-xs mt-1",children:["Without the ",r.jsx("code",{className:"bg-[#ffa31a] text-[#1b1b1b] px-1 rounded",children:"userId"})," field in your JSON payload, signals will not appear in your dashboard and automatic execution will not work. Make sure to copy your User ID from above and include it in every TradingView alert."]})]})]})})]})]})})},L$=()=>{const{userPlugins:e,userTokens:t,fetchUserPlugins:s,purchasePlugin:n}=pe(),[i,a]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState(null);_.useEffect(()=>{(async()=>{a(!0),await s(),a(!1)})()},[s]);const d=g=>{u(g),l(!0)},h=()=>{u(null),l(!1)},f=async()=>{if(c)try{await n(c)&&h()}catch(g){console.error("Purchase failed:",g),D.error("Failed to purchase plugin")}},m=g=>g?In(new Date(g),{addSuffix:!0}):"Never",x=sx.filter(g=>!e.some(y=>y.id===g.id));return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-[#1b1b1b] rounded-xl shadow-xl border-2 border-[#ffa31a]",children:[r.jsx("div",{className:"p-6 border-b border-[#ffa31a]",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent tracking-wide drop-shadow",children:"My Plugins"}),r.jsxs("div",{className:"text-sm text-[#ffa31a] font-semibold",children:[e.length," active plugins"]})]})}),i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#ffa31a] mx-auto mb-4"}),r.jsx("p",{className:"text-[#ffa31a]",children:"Loading your plugins..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(fn,{className:"w-8 h-8 text-[#ffa31a] mx-auto mb-4"}),r.jsx("p",{className:"text-[#ffa31a] font-bold",children:"You don't have any plugins yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Purchase plugins to enhance your trading experience"})]}):r.jsx("div",{className:"divide-y divide-[#292929]",children:e.map(g=>r.jsx("div",{className:"p-4 hover:bg-[#232323] transition-colors",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-[#232323] p-3 rounded-lg border-2 border-[#ffa31a]",children:r.jsx(fn,{className:"w-5 h-5 text-[#ffa31a]"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-base font-bold text-white",children:g.name}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.isActive?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:g.isActive?"Active":"Inactive"})})]}),r.jsx("p",{className:"text-gray-300 mt-1",children:g.description}),r.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-1 text-[#ffa31a]",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsxs("span",{children:[g.tokenCost," tokens"]})]}),g.expiresAt&&r.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[r.jsx(Za,{className:"w-4 h-4"}),r.jsxs("span",{children:["Expires: ",m(g.expiresAt)]})]})]})]})]})},g.id))})]}),x.length>0&&r.jsxs("div",{className:"bg-[#1b1b1b] rounded-xl shadow-xl border-2 border-[#ffa31a]",children:[r.jsx("div",{className:"p-6 border-b border-[#ffa31a]",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent tracking-wide drop-shadow",children:"Available Plugins"}),r.jsxs("div",{className:"text-sm text-[#ffa31a] font-semibold",children:[x.length," plugins available"]})]})}),r.jsx("div",{className:"divide-y divide-[#292929]",children:x.map(g=>{const y=t&&t.balance>=g.tokenCost;return r.jsx("div",{className:"p-4 hover:bg-[#232323] transition-colors",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-[#232323] p-3 rounded-lg border-2 border-[#ffa31a]",children:r.jsx(fn,{className:"w-5 h-5 text-[#ffa31a]"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-base font-bold text-white",children:g.name}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#232323] text-[#ffa31a] border border-[#ffa31a]",children:[g.tokenCost," tokens"]})})]}),r.jsx("p",{className:"text-gray-300 mt-1",children:g.description}),g.features&&g.features.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-[#ffa31a]",children:"Features:"}),r.jsx("ul",{className:"space-y-1",children:g.features.map((p,b)=>r.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[r.jsx(Qt,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-300",children:p})]},b))})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("button",{onClick:()=>d(g.id),disabled:!y,className:`inline-flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors font-semibold ${y?"bg-[#ffa31a] text-[#1b1b1b] hover:bg-[#ffb84d]":"bg-[#232323] text-gray-500 border border-[#ffa31a] cursor-not-allowed"}`,children:[r.jsx(Ln,{className:"w-4 h-4"}),r.jsx("span",{children:y?`Purchase for ${g.tokenCost} tokens`:`Need ${g.tokenCost-((t==null?void 0:t.balance)||0)} more tokens`})]})})]})]})},g.id)})})]}),o&&c&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-[#1b1b1b] rounded-xl shadow-2xl max-w-md w-full p-6 border-2 border-[#ffa31a]",children:[r.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent mb-4",children:"Confirm Purchase"}),(()=>{const g=sx.find(p=>p.id===c);if(!g)return null;const y=t&&t.balance>=g.tokenCost;return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-[#232323] border border-[#ffa31a] rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(fn,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[#ffa31a] font-medium",children:g.name}),r.jsx("p",{className:"text-gray-300 text-sm mt-1",children:g.description})]})]})}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-[#232323] rounded-lg border border-[#ffa31a]",children:[r.jsx("div",{className:"text-[#ffa31a]",children:"Cost:"}),r.jsxs("div",{className:"font-semibold text-white",children:[g.tokenCost," tokens"]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-[#232323] rounded-lg border border-[#ffa31a]",children:[r.jsx("div",{className:"text-[#ffa31a]",children:"Your balance:"}),r.jsxs("div",{className:"font-semibold text-white",children:[(t==null?void 0:t.balance)||0," tokens"]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-[#232323] rounded-lg border border-[#ffa31a]",children:[r.jsx("div",{className:"text-[#ffa31a]",children:"Balance after purchase:"}),r.jsx("div",{className:`font-semibold ${y?"text-white":"text-red-400"}`,children:y?t.balance-g.tokenCost:`Insufficient (need ${g.tokenCost-((t==null?void 0:t.balance)||0)} more)`})]}),!y&&r.jsx("div",{className:"bg-red-900 border border-red-400 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-200 font-medium",children:"Insufficient Tokens"}),r.jsxs("p",{className:"text-red-300 text-sm mt-1",children:["You need ",g.tokenCost-((t==null?void 0:t.balance)||0)," more tokens to purchase this plugin."]})]})]})}),r.jsx("div",{className:"bg-[#232323] border border-[#ffa31a] rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(b_,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[#ffa31a] font-medium",children:"Plugin Information"}),r.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"This plugin will be active for 1 year from the date of purchase."})]})]})}),r.jsxs("div",{className:"flex space-x-3 pt-2",children:[r.jsx("button",{onClick:f,disabled:!y,className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${y?"bg-[#ffa31a] text-[#1b1b1b] hover:bg-[#ffb84d]":"bg-[#232323] text-gray-500 border border-[#ffa31a] cursor-not-allowed"}`,children:"Confirm Purchase"}),r.jsx("button",{onClick:h,className:"flex-1 py-2 px-4 bg-[#232323] text-[#ffa31a] rounded-lg hover:bg-[#292929] transition-colors font-medium border border-[#ffa31a]",children:"Cancel"})]})]})})()]})})]})},I$=e=>{let t=e;return t=t.replace(/(\d+[\)\.]\s+)([^\n]+)/g,"$1 $2"),t=t.replace(/(^|\n)([^:\n]+):\s*(\n|$)/g,"$1**$2:**$3"),["trading robots","TradingView","webhook","signals","risk management","tokens","VPS","bot token","User ID","JSON payload"].forEach(n=>{const i=new RegExp(`\\b${n}\\b`,"gi");t=t.replace(i,`**${n}**`)}),t},O$=Ah((e,t)=>({messages:[{id:"1",role:"system",content:"Hi there! I'm your MT5 Trading Platform assistant. How can I help you today?",timestamp:new Date,relatedQuestions:["How do I create a trading robot?","How do I set up TradingView webhooks?","What are tokens used for?"]}],isLoading:!1,error:null,addMessage:s=>{const n={id:Date.now().toString(),timestamp:new Date,...s};e(i=>({messages:[...i.messages,n]}))},sendMessage:async s=>{if(!s.trim())return;t().addMessage({role:"user",content:s.trim()});const n=(Date.now()+1).toString();e(i=>({messages:[...i.messages,{id:n,role:"assistant",content:"",timestamp:new Date,isLoading:!0}],isLoading:!0}));try{const i=t().messages.filter(c=>c.role!=="system").map(c=>({role:c.role,content:c.content})),a=await fetch(`${xn}/functions/v1/chatbot-api`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nr}`},body:JSON.stringify({query:s.trim(),previousMessages:i})});if(!a.ok)throw new Error(`Error: ${a.status}`);const o=await a.json();e(c=>({messages:c.messages.filter(u=>u.id!==n),isLoading:!1}));const l=I$(o.answer);t().addMessage({role:"assistant",content:l,relatedQuestions:o.relatedQuestions,relatedDocuments:o.category?[`${o.category} Documentation`]:void 0})}catch(i){console.error("Error fetching chatbot response:",i),e(a=>({messages:a.messages.filter(o=>o.id!==n),isLoading:!1,error:i instanceof Error?i.message:"Failed to get response"})),t().addMessage({role:"assistant",content:"I'm having trouble connecting to the server. Please try again later."}),D.error("Failed to get chatbot response")}},clearMessages:()=>{e({messages:[{id:"1",role:"system",content:"Hi there! I'm your MT5 Trading Platform assistant. How can I help you today?",timestamp:new Date,relatedQuestions:["How do I create a trading robot?","How do I set up TradingView webhooks?","What are tokens used for?"]}]})},setError:s=>{e({error:s})}}));function F$(e,t){const s={};return(e[e.length-1]===""?[...e,""]:e).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const U$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,B$={};function yj(e,t){return(B$.jsx?$$:U$).test(e)}const z$=/[ \t\n\f\r]/g;function V$(e){return typeof e=="object"?e.type==="text"?bj(e.value):!1:bj(e)}function bj(e){return e.replace(z$,"")===""}class Ac{constructor(t,s,n){this.normal=s,this.property=t,n&&(this.space=n)}}Ac.prototype.normal={};Ac.prototype.property={};Ac.prototype.space=void 0;function NT(e,t){const s={},n={};for(const i of e)Object.assign(s,i.property),Object.assign(n,i.normal);return new Ac(s,n,t)}function _x(e){return e.toLowerCase()}class ws{constructor(t,s){this.attribute=s,this.property=t}}ws.prototype.attribute="";ws.prototype.booleanish=!1;ws.prototype.boolean=!1;ws.prototype.commaOrSpaceSeparated=!1;ws.prototype.commaSeparated=!1;ws.prototype.defined=!1;ws.prototype.mustUseProperty=!1;ws.prototype.number=!1;ws.prototype.overloadedBoolean=!1;ws.prototype.property="";ws.prototype.spaceSeparated=!1;ws.prototype.space=void 0;let H$=0;const me=ea(),ut=ea(),Tx=ea(),K=ea(),Fe=ea(),za=ea(),Ns=ea();function ea(){return 2**++H$}const Cx=Object.freeze(Object.defineProperty({__proto__:null,boolean:me,booleanish:ut,commaOrSpaceSeparated:Ns,commaSeparated:za,number:K,overloadedBoolean:Tx,spaceSeparated:Fe},Symbol.toStringTag,{value:"Module"})),xm=Object.keys(Cx);class M0 extends ws{constructor(t,s,n,i){let a=-1;if(super(t,s),vj(this,"space",i),typeof n=="number")for(;++a<xm.length;){const o=xm[a];vj(this,xm[a],(n&Cx[o])===Cx[o])}}}M0.prototype.defined=!0;function vj(e,t,s){s&&(e[t]=s)}function jo(e){const t={},s={};for(const[n,i]of Object.entries(e.properties)){const a=new M0(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,s[_x(n)]=n,s[_x(a.attribute)]=n}return new Ac(t,s,e.space)}const kT=jo({properties:{ariaActiveDescendant:null,ariaAtomic:ut,ariaAutoComplete:null,ariaBusy:ut,ariaChecked:ut,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:Fe,ariaCurrent:null,ariaDescribedBy:Fe,ariaDetails:null,ariaDisabled:ut,ariaDropEffect:Fe,ariaErrorMessage:null,ariaExpanded:ut,ariaFlowTo:Fe,ariaGrabbed:ut,ariaHasPopup:null,ariaHidden:ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Fe,ariaLevel:K,ariaLive:null,ariaModal:ut,ariaMultiLine:ut,ariaMultiSelectable:ut,ariaOrientation:null,ariaOwns:Fe,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:ut,ariaReadOnly:ut,ariaRelevant:null,ariaRequired:ut,ariaRoleDescription:Fe,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:ut,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ST(e,t){return t in e?e[t]:t}function _T(e,t){return ST(e,t.toLowerCase())}const W$=jo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:za,acceptCharset:Fe,accessKey:Fe,action:null,allow:null,allowFullScreen:me,allowPaymentRequest:me,allowUserMedia:me,alt:null,as:null,async:me,autoCapitalize:null,autoComplete:Fe,autoFocus:me,autoPlay:me,blocking:Fe,capture:null,charSet:null,checked:me,cite:null,className:Fe,cols:K,colSpan:null,content:null,contentEditable:ut,controls:me,controlsList:Fe,coords:K|za,crossOrigin:null,data:null,dateTime:null,decoding:null,default:me,defer:me,dir:null,dirName:null,disabled:me,download:Tx,draggable:ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:me,formTarget:null,headers:Fe,height:K,hidden:Tx,high:K,href:null,hrefLang:null,htmlFor:Fe,httpEquiv:Fe,id:null,imageSizes:null,imageSrcSet:null,inert:me,inputMode:null,integrity:null,is:null,isMap:me,itemId:null,itemProp:Fe,itemRef:Fe,itemScope:me,itemType:Fe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:me,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:me,muted:me,name:null,nonce:null,noModule:me,noValidate:me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:me,optimum:K,pattern:null,ping:Fe,placeholder:null,playsInline:me,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:me,referrerPolicy:null,rel:Fe,required:me,reversed:me,rows:K,rowSpan:K,sandbox:Fe,scope:null,scoped:me,seamless:me,selected:me,shadowRootClonable:me,shadowRootDelegatesFocus:me,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:me,useMap:null,value:ut,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Fe,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:me,declare:me,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:me,noHref:me,noShade:me,noWrap:me,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:ut,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:me,disableRemotePlayback:me,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:_T}),q$=jo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ns,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:Fe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:me,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:za,g2:za,glyphName:za,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:Ns,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Fe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ns,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ns,rev:Ns,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ns,requiredFeatures:Ns,requiredFonts:Ns,requiredFormats:Ns,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:Ns,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ns,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ns,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ST}),TT=jo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),CT=jo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:_T}),PT=jo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Y$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},G$=/[A-Z]/g,wj=/-[a-z]/g,K$=/^data[-\w.:]+$/i;function X$(e,t){const s=_x(t);let n=t,i=ws;if(s in e.normal)return e.property[e.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&K$.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(wj,Q$);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!wj.test(a)){let o=a.replace(G$,J$);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=M0}return new i(n,t)}function J$(e){return"-"+e.toLowerCase()}function Q$(e){return e.charAt(1).toUpperCase()}const Z$=NT([kT,W$,TT,CT,PT],"html"),D0=NT([kT,q$,TT,CT,PT],"svg");function eB(e){return e.join(" ").trim()}var L0={},jj=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,tB=/\n/g,sB=/^\s*/,nB=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rB=/^:\s*/,iB=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,aB=/^[;\s]*/,oB=/^\s+|\s+$/g,lB=`
`,Nj="/",kj="*",Ni="",cB="comment",uB="declaration",dB=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var s=1,n=1;function i(x){var g=x.match(tB);g&&(s+=g.length);var y=x.lastIndexOf(lB);n=~y?x.length-y:n+x.length}function a(){var x={line:s,column:n};return function(g){return g.position=new o(x),u(),g}}function o(x){this.start=x,this.end={line:s,column:n},this.source=t.source}o.prototype.content=e;function l(x){var g=new Error(t.source+":"+s+":"+n+": "+x);if(g.reason=x,g.filename=t.source,g.line=s,g.column=n,g.source=e,!t.silent)throw g}function c(x){var g=x.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function u(){c(sB)}function d(x){var g;for(x=x||[];g=h();)g!==!1&&x.push(g);return x}function h(){var x=a();if(!(Nj!=e.charAt(0)||kj!=e.charAt(1))){for(var g=2;Ni!=e.charAt(g)&&(kj!=e.charAt(g)||Nj!=e.charAt(g+1));)++g;if(g+=2,Ni===e.charAt(g-1))return l("End of comment missing");var y=e.slice(2,g-2);return n+=2,i(y),e=e.slice(g),n+=2,x({type:cB,comment:y})}}function f(){var x=a(),g=c(nB);if(g){if(h(),!c(rB))return l("property missing ':'");var y=c(iB),p=x({type:uB,property:Sj(g[0].replace(jj,Ni)),value:y?Sj(y[0].replace(jj,Ni)):Ni});return c(aB),p}}function m(){var x=[];d(x);for(var g;g=f();)g!==!1&&(x.push(g),d(x));return x}return u(),m()};function Sj(e){return e?e.replace(oB,Ni):Ni}var hB=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(L0,"__esModule",{value:!0});L0.default=mB;var fB=hB(dB);function mB(e,t){var s=null;if(!e||typeof e!="string")return s;var n=(0,fB.default)(e),i=typeof t=="function";return n.forEach(function(a){if(a.type==="declaration"){var o=a.property,l=a.value;i?t(o,l,a):l&&(s=s||{},s[o]=l)}}),s}var tf={};Object.defineProperty(tf,"__esModule",{value:!0});tf.camelCase=void 0;var pB=/^--[a-zA-Z0-9_-]+$/,xB=/-([a-z])/g,gB=/^[^-]+$/,yB=/^-(webkit|moz|ms|o|khtml)-/,bB=/^-(ms)-/,vB=function(e){return!e||gB.test(e)||pB.test(e)},wB=function(e,t){return t.toUpperCase()},_j=function(e,t){return"".concat(t,"-")},jB=function(e,t){return t===void 0&&(t={}),vB(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(bB,_j):e=e.replace(yB,_j),e.replace(xB,wB))};tf.camelCase=jB;var NB=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},kB=NB(L0),SB=tf;function Px(e,t){var s={};return!e||typeof e!="string"||(0,kB.default)(e,function(n,i){n&&i&&(s[(0,SB.camelCase)(n,t)]=i)}),s}Px.default=Px;var _B=Px;const TB=dh(_B),ET=AT("end"),I0=AT("start");function AT(e){return t;function t(s){const n=s&&s.position&&s.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function CB(e){const t=I0(e),s=ET(e);if(t&&s)return{start:t,end:s}}function Pl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Tj(e.position):"start"in e||"end"in e?Tj(e):"line"in e||"column"in e?Ex(e):""}function Ex(e){return Cj(e&&e.line)+":"+Cj(e&&e.column)}function Tj(e){return Ex(e&&e.start)+"-"+Ex(e&&e.end)}function Cj(e){return e&&typeof e=="number"?e:1}class Gt extends Error{constructor(t,s,n){super(),typeof s=="string"&&(n=s,s=void 0);let i="",a={},o=!1;if(s&&("line"in s&&"column"in s?a={place:s}:"start"in s&&"end"in s?a={place:s}:"type"in s?a={ancestors:[s],place:s.position}:a={...s}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?a.ruleId=n:(a.source=n.slice(0,c),a.ruleId=n.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Pl(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Gt.prototype.file="";Gt.prototype.name="";Gt.prototype.reason="";Gt.prototype.message="";Gt.prototype.stack="";Gt.prototype.column=void 0;Gt.prototype.line=void 0;Gt.prototype.ancestors=void 0;Gt.prototype.cause=void 0;Gt.prototype.fatal=void 0;Gt.prototype.place=void 0;Gt.prototype.ruleId=void 0;Gt.prototype.source=void 0;const O0={}.hasOwnProperty,PB=new Map,EB=/[A-Z]/g,AB=new Set(["table","tbody","thead","tfoot","tr"]),RB=new Set(["td","th"]),RT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function MB(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=BB(s,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=$B(s,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?D0:Z$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=MT(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function MT(e,t,s){if(t.type==="element")return DB(e,t,s);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return LB(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return OB(e,t,s);if(t.type==="mdxjsEsm")return IB(e,t);if(t.type==="root")return FB(e,t,s);if(t.type==="text")return UB(e,t)}function DB(e,t,s){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=D0,e.schema=i),e.ancestors.push(t);const a=LT(e,t.tagName,!1),o=zB(e,t);let l=U0(e,t);return AB.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!V$(c):!0})),DT(e,o,a,t),F0(o,l),e.ancestors.pop(),e.schema=n,e.create(t,a,o,s)}function LB(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}uc(e,t.position)}function IB(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);uc(e,t.position)}function OB(e,t,s){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=D0,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:LT(e,t.name,!0),o=VB(e,t),l=U0(e,t);return DT(e,o,a,t),F0(o,l),e.ancestors.pop(),e.schema=n,e.create(t,a,o,s)}function FB(e,t,s){const n={};return F0(n,U0(e,t)),e.create(t,e.Fragment,n,s)}function UB(e,t){return t.value}function DT(e,t,s,n){typeof s!="string"&&s!==e.Fragment&&e.passNode&&(t.node=n)}function F0(e,t){if(t.length>0){const s=t.length>1?t:t[0];s&&(e.children=s)}}function $B(e,t,s){return n;function n(i,a,o,l){const u=Array.isArray(o.children)?s:t;return l?u(a,o,l):u(a,o)}}function BB(e,t){return s;function s(n,i,a,o){const l=Array.isArray(a.children),c=I0(n);return t(i,a,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function zB(e,t){const s={};let n,i;for(i in t.properties)if(i!=="children"&&O0.call(t.properties,i)){const a=HB(e,i,t.properties[i]);if(a){const[o,l]=a;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&RB.has(t.tagName)?n=l:s[o]=l}}if(n){const a=s.style||(s.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return s}function VB(e,t){const s={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(s,e.evaluater.evaluateExpression(l.argument))}else uc(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else uc(e,t.position);else a=n.value===null?!0:n.value;s[i]=a}return s}function U0(e,t){const s=[];let n=-1;const i=e.passKeys?new Map:PB;for(;++n<t.children.length;){const a=t.children[n];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const l=MT(e,a,o);l!==void 0&&s.push(l)}return s}function HB(e,t,s){const n=X$(e.schema,t);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=n.commaSeparated?F$(s):eB(s)),n.property==="style"){let i=typeof s=="object"?s:WB(e,String(s));return e.stylePropertyNameCase==="css"&&(i=qB(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?Y$[n.property]||n.property:n.attribute,s]}}function WB(e,t){try{return TB(t,{reactCompat:!0})}catch(s){if(e.ignoreInvalidStyle)return{};const n=s,i=new Gt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=RT+"#cannot-parse-style-attribute",i}}function LT(e,t,s){let n;if(!s)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const l=yj(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}n=o}else n=yj(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return O0.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);uc(e)}function uc(e,t){const s=new Gt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=RT+"#cannot-handle-mdx-estrees-without-createevaluater",s}function qB(e){const t={};let s;for(s in e)O0.call(e,s)&&(t[YB(s)]=e[s]);return t}function YB(e){let t=e.replace(EB,GB);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function GB(e){return"-"+e.toLowerCase()}const gm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},KB={};function $0(e,t){const s=KB,n=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,i=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return IT(e,n,i)}function IT(e,t,s){if(XB(e)){if("value"in e)return e.type==="html"&&!s?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Pj(e.children,t,s)}return Array.isArray(e)?Pj(e,t,s):""}function Pj(e,t,s){const n=[];let i=-1;for(;++i<e.length;)n[i]=IT(e[i],t,s);return n.join("")}function XB(e){return!!(e&&typeof e=="object")}const Ej=document.createElement("i");function B0(e){const t="&"+e+";";Ej.innerHTML=t;const s=Ej.textContent;return s.charCodeAt(s.length-1)===59&&e!=="semi"||s===t?!1:s}function As(e,t,s,n){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,s=s>0?s:0,n.length<1e4)o=Array.from(n),o.unshift(t,s),e.splice(...o);else for(s&&e.splice(t,s);a<n.length;)o=n.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Ys(e,t){return e.length>0?(As(e,e.length,0,t),e):t}const Aj={}.hasOwnProperty;function OT(e){const t={};let s=-1;for(;++s<e.length;)JB(t,e[s]);return t}function JB(e,t){let s;for(s in t){const i=(Aj.call(e,s)?e[s]:void 0)||(e[s]={}),a=t[s];let o;if(a)for(o in a){Aj.call(i,o)||(i[o]=[]);const l=a[o];QB(i[o],Array.isArray(l)?l:l?[l]:[])}}}function QB(e,t){let s=-1;const n=[];for(;++s<t.length;)(t[s].add==="after"?e:n).push(t[s]);As(e,0,0,n)}function FT(e,t){const s=Number.parseInt(e,t);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"�":String.fromCodePoint(s)}function gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ts=ii(/[A-Za-z]/),Vt=ii(/[\dA-Za-z]/),ZB=ii(/[#-'*+\--9=?A-Z^-~]/);function Zd(e){return e!==null&&(e<32||e===127)}const Ax=ii(/\d/),e9=ii(/[\dA-Fa-f]/),t9=ii(/[!-/:-@[-`{-~]/);function oe(e){return e!==null&&e<-2}function Ie(e){return e!==null&&(e<0||e===32)}function ye(e){return e===-2||e===-1||e===32}const sf=ii(new RegExp("\\p{P}|\\p{S}","u")),qi=ii(/\s/);function ii(e){return t;function t(s){return s!==null&&s>-1&&e.test(String.fromCharCode(s))}}function No(e){const t=[];let s=-1,n=0,i=0;for(;++s<e.length;){const a=e.charCodeAt(s);let o="";if(a===37&&Vt(e.charCodeAt(s+1))&&Vt(e.charCodeAt(s+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(s+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(n,s),encodeURIComponent(o)),n=s+i+1,o=""),i&&(s+=i,i=0)}return t.join("")+e.slice(n)}function ke(e,t,s,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return ye(c)?(e.enter(s),l(c)):t(c)}function l(c){return ye(c)&&a++<i?(e.consume(c),l):(e.exit(s),t(c))}}const s9={tokenize:n9};function n9(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let s;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),ke(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=c),s=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return oe(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const r9={tokenize:i9},Rj={tokenize:a9};function i9(e){const t=this,s=[];let n=0,i,a,o;return l;function l(v){if(n<s.length){const w=s[n];return t.containerState=w[1],e.attempt(w[0].continuation,c,u)(v)}return u(v)}function c(v){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const w=t.events.length;let j=w,k;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){k=t.events[j][1].end;break}p(n);let P=w;for(;P<t.events.length;)t.events[P][1].end={...k},P++;return As(t.events,j+1,0,t.events.slice(w)),t.events.length=P,u(v)}return l(v)}function u(v){if(n===s.length){if(!i)return f(v);if(i.currentConstruct&&i.currentConstruct.concrete)return x(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Rj,d,h)(v)}function d(v){return i&&b(),p(n),f(v)}function h(v){return t.parser.lazy[t.now().line]=n!==s.length,o=t.now().offset,x(v)}function f(v){return t.containerState={},e.attempt(Rj,m,x)(v)}function m(v){return n++,s.push([t.currentConstruct,t.containerState]),f(v)}function x(v){if(v===null){i&&b(),p(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(v)}function g(v){if(v===null){y(e.exit("chunkFlow"),!0),p(0),e.consume(v);return}return oe(v)?(e.consume(v),y(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(v),g)}function y(v,w){const j=t.sliceStream(v);if(w&&j.push(null),v.previous=a,a&&(a.next=v),a=v,i.defineSkip(v.start),i.write(j),t.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const P=t.events.length;let S=P,T,N;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){if(T){N=t.events[S][1].end;break}T=!0}for(p(n),k=P;k<t.events.length;)t.events[k][1].end={...N},k++;As(t.events,S+1,0,t.events.slice(P)),t.events.length=k}}function p(v){let w=s.length;for(;w-- >v;){const j=s[w];t.containerState=j[1],j[0].exit.call(t,e)}s.length=v}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function a9(e,t,s){return ke(e,e.attempt(this.parser.constructs.document,t,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ro(e){if(e===null||Ie(e)||qi(e))return 1;if(sf(e))return 2}function nf(e,t,s){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,s),n.push(a))}return t}const Rx={name:"attention",resolveAll:o9,tokenize:l9};function o9(e,t){let s=-1,n,i,a,o,l,c,u,d;for(;++s<e.length;)if(e[s][0]==="enter"&&e[s][1].type==="attentionSequence"&&e[s][1]._close){for(n=s;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[s][1]).charCodeAt(0)){if((e[n][1]._close||e[s][1]._open)&&(e[s][1].end.offset-e[s][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[s][1].end.offset-e[s][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[s][1].end.offset-e[s][1].start.offset>1?2:1;const h={...e[n][1].end},f={...e[s][1].start};Mj(h,-c),Mj(f,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[s][1].start},end:f},a={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[s][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[n][1].end={...o.start},e[s][1].start={...l.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Ys(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Ys(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=Ys(u,nf(t.parser.constructs.insideSpan.null,e.slice(n+1,s),t)),u=Ys(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[s][1].end.offset-e[s][1].start.offset?(d=2,u=Ys(u,[["enter",e[s][1],t],["exit",e[s][1],t]])):d=0,As(e,n-1,s-n+3,u),s=n+u.length-d-2;break}}for(s=-1;++s<e.length;)e[s][1].type==="attentionSequence"&&(e[s][1].type="data");return e}function l9(e,t){const s=this.parser.constructs.attentionMarkers.null,n=this.previous,i=ro(n);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),d=ro(c),h=!d||d===2&&i||s.includes(c),f=!i||i===2&&d||s.includes(n);return u._open=!!(a===42?h:h&&(i||!f)),u._close=!!(a===42?f:f&&(d||!h)),t(c)}}function Mj(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const c9={name:"autolink",tokenize:u9};function u9(e,t,s){let n=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return ts(m)?(e.consume(m),o):m===64?s(m):u(m)}function o(m){return m===43||m===45||m===46||Vt(m)?(n=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),n=0,c):(m===43||m===45||m===46||Vt(m))&&n++<32?(e.consume(m),l):(n=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Zd(m)?s(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):ZB(m)?(e.consume(m),u):s(m)}function d(m){return Vt(m)?h(m):s(m)}function h(m){return m===46?(e.consume(m),n=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||Vt(m))&&n++<63){const x=m===45?f:h;return e.consume(m),x}return s(m)}}const Rc={partial:!0,tokenize:d9};function d9(e,t,s){return n;function n(a){return ye(a)?ke(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||oe(a)?t(a):s(a)}}const UT={continuation:{tokenize:f9},exit:m9,name:"blockQuote",tokenize:h9};function h9(e,t,s){const n=this;return i;function i(o){if(o===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return s(o)}function a(o){return ye(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function f9(e,t,s){const n=this;return i;function i(o){return ye(o)?ke(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(UT,t,s)(o)}}function m9(e){e.exit("blockQuote")}const $T={name:"characterEscape",tokenize:p9};function p9(e,t,s){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return t9(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):s(a)}}const BT={name:"characterReference",tokenize:x9};function x9(e,t,s){const n=this;let i=0,a,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=Vt,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=e9,d):(e.enter("characterReferenceValue"),a=7,o=Ax,d(h))}function d(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return o===Vt&&!B0(n.sliceSerialize(f))?s(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),d):s(h)}}const Dj={partial:!0,tokenize:y9},Lj={concrete:!0,name:"codeFenced",tokenize:g9};function g9(e,t,s){const n=this,i={partial:!0,tokenize:j};let a=0,o=0,l;return c;function c(k){return u(k)}function u(k){const P=n.events[n.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===l?(o++,e.consume(k),d):o<3?s(k):(e.exit("codeFencedFenceSequence"),ye(k)?ke(e,h,"whitespace")(k):h(k))}function h(k){return k===null||oe(k)?(e.exit("codeFencedFence"),n.interrupt?t(k):e.check(Dj,g,w)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||oe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):ye(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ke(e,m,"whitespace")(k)):k===96&&k===l?s(k):(e.consume(k),f)}function m(k){return k===null||oe(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===null||oe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===l?s(k):(e.consume(k),x)}function g(k){return e.attempt(i,w,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),p}function p(k){return a>0&&ye(k)?ke(e,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||oe(k)?e.check(Dj,g,w)(k):(e.enter("codeFlowValue"),v(k))}function v(k){return k===null||oe(k)?(e.exit("codeFlowValue"),b(k)):(e.consume(k),v)}function w(k){return e.exit("codeFenced"),t(k)}function j(k,P,S){let T=0;return N;function N(z){return k.enter("lineEnding"),k.consume(z),k.exit("lineEnding"),E}function E(z){return k.enter("codeFencedFence"),ye(z)?ke(k,M,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):M(z)}function M(z){return z===l?(k.enter("codeFencedFenceSequence"),O(z)):S(z)}function O(z){return z===l?(T++,k.consume(z),O):T>=o?(k.exit("codeFencedFenceSequence"),ye(z)?ke(k,F,"whitespace")(z):F(z)):S(z)}function F(z){return z===null||oe(z)?(k.exit("codeFencedFence"),P(z)):S(z)}}}function y9(e,t,s){const n=this;return i;function i(o){return o===null?s(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return n.parser.lazy[n.now().line]?s(o):t(o)}}const ym={name:"codeIndented",tokenize:v9},b9={partial:!0,tokenize:w9};function v9(e,t,s){const n=this;return i;function i(u){return e.enter("codeIndented"),ke(e,a,"linePrefix",5)(u)}function a(u){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):s(u)}function o(u){return u===null?c(u):oe(u)?e.attempt(b9,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||oe(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function w9(e,t,s){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?s(o):oe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ke(e,a,"linePrefix",5)(o)}function a(o){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):oe(o)?i(o):s(o)}}const j9={name:"codeText",previous:k9,resolve:N9,tokenize:S9};function N9(e){let t=e.length-4,s=3,n,i;if((e[s][1].type==="lineEnding"||e[s][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=s;++n<t;)if(e[n][1].type==="codeTextData"){e[s][1].type="codeTextPadding",e[t][1].type="codeTextPadding",s+=2,t-=2;break}}for(n=s-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function k9(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function S9(e,t,s){let n=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),n++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?s(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(a=e.enter("codeTextSequence"),i=0,d(h)):oe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||oe(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),i++,d):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",u(h))}}class _9{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,s){const n=s??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,s,n){const i=s||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Wo(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Wo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Wo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const s=this.left.splice(t,Number.POSITIVE_INFINITY);Wo(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Wo(this.left,s.reverse())}}}function Wo(e,t){let s=0;if(t.length<1e4)e.push(...t);else for(;s<t.length;)e.push(...t.slice(s,s+1e4)),s+=1e4}function zT(e){const t={};let s=-1,n,i,a,o,l,c,u;const d=new _9(e);for(;++s<d.length;){for(;s in t;)s=t[s];if(n=d.get(s),s&&n[1].type==="chunkFlow"&&d.get(s-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,T9(d,s)),s=t[s],u=!0);else if(n[1]._container){for(a=s,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...d.get(i)[1].start},l=d.slice(i,s),l.unshift(n),d.splice(i,s-i+1,l))}}return As(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function T9(e,t){const s=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let o=s._tokenizer;o||(o=n.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,h,f=-1,m=s,x=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=n.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=s;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(g=f+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),f=y.length;f--;){const p=l.slice(y[f],y[f+1]),b=a.pop();c.push([b,b+p.length-1]),e.splice(b,2,p)}for(c.reverse(),f=-1;++f<c.length;)u[x+c[f][0]]=x+c[f][1],x+=c[f][1]-c[f][0]-1;return u}const C9={resolve:E9,tokenize:A9},P9={partial:!0,tokenize:R9};function E9(e){return zT(e),e}function A9(e,t){let s;return n;function n(l){return e.enter("content"),s=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):oe(l)?e.check(P9,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),s.next=e.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,i}}function R9(e,t,s){const n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ke(e,a,"linePrefix")}function a(o){if(o===null||oe(o))return s(o);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,s,t)(o)}}function VT(e,t,s,n,i,a,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(p){return p===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(p),e.exit(a),f):p===null||p===32||p===41||Zd(p)?s(p):(e.enter(n),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(p))}function f(p){return p===62?(e.enter(a),e.consume(p),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(p))}function m(p){return p===62?(e.exit("chunkString"),e.exit(l),f(p)):p===null||p===60||oe(p)?s(p):(e.consume(p),p===92?x:m)}function x(p){return p===60||p===62||p===92?(e.consume(p),m):m(p)}function g(p){return!d&&(p===null||p===41||Ie(p))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(n),t(p)):d<u&&p===40?(e.consume(p),d++,g):p===41?(e.consume(p),d--,g):p===null||p===32||p===40||Zd(p)?s(p):(e.consume(p),p===92?y:g)}function y(p){return p===40||p===41||p===92?(e.consume(p),g):g(p)}}function HT(e,t,s,n,i,a){const o=this;let l=0,c;return u;function u(m){return e.enter(n),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?s(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(n),t):oe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||oe(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!ye(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(e.consume(m),l++,h):h(m)}}function WT(e,t,s,n,i,a){let o;return l;function l(f){return f===34||f===39||f===40?(e.enter(n),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,c):s(f)}function c(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):(e.enter(a),u(f))}function u(f){return f===o?(e.exit(a),c(o)):f===null?s(f):oe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ke(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||oe(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(e.consume(f),d):d(f)}}function El(e,t){let s;return n;function n(i){return oe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s=!0,n):ye(i)?ke(e,n,s?"linePrefix":"lineSuffix")(i):t(i)}}const M9={name:"definition",tokenize:L9},D9={partial:!0,tokenize:I9};function L9(e,t,s){const n=this;let i;return a;function a(m){return e.enter("definition"),o(m)}function o(m){return HT.call(n,e,l,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=gn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):s(m)}function c(m){return Ie(m)?El(e,u)(m):u(m)}function u(m){return VT(e,d,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(D9,h,h)(m)}function h(m){return ye(m)?ke(e,f,"whitespace")(m):f(m)}function f(m){return m===null||oe(m)?(e.exit("definition"),n.parser.defined.push(i),t(m)):s(m)}}function I9(e,t,s){return n;function n(l){return Ie(l)?El(e,i)(l):s(l)}function i(l){return WT(e,a,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return ye(l)?ke(e,o,"whitespace")(l):o(l)}function o(l){return l===null||oe(l)?t(l):s(l)}}const O9={name:"hardBreakEscape",tokenize:F9};function F9(e,t,s){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return oe(a)?(e.exit("hardBreakEscape"),t(a)):s(a)}}const U9={name:"headingAtx",resolve:$9,tokenize:B9};function $9(e,t){let s=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),s-2>n&&e[s][1].type==="whitespace"&&(s-=2),e[s][1].type==="atxHeadingSequence"&&(n===s-1||s-4>n&&e[s-2][1].type==="whitespace")&&(s-=n+1===s?2:4),s>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[s][1].end},a={type:"chunkText",start:e[n][1].start,end:e[s][1].end,contentType:"text"},As(e,n,s-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function B9(e,t,s){let n=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&n++<6?(e.consume(d),o):d===null||Ie(d)?(e.exit("atxHeadingSequence"),l(d)):s(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||oe(d)?(e.exit("atxHeading"),t(d)):ye(d)?ke(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Ie(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const z9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ij=["pre","script","style","textarea"],V9={concrete:!0,name:"htmlFlow",resolveTo:q9,tokenize:Y9},H9={partial:!0,tokenize:K9},W9={partial:!0,tokenize:G9};function q9(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Y9(e,t,s){const n=this;let i,a,o,l,c;return u;function u(A){return d(A)}function d(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),h}function h(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),a=!0,g):A===63?(e.consume(A),i=3,n.interrupt?t:C):ts(A)?(e.consume(A),o=String.fromCharCode(A),y):s(A)}function f(A){return A===45?(e.consume(A),i=2,m):A===91?(e.consume(A),i=5,l=0,x):ts(A)?(e.consume(A),i=4,n.interrupt?t:C):s(A)}function m(A){return A===45?(e.consume(A),n.interrupt?t:C):s(A)}function x(A){const ve="CDATA[";return A===ve.charCodeAt(l++)?(e.consume(A),l===ve.length?n.interrupt?t:M:x):s(A)}function g(A){return ts(A)?(e.consume(A),o=String.fromCharCode(A),y):s(A)}function y(A){if(A===null||A===47||A===62||Ie(A)){const ve=A===47,Me=o.toLowerCase();return!ve&&!a&&Ij.includes(Me)?(i=1,n.interrupt?t(A):M(A)):z9.includes(o.toLowerCase())?(i=6,ve?(e.consume(A),p):n.interrupt?t(A):M(A)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?s(A):a?b(A):v(A))}return A===45||Vt(A)?(e.consume(A),o+=String.fromCharCode(A),y):s(A)}function p(A){return A===62?(e.consume(A),n.interrupt?t:M):s(A)}function b(A){return ye(A)?(e.consume(A),b):N(A)}function v(A){return A===47?(e.consume(A),N):A===58||A===95||ts(A)?(e.consume(A),w):ye(A)?(e.consume(A),v):N(A)}function w(A){return A===45||A===46||A===58||A===95||Vt(A)?(e.consume(A),w):j(A)}function j(A){return A===61?(e.consume(A),k):ye(A)?(e.consume(A),j):v(A)}function k(A){return A===null||A===60||A===61||A===62||A===96?s(A):A===34||A===39?(e.consume(A),c=A,P):ye(A)?(e.consume(A),k):S(A)}function P(A){return A===c?(e.consume(A),c=null,T):A===null||oe(A)?s(A):(e.consume(A),P)}function S(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Ie(A)?j(A):(e.consume(A),S)}function T(A){return A===47||A===62||ye(A)?v(A):s(A)}function N(A){return A===62?(e.consume(A),E):s(A)}function E(A){return A===null||oe(A)?M(A):ye(A)?(e.consume(A),E):s(A)}function M(A){return A===45&&i===2?(e.consume(A),Q):A===60&&i===1?(e.consume(A),I):A===62&&i===4?(e.consume(A),ne):A===63&&i===3?(e.consume(A),C):A===93&&i===5?(e.consume(A),B):oe(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(H9,ie,O)(A)):A===null||oe(A)?(e.exit("htmlFlowData"),O(A)):(e.consume(A),M)}function O(A){return e.check(W9,F,ie)(A)}function F(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),z}function z(A){return A===null||oe(A)?O(A):(e.enter("htmlFlowData"),M(A))}function Q(A){return A===45?(e.consume(A),C):M(A)}function I(A){return A===47?(e.consume(A),o="",$):M(A)}function $(A){if(A===62){const ve=o.toLowerCase();return Ij.includes(ve)?(e.consume(A),ne):M(A)}return ts(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),$):M(A)}function B(A){return A===93?(e.consume(A),C):M(A)}function C(A){return A===62?(e.consume(A),ne):A===45&&i===2?(e.consume(A),C):M(A)}function ne(A){return A===null||oe(A)?(e.exit("htmlFlowData"),ie(A)):(e.consume(A),ne)}function ie(A){return e.exit("htmlFlow"),t(A)}}function G9(e,t,s){const n=this;return i;function i(o){return oe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):s(o)}function a(o){return n.parser.lazy[n.now().line]?s(o):t(o)}}function K9(e,t,s){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Rc,t,s)}}const X9={name:"htmlText",tokenize:J9};function J9(e,t,s){const n=this;let i,a,o;return l;function l(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),j):C===63?(e.consume(C),v):ts(C)?(e.consume(C),S):s(C)}function u(C){return C===45?(e.consume(C),d):C===91?(e.consume(C),a=0,x):ts(C)?(e.consume(C),b):s(C)}function d(C){return C===45?(e.consume(C),m):s(C)}function h(C){return C===null?s(C):C===45?(e.consume(C),f):oe(C)?(o=h,I(C)):(e.consume(C),h)}function f(C){return C===45?(e.consume(C),m):h(C)}function m(C){return C===62?Q(C):C===45?f(C):h(C)}function x(C){const ne="CDATA[";return C===ne.charCodeAt(a++)?(e.consume(C),a===ne.length?g:x):s(C)}function g(C){return C===null?s(C):C===93?(e.consume(C),y):oe(C)?(o=g,I(C)):(e.consume(C),g)}function y(C){return C===93?(e.consume(C),p):g(C)}function p(C){return C===62?Q(C):C===93?(e.consume(C),p):g(C)}function b(C){return C===null||C===62?Q(C):oe(C)?(o=b,I(C)):(e.consume(C),b)}function v(C){return C===null?s(C):C===63?(e.consume(C),w):oe(C)?(o=v,I(C)):(e.consume(C),v)}function w(C){return C===62?Q(C):v(C)}function j(C){return ts(C)?(e.consume(C),k):s(C)}function k(C){return C===45||Vt(C)?(e.consume(C),k):P(C)}function P(C){return oe(C)?(o=P,I(C)):ye(C)?(e.consume(C),P):Q(C)}function S(C){return C===45||Vt(C)?(e.consume(C),S):C===47||C===62||Ie(C)?T(C):s(C)}function T(C){return C===47?(e.consume(C),Q):C===58||C===95||ts(C)?(e.consume(C),N):oe(C)?(o=T,I(C)):ye(C)?(e.consume(C),T):Q(C)}function N(C){return C===45||C===46||C===58||C===95||Vt(C)?(e.consume(C),N):E(C)}function E(C){return C===61?(e.consume(C),M):oe(C)?(o=E,I(C)):ye(C)?(e.consume(C),E):T(C)}function M(C){return C===null||C===60||C===61||C===62||C===96?s(C):C===34||C===39?(e.consume(C),i=C,O):oe(C)?(o=M,I(C)):ye(C)?(e.consume(C),M):(e.consume(C),F)}function O(C){return C===i?(e.consume(C),i=void 0,z):C===null?s(C):oe(C)?(o=O,I(C)):(e.consume(C),O)}function F(C){return C===null||C===34||C===39||C===60||C===61||C===96?s(C):C===47||C===62||Ie(C)?T(C):(e.consume(C),F)}function z(C){return C===47||C===62||Ie(C)?T(C):s(C)}function Q(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):s(C)}function I(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),$}function $(C){return ye(C)?ke(e,B,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):B(C)}function B(C){return e.enter("htmlTextData"),o(C)}}const z0={name:"labelEnd",resolveAll:tz,resolveTo:sz,tokenize:nz},Q9={tokenize:rz},Z9={tokenize:iz},ez={tokenize:az};function tz(e){let t=-1;const s=[];for(;++t<e.length;){const n=e[t][1];if(s.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==s.length&&As(e,0,e.length,s),e}function sz(e,t){let s=e.length,n=0,i,a,o,l;for(;s--;)if(i=e[s][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[s][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[s][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=s,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=s);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=Ys(l,e.slice(a+1,a+n+3)),l=Ys(l,[["enter",d,t]]),l=Ys(l,nf(t.parser.constructs.insideSpan.null,e.slice(a+n+4,o-3),t)),l=Ys(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=Ys(l,e.slice(o+1)),l=Ys(l,[["exit",c,t]]),As(e,a,e.length,l),e}function nz(e,t,s){const n=this;let i=n.events.length,a,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return l;function l(f){return a?a._inactive?h(f):(o=n.parser.defined.includes(gn(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):s(f)}function c(f){return f===40?e.attempt(Q9,d,o?d:h)(f):f===91?e.attempt(Z9,d,o?u:h)(f):o?d(f):h(f)}function u(f){return e.attempt(ez,d,h)(f)}function d(f){return t(f)}function h(f){return a._balanced=!0,s(f)}}function rz(e,t,s){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ie(h)?El(e,a)(h):a(h)}function a(h){return h===41?d(h):VT(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ie(h)?El(e,c)(h):d(h)}function l(h){return s(h)}function c(h){return h===34||h===39||h===40?WT(e,u,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Ie(h)?El(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):s(h)}}function iz(e,t,s){const n=this;return i;function i(l){return HT.call(n,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return n.parser.defined.includes(gn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):s(l)}function o(l){return s(l)}}function az(e,t,s){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):s(a)}}const oz={name:"labelStartImage",resolveAll:z0.resolveAll,tokenize:lz};function lz(e,t,s){const n=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):s(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?s(l):t(l)}}const cz={name:"labelStartLink",resolveAll:z0.resolveAll,tokenize:uz};function uz(e,t,s){const n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?s(o):t(o)}}const bm={name:"lineEnding",tokenize:dz};function dz(e,t){return s;function s(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),ke(e,t,"linePrefix")}}const ed={name:"thematicBreak",tokenize:hz};function hz(e,t,s){let n=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):n>=3&&(u===null||oe(u))?(e.exit("thematicBreak"),t(u)):s(u)}function c(u){return u===i?(e.consume(u),n++,c):(e.exit("thematicBreakSequence"),ye(u)?ke(e,l,"whitespace")(u):l(u))}}const cs={continuation:{tokenize:xz},exit:yz,name:"list",tokenize:pz},fz={partial:!0,tokenize:bz},mz={partial:!0,tokenize:gz};function pz(e,t,s){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(m){const x=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:Ax(m)){if(n.containerState.type||(n.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ed,s,u)(m):u(m);if(!n.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return s(m)}function c(m){return Ax(m)&&++o<10?(e.consume(m),c):(!n.interrupt||o<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):s(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,e.check(Rc,n.interrupt?s:d,e.attempt(fz,f,h))}function d(m){return n.containerState.initialBlankLine=!0,a++,f(m)}function h(m){return ye(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):s(m)}function f(m){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function xz(e,t,s){const n=this;return n.containerState._closeFlow=void 0,e.check(Rc,i,a);function i(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,ke(e,t,"listItemIndent",n.containerState.size+1)(l)}function a(l){return n.containerState.furtherBlankLines||!ye(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(mz,t,o)(l))}function o(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,ke(e,e.attempt(cs,t,s),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function gz(e,t,s){const n=this;return ke(e,i,"listItemIndent",n.containerState.size+1);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(a):s(a)}}function yz(e){e.exit(this.containerState.type)}function bz(e,t,s){const n=this;return ke(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=n.events[n.events.length-1];return!ye(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):s(a)}}const Oj={name:"setextUnderline",resolveTo:vz,tokenize:wz};function vz(e,t){let s=e.length,n,i,a;for(;s--;)if(e[s][0]==="enter"){if(e[s][1].type==="content"){n=s;break}e[s][1].type==="paragraph"&&(i=s)}else e[s][1].type==="content"&&e.splice(s,1),!a&&e[s][1].type==="definition"&&(a=s);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function wz(e,t,s){const n=this;let i;return a;function a(u){let d=n.events.length,h;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){h=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=u,o(u)):s(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),ye(u)?ke(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||oe(u)?(e.exit("setextHeadingLine"),t(u)):s(u)}}const jz={tokenize:Nz};function Nz(e){const t=this,s=e.attempt(Rc,n,e.attempt(this.parser.constructs.flowInitial,i,ke(e,e.attempt(this.parser.constructs.flow,i,e.attempt(C9,i)),"linePrefix")));return s;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,s}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,s}}const kz={resolveAll:YT()},Sz=qT("string"),_z=qT("text");function qT(e){return{resolveAll:YT(e==="text"?Tz:void 0),tokenize:t};function t(s){const n=this,i=this.parser.constructs[e],a=s.attempt(i,o,l);return o;function o(d){return u(d)?a(d):l(d)}function l(d){if(d===null){s.consume(d);return}return s.enter("data"),s.consume(d),c}function c(d){return u(d)?(s.exit("data"),a(d)):(s.consume(d),c)}function u(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function YT(e){return t;function t(s,n){let i=-1,a;for(;++i<=s.length;)a===void 0?s[i]&&s[i][1].type==="data"&&(a=i,i++):(!s[i]||s[i][1].type!=="data")&&(i!==a+2&&(s[a][1].end=s[i-1][1].end,s.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(s,n):s}}function Tz(e,t){let s=0;for(;++s<=e.length;)if((s===e.length||e[s][1].type==="lineEnding")&&e[s-1][1].type==="data"){const n=e[s-1][1],i=t.sliceStream(n);let a=i.length,o=-1,l=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&s===e.length&&(l=0),l){const u={type:s===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:n.start._bufferIndex+o,_index:n.start._index+a,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(s,0,["enter",u,t],["exit",u,t]),s+=2)}s++}return e}const Cz={42:cs,43:cs,45:cs,48:cs,49:cs,50:cs,51:cs,52:cs,53:cs,54:cs,55:cs,56:cs,57:cs,62:UT},Pz={91:M9},Ez={[-2]:ym,[-1]:ym,32:ym},Az={35:U9,42:ed,45:[Oj,ed],60:V9,61:Oj,95:ed,96:Lj,126:Lj},Rz={38:BT,92:$T},Mz={[-5]:bm,[-4]:bm,[-3]:bm,33:oz,38:BT,42:Rx,60:[c9,X9],91:cz,92:[O9,$T],93:z0,95:Rx,96:j9},Dz={null:[Rx,kz]},Lz={null:[42,95]},Iz={null:[]},Oz=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Lz,contentInitial:Pz,disable:Iz,document:Cz,flow:Az,flowInitial:Ez,insideSpan:Dz,string:Rz,text:Mz},Symbol.toStringTag,{value:"Module"}));function Fz(e,t,s){let n={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const i={},a=[];let o=[],l=[];const c={attempt:P(j),check:P(k),consume:b,enter:v,exit:w,interrupt:P(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:x,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function h(E){return o=Ys(o,E),y(),o[o.length-1]!==null?[]:(S(t,0),u.events=nf(a,u.events,u),u.events)}function f(E,M){return $z(m(E),M)}function m(E){return Uz(o,E)}function x(){const{_bufferIndex:E,_index:M,line:O,column:F,offset:z}=n;return{_bufferIndex:E,_index:M,line:O,column:F,offset:z}}function g(E){i[E.line]=E.column,N()}function y(){let E;for(;n._index<o.length;){const M=o[n._index];if(typeof M=="string")for(E=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===E&&n._bufferIndex<M.length;)p(M.charCodeAt(n._bufferIndex));else p(M)}}function p(E){d=d(E)}function b(E){oe(E)?(n.line++,n.column=1,n.offset+=E===-3?2:1,N()):E!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=E}function v(E,M){const O=M||{};return O.type=E,O.start=x(),u.events.push(["enter",O,u]),l.push(O),O}function w(E){const M=l.pop();return M.end=x(),u.events.push(["exit",M,u]),M}function j(E,M){S(E,M.from)}function k(E,M){M.restore()}function P(E,M){return O;function O(F,z,Q){let I,$,B,C;return Array.isArray(F)?ie(F):"tokenize"in F?ie([F]):ne(F);function ne(ue){return fe;function fe(De){const ft=De!==null&&ue[De],St=De!==null&&ue.null,mt=[...Array.isArray(ft)?ft:ft?[ft]:[],...Array.isArray(St)?St:St?[St]:[]];return ie(mt)(De)}}function ie(ue){return I=ue,$=0,ue.length===0?Q:A(ue[$])}function A(ue){return fe;function fe(De){return C=T(),B=ue,ue.partial||(u.currentConstruct=ue),ue.name&&u.parser.constructs.disable.null.includes(ue.name)?Me():ue.tokenize.call(M?Object.assign(Object.create(u),M):u,c,ve,Me)(De)}}function ve(ue){return E(B,C),z}function Me(ue){return C.restore(),++$<I.length?A(I[$]):Q}}}function S(E,M){E.resolveAll&&!a.includes(E)&&a.push(E),E.resolve&&As(u.events,M,u.events.length-M,E.resolve(u.events.slice(M),u)),E.resolveTo&&(u.events=E.resolveTo(u.events,u))}function T(){const E=x(),M=u.previous,O=u.currentConstruct,F=u.events.length,z=Array.from(l);return{from:F,restore:Q};function Q(){n=E,u.previous=M,u.currentConstruct=O,u.events.length=F,l=z,N()}}function N(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Uz(e,t){const s=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(s===i)o=[e[s].slice(n,a)];else{if(o=e.slice(s,i),n>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(n):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function $z(e,t){let s=-1;const n=[];let i;for(;++s<e.length;){const a=e[s];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,n.push(o)}return n.join("")}function Bz(e){const n={constructs:OT([Oz,...(e||{}).extensions||[]]),content:i(s9),defined:[],document:i(r9),flow:i(jz),lazy:{},string:i(Sz),text:i(_z)};return n;function i(a){return o;function o(l){return Fz(n,a,l)}}}function zz(e){for(;!zT(e););return e}const Fj=/[\0\t\n\r]/g;function Vz(){let e=1,t="",s=!0,n;return i;function i(a,o,l){const c=[];let u,d,h,f,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",s&&(a.charCodeAt(0)===65279&&h++,s=void 0);h<a.length;){if(Fj.lastIndex=h,u=Fj.exec(a),f=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(f),!u){t=a.slice(h);break}if(m===10&&h===f&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),h<f&&(c.push(a.slice(h,f)),e+=f-h),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}h=f+1}return l&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const Hz=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Wz(e){return e.replace(Hz,qz)}function qz(e,t,s){if(t)return t;if(s.charCodeAt(0)===35){const i=s.charCodeAt(1),a=i===120||i===88;return FT(s.slice(a?2:1),a?16:10)}return B0(s)||e}const GT={}.hasOwnProperty;function Yz(e,t,s){return typeof t!="string"&&(s=t,t=void 0),Gz(s)(zz(Bz(s).document().write(Vz()(e,t,!0))))}function Gz(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(li),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(_t),blockQuote:a(St),characterEscape:T,characterReference:T,codeFenced:a(mt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(mt,o),codeText:a(Kt,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(js),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Bn),hardBreakEscape:a(oi),hardBreakTrailing:a(oi),htmlFlow:a(sa,o),htmlFlowData:T,htmlText:a(sa,o),htmlTextData:T,image:a(Fc),label:o,link:a(li),listItem:a(U),listItemValue:f,listOrdered:a(R,h),listUnordered:a(R),paragraph:a(W),reference:A,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(_t),strong:a(ee),thematicBreak:a(J)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:ft,autolinkProtocol:De,blockQuote:c(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:Me,characterReferenceMarkerNumeric:Me,characterReferenceValue:ue,characterReference:fe,codeFenced:c(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:x,codeFlowValue:N,codeIndented:c(p),codeText:c(z),codeTextData:N,data:N,definition:c(),definitionDestinationString:w,definitionLabelString:b,definitionTitleString:v,emphasis:c(),hardBreakEscape:c(M),hardBreakTrailing:c(M),htmlFlow:c(O),htmlFlowData:N,htmlText:c(F),htmlTextData:N,image:c(I),label:B,labelText:$,lineEnding:E,link:c(Q),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ve,resourceDestinationString:C,resourceTitleString:ne,resource:ie,setextHeading:c(S),setextHeadingLineSequence:P,setextHeadingText:k,strong:c(),thematicBreak:c()}};KT(t,(e||{}).mdastExtensions||[]);const s={};return n;function n(L){let Y={type:"root",children:[]};const te={stack:[Y],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:s},le=[];let je=-1;for(;++je<L.length;)if(L[je][1].type==="listOrdered"||L[je][1].type==="listUnordered")if(L[je][0]==="enter")le.push(je);else{const qe=le.pop();je=i(L,qe,je)}for(je=-1;++je<L.length;){const qe=t[L[je][0]];GT.call(qe,L[je][1].type)&&qe[L[je][1].type].call(Object.assign({sliceSerialize:L[je][2].sliceSerialize},te),L[je][1])}if(te.tokenStack.length>0){const qe=te.tokenStack[te.tokenStack.length-1];(qe[1]||Uj).call(te,void 0,qe[0])}for(Y.position={start:gr(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:gr(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<t.transforms.length;)Y=t.transforms[je](Y)||Y;return Y}function i(L,Y,te){let le=Y-1,je=-1,qe=!1,Fs,q,Te,Ze;for(;++le<=te;){const pt=L[le];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?je++:je--,Ze=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Fs&&!Ze&&!je&&!Te&&(Te=le),Ze=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ze=void 0}if(!je&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||je===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Fs){let Us=le;for(q=void 0;Us--;){const $s=L[Us];if($s[1].type==="lineEnding"||$s[1].type==="lineEndingBlank"){if($s[0]==="exit")continue;q&&(L[q][1].type="lineEndingBlank",qe=!0),$s[1].type="lineEnding",q=Us}else if(!($s[1].type==="linePrefix"||$s[1].type==="blockQuotePrefix"||$s[1].type==="blockQuotePrefixWhitespace"||$s[1].type==="blockQuoteMarker"||$s[1].type==="listItemIndent"))break}Te&&(!q||Te<q)&&(Fs._spread=!0),Fs.end=Object.assign({},q?L[q][1].start:pt[1].end),L.splice(q||le,0,["exit",Fs,pt[2]]),le++,te++}if(pt[1].type==="listItemPrefix"){const Us={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Fs=Us,L.splice(le,0,["enter",Us,pt[2]]),le++,te++,Te=void 0,Ze=!0}}}return L[Y][1]._spread=qe,te}function a(L,Y){return te;function te(le){l.call(this,L(le),le),Y&&Y.call(this,le)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(L,Y,te){this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([Y,te||void 0]),L.position={start:gr(Y.start),end:void 0}}function c(L){return Y;function Y(te){L&&L.call(this,te),u.call(this,te)}}function u(L,Y){const te=this.stack.pop(),le=this.tokenStack.pop();if(le)le[0].type!==L.type&&(Y?Y.call(this,L,le[0]):(le[1]||Uj).call(this,L,le[0]));else throw new Error("Cannot close `"+L.type+"` ("+Pl({start:L.start,end:L.end})+"): it’s not open");te.position.end=gr(L.end)}function d(){return $0(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(L){if(this.data.expectingFirstListItemValue){const Y=this.stack[this.stack.length-2];Y.start=Number.parseInt(this.sliceSerialize(L),10),this.data.expectingFirstListItemValue=void 0}}function m(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.lang=L}function x(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.meta=L}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.value=L.replace(/(\r?\n|\r)$/g,"")}function b(L){const Y=this.resume(),te=this.stack[this.stack.length-1];te.label=Y,te.identifier=gn(this.sliceSerialize(L)).toLowerCase()}function v(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.title=L}function w(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.url=L}function j(L){const Y=this.stack[this.stack.length-1];if(!Y.depth){const te=this.sliceSerialize(L).length;Y.depth=te}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function P(L){const Y=this.stack[this.stack.length-1];Y.depth=this.sliceSerialize(L).codePointAt(0)===61?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function T(L){const te=this.stack[this.stack.length-1].children;let le=te[te.length-1];(!le||le.type!=="text")&&(le=Z(),le.position={start:gr(L.start),end:void 0},te.push(le)),this.stack.push(le)}function N(L){const Y=this.stack.pop();Y.value+=this.sliceSerialize(L),Y.position.end=gr(L.end)}function E(L){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const te=Y.children[Y.children.length-1];te.position.end=gr(L.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Y.type)&&(T.call(this,L),N.call(this,L))}function M(){this.data.atHardBreak=!0}function O(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.value=L}function F(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.value=L}function z(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.value=L}function Q(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=Y,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function I(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=Y,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function $(L){const Y=this.sliceSerialize(L),te=this.stack[this.stack.length-2];te.label=Wz(Y),te.identifier=gn(Y).toLowerCase()}function B(){const L=this.stack[this.stack.length-1],Y=this.resume(),te=this.stack[this.stack.length-1];if(this.data.inReference=!0,te.type==="link"){const le=L.children;te.children=le}else te.alt=Y}function C(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.url=L}function ne(){const L=this.resume(),Y=this.stack[this.stack.length-1];Y.title=L}function ie(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function ve(L){const Y=this.resume(),te=this.stack[this.stack.length-1];te.label=Y,te.identifier=gn(this.sliceSerialize(L)).toLowerCase(),this.data.referenceType="full"}function Me(L){this.data.characterReferenceType=L.type}function ue(L){const Y=this.sliceSerialize(L),te=this.data.characterReferenceType;let le;te?(le=FT(Y,te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):le=B0(Y);const je=this.stack[this.stack.length-1];je.value+=le}function fe(L){const Y=this.stack.pop();Y.position.end=gr(L.end)}function De(L){N.call(this,L);const Y=this.stack[this.stack.length-1];Y.url=this.sliceSerialize(L)}function ft(L){N.call(this,L);const Y=this.stack[this.stack.length-1];Y.url="mailto:"+this.sliceSerialize(L)}function St(){return{type:"blockquote",children:[]}}function mt(){return{type:"code",lang:null,meta:null,value:""}}function Kt(){return{type:"inlineCode",value:""}}function js(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Bn(){return{type:"emphasis",children:[]}}function _t(){return{type:"heading",depth:0,children:[]}}function oi(){return{type:"break"}}function sa(){return{type:"html",value:""}}function Fc(){return{type:"image",title:null,url:"",alt:null}}function li(){return{type:"link",title:null,url:"",children:[]}}function R(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function U(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function W(){return{type:"paragraph",children:[]}}function ee(){return{type:"strong",children:[]}}function Z(){return{type:"text",value:""}}function J(){return{type:"thematicBreak"}}}function gr(e){return{line:e.line,column:e.column,offset:e.offset}}function KT(e,t){let s=-1;for(;++s<t.length;){const n=t[s];Array.isArray(n)?KT(e,n):Kz(e,n)}}function Kz(e,t){let s;for(s in t)if(GT.call(t,s))switch(s){case"canContainEols":{const n=t[s];n&&e[s].push(...n);break}case"transforms":{const n=t[s];n&&e[s].push(...n);break}case"enter":case"exit":{const n=t[s];n&&Object.assign(e[s],n);break}}}function Uj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Pl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Pl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Pl({start:t.start,end:t.end})+") is still open")}function Xz(e){const t=this;t.parser=s;function s(n){return Yz(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Jz(e,t){const s={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,s),e.applyData(t,s)}function Qz(e,t){const s={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,s),[e.applyData(t,s),{type:"text",value:`
`}]}function Zz(e,t){const s=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:s}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function eV(e,t){const s={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function tV(e,t){const s={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function sV(e,t){const s=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=No(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let o,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=a+1,l+=1,e.footnoteCounts.set(n,l);const c={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+i,id:s+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function nV(e,t){const s={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function rV(e,t){if(e.options.allowDangerousHtml){const s={type:"raw",value:t.value};return e.patch(t,s),e.applyData(t,s)}}function XT(e,t){const s=t.referenceType;let n="]";if(s==="collapsed"?n+="[]":s==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function iV(e,t){const s=String(t.identifier).toUpperCase(),n=e.definitionById.get(s);if(!n)return XT(e,t);const i={src:No(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function aV(e,t){const s={src:No(t.url)};t.alt!==null&&t.alt!==void 0&&(s.alt=t.alt),t.title!==null&&t.title!==void 0&&(s.title=t.title);const n={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,n),e.applyData(t,n)}function oV(e,t){const s={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,s);const n={type:"element",tagName:"code",properties:{},children:[s]};return e.patch(t,n),e.applyData(t,n)}function lV(e,t){const s=String(t.identifier).toUpperCase(),n=e.definitionById.get(s);if(!n)return XT(e,t);const i={href:No(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function cV(e,t){const s={href:No(t.url)};t.title!==null&&t.title!==void 0&&(s.title=t.title);const n={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uV(e,t,s){const n=e.all(t),i=s?dV(s):JT(t),a={},o=[];if(typeof t.checked=="boolean"){const d=n[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const d=n[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const c=n[n.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function dV(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const s=e.children;let n=-1;for(;!t&&++n<s.length;)t=JT(s[n])}return t}function JT(e){const t=e.spread;return t??e.children.length>1}function hV(e,t){const s={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(s.start=t.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:s,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function fV(e,t){const s={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function mV(e,t){const s={type:"root",children:e.wrap(e.all(t))};return e.patch(t,s),e.applyData(t,s)}function pV(e,t){const s={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function xV(e,t){const s=e.all(t),n=s.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),i.push(o)}if(s.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(s,!0)},l=I0(t.children[1]),c=ET(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function gV(e,t,s){const n=s?s.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",o=s&&s.type==="table"?s.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],f={},m=o?o[c]:void 0;m&&(f.align=m);let x={type:"element",tagName:a,properties:f,children:[]};h&&(x.children=e.all(h),e.patch(h,x),x=e.applyData(h,x)),u.push(x)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function yV(e,t){const s={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}const $j=9,Bj=32;function bV(e){const t=String(e),s=/\r?\n|\r/g;let n=s.exec(t),i=0;const a=[];for(;n;)a.push(zj(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=s.exec(t);return a.push(zj(t.slice(i),i>0,!1)),a.join("")}function zj(e,t,s){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===$j||a===Bj;)n++,a=e.codePointAt(n)}if(s){let a=e.codePointAt(i-1);for(;a===$j||a===Bj;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function vV(e,t){const s={type:"text",value:bV(String(t.value))};return e.patch(t,s),e.applyData(t,s)}function wV(e,t){const s={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,s),e.applyData(t,s)}const jV={blockquote:Jz,break:Qz,code:Zz,delete:eV,emphasis:tV,footnoteReference:sV,heading:nV,html:rV,imageReference:iV,image:aV,inlineCode:oV,linkReference:lV,link:cV,listItem:uV,list:hV,paragraph:fV,root:mV,strong:pV,table:xV,tableCell:yV,tableRow:gV,text:vV,thematicBreak:wV,toml:ku,yaml:ku,definition:ku,footnoteDefinition:ku};function ku(){}const QT=-1,rf=0,Al=1,eh=2,V0=3,H0=4,W0=5,q0=6,ZT=7,eC=8,Vj=typeof self=="object"?self:globalThis,NV=(e,t)=>{const s=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case rf:case QT:return s(o,i);case Al:{const l=s([],i);for(const c of o)l.push(n(c));return l}case eh:{const l=s({},i);for(const[c,u]of o)l[n(c)]=n(u);return l}case V0:return s(new Date(o),i);case H0:{const{source:l,flags:c}=o;return s(new RegExp(l,c),i)}case W0:{const l=s(new Map,i);for(const[c,u]of o)l.set(n(c),n(u));return l}case q0:{const l=s(new Set,i);for(const c of o)l.add(n(c));return l}case ZT:{const{name:l,message:c}=o;return s(new Vj[l](c),i)}case eC:return s(BigInt(o),i);case"BigInt":return s(Object(BigInt(o)),i);case"ArrayBuffer":return s(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return s(new DataView(l),o)}}return s(new Vj[a](o),i)};return n},Hj=e=>NV(new Map,e)(0),da="",{toString:kV}={},{keys:SV}=Object,qo=e=>{const t=typeof e;if(t!=="object"||!e)return[rf,t];const s=kV.call(e).slice(8,-1);switch(s){case"Array":return[Al,da];case"Object":return[eh,da];case"Date":return[V0,da];case"RegExp":return[H0,da];case"Map":return[W0,da];case"Set":return[q0,da];case"DataView":return[Al,s]}return s.includes("Array")?[Al,s]:s.includes("Error")?[ZT,s]:[eh,s]},Su=([e,t])=>e===rf&&(t==="function"||t==="symbol"),_V=(e,t,s,n)=>{const i=(o,l)=>{const c=n.push(o)-1;return s.set(l,c),c},a=o=>{if(s.has(o))return s.get(o);let[l,c]=qo(o);switch(l){case rf:{let d=o;switch(c){case"bigint":l=eC,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([QT],o)}return i([l,d],o)}case Al:{if(c){let f=o;return c==="DataView"?f=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(o)),i([c,[...f]],o)}const d=[],h=i([l,d],o);for(const f of o)d.push(a(f));return h}case eh:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],h=i([l,d],o);for(const f of SV(o))(e||!Su(qo(o[f])))&&d.push([a(f),a(o[f])]);return h}case V0:return i([l,o.toISOString()],o);case H0:{const{source:d,flags:h}=o;return i([l,{source:d,flags:h}],o)}case W0:{const d=[],h=i([l,d],o);for(const[f,m]of o)(e||!(Su(qo(f))||Su(qo(m))))&&d.push([a(f),a(m)]);return h}case q0:{const d=[],h=i([l,d],o);for(const f of o)(e||!Su(qo(f)))&&d.push(a(f));return h}}const{message:u}=o;return i([l,{name:c,message:u}],o)};return a},Wj=(e,{json:t,lossy:s}={})=>{const n=[];return _V(!(t||s),!!t,new Map,n)(e),n},th=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Hj(Wj(e,t)):structuredClone(e):(e,t)=>Hj(Wj(e,t));function TV(e,t){const s=[{type:"text",value:"↩"}];return t>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),s}function CV(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function PV(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=e.options.footnoteBackContent||TV,n=e.options.footnoteBackLabel||CV,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=No(h.toLowerCase());let m=0;const x=[],g=e.footnoteCounts.get(h);for(;g!==void 0&&++m<=g;){x.length>0&&x.push({type:"text",value:" "});let b=typeof s=="string"?s:s(c,m);typeof b=="string"&&(b={type:"text",value:b}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...x)}else d.push(...x);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,p),l.push(p)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...th(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const af=function(e){if(e==null)return MV;if(typeof e=="function")return of(e);if(typeof e=="object")return Array.isArray(e)?EV(e):AV(e);if(typeof e=="string")return RV(e);throw new Error("Expected function, string, or object as test")};function EV(e){const t=[];let s=-1;for(;++s<e.length;)t[s]=af(e[s]);return of(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function AV(e){const t=e;return of(s);function s(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function RV(e){return of(t);function t(s){return s&&s.type===e}}function of(e){return t;function t(s,n,i){return!!(DV(s)&&e.call(this,s,typeof n=="number"?n:void 0,i||void 0))}}function MV(){return!0}function DV(e){return e!==null&&typeof e=="object"&&"type"in e}const tC=[],LV=!0,Mx=!1,IV="skip";function sC(e,t,s,n){let i;typeof t=="function"&&typeof s!="function"?(n=s,s=t):i=t;const a=af(i),o=n?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=tC,x,g,y;if((!t||a(c,u,d[d.length-1]||void 0))&&(m=OV(s(c,d)),m[0]===Mx))return m;if("children"in c&&c.children){const p=c;if(p.children&&m[0]!==IV)for(g=(n?p.children.length:-1)+o,y=d.concat(p);g>-1&&g<p.children.length;){const b=p.children[g];if(x=l(b,g,y)(),x[0]===Mx)return x;g=typeof x[1]=="number"?x[1]:g+o}}return m}}}function OV(e){return Array.isArray(e)?e:typeof e=="number"?[LV,e]:e==null?tC:[e]}function Y0(e,t,s,n){let i,a,o;typeof t=="function"&&typeof s!="function"?(a=void 0,o=t,i=s):(a=t,o=s,i=n),sC(e,a,l,i);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return o(c,h,d)}}const Dx={}.hasOwnProperty,FV={};function UV(e,t){const s=t||FV,n=new Map,i=new Map,a=new Map,o={...jV,...s.handlers},l={all:u,applyData:BV,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:s,patch:$V,wrap:VV};return Y0(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?n:i,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,m=l.handlers[f];if(Dx.call(l.handlers,f)&&m)return m(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:g,...y}=d,p=th(y);return p.children=l.all(d),p}return th(d)}return(l.options.unknownHandler||zV)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const x=l.one(f[m],d);if(x){if(m&&f[m-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=qj(x.value)),!Array.isArray(x)&&x.type==="element")){const g=x.children[0];g&&g.type==="text"&&(g.value=qj(g.value))}Array.isArray(x)?h.push(...x):h.push(x)}}}return h}}function $V(e,t){e.position&&(t.position=CB(e))}function BV(e,t){let s=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(s.type==="element")s.tagName=n;else{const o="children"in s?s.children:[s];s={type:"element",tagName:n,properties:{},children:o}}s.type==="element"&&a&&Object.assign(s.properties,th(a)),"children"in s&&s.children&&i!==null&&i!==void 0&&(s.children=i)}return s}function zV(e,t){const s=t.data||{},n="value"in t&&!(Dx.call(s,"hProperties")||Dx.call(s,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VV(e,t){const s=[];let n=-1;for(t&&s.push({type:"text",value:`
`});++n<e.length;)n&&s.push({type:"text",value:`
`}),s.push(e[n]);return t&&e.length>0&&s.push({type:"text",value:`
`}),s}function qj(e){let t=0,s=e.charCodeAt(t);for(;s===9||s===32;)t++,s=e.charCodeAt(t);return e.slice(t)}function Yj(e,t){const s=UV(e,t),n=s.one(e,void 0),i=PV(s),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function HV(e,t){return e&&"run"in e?async function(s,n){const i=Yj(s,{file:n,...t});await e.run(i,n)}:function(s,n){return Yj(s,{file:n,...e||t})}}function Gj(e){if(e)throw e}var td=Object.prototype.hasOwnProperty,nC=Object.prototype.toString,Kj=Object.defineProperty,Xj=Object.getOwnPropertyDescriptor,Jj=function(t){return typeof Array.isArray=="function"?Array.isArray(t):nC.call(t)==="[object Array]"},Qj=function(t){if(!t||nC.call(t)!=="[object Object]")return!1;var s=td.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&td.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!s&&!n)return!1;var i;for(i in t);return typeof i>"u"||td.call(t,i)},Zj=function(t,s){Kj&&s.name==="__proto__"?Kj(t,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):t[s.name]=s.newValue},e1=function(t,s){if(s==="__proto__")if(td.call(t,s)){if(Xj)return Xj(t,s).value}else return;return t[s]},WV=function e(){var t,s,n,i,a,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(s in t)n=e1(l,s),i=e1(t,s),l!==i&&(d&&i&&(Qj(i)||(a=Jj(i)))?(a?(a=!1,o=n&&Jj(n)?n:[]):o=n&&Qj(n)?n:{},Zj(l,{name:s,newValue:e(d,o,i)})):typeof i<"u"&&Zj(l,{name:s,newValue:i}));return l};const vm=dh(WV);function Lx(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qV(){const e=[],t={run:s,use:n};return t;function s(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...u){const d=e[++a];let h=-1;if(c){o(c);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?YV(d,l)(...u):o(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function YV(e,t){let s;return n;function n(...o){const l=e.length>o.length;let c;l&&o.push(i);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&s)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...l){s||(s=!0,t(o,...l))}function a(o){i(null,o)}}const Pn={basename:GV,dirname:KV,extname:XV,join:JV,sep:"/"};function GV(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Mc(e);let s=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){s=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(s,n)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){s=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(n=i):(l=-1,n=o));return s===n?n=o:n<0&&(n=e.length),e.slice(s,n)}function KV(e){if(Mc(e),e.length===0)return".";let t=-1,s=e.length,n;for(;--s;)if(e.codePointAt(s)===47){if(n){t=s;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function XV(e){Mc(e);let t=e.length,s=-1,n=0,i=-1,a=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){n=t+1;break}continue}s<0&&(o=!0,s=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||s<0||a===0||a===1&&i===s-1&&i===n+1?"":e.slice(i,s)}function JV(...e){let t=-1,s;for(;++t<e.length;)Mc(e[t]),e[t]&&(s=s===void 0?e[t]:s+"/"+e[t]);return s===void 0?".":QV(s)}function QV(e){Mc(e);const t=e.codePointAt(0)===47;let s=ZV(e,!t);return s.length===0&&!t&&(s="."),s.length>0&&e.codePointAt(e.length-1)===47&&(s+="/"),t?"/"+s:s}function ZV(e,t){let s="",n=0,i=-1,a=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(s.length<2||n!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(c=s.lastIndexOf("/"),c!==s.length-1){c<0?(s="",n=0):(s=s.slice(0,c),n=s.length-1-s.lastIndexOf("/")),i=o,a=0;continue}}else if(s.length>0){s="",n=0,i=o,a=0;continue}}t&&(s=s.length>0?s+"/..":"..",n=2)}else s.length>0?s+="/"+e.slice(i+1,o):s=e.slice(i+1,o),n=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return s}function Mc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const e7={cwd:t7};function t7(){return"/"}function Ix(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function s7(e){if(typeof e=="string")e=new URL(e);else if(!Ix(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return n7(e)}function n7(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let s=-1;for(;++s<t.length;)if(t.codePointAt(s)===37&&t.codePointAt(s+1)===50){const n=t.codePointAt(s+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const wm=["history","path","basename","stem","extname","dirname"];class rC{constructor(t){let s;t?Ix(t)?s={path:t}:typeof t=="string"||r7(t)?s={value:t}:s=t:s={},this.cwd="cwd"in s?"":e7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<wm.length;){const a=wm[n];a in s&&s[a]!==void 0&&s[a]!==null&&(this[a]=a==="history"?[...s[a]]:s[a])}let i;for(i in s)wm.includes(i)||(this[i]=s[i])}get basename(){return typeof this.path=="string"?Pn.basename(this.path):void 0}set basename(t){Nm(t,"basename"),jm(t,"basename"),this.path=Pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pn.dirname(this.path):void 0}set dirname(t){t1(this.basename,"dirname"),this.path=Pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pn.extname(this.path):void 0}set extname(t){if(jm(t,"extname"),t1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ix(t)&&(t=s7(t)),Nm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pn.basename(this.path,this.extname):void 0}set stem(t){Nm(t,"stem"),jm(t,"stem"),this.path=Pn.join(this.dirname||"",t+(this.extname||""))}fail(t,s,n){const i=this.message(t,s,n);throw i.fatal=!0,i}info(t,s,n){const i=this.message(t,s,n);return i.fatal=void 0,i}message(t,s,n){const i=new Gt(t,s,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function jm(e,t){if(e&&e.includes(Pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pn.sep+"`")}function Nm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function t1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function r7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const i7=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},a7={}.hasOwnProperty;class G0 extends i7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=qV()}copy(){const t=new G0;let s=-1;for(;++s<this.attachers.length;){const n=this.attachers[s];t.use(...n)}return t.data(vm(!0,{},this.namespace)),t}data(t,s){return typeof t=="string"?arguments.length===2?(_m("data",this.frozen),this.namespace[t]=s,this):a7.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_m("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=s.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const s=_u(t),n=this.parser||this.Parser;return km("parse",n),n(String(s),s)}process(t,s){const n=this;return this.freeze(),km("process",this.parser||this.Parser),Sm("process",this.compiler||this.Compiler),s?i(void 0,s):new Promise(i);function i(a,o){const l=_u(t),c=n.parse(l);n.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const m=h,x=n.stringify(m,f);c7(x)?f.value=x:f.result=x,u(d,f)});function u(d,h){d||!h?o(d):a?a(h):s(void 0,h)}}}processSync(t){let s=!1,n;return this.freeze(),km("processSync",this.parser||this.Parser),Sm("processSync",this.compiler||this.Compiler),this.process(t,i),n1("processSync","process",s),n;function i(a,o){s=!0,Gj(a),n=o}}run(t,s,n){s1(t),this.freeze();const i=this.transformers;return!n&&typeof s=="function"&&(n=s,s=void 0),n?a(void 0,n):new Promise(a);function a(o,l){const c=_u(s);i.run(t,c,u);function u(d,h,f){const m=h||t;d?l(d):o?o(m):n(void 0,m,f)}}}runSync(t,s){let n=!1,i;return this.run(t,s,a),n1("runSync","run",n),i;function a(o,l){Gj(o),i=l,n=!0}}stringify(t,s){this.freeze();const n=_u(s),i=this.compiler||this.Compiler;return Sm("stringify",i),s1(t),i(t,n)}use(t,...s){const n=this.attachers,i=this.namespace;if(_m("use",this.frozen),t!=null)if(typeof t=="function")c(t,s);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=vm(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];a(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<n.length;)if(n[h][0]===u){f=h;break}if(f===-1)n.push([u,...d]);else if(d.length>0){let[m,...x]=d;const g=n[f][1];Lx(g)&&Lx(m)&&(m=vm(!0,g,m)),n[f]=[u,m,...x]}}}}const o7=new G0().freeze();function km(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _m(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function s1(e){if(!Lx(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function n1(e,t,s){if(!s)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _u(e){return l7(e)?e:new rC(e)}function l7(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function c7(e){return typeof e=="string"||u7(e)}function u7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const d7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r1=[],i1={allowDangerousHtml:!0},h7=/^(https?|ircs?|mailto|xmpp)$/i,f7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function iC(e){const t=m7(e),s=p7(e);return x7(t.runSync(t.parse(s),s),e)}function m7(e){const t=e.rehypePlugins||r1,s=e.remarkPlugins||r1,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...i1}:i1;return o7().use(Xz).use(s).use(HV,n).use(t)}function p7(e){const t=e.children||"",s=new rC;return typeof t=="string"&&(s.value=t),s}function x7(e,t){const s=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||g7;for(const d of f7)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+d7+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Y0(e,u),MB(e,{Fragment:r.Fragment,components:i,ignoreInvalidStyle:!0,jsx:r.jsx,jsxs:r.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in gm)if(Object.hasOwn(gm,m)&&Object.hasOwn(d.properties,m)){const x=d.properties[m],g=gm[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=c(String(x||""),m,d))}}if(d.type==="element"){let m=s?!s.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&n&&typeof h=="number"&&(m=!n(d,h,f)),m&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function g7(e){const t=e.indexOf(":"),s=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||s!==-1&&t>s||n!==-1&&t>n||h7.test(e.slice(0,t))?e:""}function a1(e,t){const s=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=s.indexOf(t);for(;i!==-1;)n++,i=s.indexOf(t,i+t.length);return n}function y7(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function b7(e,t,s){const i=af((s||{}).ignore||[]),a=v7(t);let o=-1;for(;++o<a.length;)sC(e,"text",l);function l(u,d){let h=-1,f;for(;++h<d.length;){const m=d[h],x=f?f.children:void 0;if(i(m,x?x.indexOf(m):void 0,f))return;f=m}if(f)return c(u,d)}function c(u,d){const h=d[d.length-1],f=a[o][0],m=a[o][1];let x=0;const y=h.children.indexOf(u);let p=!1,b=[];f.lastIndex=0;let v=f.exec(u.value);for(;v;){const w=v.index,j={index:v.index,input:v.input,stack:[...d,u]};let k=m(...v,j);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?f.lastIndex=w+1:(x!==w&&b.push({type:"text",value:u.value.slice(x,w)}),Array.isArray(k)?b.push(...k):k&&b.push(k),x=w+v[0].length,p=!0),!f.global)break;v=f.exec(u.value)}return p?(x<u.value.length&&b.push({type:"text",value:u.value.slice(x)}),h.children.splice(y,1,...b)):b=[u],y+b.length}}function v7(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const s=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<s.length;){const i=s[n];t.push([w7(i[0]),j7(i[1])])}return t}function w7(e){return typeof e=="string"?new RegExp(y7(e),"g"):e}function j7(e){return typeof e=="function"?e:function(){return e}}const Tm="phrasing",Cm=["autolink","link","image","label"];function N7(){return{transforms:[E7],enter:{literalAutolink:S7,literalAutolinkEmail:Pm,literalAutolinkHttp:Pm,literalAutolinkWww:Pm},exit:{literalAutolink:P7,literalAutolinkEmail:C7,literalAutolinkHttp:_7,literalAutolinkWww:T7}}}function k7(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Tm,notInConstruct:Cm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Tm,notInConstruct:Cm},{character:":",before:"[ps]",after:"\\/",inConstruct:Tm,notInConstruct:Cm}]}}function S7(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Pm(e){this.config.enter.autolinkProtocol.call(this,e)}function _7(e){this.config.exit.autolinkProtocol.call(this,e)}function T7(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function C7(e){this.config.exit.autolinkEmail.call(this,e)}function P7(e){this.exit(e)}function E7(e){b7(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,A7],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),R7]],{ignore:["link","linkReference"]})}function A7(e,t,s,n,i){let a="";if(!aC(i)||(/^w/i.test(t)&&(s=t+s,t="",a="http://"),!M7(s)))return!1;const o=D7(s+n);if(!o[0])return!1;const l={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function R7(e,t,s,n){return!aC(n,!0)||/[-\d_]$/.test(s)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+s,children:[{type:"text",value:t+"@"+s}]}}function M7(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function D7(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let s=t[0],n=s.indexOf(")");const i=a1(e,"(");let a=a1(e,")");for(;n!==-1&&i>a;)e+=s.slice(0,n+1),s=s.slice(n+1),n=s.indexOf(")"),a++;return[e,s]}function aC(e,t){const s=e.input.charCodeAt(e.index-1);return(e.index===0||qi(s)||sf(s))&&(!t||s!==47)}oC.peek=V7;function L7(){this.buffer()}function I7(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function O7(){this.buffer()}function F7(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function U7(e){const t=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=gn(this.sliceSerialize(e)).toLowerCase(),s.label=t}function $7(e){this.exit(e)}function B7(e){const t=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=gn(this.sliceSerialize(e)).toLowerCase(),s.label=t}function z7(e){this.exit(e)}function V7(){return"["}function oC(e,t,s,n){const i=s.createTracker(n);let a=i.move("[^");const o=s.enter("footnoteReference"),l=s.enter("reference");return a+=i.move(s.safe(s.associationId(e),{after:"]",before:a})),l(),o(),a+=i.move("]"),a}function H7(){return{enter:{gfmFootnoteCallString:L7,gfmFootnoteCall:I7,gfmFootnoteDefinitionLabelString:O7,gfmFootnoteDefinition:F7},exit:{gfmFootnoteCallString:U7,gfmFootnoteCall:$7,gfmFootnoteDefinitionLabelString:B7,gfmFootnoteDefinition:z7}}}function W7(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:s,footnoteReference:oC},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function s(n,i,a,o){const l=a.createTracker(o);let c=l.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=l.move(a.safe(a.associationId(n),{before:c,after:"]"})),d(),c+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,l.current()),t?lC:q7))),u(),c}}function q7(e,t,s){return t===0?e:lC(e,t,s)}function lC(e,t,s){return(s?"":"    ")+e}const Y7=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];cC.peek=Q7;function G7(){return{canContainEols:["delete"],enter:{strikethrough:X7},exit:{strikethrough:J7}}}function K7(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Y7}],handlers:{delete:cC}}}function X7(e){this.enter({type:"delete",children:[]},e)}function J7(e){this.exit(e)}function cC(e,t,s,n){const i=s.createTracker(n),a=s.enter("strikethrough");let o=i.move("~~");return o+=s.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function Q7(){return"~"}function Z7(e){return e.length}function eH(e,t){const s=t||{},n=(s.align||[]).concat(),i=s.stringLength||Z7,a=[],o=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],y=[];let p=-1;for(e[d].length>u&&(u=e[d].length);++p<e[d].length;){const b=tH(e[d][p]);if(s.alignDelimiters!==!1){const v=i(b);y[p]=v,(c[p]===void 0||v>c[p])&&(c[p]=v)}g.push(b)}o[d]=g,l[d]=y}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<u;)a[h]=o1(n[h]);else{const g=o1(n);for(;++h<u;)a[h]=g}h=-1;const f=[],m=[];for(;++h<u;){const g=a[h];let y="",p="";g===99?(y=":",p=":"):g===108?y=":":g===114&&(p=":");let b=s.alignDelimiters===!1?1:Math.max(1,c[h]-y.length-p.length);const v=y+"-".repeat(b)+p;s.alignDelimiters!==!1&&(b=y.length+b+p.length,b>c[h]&&(c[h]=b),m[h]=b),f[h]=v}o.splice(1,0,f),l.splice(1,0,m),d=-1;const x=[];for(;++d<o.length;){const g=o[d],y=l[d];h=-1;const p=[];for(;++h<u;){const b=g[h]||"";let v="",w="";if(s.alignDelimiters!==!1){const j=c[h]-(y[h]||0),k=a[h];k===114?v=" ".repeat(j):k===99?j%2?(v=" ".repeat(j/2+.5),w=" ".repeat(j/2-.5)):(v=" ".repeat(j/2),w=v):w=" ".repeat(j)}s.delimiterStart!==!1&&!h&&p.push("|"),s.padding!==!1&&!(s.alignDelimiters===!1&&b==="")&&(s.delimiterStart!==!1||h)&&p.push(" "),s.alignDelimiters!==!1&&p.push(v),p.push(b),s.alignDelimiters!==!1&&p.push(w),s.padding!==!1&&p.push(" "),(s.delimiterEnd!==!1||h!==u-1)&&p.push("|")}x.push(s.delimiterEnd===!1?p.join("").replace(/ +$/,""):p.join(""))}return x.join(`
`)}function tH(e){return e==null?"":String(e)}function o1(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function sH(e,t,s,n){const i=s.enter("blockquote"),a=s.createTracker(n);a.move("> "),a.shift(2);const o=s.indentLines(s.containerFlow(e,a.current()),nH);return i(),o}function nH(e,t,s){return">"+(s?"":" ")+e}function rH(e,t){return l1(e,t.inConstruct,!0)&&!l1(e,t.notInConstruct,!1)}function l1(e,t,s){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return s;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function c1(e,t,s,n){let i=-1;for(;++i<s.unsafe.length;)if(s.unsafe[i].character===`
`&&rH(s.stack,s.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function iH(e,t){const s=String(e);let n=s.indexOf(t),i=n,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>o&&(o=a):a=1,i=n+t.length,n=s.indexOf(t,i);return o}function aH(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function oH(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function lH(e,t,s,n){const i=oH(s),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(aH(e,s)){const h=s.enter("codeIndented"),f=s.indentLines(a,cH);return h(),f}const l=s.createTracker(n),c=i.repeat(Math.max(iH(a,i)+1,3)),u=s.enter("codeFenced");let d=l.move(c);if(e.lang){const h=s.enter(`codeFencedLang${o}`);d+=l.move(s.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=s.enter(`codeFencedMeta${o}`);d+=l.move(" "),d+=l.move(s.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),h()}return d+=l.move(`
`),a&&(d+=l.move(a+`
`)),d+=l.move(c),u(),d}function cH(e,t,s){return(s?"":"    ")+e}function K0(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function uH(e,t,s,n){const i=K0(s),a=i==='"'?"Quote":"Apostrophe",o=s.enter("definition");let l=s.enter("label");const c=s.createTracker(n);let u=c.move("[");return u+=c.move(s.safe(s.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=s.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(s.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=s.enter("destinationRaw"),u+=c.move(s.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=s.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(s.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),o(),u}function dH(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function dc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function sh(e,t,s){const n=ro(e),i=ro(t);return n===void 0?i===void 0?s==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}uC.peek=hH;function uC(e,t,s,n){const i=dH(s),a=s.enter("emphasis"),o=s.createTracker(n),l=o.move(i);let c=o.move(s.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),d=sh(n.before.charCodeAt(n.before.length-1),u,i);d.inside&&(c=dc(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=sh(n.after.charCodeAt(0),h,i);f.inside&&(c=c.slice(0,-1)+dc(h));const m=o.move(i);return a(),s.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+c+m}function hH(e,t,s){return s.options.emphasis||"*"}function fH(e,t){let s=!1;return Y0(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return s=!0,Mx}),!!((!e.depth||e.depth<3)&&$0(e)&&(t.options.setext||s))}function mH(e,t,s,n){const i=Math.max(Math.min(6,e.depth||1),1),a=s.createTracker(n);if(fH(e,s)){const d=s.enter("headingSetext"),h=s.enter("phrasing"),f=s.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=s.enter("headingAtx"),c=s.enter("phrasing");a.move(o+" ");let u=s.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=dc(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,s.options.closeAtx&&(u+=" "+o),c(),l(),u}dC.peek=pH;function dC(e){return e.value||""}function pH(){return"<"}hC.peek=xH;function hC(e,t,s,n){const i=K0(s),a=i==='"'?"Quote":"Apostrophe",o=s.enter("image");let l=s.enter("label");const c=s.createTracker(n);let u=c.move("![");return u+=c.move(s.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=s.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(s.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=s.enter("destinationRaw"),u+=c.move(s.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=s.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(s.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),o(),u}function xH(){return"!"}fC.peek=gH;function fC(e,t,s,n){const i=e.referenceType,a=s.enter("imageReference");let o=s.enter("label");const l=s.createTracker(n);let c=l.move("![");const u=s.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=s.stack;s.stack=[],o=s.enter("reference");const h=s.safe(s.associationId(e),{before:c,after:"]",...l.current()});return o(),s.stack=d,a(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function gH(){return"!"}mC.peek=yH;function mC(e,t,s){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<s.unsafe.length;){const o=s.unsafe[a],l=s.compilePattern(o);let c;if(o.atBreak)for(;c=l.exec(n);){let u=c.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(c.index+1)}}return i+n+i}function yH(){return"`"}function pC(e,t){const s=$0(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(s===e.url||"mailto:"+s===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}xC.peek=bH;function xC(e,t,s,n){const i=K0(s),a=i==='"'?"Quote":"Apostrophe",o=s.createTracker(n);let l,c;if(pC(e,s)){const d=s.stack;s.stack=[],l=s.enter("autolink");let h=o.move("<");return h+=o.move(s.containerPhrasing(e,{before:h,after:">",...o.current()})),h+=o.move(">"),l(),s.stack=d,h}l=s.enter("link"),c=s.enter("label");let u=o.move("[");return u+=o.move(s.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=s.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(s.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=s.enter("destinationRaw"),u+=o.move(s.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),c(),e.title&&(c=s.enter(`title${a}`),u+=o.move(" "+i),u+=o.move(s.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),c()),u+=o.move(")"),l(),u}function bH(e,t,s){return pC(e,s)?"<":"["}gC.peek=vH;function gC(e,t,s,n){const i=e.referenceType,a=s.enter("linkReference");let o=s.enter("label");const l=s.createTracker(n);let c=l.move("[");const u=s.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=s.stack;s.stack=[],o=s.enter("reference");const h=s.safe(s.associationId(e),{before:c,after:"]",...l.current()});return o(),s.stack=d,a(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function vH(){return"["}function X0(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function wH(e){const t=X0(e),s=e.options.bulletOther;if(!s)return t==="*"?"-":"*";if(s!=="*"&&s!=="+"&&s!=="-")throw new Error("Cannot serialize items with `"+s+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(s===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+s+"`) to be different");return s}function jH(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function yC(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function NH(e,t,s,n){const i=s.enter("list"),a=s.bulletCurrent;let o=e.ordered?jH(s):X0(s);const l=e.ordered?o==="."?")":".":wH(s);let c=t&&s.bulletLastUsed?o===s.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&s.stack[s.stack.length-1]==="list"&&s.stack[s.stack.length-2]==="listItem"&&s.stack[s.stack.length-3]==="list"&&s.stack[s.stack.length-4]==="listItem"&&s.indexStack[s.indexStack.length-1]===0&&s.indexStack[s.indexStack.length-2]===0&&s.indexStack[s.indexStack.length-3]===0&&(c=!0),yC(s)===o&&d){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=l),s.bulletCurrent=o;const u=s.containerFlow(e,n);return s.bulletLastUsed=o,s.bulletCurrent=a,i(),u}function kH(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function SH(e,t,s,n){const i=kH(s);let a=s.bulletCurrent||X0(s);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(s.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=s.createTracker(n);l.move(a+" ".repeat(o-a.length)),l.shift(o);const c=s.enter("listItem"),u=s.indentLines(s.containerFlow(e,l.current()),d);return c(),u;function d(h,f,m){return f?(m?"":" ".repeat(o))+h:(m?a:a+" ".repeat(o-a.length))+h}}function _H(e,t,s,n){const i=s.enter("paragraph"),a=s.enter("phrasing"),o=s.containerPhrasing(e,n);return a(),i(),o}const TH=af(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function CH(e,t,s,n){return(e.children.some(function(o){return TH(o)})?s.containerPhrasing:s.containerFlow).call(s,e,n)}function PH(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}bC.peek=EH;function bC(e,t,s,n){const i=PH(s),a=s.enter("strong"),o=s.createTracker(n),l=o.move(i+i);let c=o.move(s.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),d=sh(n.before.charCodeAt(n.before.length-1),u,i);d.inside&&(c=dc(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=sh(n.after.charCodeAt(0),h,i);f.inside&&(c=c.slice(0,-1)+dc(h));const m=o.move(i+i);return a(),s.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+c+m}function EH(e,t,s){return s.options.strong||"*"}function AH(e,t,s,n){return s.safe(e.value,n)}function RH(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function MH(e,t,s){const n=(yC(s)+(s.options.ruleSpaces?" ":"")).repeat(RH(s));return s.options.ruleSpaces?n.slice(0,-1):n}const vC={blockquote:sH,break:c1,code:lH,definition:uH,emphasis:uC,hardBreak:c1,heading:mH,html:dC,image:hC,imageReference:fC,inlineCode:mC,link:xC,linkReference:gC,list:NH,listItem:SH,paragraph:_H,root:CH,strong:bC,text:AH,thematicBreak:MH};function DH(){return{enter:{table:LH,tableData:u1,tableHeader:u1,tableRow:OH},exit:{codeText:FH,table:IH,tableData:Em,tableHeader:Em,tableRow:Em}}}function LH(e){const t=e._align;this.enter({type:"table",align:t.map(function(s){return s==="none"?null:s}),children:[]},e),this.data.inTable=!0}function IH(e){this.exit(e),this.data.inTable=void 0}function OH(e){this.enter({type:"tableRow",children:[]},e)}function Em(e){this.exit(e)}function u1(e){this.enter({type:"tableCell",children:[]},e)}function FH(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,UH));const s=this.stack[this.stack.length-1];s.type,s.value=t,this.exit(e)}function UH(e,t){return t==="|"?t:e}function $H(e){const t=e||{},s=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=s?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:c,tableRow:l}};function o(m,x,g,y){return u(d(m,g,y),m.align)}function l(m,x,g,y){const p=h(m,g,y),b=u([p]);return b.slice(0,b.indexOf(`
`))}function c(m,x,g,y){const p=g.enter("tableCell"),b=g.enter("phrasing"),v=g.containerPhrasing(m,{...y,before:a,after:a});return b(),p(),v}function u(m,x){return eH(m,{align:x,alignDelimiters:n,padding:s,stringLength:i})}function d(m,x,g){const y=m.children;let p=-1;const b=[],v=x.enter("table");for(;++p<y.length;)b[p]=h(y[p],x,g);return v(),b}function h(m,x,g){const y=m.children;let p=-1;const b=[],v=x.enter("tableRow");for(;++p<y.length;)b[p]=c(y[p],m,x,g);return v(),b}function f(m,x,g){let y=vC.inlineCode(m,x,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function BH(){return{exit:{taskListCheckValueChecked:d1,taskListCheckValueUnchecked:d1,paragraph:VH}}}function zH(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:HH}}}function d1(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function VH(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const s=this.stack[this.stack.length-1];s.type;const n=s.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const l=i[a];if(l.type==="paragraph"){o=l;break}}o===s&&(n.value=n.value.slice(1),n.value.length===0?s.children.shift():s.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,s.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function HH(e,t,s,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=s.createTracker(n);a&&l.move(o);let c=vC.listItem(e,t,s,{...n,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+o}}function WH(){return[N7(),H7(),G7(),DH(),BH()]}function qH(e){return{extensions:[k7(),W7(e),K7(),$H(e),zH()]}}const YH={tokenize:ZH,partial:!0},wC={tokenize:eW,partial:!0},jC={tokenize:tW,partial:!0},NC={tokenize:sW,partial:!0},GH={tokenize:nW,partial:!0},kC={name:"wwwAutolink",tokenize:JH,previous:_C},SC={name:"protocolAutolink",tokenize:QH,previous:TC},pr={name:"emailAutolink",tokenize:XH,previous:CC},$n={};function KH(){return{text:$n}}let fi=48;for(;fi<123;)$n[fi]=pr,fi++,fi===58?fi=65:fi===91&&(fi=97);$n[43]=pr;$n[45]=pr;$n[46]=pr;$n[95]=pr;$n[72]=[pr,SC];$n[104]=[pr,SC];$n[87]=[pr,kC];$n[119]=[pr,kC];function XH(e,t,s){const n=this;let i,a;return o;function o(h){return!Ox(h)||!CC.call(n,n.previous)||J0(n.events)?s(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(h))}function l(h){return Ox(h)?(e.consume(h),l):h===64?(e.consume(h),c):s(h)}function c(h){return h===46?e.check(GH,d,u)(h):h===45||h===95||Vt(h)?(a=!0,e.consume(h),c):d(h)}function u(h){return e.consume(h),i=!0,c}function d(h){return a&&i&&ts(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):s(h)}}function JH(e,t,s){const n=this;return i;function i(o){return o!==87&&o!==119||!_C.call(n,n.previous)||J0(n.events)?s(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(YH,e.attempt(wC,e.attempt(jC,a),s),s)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function QH(e,t,s){const n=this;let i="",a=!1;return o;function o(h){return(h===72||h===104)&&TC.call(n,n.previous)&&!J0(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),l):s(h)}function l(h){if(ts(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),l;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),c}return s(h)}function c(h){return h===47?(e.consume(h),a?u:(a=!0,c)):s(h)}function u(h){return h===null||Zd(h)||Ie(h)||qi(h)||sf(h)?s(h):e.attempt(wC,e.attempt(jC,d),s)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function ZH(e,t,s){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),a):s(o)}function a(o){return o===null?s(o):t(o)}}function eW(e,t,s){let n,i,a;return o;function o(u){return u===46||u===95?e.check(NC,c,l)(u):u===null||Ie(u)||qi(u)||u!==45&&sf(u)?c(u):(a=!0,e.consume(u),o)}function l(u){return u===95?n=!0:(i=n,n=void 0),e.consume(u),o}function c(u){return i||n||!a?s(u):t(u)}}function tW(e,t){let s=0,n=0;return i;function i(o){return o===40?(s++,e.consume(o),i):o===41&&n<s?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(NC,t,a)(o):o===null||Ie(o)||qi(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&n++,e.consume(o),i}}function sW(e,t,s){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),a):l===93?(e.consume(l),i):l===60||l===null||Ie(l)||qi(l)?t(l):s(l)}function i(l){return l===null||l===40||l===91||Ie(l)||qi(l)?t(l):n(l)}function a(l){return ts(l)?o(l):s(l)}function o(l){return l===59?(e.consume(l),n):ts(l)?(e.consume(l),o):s(l)}}function nW(e,t,s){return n;function n(a){return e.consume(a),i}function i(a){return Vt(a)?s(a):t(a)}}function _C(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ie(e)}function TC(e){return!ts(e)}function CC(e){return!(e===47||Ox(e))}function Ox(e){return e===43||e===45||e===46||e===95||Vt(e)}function J0(e){let t=e.length,s=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){s=!0;break}if(n._gfmAutolinkLiteralWalkedInto){s=!1;break}}return e.length>0&&!s&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),s}const rW={tokenize:hW,partial:!0};function iW(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cW,continuation:{tokenize:uW},exit:dW}},text:{91:{name:"gfmFootnoteCall",tokenize:lW},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aW,resolveTo:oW}}}}function aW(e,t,s){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const c=n.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!o||!o._balanced)return s(c);const u=gn(n.sliceSerialize({start:o.end,end:n.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?s(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function oW(e,t){let s=e.length;for(;s--;)if(e[s][1].type==="labelImage"&&e[s][0]==="enter"){e[s][1];break}e[s+1][1].type="data",e[s+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[s+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[s+3][1].end),end:Object.assign({},e[s+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[s+1],e[s+2],["enter",n,t],e[s+3],e[s+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(s,e.length-s+1,...l),e}function lW(e,t,s){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,o;return l;function l(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?s(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(a>999||h===93&&!o||h===null||h===91||Ie(h))return s(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(gn(n.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):s(h)}return Ie(h)||(o=!0),a++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,u):u(h)}}function cW(e,t,s){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,o=0,l;return c;function c(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):s(x)}function d(x){if(o>999||x===93&&!l||x===null||x===91||Ie(x))return s(x);if(x===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=gn(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Ie(x)||(l=!0),o++,e.consume(x),x===92?h:d}function h(x){return x===91||x===92||x===93?(e.consume(x),o++,d):d(x)}function f(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),i.includes(a)||i.push(a),ke(e,m,"gfmFootnoteDefinitionWhitespace")):s(x)}function m(x){return t(x)}}function uW(e,t,s){return e.check(Rc,t,e.attempt(rW,t,s))}function dW(e){e.exit("gfmFootnoteDefinition")}function hW(e,t,s){const n=this;return ke(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):s(a)}}function fW(e){let s=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return s==null&&(s=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,l){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},f=[["enter",d,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",h,l]],m=l.parser.constructs.insideSpan.null;m&&As(f,f.length,0,nf(m,o.slice(u+1,c),l)),As(f,f.length,0,[["exit",h,l],["enter",o[c][1],l],["exit",o[c][1],l],["exit",d,l]]),As(o,u-1,c-u+3,f),c=u+f.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function a(o,l,c){const u=this.previous,d=this.events;let h=0;return f;function f(x){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(x):(o.enter("strikethroughSequenceTemporary"),m(x))}function m(x){const g=ro(u);if(x===126)return h>1?c(x):(o.consume(x),h++,m);if(h<2&&!s)return c(x);const y=o.exit("strikethroughSequenceTemporary"),p=ro(x);return y._open=!p||p===2&&!!g,y._close=!g||g===2&&!!p,l(x)}}}class mW{constructor(){this.map=[]}add(t,s,n){pW(this,t,s,n)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let s=this.map.length;const n=[];for(;s>0;)s-=1,n.push(t.slice(this.map[s][0]+this.map[s][1]),this.map[s][2]),t.length=this.map[s][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function pW(e,t,s,n){let i=0;if(!(s===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=s,e.map[i][2].push(...n);return}i+=1}e.map.push([t,s,n])}}function xW(e,t){let s=!1;const n=[];for(;t<e.length;){const i=e[t];if(s){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(s=!0);t+=1}return n}function gW(){return{flow:{null:{name:"table",tokenize:yW,resolveAll:bW}}}}function yW(e,t,s){const n=this;let i=0,a=0,o;return l;function l(N){let E=n.events.length-1;for(;E>-1;){const F=n.events[E][1].type;if(F==="lineEnding"||F==="linePrefix")E--;else break}const M=E>-1?n.events[E][1].type:null,O=M==="tableHead"||M==="tableRow"?k:c;return O===k&&n.parser.lazy[n.now().line]?s(N):O(N)}function c(N){return e.enter("tableHead"),e.enter("tableRow"),u(N)}function u(N){return N===124||(o=!0,a+=1),d(N)}function d(N){return N===null?s(N):oe(N)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),m):s(N):ye(N)?ke(e,d,"whitespace")(N):(a+=1,o&&(o=!1,i+=1),N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),h(N)))}function h(N){return N===null||N===124||Ie(N)?(e.exit("data"),d(N)):(e.consume(N),N===92?f:h)}function f(N){return N===92||N===124?(e.consume(N),h):h(N)}function m(N){return n.interrupt=!1,n.parser.lazy[n.now().line]?s(N):(e.enter("tableDelimiterRow"),o=!1,ye(N)?ke(e,x,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):x(N))}function x(N){return N===45||N===58?y(N):N===124?(o=!0,e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),g):j(N)}function g(N){return ye(N)?ke(e,y,"whitespace")(N):y(N)}function y(N){return N===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),p):N===45?(a+=1,p(N)):N===null||oe(N)?w(N):j(N)}function p(N){return N===45?(e.enter("tableDelimiterFiller"),b(N)):j(N)}function b(N){return N===45?(e.consume(N),b):N===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(N))}function v(N){return ye(N)?ke(e,w,"whitespace")(N):w(N)}function w(N){return N===124?x(N):N===null||oe(N)?!o||i!==a?j(N):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(N)):j(N)}function j(N){return s(N)}function k(N){return e.enter("tableRow"),P(N)}function P(N){return N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),P):N===null||oe(N)?(e.exit("tableRow"),t(N)):ye(N)?ke(e,P,"whitespace")(N):(e.enter("data"),S(N))}function S(N){return N===null||N===124||Ie(N)?(e.exit("data"),P(N)):(e.consume(N),N===92?T:S)}function T(N){return N===92||N===124?(e.consume(N),S):S(N)}}function bW(e,t){let s=-1,n=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],l=!1,c=0,u,d,h;const f=new mW;for(;++s<e.length;){const m=e[s],x=m[1];m[0]==="enter"?x.type==="tableHead"?(l=!1,c!==0&&(h1(f,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(s,0,[["enter",u,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(n=!0,h=void 0,a=[0,0,0,0],o=[0,s+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(s,0,[["enter",d,t]])),i=x.type==="tableDelimiterRow"?2:d?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],h=Tu(f,t,a,i,void 0,h),a=[0,0,0,0]),o[2]=s)):x.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(o[0]=o[1],h=Tu(f,t,a,i,void 0,h)),a=o,o=[a[1],s,0,0])):x.type==="tableHead"?(l=!0,c=s):x.type==="tableRow"||x.type==="tableDelimiterRow"?(c=s,a[1]!==0?(o[0]=o[1],h=Tu(f,t,a,i,s,h)):o[1]!==0&&(h=Tu(f,t,o,i,s,h)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=s)}for(c!==0&&h1(f,t,c,u,d),f.consume(t.events),s=-1;++s<t.events.length;){const m=t.events[s];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=xW(t.events,s))}return e}function Tu(e,t,s,n,i,a){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";s[0]!==0&&(a.end=Object.assign({},fa(t.events,s[0])),e.add(s[0],0,[["exit",a,t]]));const c=fa(t.events,s[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(s[1],0,[["enter",a,t]]),s[2]!==0){const u=fa(t.events,s[2]),d=fa(t.events,s[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(s[2],0,[["enter",h,t]]),n!==2){const f=t.events[s[2]],m=t.events[s[3]];if(f[1].end=Object.assign({},m[1].end),f[1].type="chunkText",f[1].contentType="text",s[3]>s[2]+1){const x=s[2]+1,g=s[3]-s[2]-1;e.add(x,g,[])}}e.add(s[3]+1,0,[["exit",h,t]])}return i!==void 0&&(a.end=Object.assign({},fa(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function h1(e,t,s,n,i){const a=[],o=fa(t.events,s);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),n.end=Object.assign({},o),a.push(["exit",n,t]),e.add(s+1,0,a)}function fa(e,t){const s=e[t],n=s[0]==="enter"?"start":"end";return s[1][n]}const vW={name:"tasklistCheck",tokenize:jW};function wW(){return{text:{91:vW}}}function jW(e,t,s){const n=this;return i;function i(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?s(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return Ie(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),o):s(c)}function o(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):s(c)}function l(c){return oe(c)?t(c):ye(c)?e.check({tokenize:NW},t,s)(c):s(c)}}function NW(e,t,s){return ke(e,n,"whitespace");function n(i){return i===null?s(i):t(i)}}function kW(e){return OT([KH(),iW(),fW(e),gW(),wW()])}const SW={};function PC(e){const t=this,s=e||SW,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(kW(s)),a.push(WH()),o.push(qH(s))}const _W=({isOpen:e,onClose:t})=>{const{messages:s,isLoading:n,sendMessage:i,clearMessages:a}=O$(),[o,l]=Pe.useState(""),c=_.useRef(null),u=_.useRef(null);_.useEffect(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})},[s]),_.useEffect(()=>{e&&u.current&&setTimeout(()=>{var p;(p=u.current)==null||p.focus()},300)},[e]);const d=p=>{l(p.target.value)},h=p=>{p.key==="Enter"&&o.trim()&&f()},f=async()=>{if(!o.trim()||n)return;const p=o;l(""),await i(p)},m=p=>{l(p),u.current&&u.current.focus()},x=p=>{D.success(`Thank you for your ${p?"positive":"negative"} feedback!`)},g=()=>{a(),D.success("Conversation reset")},y=p=>{D.success(`Opening ${p}...`)};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl flex flex-col h-[80vh] max-h-[800px] overflow-hidden",children:[r.jsxs("div",{className:"bg-blue-600 text-white p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ss,{className:"w-5 h-5"}),r.jsx("h3",{className:"font-medium",children:"MT5 Trading Assistant"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:g,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",title:"Reset conversation",children:r.jsx(m0,{className:"w-4 h-4"})}),r.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10","aria-label":"Close chat",children:r.jsx(vs,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:[s.map(p=>r.jsx("div",{className:"mb-4",children:p.role==="user"?r.jsxs("div",{className:"flex items-start justify-end",children:[r.jsx("div",{className:"bg-blue-100 text-blue-900 rounded-lg py-2 px-3 max-w-[80%]",children:r.jsx("p",{className:"text-sm",children:p.content})}),r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center ml-2 flex-shrink-0",children:r.jsx(_s,{className:"w-4 h-4 text-white"})})]}):p.role==="system"?r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:r.jsx(Fd,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-3 max-w-[80%]",children:[r.jsx("p",{className:"text-sm",children:p.content}),p.relatedQuestions&&p.relatedQuestions.length>0&&r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"You can ask me about:"}),p.relatedQuestions.map((b,v)=>r.jsx("button",{onClick:()=>m(b),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:b},v))]})]})]}):r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:r.jsx(ss,{className:"w-4 h-4 text-white"})}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg py-2 px-3 max-w-[80%] shadow-sm",children:p.isLoading?r.jsx("div",{className:"flex items-center justify-center py-2",children:r.jsx(Hi,{className:"w-4 h-4 text-blue-500 animate-spin"})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm prose prose-sm max-w-none",children:r.jsx(iC,{remarkPlugins:[PC],children:p.content})}),p.relatedDocuments&&p.relatedDocuments.length>0&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500 mb-1",children:[r.jsx(d0,{className:"w-3 h-3"}),r.jsx("span",{className:"font-medium",children:"Related Documentation:"})]}),r.jsx("div",{className:"space-y-1",children:p.relatedDocuments.map((b,v)=>r.jsxs("button",{onClick:()=>y(b),className:"flex items-center space-x-1 text-xs text-blue-600 hover:text-blue-800 hover:underline",children:[r.jsx(Pr,{className:"w-3 h-3"}),r.jsx("span",{children:b}),r.jsx(er,{className:"w-2 h-2"})]},v))})]}),r.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>x(!0),className:"text-gray-400 hover:text-green-500 transition-colors",title:"Helpful",children:r.jsx(__,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Not helpful",children:r.jsx(S_,{className:"w-3 h-3"})})]}),p.relatedQuestions&&p.relatedQuestions.length>0&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 space-y-1",children:[r.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Related questions:"}),p.relatedQuestions.map((b,v)=>r.jsx("button",{onClick:()=>m(b),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:b},v))]})]})})]})},p.id)),r.jsx("div",{ref:c})]}),r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{ref:u,type:"text",value:o,onChange:d,onKeyPress:h,placeholder:"Ask me anything about trading...",className:"flex-1 border border-gray-300 rounded-l-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:n}),r.jsx("button",{onClick:f,disabled:!o.trim()||n,className:"bg-blue-600 text-white rounded-r-lg py-2 px-4 hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?r.jsx(Hi,{className:"w-5 h-5 animate-spin"}):r.jsx(p0,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Ask about robots, signals, webhooks, or any platform feature"})]})]})}):null},nh=({accountInfo:e,onBackToChoice:t,showBackButton:s=!1,currentMode:n,lastAccountInfoUpdate:i,lastPositionsUpdate:a,lastSignalsUpdate:o,availableSymbols:l=[],onManualRefresh:c,onForceRefresh:u,isLoading:d=!1,onSelectVPS:h})=>{var Bn;const{logout:f,credentials:m,userTokens:x,reauthenticateMT5:g}=pe(),[y,p]=_.useState(!1),[b,v]=_.useState(!1),[w,j]=_.useState(!1),[k,P]=_.useState(!1),S=kt(),[T]=_.useState(i||null),[N]=_.useState(a||null),[E]=_.useState(o||null),O=(()=>{switch((e==null?void 0:e.accountType)||(m==null?void 0:m.accountType)){case"demo":return{label:"Demo",icon:rs,color:"text-blue-600 bg-blue-100"};case"live":return{label:"Live",icon:Se,color:"text-green-600 bg-green-100"};case"prop":return{label:"Prop",icon:h_,color:"text-purple-600 bg-purple-100"};default:return{label:"Unknown",icon:rs,color:"text-gray-600 bg-gray-100"}}})(),F=O.icon,z=_t=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency,minimumFractionDigits:2}).format(_t):"$0.00",Q=T&&Date.now()-new Date(T).getTime()<1e3,I=N&&Date.now()-new Date(N).getTime()<1e3,$=E&&Date.now()-new Date(E).getTime()<1e3,B=(m==null?void 0:m.email)==="admin@example.com"||((Bn=m==null?void 0:m.email)==null?void 0:Bn.includes("admin")),C=()=>{S("/profile"),p(!1)},ne=()=>{S("/admin"),p(!1)},ie=()=>{S("/profile"),p(!1)},A=()=>{h?(h(),p(!1)):(S("/vps"),p(!1))},ve=()=>{S("/packages"),p(!1)},Me=()=>{t?(t(),p(!1)):(S("/"),p(!1))},ue=()=>{f(),p(!1)},fe=()=>{v(!0),p(!1)},De=async()=>{j(!0);try{await g()?D.success("MT5 connection refreshed successfully"):D.error("Failed to refresh MT5 connection. Please try reconnecting your broker.")}catch(_t){console.error("Error refreshing MT5 connection:",_t),D.error("Error refreshing MT5 connection")}finally{j(!1)}},ft=new Date,St=ft.getUTCDay(),mt=ft.getUTCHours(),Kt=St>0&&St<5||St===0&&mt>=21||St===5&&mt<21;let js="Closed";return Kt&&(mt>=0&&mt<7?js="Sydney":mt>=7&&mt<15?js="London":mt>=15&&mt<21?js="New York":js="Asia"),r.jsxs(r.Fragment,{children:[(T||N||E)&&r.jsx("div",{className:"bg-gray-900 text-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center space-x-6 text-xs",children:[T&&r.jsxs("div",{className:"flex items-center space-x-2",children:[Q?r.jsx($a,{className:"w-3 h-3 text-green-400"}):r.jsx(Zf,{className:"w-3 h-3 text-red-400"}),r.jsxs("span",{className:"text-gray-300",children:["Account: ",In(T,{addSuffix:!0})]})]}),N&&r.jsxs("div",{className:"flex items-center space-x-2",children:[I?r.jsx($a,{className:"w-3 h-3 text-green-400"}):r.jsx(Zf,{className:"w-3 h-3 text-red-400"}),r.jsxs("span",{className:"text-gray-300",children:["Positions: ",In(N,{addSuffix:!0})]})]}),E&&r.jsxs("div",{className:"flex items-center space-x-2",children:[$?r.jsx($a,{className:"w-3 h-3 text-green-400"}):r.jsx(Zf,{className:"w-3 h-3 text-orange-400"}),r.jsxs("span",{className:"text-gray-300",children:["Signals: ",In(E,{addSuffix:!0})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${Kt?"bg-green-400":"bg-red-400"}`}),r.jsx("span",{className:"text-gray-200 font-medium",children:Kt?"Market Open":"Market Closed"}),Kt&&r.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-gray-800 text-blue-200 font-semibold",children:[js," Session"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-gray-300",children:"Real-time updates"})]}),l.length>0&&r.jsxs("span",{className:"text-blue-400 font-medium",children:[l.length," symbols loaded"]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[u&&r.jsx("button",{onClick:u,disabled:d,className:"p-1 text-purple-400 hover:text-purple-300 hover:bg-gray-800 rounded transition-colors",title:"Force sync",children:r.jsx(Qs,{className:`w-3 h-3 ${d?"animate-spin":""}`})}),c&&r.jsx("button",{onClick:c,disabled:d,className:"p-1 text-blue-400 hover:text-blue-300 hover:bg-gray-800 rounded transition-colors",title:"Refresh",children:r.jsx(m0,{className:`w-3 h-3 ${d?"animate-spin":""}`})})]})]})]})})}),r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[s&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:Me,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(rx,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Hub"})]}),r.jsx("div",{className:"border-l border-gray-300 h-6"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("div",{children:e&&r.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:r.jsxs("div",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${O.color}`,children:[r.jsx(F,{className:"w-3 h-3"}),r.jsx("span",{children:O.label})]})})})})]}),e&&r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:r.jsx(_a,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Balance"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:z(e.balance)})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`p-2 rounded-lg ${e.profit>=0?"bg-green-100":"bg-red-100"}`,children:r.jsx(tn,{className:`w-4 h-4 ${e.profit>=0?"text-green-600":"text-red-600"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"P&L"}),r.jsx("p",{className:`text-sm font-semibold ${e.profit>=0?"text-green-600":"text-red-600"}`,children:z(e.profit)})]})]})]})]}),r.jsx("img",{src:"/src/images/tradinghub_light_logo.png",alt:"Platform Logo",className:"h-11 w-auto"}),r.jsx("div",{className:"md:hidden",children:r.jsx("button",{onClick:()=>p(!y),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:y?r.jsx(vs,{className:"w-6 h-6"}):r.jsx(TL,{className:"w-6 h-6"})})}),r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[m&&r.jsx("button",{onClick:De,disabled:w,className:"flex items-center space-x-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50",title:"Refresh MT5 Connection",children:r.jsx(Hv,{className:`w-4 h-4 ${w?"animate-spin":""}`})}),x&&n==="algotrading"&&r.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-yellow-50 border border-yellow-300 rounded-md shadow-sm",children:[r.jsx(_a,{className:"w-4 h-4 text-yellow-500"}),r.jsx("span",{className:"text-xs font-semibold text-yellow-700",children:"Tokens"}),r.jsx("span",{className:"text-sm font-bold text-yellow-800",children:x.balance})]}),x&&n!=="algotrading"&&r.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-purple-50 rounded-lg",children:[r.jsx(_a,{className:"w-4 h-4 text-purple-600"}),r.jsxs("span",{className:"text-sm font-medium text-purple-700",children:[x.balance," tokens"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:fe,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",title:"Chat Assistant",children:r.jsx(eo,{className:"w-5 h-5"})}),n==="algotrading"?r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>P(_t=>!_t),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors flex items-center",title:"Settings",children:[r.jsx(cx,{className:"w-5 h-5"}),r.jsx(m_,{className:"w-4 h-4 ml-1"})]}),k&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[r.jsxs("button",{onClick:A,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[r.jsx(ir,{className:"w-4 h-4 mr-2 text-blue-600"})," VPS Hosting"]}),r.jsxs("button",{onClick:ve,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[r.jsx(fn,{className:"w-4 h-4 mr-2 text-purple-600"})," Token Packages"]}),r.jsxs("button",{onClick:C,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[r.jsx(_s,{className:"w-4 h-4 mr-2 text-gray-700"})," Profile"]})]})]}):r.jsx("button",{onClick:ie,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",title:"Settings",children:r.jsx(cx,{className:"w-5 h-5"})})]}),r.jsxs("button",{onClick:ue,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx(ox,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),e&&r.jsx("div",{className:"md:hidden border-t border-gray-200 py-3",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Balance: "}),r.jsx("span",{className:"font-semibold",children:z(e.balance)})]})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"P&L: "}),r.jsx("span",{className:`font-semibold ${e.profit>=0?"text-green-600":"text-red-600"}`,children:z(e.profit)})]})]})})]})}),y&&r.jsx("div",{className:"md:hidden bg-white border-b border-gray-200 shadow-lg",children:r.jsxs("div",{className:"px-4 py-3 space-y-3",children:[x&&r.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-purple-50 rounded-lg",children:[r.jsx(_a,{className:"w-4 h-4 text-purple-600"}),r.jsxs("span",{className:"text-sm font-medium text-purple-700",children:[x.balance," tokens"]})]}),m&&r.jsxs("button",{onClick:De,disabled:w,className:"flex items-center space-x-3 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 w-full",children:[r.jsx(Hv,{className:`w-5 h-5 ${w?"animate-spin":""}`}),r.jsx("span",{children:"Refresh MT5 Connection"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:fe,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[r.jsx(eo,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"Chat Assistant"})]}),r.jsxs("button",{onClick:ve,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[r.jsx(fn,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"Token Packages"})]}),r.jsxs("button",{onClick:C,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[r.jsx(_s,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"Profile"})]}),n!=="vps"&&r.jsxs("button",{onClick:A,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[r.jsx(ir,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"VPS Hosting"})]}),B&&r.jsxs("button",{onClick:ne,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[r.jsx(Cs,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"Admin Dashboard"})]}),s&&r.jsxs("button",{onClick:Me,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[r.jsx(rx,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"Back to Hub"})]}),r.jsxs("button",{onClick:ue,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[r.jsx(ox,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"Logout"})]})]})]})}),r.jsx(_W,{isOpen:b,onClose:()=>v(!1)})]})},f1=({onBackToChoice:e,onSelectVPS:t})=>{const[s,n]=_.useState("overview"),[i,a]=_.useState(!1),[o,l]=_.useState(null),[c,u]=_.useState(null),{accountInfo:d,refreshAccountInfo:h,lastAccountInfoUpdate:f,startAutoRefresh:m,stopAutoRefresh:x,isAuthenticated:g,ensureMT5TokenStored:y,credentials:p}=pe(),{fetchPositions:b,fetchInitialSignals:v,fetchAvailableSymbols:w,fetchRobots:j,subscribeToSignals:k,startAutoRefresh:P,stopAutoRefresh:S,startSignalsAutoRefresh:T,stopSignalsAutoRefresh:N,forceRefreshPositions:E,positions:M,signals:O,robots:F,isLoading:z,lastPositionsUpdate:Q,lastSignalsUpdate:I,availableSymbols:$}=Ds();_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[]),_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[s]),_.useEffect(()=>{if(!g)return;h(),b(),v(),w(),j(),(async()=>{await y()||a(!0)})();const De=k();return console.log("Subscribed to real-time signals"),m(),P(),T(),console.log("Started auto-refresh for account info, positions, and signals"),()=>{De(),x(),S(),N(),console.log("Cleaned up subscriptions and auto-refresh")}},[g,h,b,v,w,j,k,m,x,P,S,T,N,y]),_.useEffect(()=>{g&&p&&(console.log("Credentials changed, refetching robots..."),j())},[g,p,j]),_.useEffect(()=>{const fe=H.channel("realtime:positions").on("postgres_changes",{event:"*",schema:"public",table:"positions"},()=>{l(new Date),b()}).subscribe();return()=>{H.removeChannel(fe)}},[b]),_.useEffect(()=>{const fe=H.channel("realtime:signals").on("postgres_changes",{event:"*",schema:"public",table:"trading_signals"},()=>{u(new Date),v()}).subscribe();return()=>{H.removeChannel(fe)}},[v]);const B=async()=>{await Promise.all([h(),b(),v(),w(),j()])},C=async()=>{await E()},ne=async()=>{await y()&&a(!1)},ie=M.reduce((fe,De)=>fe+De.profit,0),A=F.filter(fe=>fe.isActive).length,ve=O.filter(fe=>{const De=new Date(fe.timestamp),ft=new Date(Date.now()-60*60*1e3);return De>ft}).length,Me=[{id:"overview",label:"Overview",icon:Vi},{id:"webhooks",label:"Webhooks",icon:C_},{id:"signals",label:"Signals",icon:Qa},{id:"plugins",label:"Plugins",icon:fn},{id:"copyfx",label:"CopyFX",icon:Cs}],ue=fe=>{n(fe),window.scrollTo({top:0,left:0,behavior:"smooth"})};return r.jsxs("div",{className:"min-h-screen bg-[#1b1b1b]",children:[r.jsx(nh,{accountInfo:d,onBackToChoice:e,showBackButton:!0,currentMode:"algotrading",lastAccountInfoUpdate:f,lastPositionsUpdate:o||Q,lastSignalsUpdate:c||I,availableSymbols:$,onManualRefresh:B,onForceRefresh:C,isLoading:z,onSelectVPS:t}),r.jsx("div",{className:"bg-[#292929] border-b border-[#ffa31a]",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between py-4",children:[r.jsx("div",{className:"flex space-x-8",children:Me.map(fe=>{const De=fe.icon;return r.jsxs("button",{onClick:()=>ue(fe.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${s===fe.id?"border-[#ffa31a] text-[#ffa31a]":"border-transparent text-[#808080] hover:text-white hover:border-[#ffa31a]"}`,children:[r.jsx(De,{className:"w-4 h-4"}),r.jsx("span",{children:fe.label}),fe.id==="copyfx"&&r.jsx("span",{className:"bg-[#ffa31a]/20 text-[#ffa31a] text-xs px-2 py-0.5 rounded-full",children:"Soon"})]},fe.id)})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 bg-[#292929] border border-[#808080] rounded-lg px-3 py-2 shadow-sm",children:[r.jsx("div",{className:"bg-[#808080] p-1.5 rounded-lg",children:r.jsx(tn,{className:"w-4 h-4 text-[#ffa31a]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080] font-medium",children:"Total P&L"}),r.jsx("p",{className:`text-sm font-bold ${ie>=0?"text-[#ffa31a]":"text-red-500"}`,children:d&&new Intl.NumberFormat("en-US",{style:"currency",currency:d.currency}).format(ie)})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-[#292929] border border-[#808080] rounded-lg px-3 py-2 shadow-sm",children:[r.jsx("div",{className:"bg-[#ffa31a] p-1.5 rounded-lg",children:r.jsx(ss,{className:"w-4 h-4 text-[#1b1b1b]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080] font-medium",children:"Active Robots"}),r.jsx("p",{className:"text-sm font-bold text-white",children:A})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-[#292929] border border-[#808080] rounded-lg px-3 py-2 shadow-sm",children:[r.jsx("div",{className:"bg-[#ffa31a] p-1.5 rounded-lg",children:r.jsx(Qs,{className:"w-4 h-4 text-[#1b1b1b]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080] font-medium",children:"Recent Signals"}),r.jsx("p",{className:"text-sm font-bold text-white",children:ve})]})]})]})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Js,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-red-800 font-medium",children:"⚠️ Automatic Trading Not Available"}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Your MT5 token is not stored in the database. This means TradingView webhooks will create signals but won't execute trades automatically."}),r.jsxs("div",{className:"mt-3 flex space-x-3",children:[r.jsx("button",{onClick:ne,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Fix MT5 Token"}),r.jsx("button",{onClick:()=>a(!1),className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:"Dismiss"})]})]})]})}),s==="overview"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Open Positions"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-[#ffa31a] rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-[#808080]",children:"Live"})]})]}),r.jsx("div",{className:"rounded-2xl border-2 border-[#808080] bg-[rgb(27 27 27)] p-4",children:r.jsx(II,{positions:M})})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-4"}),r.jsx("div",{className:"rounded-2xl border-2 border-[#808080] bg-[rgb(27 27 27)] p-4",children:r.jsx(M$,{})})]})]}),s==="webhooks"&&r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"mb-6 rounded-2xl border-2 border-[#808080] bg-[#292929] p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"TradingView Webhooks"}),r.jsx("p",{className:"text-[#808080] mb-4",children:"Configure your TradingView webhook integration for automated trading signals."}),r.jsx(D$,{})]})}),s==="signals"&&r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6 rounded-2xl border-2 border-[#808080] bg-[#292929] p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Trading Signals"}),r.jsx("p",{className:"text-[#808080] mb-4",children:"Monitor and analyze all trading signals received from TradingView and manual sources."})]}),r.jsx(OI,{})]}),s==="plugins"&&r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6 rounded-2xl border-2 border-[#808080] bg-[#292929] p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Trading Plugins"}),r.jsx("p",{className:"text-[#808080] mb-4",children:"Enhance your trading platform with powerful plugins and extensions."})]}),r.jsx(L$,{})]}),s==="copyfx"&&r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"rounded-2xl border-2 border-[#808080] bg-[#292929] p-12 text-center",children:[r.jsx("div",{className:"bg-[#ffa31a] w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Cs,{className:"w-8 h-8 text-[#1b1b1b]"})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"CopyFX Coming Soon"}),r.jsx("p",{className:"text-[#808080] mb-6 max-w-2xl mx-auto",children:"Share your trading robots with other users and enable copy trading functionality. Users will be able to purchase access to successful robots using tokens or promo codes."}),r.jsx("div",{className:"bg-[#292929] border border-[#808080] rounded-lg p-4 max-w-md mx-auto",children:r.jsx("span",{className:"text-[#ffa31a] font-semibold",children:"Stay tuned for updates!"})})]})})]})]})};async function TW(){try{const e=await fetch("https://mt5full2.mtapi.io/OpenedOrders");if(!e.ok)throw new Error("MT5 API error");return await e.json()}catch{return null}}const CW=({selectedSymbol:e,onSymbolChange:t})=>{const[s,n]=_.useState("market"),[i,a]=_.useState("BUY"),[o,l]=_.useState(null),[c,u]=_.useState(null),[d,h]=_.useState([]),{availableSymbols:f,executeSignal:m}=Ds(),{accountInfo:x,isAuthenticated:g}=pe(),{register:y,handleSubmit:p,watch:b,setValue:v,formState:{errors:w}}=vo({defaultValues:{symbol:e,action:"BUY",volume:.01,orderType:"market"}}),j=b();_.useEffect(()=>{v("symbol",e)},[e,v]),_.useEffect(()=>{const S=async()=>{try{if(!g){l(null);return}const N=await nt.getQuote(e);l(N?{bid:N.bid,ask:N.ask,time:N.time}:null)}catch(N){console.error("Failed to fetch real-time quote:",N),l(null)}};S();const T=setInterval(S,1e3);return()=>clearInterval(T)},[e,g]),_.useEffect(()=>{if(x&&j.volume&&j.stopLoss&&o){const S=i==="BUY"?o.ask:o.bid,T=j.stopLoss;if(T&&T!==S){const N=BI(S,T,j.volume,e),E=N/x.balance*100;u({riskAmount:N,riskPercentage:E,positionSize:j.volume})}}},[j,o,i,e,x]),_.useEffect(()=>{let S=!1;async function T(){h([]);const N=await TW();N&&Array.isArray(N)&&(S||h(N))}return T(),()=>{S=!0}},[]);const k=async S=>{try{const T={id:crypto.randomUUID(),symbol:S.symbol,action:S.action,volume:S.volume,price:S.orderType==="market"?void 0:S.price,stopLoss:S.stopLoss,takeProfit:S.takeProfit,timestamp:new Date().toISOString(),source:"manual",botStrategy:"Test"};await m(T)&&(D.success(`${S.action} order placed successfully for ${S.symbol}`),v("volume",.01),v("price",void 0),v("stopLoss",void 0),v("takeProfit",void 0),v("comment",""))}catch(T){console.error("Failed to place order:",T)}},P=()=>{if(!x||!j.stopLoss||!o)return;const S=i==="BUY"?o.ask:o.bid,T=j.stopLoss;if(T&&T!==S){const E=zI(x.balance,2,S,T,e);v("volume",E),D.success(`Optimal lot size calculated: ${E.toFixed(2)}`)}else D.error("Please set a stop loss price first")};return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Place Order"}),r.jsxs("form",{onSubmit:p(k),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Symbol"}),r.jsx("select",{...y("symbol",{required:"Symbol is required"}),onChange:S=>t(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(S=>r.jsx("option",{value:S,children:S},S))})]}),o&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"BID"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:Bd(o.bid,e)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"ASK"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:Bd(o.ask,e)})]})]}),r.jsxs("div",{className:"text-center mt-2",children:[r.jsxs("p",{className:"text-xs text-gray-500",children:["Spread: ",$I(o.bid,o.ask,e).toFixed(1)," pips"]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last updated: ",new Date(o.time).toLocaleTimeString()]})]})]}),!o&&g&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Js,{className:"w-4 h-4 text-yellow-600"}),r.jsxs("p",{className:"text-yellow-800 text-sm",children:["Unable to fetch real-time quotes for ",e,". Using market order execution."]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>a("BUY"),className:`flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-colors ${i==="BUY"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(Se,{className:"w-4 h-4"}),r.jsx("span",{children:"BUY"})]}),r.jsxs("button",{type:"button",onClick:()=>a("SELL"),className:`flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-colors ${i==="SELL"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(Qi,{className:"w-4 h-4"}),r.jsx("span",{children:"SELL"})]})]}),r.jsx("input",{type:"hidden",...y("action"),value:i}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),r.jsxs("select",{value:s,onChange:S=>n(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"market",children:"Market Order"}),r.jsx("option",{value:"limit",children:"Limit Order"}),r.jsx("option",{value:"stop",children:"Stop Order"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volume (Lots)"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{...y("volume",{required:"Volume is required",min:{value:.01,message:"Minimum volume is 0.01"},max:{value:100,message:"Maximum volume is 100"},valueAsNumber:!0}),type:"number",step:"0.01",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Calculate optimal lot size (2% risk)",children:r.jsx(f_,{className:"w-4 h-4"})})]}),w.volume&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.volume.message})]}),s!=="market"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),r.jsx("input",{...y("price",{required:{value:!0,message:"Price is required for limit/stop orders"},min:{value:1e-5,message:"Price must be greater than 0"},valueAsNumber:!0}),type:"number",step:"0.00001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),w.price&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.price.message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stop Loss"}),r.jsx("input",{...y("stopLoss",{valueAsNumber:!0}),type:"number",step:"0.00001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Take Profit"}),r.jsx("input",{...y("takeProfit",{valueAsNumber:!0}),type:"number",step:"0.00001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),r.jsx("input",{...y("comment"),type:"text",placeholder:"Order comment",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("button",{type:"submit",className:`w-full py-3 px-4 rounded-lg font-medium text-white transition-colors ${i==="BUY"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Place ",i," Order"]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[c&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Analysis"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Risk Amount:"}),r.jsx("span",{className:"font-semibold",children:x&&new Intl.NumberFormat("en-US",{style:"currency",currency:x.currency}).format(c.riskAmount)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Risk Percentage:"}),r.jsxs("span",{className:`font-semibold ${c.riskPercentage>5?"text-red-600":c.riskPercentage>2?"text-yellow-600":"text-green-600"}`,children:[c.riskPercentage.toFixed(2),"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Position Size:"}),r.jsxs("span",{className:"font-semibold",children:[c.positionSize," lots"]})]})]}),c.riskPercentage>5&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Js,{className:"w-4 h-4 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 text-sm font-medium",children:"High Risk Warning"}),r.jsx("p",{className:"text-red-700 text-sm",children:"This trade risks more than 5% of your account balance."})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>v("volume",.01),className:"w-full py-2 px-3 text-left text-sm bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Set minimum volume (0.01)"}),r.jsx("button",{onClick:()=>{if(o){const S=i==="BUY"?o.ask:o.bid;let T;e.includes("XAU")?T=2:e.includes("XAG")?T=.05:e.includes("JPY")?T=.5:e.includes("US30")||e.includes("NAS100")?T=20:e.includes("BTC")?T=100:e.includes("ETH")?T=10:e.includes("OIL")||e.includes("USOIL")?T=.5:T=.005,v("stopLoss",i==="BUY"?S-T:S+T)}},className:"w-full py-2 px-3 text-left text-sm bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Set 50 pip stop loss"}),r.jsx("button",{onClick:()=>{if(o){const S=i==="BUY"?o.ask:o.bid;let T;e.includes("XAU")?T=4:e.includes("XAG")?T=.1:e.includes("JPY")?T=1:e.includes("US30")||e.includes("NAS100")?T=40:e.includes("BTC")?T=200:e.includes("ETH")?T=20:e.includes("OIL")||e.includes("USOIL")?T=1:T=.01,v("takeProfit",i==="BUY"?S+T:S-T)}},className:"w-full py-2 px-3 text-left text-sm bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Set 100 pip take profit"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Trades"}),r.jsx("div",{className:"overflow-x-auto",children:d.length===0?r.jsx("div",{className:"text-gray-400 text-center py-4",children:"No active trades."}):r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Ticket/ID"}),r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Symbol"}),r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Action"}),r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Volume"}),r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Opened At"}),r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Current P/L"}),r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Comment"})]})}),r.jsx("tbody",{children:d.map((S,T)=>r.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-4 py-2",children:S.ticket||S.id||"-"}),r.jsx("td",{className:"px-4 py-2",children:S.symbol}),r.jsx("td",{className:"px-4 py-2",children:S.action||S.type||"-"}),r.jsx("td",{className:"px-4 py-2",children:S.volume||S.lots||"-"}),r.jsx("td",{className:"px-4 py-2",children:S.executed_at?new Date(S.executed_at).toLocaleString():S.open_time?new Date(S.open_time).toLocaleString():"-"}),r.jsx("td",{className:`px-4 py-2 font-bold ${parseFloat(S.profit_loss??S.profit)>=0?"text-green-600":"text-red-600"}`,children:S.profit_loss!==void 0?parseFloat(S.profit_loss).toFixed(2):S.profit!==void 0?parseFloat(S.profit).toFixed(2):"-"}),r.jsx("td",{className:"px-4 py-2",children:S.status||"-"}),r.jsx("td",{className:"px-4 py-2",children:S.comment||"-"})]},S.id||S.ticket||T))})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Market Info"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Symbol:"}),r.jsx("span",{className:"font-semibold",children:e})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Pip Value:"}),r.jsx("span",{className:"font-semibold",children:Yh(e)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Digits:"}),r.jsx("span",{className:"font-semibold",children:e.includes("JPY")?"3":e.includes("XAU")||e.includes("XAG")||e.includes("US30")||e.includes("NAS100")||e.includes("SPX500")?"2":e.includes("BTC")?"1":e.includes("ETH")||e.includes("OIL")||e.includes("USOIL")?"2":"5"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Min Volume:"}),r.jsx("span",{className:"font-semibold",children:"0.01"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Max Volume:"}),r.jsx("span",{className:"font-semibold",children:"100.00"})]}),o&&r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-blue-800 text-xs font-medium",children:"Real-time Data"}),r.jsx("p",{className:"text-blue-700 text-xs",children:"Live quotes from MT5 with accurate spread calculation using enhanced pip values."})]})]})]})]})]})},PW=({onSymbolSelect:e,selectedSymbol:t})=>{const[s,n]=_.useState(""),[i,a]=_.useState(["EURUSD","GBPUSD","USDJPY"]),[o,l]=_.useState([]),[c,u]=_.useState("all"),{availableSymbols:d,executeSignal:h}=Ds();_.useEffect(()=>{const p=w=>{const j=w==="EURUSD"?1.085:w==="GBPUSD"?1.265:w==="USDJPY"?150.25:w==="AUDUSD"?.675:w==="USDCAD"?1.345:w==="NZDUSD"?.615:w==="USDCHF"?.905:w==="XAUUSD"?2050.5:w==="BTCUSD"?45e3:w==="US30"?35e3:1,k=w.includes("USD")?2e-4:w.includes("XAU")?.5:w.includes("BTC")?10:2e-4,P=(Math.random()-.5)*.002,S=(Math.random()-.5)*.01;return{symbol:w,bid:j+P,ask:j+P+k,change:S,changePercent:S/j*100,high:j+Math.abs(P)+.005,low:j-Math.abs(P)-.005,volume:Math.floor(Math.random()*1e6)}},b=()=>{const w=d.slice(0,50).map(p);l(w)};b();const v=setInterval(b,2e3);return()=>clearInterval(v)},[d]);const f=p=>{a(b=>b.includes(p)?b.filter(v=>v!==p):[...b,p])},m=p=>p.match(/^[A-Z]{6}$/)?"forex":p.includes("BTC")||p.includes("ETH")||p.includes("LTC")?"crypto":p.includes("US30")||p.includes("NAS100")||p.includes("SPX500")?"indices":"other",x=o.filter(p=>{const b=p.symbol.toLowerCase().includes(s.toLowerCase()),v=c==="all"||c==="favorites"&&i.includes(p.symbol)||m(p.symbol)===c;return b&&v}),g=(p,b)=>b.includes("JPY")?p.toFixed(3):b.includes("XAU")||b.includes("BTC")?p.toFixed(2):p.toFixed(5),y=async(p,b,v)=>{try{const w={id:P_(),symbol:p,action:b,volume:.01,price:b==="BUY"?v.ask:v.bid,timestamp:new Date().toISOString(),source:"manual",botStrategy:"Test"};console.log(`🚀 Quick ${b} trade for ${p} at ${w.price}`),await h(w)&&(D.success(`${b} order placed for ${p} at ${g(w.price,p)}`),e(p))}catch(w){console.error("Quick trade failed:",w),D.error(`Failed to place ${b} order for ${p}`)}};return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Market Watch"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Live Prices"})]})]}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Ji,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search symbols...",value:s,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex space-x-2",children:[{id:"all",label:"All"},{id:"favorites",label:"Favorites"},{id:"forex",label:"Forex"},{id:"crypto",label:"Crypto"},{id:"indices",label:"Indices"}].map(p=>r.jsx("button",{onClick:()=>u(p.id),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c===p.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:p.label},p.id))})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bid"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ask"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"High/Low"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quick Trade"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(p=>r.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${t===p.symbol?"bg-blue-50":""}`,onClick:()=>e(p.symbol),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:b=>{b.stopPropagation(),f(p.symbol)},className:"text-gray-400 hover:text-yellow-500 transition-colors",children:i.includes(p.symbol)?r.jsx(ux,{className:"w-4 h-4 fill-current text-yellow-500"}):r.jsx(EL,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-medium text-gray-900",children:p.symbol})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-red-600",children:g(p.bid,p.symbol)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-green-600",children:g(p.ask,p.symbol)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:`flex items-center space-x-1 ${p.change>=0?"text-green-600":"text-red-600"}`,children:[p.change>=0?r.jsx(Se,{className:"w-3 h-3"}):r.jsx(Qi,{className:"w-3 h-3"}),r.jsxs("span",{className:"text-sm font-medium",children:[p.changePercent>=0?"+":"",p.changePercent.toFixed(2),"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{children:[r.jsxs("div",{children:["H: ",g(p.high,p.symbol)]}),r.jsxs("div",{children:["L: ",g(p.low,p.symbol)]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsxs("button",{onClick:b=>{b.stopPropagation(),y(p.symbol,"BUY",p)},className:"flex items-center space-x-1 px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",title:`Buy ${p.symbol} at ${g(p.ask,p.symbol)}`,children:[r.jsx(lx,{className:"w-3 h-3"}),r.jsx("span",{children:"BUY"})]}),r.jsxs("button",{onClick:b=>{b.stopPropagation(),y(p.symbol,"SELL",p)},className:"flex items-center space-x-1 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:`Sell ${p.symbol} at ${g(p.bid,p.symbol)}`,children:[r.jsx(lx,{className:"w-3 h-3"}),r.jsx("span",{children:"SELL"})]})]})})]},p.symbol))})]})}),x.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No symbols found matching your criteria"})})]})},EW=()=>{const[e,t]=_.useState([]),[s,n]=_.useState("all");_.useEffect(()=>{const m=[{id:"1",ticket:123456,symbol:"EURUSD",type:"Buy Limit",volume:.1,openPrice:1.08,currentPrice:1.085,stopLoss:1.075,takeProfit:1.09,status:"pending",timestamp:new Date(Date.now()-36e5).toISOString(),comment:"Support level entry"},{id:"2",ticket:123457,symbol:"GBPUSD",type:"Sell Stop",volume:.05,openPrice:1.26,currentPrice:1.265,stopLoss:1.27,takeProfit:1.25,status:"pending",timestamp:new Date(Date.now()-72e5).toISOString(),comment:"Breakout trade"},{id:"3",ticket:123458,symbol:"USDJPY",type:"Buy Limit",volume:.2,openPrice:149.5,currentPrice:150.25,status:"filled",timestamp:new Date(Date.now()-108e5).toISOString(),comment:"Filled at market open"}];t(m)},[]);const i=e.filter(m=>s==="all"||m.status===s),a=(m,x)=>x.includes("JPY")?m.toFixed(3):m.toFixed(5),o=m=>new Date(m).toLocaleString(),l=m=>{switch(m){case"pending":return r.jsx(rr,{className:"w-4 h-4 text-yellow-500"});case"filled":return r.jsx(Le,{className:"w-4 h-4 text-green-500"});case"cancelled":return r.jsx(Wv,{className:"w-4 h-4 text-red-500"});case"expired":return r.jsx(Yr,{className:"w-4 h-4 text-gray-500"})}},c=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-800";case"filled":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800"}},u=m=>{t(x=>x.map(g=>g.id===m?{...g,status:"cancelled"}:g))},d=e.filter(m=>m.status==="pending").length,h=e.filter(m=>m.status==="filled").length,f=e.filter(m=>m.status==="cancelled").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rr,{className:"w-5 h-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:d})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Le,{className:"w-5 h-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Filled"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:h})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Wv,{className:"w-5 h-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Cancelled"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:f})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yr,{className:"w-5 h-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.length})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Book"}),r.jsx("div",{className:"flex space-x-2",children:[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"filled",label:"Filled"},{id:"cancelled",label:"Cancelled"}].map(m=>r.jsx("button",{onClick:()=>n(m.id),className:`px-3 py-1 text-sm rounded-lg transition-colors ${s===m.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:m.label},m.id))})]})}),i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(rr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No orders found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volume"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SL/TP"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[l(m.status),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(m.status)}`,children:m.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.ticket}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:m.symbol})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.type.includes("Buy")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.type})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.volume}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:a(m.openPrice,m.symbol)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:a(m.currentPrice,m.symbol)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{className:"space-y-1",children:[m.stopLoss&&r.jsxs("div",{className:"text-red-600",children:["SL: ",a(m.stopLoss,m.symbol)]}),m.takeProfit&&r.jsxs("div",{className:"text-green-600",children:["TP: ",a(m.takeProfit,m.symbol)]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o(m.timestamp)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.status==="pending"&&r.jsx("button",{onClick:()=>u(m.id),className:"text-red-600 hover:text-red-900",children:"Cancel"})})]},m.id))})]})})]})]})},AW=({symbol:e})=>{var d,h,f,m,x,g;const[t,s]=_.useState("1H"),[n,i]=_.useState([]),[a,o]=_.useState(0);_.useEffect(()=>{const y=()=>{const b=[];let w=e==="EURUSD"?1.085:e==="GBPUSD"?1.265:e==="USDJPY"?150.25:1;const j=Date.now(),k=t==="1M"?6e4:t==="5M"?3e5:t==="15M"?9e5:t==="1H"?36e5:t==="4H"?144e5:864e5;for(let P=100;P>=0;P--){const S=j-P*k,T=w,N=(Math.random()-.5)*.01,E=T+Math.abs(N)+Math.random()*.005,M=T-Math.abs(N)-Math.random()*.005,O=T+N;b.push({time:S,open:T,high:E,low:M,close:O,volume:Math.floor(Math.random()*1e6)}),w=O}i(b),o(w)};y();const p=setInterval(y,5e3);return()=>clearInterval(p)},[e,t]);const l=["1M","5M","15M","1H","4H","1D"],c=y=>e.includes("JPY")?y.toFixed(3):y.toFixed(5),u=(y,p)=>p>=y?"text-green-600":"text-red-600";return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Vi,{className:"w-5 h-5 text-blue-600"}),r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e," Chart"]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Qa,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Live"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Current Price"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:c(a)})]})]})]}),r.jsx("div",{className:"flex space-x-2",children:l.map(y=>r.jsx("button",{onClick:()=>s(y),className:`px-3 py-1 text-sm rounded-lg transition-colors ${t===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:y},y))})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"h-96 bg-gray-50 rounded-lg relative overflow-hidden",children:[r.jsx("div",{className:"flex items-end justify-between h-full p-4 space-x-1",children:n.slice(-50).map((y,p)=>{const b=Math.max(10,Math.abs(y.high-y.low)*1e4),v=Math.max(2,Math.abs(y.close-y.open)*1e4),w=y.close>=y.open;return r.jsxs("div",{className:"flex flex-col items-center justify-end",style:{height:`${b}px`},children:[r.jsx("div",{className:"w-0.5 bg-gray-400",style:{height:`${b}px`,marginBottom:`-${v}px`}}),r.jsx("div",{className:`w-2 ${w?"bg-green-500":"bg-red-500"}`,style:{height:`${v}px`}})]},p)})}),r.jsx("div",{className:"absolute right-2 top-4 space-y-2",children:n.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded shadow",children:["H: ",c(Math.max(...n.slice(-50).map(y=>y.high)))]}),r.jsxs("div",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded shadow",children:["L: ",c(Math.min(...n.slice(-50).map(y=>y.low)))]})]})})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:n.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Open"}),r.jsx("p",{className:"font-semibold",children:c(((d=n[n.length-1])==null?void 0:d.open)||0)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"High"}),r.jsx("p",{className:"font-semibold text-green-600",children:c(((h=n[n.length-1])==null?void 0:h.high)||0)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Low"}),r.jsx("p",{className:"font-semibold text-red-600",children:c(((f=n[n.length-1])==null?void 0:f.low)||0)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Close"}),r.jsx("p",{className:`font-semibold ${u(((m=n[n.length-1])==null?void 0:m.open)||0,((x=n[n.length-1])==null?void 0:x.close)||0)}`,children:c(((g=n[n.length-1])==null?void 0:g.close)||0)})]})]})})]})]})},RW=()=>{const{positions:e,closePosition:t,closeAllPositions:s,closeAllProfitablePositions:n,closeAllLosingPositions:i}=Ds(),{accountInfo:a}=pe(),o=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:(a==null?void 0:a.currency)||"USD",minimumFractionDigits:2}).format(m),l=(m,x)=>x.includes("JPY")?m.toFixed(3):m.toFixed(5),c=async m=>{await t(m)},u=e.reduce((m,x)=>m+x.profit,0),d=e.reduce((m,x)=>m+x.volume,0),h=e.filter(m=>m.profit>0).length,f=e.filter(m=>m.profit<0).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${u>=0?"bg-[#ffa31a]/20":"bg-red-900/30"}`,children:r.jsx(tn,{className:`w-5 h-5 ${u>=0?"text-[#ffa31a]":"text-red-400"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#808080]",children:"Total P&L"}),r.jsx("p",{className:`text-xl font-bold ${u>=0?"text-[#ffa31a]":"text-red-400"}`,children:o(u)})]})]})}),r.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-lg",children:r.jsx(Qa,{className:"w-5 h-5 text-[#ffa31a]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#808080]",children:"Open Positions"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.length})]})]})}),r.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-lg",children:r.jsx(Se,{className:"w-5 h-5 text-[#ffa31a]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#808080]",children:"Profitable"}),r.jsx("p",{className:"text-xl font-bold text-[#ffa31a]",children:h})]})]})}),r.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-[#808080]/30 p-2 rounded-lg",children:r.jsx(Qi,{className:"w-5 h-5 text-[#808080]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#808080]",children:"Losing"}),r.jsx("p",{className:"text-xl font-bold text-[#808080]",children:f})]})]})})]}),r.jsxs("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:n,disabled:h===0,className:"px-4 py-3 bg-[#ffa31a]/20 text-[#ffa31a] rounded-lg hover:bg-[#ffa31a]/40 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:["Close All Profitable (",h,")"]}),r.jsxs("button",{onClick:i,disabled:f===0,className:"px-4 py-3 bg-[#808080]/20 text-[#808080] rounded-lg hover:bg-[#808080]/40 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:["Close All Losing (",f,")"]}),r.jsxs("button",{onClick:s,disabled:e.length===0,className:"px-4 py-3 bg-[#292929]/60 text-white rounded-lg hover:bg-[#ffa31a]/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:["Close All Positions (",e.length,")"]})]})]}),r.jsxs("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080]",children:[r.jsx("div",{className:"p-6 border-b border-[#808080]",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Open Positions"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-[#ffa31a] rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-[#808080]",children:"Real-time"})]})]})}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Se,{className:"w-12 h-12 text-[#808080] mx-auto mb-4"}),r.jsx("p",{className:"text-[#808080]",children:"No open positions"}),r.jsx("p",{className:"text-sm text-[#808080]/70 mt-1",children:"Your open positions will appear here when you have active trades"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-[#1b1b1b]",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Ticket"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Symbol"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Volume"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Open Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Current Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Profit/Loss"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Swap"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Action"})]})}),r.jsx("tbody",{className:"bg-[#292929] divide-y divide-[#808080]/40",children:e.map(m=>r.jsxs("tr",{className:"hover:bg-[#1b1b1b] transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.ticket}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:m.symbol})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.type==="Buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.type})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.volume}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:l(m.openPrice,m.symbol)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:l(m.currentPrice||m.openPrice,m.symbol)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`text-sm font-semibold ${m.profit>=0?"text-green-600":"text-red-600"}`,children:o(m.profit)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(m.swap)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{onClick:()=>c(m.ticket),className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:`Close position ${m.ticket}`,children:[r.jsx(vs,{className:"w-4 h-4 mr-1"}),"Close"]})})]},m.ticket))})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Position Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Volume"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[d.toFixed(2)," lots"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Average P&L per Position"}),r.jsx("p",{className:`text-2xl font-bold ${e.length>0&&u/e.length>=0?"text-green-600":"text-red-600"}`,children:e.length>0?o(u/e.length):o(0)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Win Rate"}),r.jsxs("p",{className:`text-2xl font-bold ${e.length>0&&h>f?"text-green-600":"text-red-600"}`,children:[e.length>0?(h/e.length*100).toFixed(1):"0.0","%"]})]})]})]})]})},MW=()=>{const{accountInfo:e}=pe(),{positions:t}=Ds(),[s,n]=_.useState({maxRiskPerTrade:2,maxDailyLoss:5,maxDrawdown:10,maxPositions:10,maxLotSize:1,stopLossRequired:!0,takeProfitRequired:!1}),i=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:(e==null?void 0:e.currency)||"USD",minimumFractionDigits:2}).format(d),a={totalExposure:t.reduce((d,h)=>d+h.volume*1e5,0),totalProfit:t.reduce((d,h)=>d+h.profit,0),openPositions:t.length,maxLossPosition:Math.min(...t.map(d=>d.profit),0),maxProfitPosition:Math.max(...t.map(d=>d.profit),0)},o=e?Math.abs(a.totalProfit)/e.balance*100:0,l=e?a.totalExposure/e.balance*100:0,u=(d=>d<2?{level:"Low",color:"text-green-600",bg:"bg-green-100"}:d<5?{level:"Medium",color:"text-yellow-600",bg:"bg-yellow-100"}:{level:"High",color:"text-red-600",bg:"bg-red-100"})(o);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${u.bg}`,children:r.jsx(rs,{className:`w-5 h-5 ${u.color}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Risk Level"}),r.jsx("p",{className:`text-lg font-bold ${u.color}`,children:u.level})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(Ud,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Current Risk"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[o.toFixed(2),"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:r.jsx(Se,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Exposure"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[l.toFixed(1),"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${a.totalProfit>=0?"bg-green-100":"bg-red-100"}`,children:r.jsx(tn,{className:`w-5 h-5 ${a.totalProfit>=0?"text-green-600":"text-red-600"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total P&L"}),r.jsx("p",{className:`text-lg font-bold ${a.totalProfit>=0?"text-green-600":"text-red-600"}`,children:i(a.totalProfit)})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Risk Management Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Risk Per Trade (%)"}),r.jsx("input",{type:"number",value:s.maxRiskPerTrade,onChange:d=>n(h=>({...h,maxRiskPerTrade:parseFloat(d.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.1",max:"10",step:"0.1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Daily Loss (%)"}),r.jsx("input",{type:"number",value:s.maxDailyLoss,onChange:d=>n(h=>({...h,maxDailyLoss:parseFloat(d.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"20",step:"0.5"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Drawdown (%)"}),r.jsx("input",{type:"number",value:s.maxDrawdown,onChange:d=>n(h=>({...h,maxDrawdown:parseFloat(d.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"5",max:"50",step:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Open Positions"}),r.jsx("input",{type:"number",value:s.maxPositions,onChange:d=>n(h=>({...h,maxPositions:parseInt(d.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Lot Size"}),r.jsx("input",{type:"number",value:s.maxLotSize,onChange:d=>n(h=>({...h,maxLotSize:parseFloat(d.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.01",max:"100",step:"0.01"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"stopLossRequired",checked:s.stopLossRequired,onChange:d=>n(h=>({...h,stopLossRequired:d.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"stopLossRequired",className:"ml-2 text-sm text-gray-700",children:"Require Stop Loss on all trades"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"takeProfitRequired",checked:s.takeProfitRequired,onChange:d=>n(h=>({...h,takeProfitRequired:d.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"takeProfitRequired",className:"ml-2 text-sm text-gray-700",children:"Require Take Profit on all trades"})]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Risk Settings"})})]}),r.jsxs("div",{className:"space-y-4",children:[o>s.maxRiskPerTrade&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Js,{className:"w-5 h-5 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:"High Risk Warning"}),r.jsxs("p",{className:"text-red-700 text-sm",children:["Current risk (",o.toFixed(2),"%) exceeds your maximum risk per trade setting (",s.maxRiskPerTrade,"%)."]})]})]})}),a.openPositions>s.maxPositions&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Js,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-800 font-medium",children:"Position Limit Exceeded"}),r.jsxs("p",{className:"text-yellow-700 text-sm",children:["You have ",a.openPositions," open positions, which exceeds your limit of ",s.maxPositions,"."]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Position Analysis"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Risk Distribution"}),r.jsx("div",{className:"space-y-2",children:t.map(d=>{const h=e?Math.abs(d.profit)/e.balance*100:0;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:d.symbol}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${h<1?"bg-green-500":h<2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(h*10,100)}%`}})}),r.jsxs("span",{className:"text-sm font-medium",children:[h.toFixed(1),"%"]})]})]},d.ticket)})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Risk Recommendations"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),r.jsxs("p",{className:"text-gray-700",children:["Consider reducing position sizes to stay within ",s.maxRiskPerTrade,"% risk per trade"]})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),r.jsx("p",{className:"text-gray-700",children:"Diversify across different currency pairs to reduce correlation risk"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),r.jsx("p",{className:"text-gray-700",children:"Set stop losses on all positions to limit potential losses"})]})]})]})]})]})]})},m1=({onBackToOverview:e,onSelectVPS:t})=>{const[s,n]=_.useState("trading"),[i,a]=_.useState("EURUSD"),{accountInfo:o}=pe(),{positions:l,fetchAvailableSymbols:c}=Ds();_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[]),_.useEffect(()=>{console.log("LiveTrading: Fetching available symbols..."),c()},[c]),_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[s]);const u=[{id:"trading",label:"Trading Panel",icon:Se},{id:"market",label:"Market Watch",icon:Qa},{id:"chart",label:"Chart",icon:Vi},{id:"positions",label:"Positions",icon:v_},{id:"orders",label:"Order Book",icon:Pc},{id:"risk",label:"Risk Manager",icon:rs}],d=h=>{n(h),window.scrollTo({top:0,left:0,behavior:"smooth"})};return r.jsxs("div",{className:"min-h-screen bg-[#1b1b1b]",children:[r.jsx(nh,{accountInfo:o,onBackToChoice:e,showBackButton:!0,currentMode:"livetrading",onSelectVPS:t}),r.jsx("div",{className:"bg-[#292929] border-b border-[#ffa31a]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between py-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-[#ffa31a] p-2 rounded-lg",children:r.jsx(Qa,{className:"w-5 h-5 text-[#1b1b1b]"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:"Live Trading"}),r.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Real-time trading terminal"})]})]}),o&&r.jsxs("div",{className:"hidden lg:flex items-center space-x-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-[#808080]",children:"Balance"}),r.jsx("p",{className:"font-semibold text-white",children:new Intl.NumberFormat("en-US",{style:"currency",currency:o.currency}).format(o.balance)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-[#808080]",children:"Equity"}),r.jsx("p",{className:"font-semibold text-white",children:new Intl.NumberFormat("en-US",{style:"currency",currency:o.currency}).format(o.equity)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-[#808080]",children:"Free Margin"}),r.jsx("p",{className:"font-semibold text-white",children:new Intl.NumberFormat("en-US",{style:"currency",currency:o.currency}).format(o.freeMargin)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-[#808080]",children:"Open Positions"}),r.jsx("p",{className:"font-semibold text-white",children:l.length})]})]})]}),r.jsx("div",{className:"flex space-x-8 border-t border-[#808080]",children:u.map(h=>{const f=h.icon;return r.jsxs("button",{onClick:()=>d(h.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${s===h.id?"border-[#ffa31a] text-[#ffa31a]":"border-transparent text-[#808080] hover:text-white hover:border-[#ffa31a]"}`,children:[r.jsx(f,{className:"w-4 h-4"}),r.jsx("span",{children:h.label})]},h.id)})})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s==="trading"&&r.jsx(CW,{selectedSymbol:i,onSymbolChange:a}),s==="market"&&r.jsx(PW,{onSymbolSelect:a,selectedSymbol:i}),s==="chart"&&r.jsx(AW,{symbol:i}),s==="positions"&&r.jsx(RW,{}),s==="orders"&&r.jsx(EW,{}),s==="risk"&&r.jsx(MW,{})]})]})},EC=_.createContext({});function DW(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const Q0=_.createContext(null),AC=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function LW(e=!0){const t=_.useContext(Q0);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,a=_.useId();_.useEffect(()=>{e&&i(a)},[e]);const o=_.useCallback(()=>e&&n&&n(a),[a,n,e]);return!s&&n?[!1,o]:[!0]}const Z0=typeof window<"u",IW=Z0?_.useLayoutEffect:_.useEffect,Rs=e=>e;let RC=Rs;function ey(e){let t;return()=>(t===void 0&&(t=e()),t)}const io=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},ar=e=>e*1e3,or=e=>e/1e3,OW={useManualTiming:!1};function FW(e){let t=new Set,s=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&n?t:s;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{s.delete(u),a.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[t,s]=[s,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const Cu=["read","resolveKeyframes","update","preRender","render","postRender"],UW=40;function MC(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Cu.reduce((p,b)=>(p[b]=FW(a),p),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,m=()=>{const p=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(p-i.timestamp,UW),1),i.timestamp=p,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(m))},x=()=>{s=!0,n=!0,i.isProcessing||e(m)};return{schedule:Cu.reduce((p,b)=>{const v=o[b];return p[b]=(w,j=!1,k=!1)=>(s||x(),v.schedule(w,j,k)),p},{}),cancel:p=>{for(let b=0;b<Cu.length;b++)o[Cu[b]].cancel(p)},state:i,steps:o}}const{schedule:He,cancel:Kr,state:Et,steps:Am}=MC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0),DC=_.createContext({strict:!1}),p1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ao={};for(const e in p1)ao[e]={isEnabled:t=>p1[e].some(s=>!!t[s])};function $W(e){for(const t in e)ao[t]={...ao[t],...e[t]}}const BW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BW.has(e)}let LC=e=>!rh(e);function zW(e){e&&(LC=t=>t.startsWith("on")?!rh(t):e(t))}try{zW(require("@emotion/is-prop-valid").default)}catch{}function VW(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(LC(i)||s===!0&&rh(i)||!t&&!rh(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function HW(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const lf=_.createContext({});function hc(e){return typeof e=="string"||Array.isArray(e)}function cf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sy=["initial",...ty];function uf(e){return cf(e.animate)||sy.some(t=>hc(e[t]))}function IC(e){return!!(uf(e)||e.variants)}function WW(e,t){if(uf(e)){const{initial:s,animate:n}=e;return{initial:s===!1||hc(s)?s:void 0,animate:hc(n)?n:void 0}}return e.inherit!==!1?t:{}}function qW(e){const{initial:t,animate:s}=WW(e,_.useContext(lf));return _.useMemo(()=>({initial:t,animate:s}),[x1(t),x1(s)])}function x1(e){return Array.isArray(e)?e.join(" "):e}const YW=Symbol.for("motionComponentSymbol");function Ta(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GW(e,t,s){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Ta(s)&&(s.current=n))},[t])}const ny=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KW="framerAppearId",OC="data-"+ny(KW),{schedule:ry}=MC(queueMicrotask,!1),FC=_.createContext({});function XW(e,t,s,n,i){var a,o;const{visualElement:l}=_.useContext(lf),c=_.useContext(DC),u=_.useContext(Q0),d=_.useContext(AC).reducedMotion,h=_.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=_.useContext(FC);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&JW(h.current,s,i,m);const x=_.useRef(!1);_.useInsertionEffect(()=>{f&&x.current&&f.update(s,u)});const g=s[OC],y=_.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return IW(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),ry.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,g)}),y.current=!1))}),f}function JW(e,t,s,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:UC(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Ta(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function UC(e){if(e)return e.options.allowProjection!==!1?e.projection:UC(e.parent)}function QW({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){var a,o;e&&$W(e);function l(u,d){let h;const f={..._.useContext(AC),...u,layoutId:ZW(u)},{isStatic:m}=f,x=qW(u),g=n(u,m);if(!m&&Z0){eq();const y=tq(f);h=y.MeasureLayout,x.visualElement=XW(i,g,f,t,y.ProjectionNode)}return r.jsxs(lf.Provider,{value:x,children:[h&&x.visualElement?r.jsx(h,{visualElement:x.visualElement,...f}):null,s(i,u,GW(g,x.visualElement,d),g,m,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=_.forwardRef(l);return c[YW]=i,c}function ZW({layoutId:e}){const t=_.useContext(EC).id;return t&&e!==void 0?t+"-"+e:e}function eq(e,t){_.useContext(DC).strict}function tq(e){const{drag:t,layout:s}=ao;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const sq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iy(e){return typeof e!="string"||e.includes("-")?!1:!!(sq.indexOf(e)>-1||/[A-Z]/u.test(e))}function g1(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function ay(e,t,s,n){if(typeof t=="function"){const[i,a]=g1(n);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=g1(n);t=t(s!==void 0?s:e.custom,i,a)}return t}const Fx=e=>Array.isArray(e),nq=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),rq=e=>Fx(e)?e[e.length-1]||0:e,Ht=e=>!!(e&&e.getVelocity);function sd(e){const t=Ht(e)?e.get():e;return nq(t)?t.toValue():t}function iq({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,i,a){const o={latestValues:aq(n,i,a,e),renderState:t()};return s&&(o.onMount=l=>s({props:n,current:l,...o}),o.onUpdate=l=>s(l)),o}const $C=e=>(t,s)=>{const n=_.useContext(lf),i=_.useContext(Q0),a=()=>iq(e,t,n,i);return s?a():DW(a)};function aq(e,t,s,n){const i={},a=n(e,{});for(const f in a)i[f]=sd(a[f]);let{initial:o,animate:l}=e;const c=uf(e),u=IC(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!cf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=ay(e,f[m]);if(x){const{transitionEnd:g,transition:y,...p}=x;for(const b in p){let v=p[b];if(Array.isArray(v)){const w=d?v.length-1:0;v=v[w]}v!==null&&(i[b]=v)}for(const b in g)i[b]=g[b]}}}return i}const ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ta=new Set(ko),BC=e=>t=>typeof t=="string"&&t.startsWith(e),zC=BC("--"),oq=BC("var(--"),oy=e=>oq(e)?lq.test(e.split("/*")[0].trim()):!1,lq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VC=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fr=(e,t,s)=>s>t?t:s<e?e:s,So={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fc={...So,transform:e=>fr(0,1,e)},Pu={...So,default:1},Dc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vr=Dc("deg"),On=Dc("%"),ce=Dc("px"),cq=Dc("vh"),uq=Dc("vw"),y1={...On,parse:e=>On.parse(e)/100,transform:e=>On.transform(e*100)},dq={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce},hq={rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:Pu,scaleX:Pu,scaleY:Pu,scaleZ:Pu,skew:vr,skewX:vr,skewY:vr,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:fc,originX:y1,originY:y1,originZ:ce},b1={...So,transform:Math.round},ly={...dq,...hq,zIndex:b1,size:ce,fillOpacity:fc,strokeOpacity:fc,numOctaves:b1},fq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mq=ko.length;function pq(e,t,s){let n="",i=!0;for(let a=0;a<mq;a++){const o=ko[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=VC(l,ly[o]);if(!c){i=!1;const d=fq[o]||o;n+=`${d}(${u}) `}s&&(t[o]=u)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function cy(e,t,s){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(ta.has(c)){o=!0;continue}else if(zC(c)){i[c]=u;continue}else{const d=VC(u,ly[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(o||s?n.transform=pq(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const xq={offset:"stroke-dashoffset",array:"stroke-dasharray"},gq={offset:"strokeDashoffset",array:"strokeDasharray"};function yq(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?xq:gq;e[a.offset]=ce.transform(-n);const o=ce.transform(t),l=ce.transform(s);e[a.array]=`${o} ${l}`}function v1(e,t,s){return typeof e=="string"?e:ce.transform(t+s*e)}function bq(e,t,s){const n=v1(t,e.x,e.width),i=v1(s,e.y,e.height);return`${n} ${i}`}function uy(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(cy(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:x}=e;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=bq(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),o!==void 0&&yq(f,o,l,c,!1)}const dy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),HC=()=>({...dy(),attrs:{}}),hy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function WC(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const qC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YC(e,t,s,n){WC(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(qC.has(i)?i:ny(i),t.attrs[i])}const ih={};function vq(e){Object.assign(ih,e)}function GC(e,{layout:t,layoutId:s}){return ta.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ih[e]||e==="opacity")}function fy(e,t,s){var n;const{style:i}=e,a={};for(const o in i)(Ht(i[o])||t.style&&Ht(t.style[o])||GC(o,e)||((n=s==null?void 0:s.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function KC(e,t,s){const n=fy(e,t,s);for(const i in e)if(Ht(e[i])||Ht(t[i])){const a=ko.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function wq(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const w1=["x","y","width","height","cx","cy","r"],jq={useVisualState:$C({scrapeMotionValuesFromProps:KC,createRenderState:HC,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:i})=>{if(!s)return;let a=!!e.drag;if(!a){for(const l in i)if(ta.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<w1.length;l++){const c=w1[l];e[c]!==t[c]&&(o=!0)}o&&He.read(()=>{wq(s,n),He.render(()=>{uy(n,i,hy(s.tagName),e.transformTemplate),YC(s,n)})})}})},Nq={useVisualState:$C({scrapeMotionValuesFromProps:fy,createRenderState:dy})};function XC(e,t,s){for(const n in t)!Ht(t[n])&&!GC(n,s)&&(e[n]=t[n])}function kq({transformTemplate:e},t){return _.useMemo(()=>{const s=dy();return cy(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Sq(e,t){const s=e.style||{},n={};return XC(n,s,e),Object.assign(n,kq(e,t)),n}function _q(e,t){const s={},n=Sq(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function Tq(e,t,s,n){const i=_.useMemo(()=>{const a=HC();return uy(a,t,hy(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};XC(a,e.style,e),i.style={...a,...i.style}}return i}function Cq(e=!1){return(s,n,i,{latestValues:a},o)=>{const c=(iy(s)?Tq:_q)(n,a,o,s),u=VW(n,typeof s=="string",e),d=s!==_.Fragment?{...u,...c,ref:i}:{},{children:h}=n,f=_.useMemo(()=>Ht(h)?h.get():h,[h]);return _.createElement(s,{...d,children:f})}}function Pq(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...iy(n)?jq:Nq,preloadedFeatures:e,useRender:Cq(i),createVisualElement:t,Component:n};return QW(o)}}function JC(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function df(e,t,s){const n=e.getProps();return ay(n,t,s!==void 0?s:n.custom,e)}const Eq=ey(()=>window.ScrollTimeline!==void 0);class Aq{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(i=>{if(Eq()&&i.attachTimeline)return i.attachTimeline(t);if(typeof s=="function")return s(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Rq extends Aq{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function my(e,t){return e?e[t]||e.default||e:void 0}const Ux=2e4;function QC(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Ux;)t+=s,n=e.next(t);return t>=Ux?1/0:t}function py(e){return typeof e=="function"}function j1(e,t){e.timeline=t,e.onfinish=null}const xy=e=>Array.isArray(e)&&typeof e[0]=="number",Mq={linearEasing:void 0};function Dq(e,t){const s=ey(e);return()=>{var n;return(n=Mq[t])!==null&&n!==void 0?n:s()}}const ah=Dq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ZC=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)n+=e(io(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function eP(e){return!!(typeof e=="function"&&ah()||!e||typeof e=="string"&&(e in $x||ah())||xy(e)||Array.isArray(e)&&e.every(eP))}const rl=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,$x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rl([0,.65,.55,1]),circOut:rl([.55,0,1,.45]),backIn:rl([.31,.01,.66,-.59]),backOut:rl([.33,1.53,.69,.99])};function tP(e,t){if(e)return typeof e=="function"&&ah()?ZC(e,t):xy(e)?rl(e):Array.isArray(e)?e.map(s=>tP(s,t)||$x.easeOut):$x[e]}const an={x:!1,y:!1};function sP(){return an.x||an.y}function Lq(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function nP(e,t){const s=Lq(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function N1(e){return t=>{t.pointerType==="touch"||sP()||e(t)}}function Iq(e,t,s={}){const[n,i,a]=nP(e,s),o=N1(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=N1(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const rP=(e,t)=>t?e===t?!0:rP(e,t.parentElement):!1,gy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Oq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fq(e){return Oq.has(e.tagName)||e.tabIndex!==-1}const il=new WeakSet;function k1(e){return t=>{t.key==="Enter"&&e(t)}}function Rm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Uq=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=k1(()=>{if(il.has(s))return;Rm(s,"down");const i=k1(()=>{Rm(s,"up")}),a=()=>Rm(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function S1(e){return gy(e)&&!sP()}function $q(e,t,s={}){const[n,i,a]=nP(e,s),o=l=>{const c=l.currentTarget;if(!S1(l)||il.has(c))return;il.add(c);const u=t(l),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!S1(m)||!il.has(c))&&(il.delete(c),typeof u=="function"&&u(m,{success:x}))},h=m=>{d(m,s.useGlobalTarget||rP(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return n.forEach(l=>{!Fq(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>Uq(u,i),i)}),a}function Bq(e){return e==="x"||e==="y"?an[e]?null:(an[e]=!0,()=>{an[e]=!1}):an.x||an.y?null:(an.x=an.y=!0,()=>{an.x=an.y=!1})}const iP=new Set(["width","height","top","left","right","bottom",...ko]);let nd;function zq(){nd=void 0}const Fn={now:()=>(nd===void 0&&Fn.set(Et.isProcessing||OW.useManualTiming?Et.timestamp:performance.now()),nd),set:e=>{nd=e,queueMicrotask(zq)}};function yy(e,t){e.indexOf(t)===-1&&e.push(t)}function by(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class vy{constructor(){this.subscriptions=[]}add(t){return yy(this.subscriptions,t),()=>by(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aP(e,t){return t?e*(1e3/t):0}const _1=30,Vq=e=>!isNaN(parseFloat(e));class Hq{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=Fn.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Vq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new vy);const n=this.events[t].add(s);return t==="change"?()=>{n(),He.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,_1);return aP(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mc(e,t){return new Hq(e,t)}function Wq(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,mc(s))}function qq(e,t){const s=df(e,t);let{transitionEnd:n={},transition:i={},...a}=s||{};a={...a,...n};for(const o in a){const l=rq(a[o]);Wq(e,o,l)}}function Yq(e){return!!(Ht(e)&&e.add)}function Bx(e,t){const s=e.getValue("willChange");if(Yq(s))return s.add(t)}function oP(e){return e.props[OC]}const lP=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Gq=1e-7,Kq=12;function Xq(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=lP(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>Gq&&++l<Kq);return o}function Lc(e,t,s,n){if(e===t&&s===n)return Rs;const i=a=>Xq(a,0,1,e,s);return a=>a===0||a===1?a:lP(i(a),t,n)}const cP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uP=e=>t=>1-e(1-t),dP=Lc(.33,1.53,.69,.99),wy=uP(dP),hP=cP(wy),fP=e=>(e*=2)<1?.5*wy(e):.5*(2-Math.pow(2,-10*(e-1))),jy=e=>1-Math.sin(Math.acos(e)),mP=uP(jy),pP=cP(jy),xP=e=>/^0[^.\s]+$/u.test(e);function Jq(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xP(e):!0}const Rl=e=>Math.round(e*1e5)/1e5,Ny=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qq(e){return e==null}const Zq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ky=(e,t)=>s=>!!(typeof s=="string"&&Zq.test(s)&&s.startsWith(e)||t&&!Qq(s)&&Object.prototype.hasOwnProperty.call(s,t)),gP=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(Ny);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},eY=e=>fr(0,255,e),Mm={...So,transform:e=>Math.round(eY(e))},Ai={test:ky("rgb","red"),parse:gP("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Mm.transform(e)+", "+Mm.transform(t)+", "+Mm.transform(s)+", "+Rl(fc.transform(n))+")"};function tY(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const zx={test:ky("#"),parse:tY,transform:Ai.transform},Ca={test:ky("hsl","hue"),parse:gP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+On.transform(Rl(t))+", "+On.transform(Rl(s))+", "+Rl(fc.transform(n))+")"},Ft={test:e=>Ai.test(e)||zx.test(e)||Ca.test(e),parse:e=>Ai.test(e)?Ai.parse(e):Ca.test(e)?Ca.parse(e):zx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ai.transform(e):Ca.transform(e)},sY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nY(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ny))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(sY))===null||s===void 0?void 0:s.length)||0)>0}const yP="number",bP="color",rY="var",iY="var(",T1="${}",aY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(aY,c=>(Ft.test(c)?(n.color.push(a),i.push(bP),s.push(Ft.parse(c))):c.startsWith(iY)?(n.var.push(a),i.push(rY),s.push(c)):(n.number.push(a),i.push(yP),s.push(parseFloat(c))),++a,T1)).split(T1);return{values:s,split:l,indexes:n,types:i}}function vP(e){return pc(e).values}function wP(e){const{split:t,types:s}=pc(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===yP?a+=Rl(i[o]):l===bP?a+=Ft.transform(i[o]):a+=i[o]}return a}}const oY=e=>typeof e=="number"?0:e;function lY(e){const t=vP(e);return wP(e)(t.map(oY))}const Xr={test:nY,parse:vP,createTransformer:wP,getAnimatableNone:lY},cY=new Set(["brightness","contrast","saturate","opacity"]);function uY(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Ny)||[];if(!n)return e;const i=s.replace(n,"");let a=cY.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const dY=/\b([a-z-]*)\(.*?\)/gu,Vx={...Xr,getAnimatableNone:e=>{const t=e.match(dY);return t?t.map(uY).join(" "):e}},hY={...ly,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:Vx,WebkitFilter:Vx},Sy=e=>hY[e];function jP(e,t){let s=Sy(e);return s!==Vx&&(s=Xr),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const fY=new Set(["auto","none","0"]);function mY(e,t,s){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!fY.has(a)&&pc(a).values.length&&(i=e[n]),n++}if(i&&s)for(const a of t)e[a]=jP(s,i)}const C1=e=>e===So||e===ce,P1=(e,t)=>parseFloat(e.split(", ")[t]),E1=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return P1(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?P1(a[1],e):0}},pY=new Set(["x","y","z"]),xY=ko.filter(e=>!pY.has(e));function gY(e){const t=[];return xY.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const oo={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:E1(4,13),y:E1(5,14)};oo.translateX=oo.x;oo.translateY=oo.y;const Ii=new Set;let Hx=!1,Wx=!1;function NP(){if(Wx){const e=Array.from(Ii).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=gY(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Wx=!1,Hx=!1,Ii.forEach(e=>e.complete()),Ii.clear()}function kP(){Ii.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wx=!0)})}function yY(){kP(),NP()}class _y{constructor(t,s,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ii.add(this),Hx||(Hx=!0,He.read(kP),He.resolveKeyframes(NP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const c=n.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ii.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ii.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const SP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),bY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vY(e){const t=bY.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function _P(e,t,s=1){const[n,i]=vY(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return SP(o)?parseFloat(o):o}return oy(i)?_P(i,t,s+1):i}const TP=e=>t=>t.test(e),wY={test:e=>e==="auto",parse:e=>e},CP=[So,ce,On,vr,uq,cq,wY],A1=e=>CP.find(TP(e));class PP extends _y{constructor(t,s,n,i,a){super(t,s,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),oy(u))){const d=_P(u,s.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!iP.has(n)||t.length!==2)return;const[i,a]=t,o=A1(i),l=A1(a);if(o!==l)if(C1(o)&&C1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)Jq(t[i])&&n.push(i);n.length&&mY(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=oo[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const R1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xr.test(e)||e==="0")&&!e.startsWith("url("));function jY(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function NY(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=R1(i,t),l=R1(a,t);return!o||!l?!1:jY(e)||(s==="spring"||py(s))&&n}const kY=e=>e!==null;function hf(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(kY),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const SY=40;class EP{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fn.now(),this.options={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&yY(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Fn.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!NY(t,n,i,a))if(o)this.options.duration=0;else{c&&c(hf(t,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,s);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...d},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ke=(e,t,s)=>e+(t-e)*s;function Dm(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function _Y({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=Dm(c,l,e+1/3),a=Dm(c,l,e),o=Dm(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function oh(e,t){return s=>s>0?t:e}const Lm=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},TY=[zx,Ai,Ca],CY=e=>TY.find(t=>t.test(e));function M1(e){const t=CY(e);if(!t)return!1;let s=t.parse(e);return t===Ca&&(s=_Y(s)),s}const D1=(e,t)=>{const s=M1(e),n=M1(t);if(!s||!n)return oh(e,t);const i={...s};return a=>(i.red=Lm(s.red,n.red,a),i.green=Lm(s.green,n.green,a),i.blue=Lm(s.blue,n.blue,a),i.alpha=Ke(s.alpha,n.alpha,a),Ai.transform(i))},PY=(e,t)=>s=>t(e(s)),Ic=(...e)=>e.reduce(PY),qx=new Set(["none","hidden"]);function EY(e,t){return qx.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function AY(e,t){return s=>Ke(e,t,s)}function Ty(e){return typeof e=="number"?AY:typeof e=="string"?oy(e)?oh:Ft.test(e)?D1:DY:Array.isArray(e)?AP:typeof e=="object"?Ft.test(e)?D1:RY:oh}function AP(e,t){const s=[...e],n=s.length,i=e.map((a,o)=>Ty(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}}function RY(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Ty(e[i])(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}}function MY(e,t){var s;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(s=e.values[l])!==null&&s!==void 0?s:0;n[a]=c,i[o]++}return n}const DY=(e,t)=>{const s=Xr.createTransformer(t),n=pc(e),i=pc(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?qx.has(e)&&!i.values.length||qx.has(t)&&!n.values.length?EY(e,t):Ic(AP(MY(n,i),i.values),s):oh(e,t)};function RP(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Ke(e,t,s):Ty(e)(e,t)}const LY=5;function MP(e,t,s){const n=Math.max(t-LY,0);return aP(s-e(n),t-n)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Im=.001;function IY({duration:e=tt.duration,bounce:t=tt.bounce,velocity:s=tt.velocity,mass:n=tt.mass}){let i,a,o=1-t;o=fr(tt.minDamping,tt.maxDamping,o),e=fr(tt.minDuration,tt.maxDuration,or(e)),o<1?(i=u=>{const d=u*o,h=d*e,f=d-s,m=Yx(u,o),x=Math.exp(-h);return Im-f/m*x},a=u=>{const h=u*o*e,f=h*s+s,m=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),g=Yx(Math.pow(u,2),o);return(-i(u)+Im>0?-1:1)*((f-m)*x)/g}):(i=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-Im+d*h},a=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const l=5/e,c=FY(i,a,l);if(e=ar(e),isNaN(c))return{stiffness:tt.stiffness,damping:tt.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const OY=12;function FY(e,t,s){let n=s;for(let i=1;i<OY;i++)n=n-e(n)/t(n);return n}function Yx(e,t){return e*Math.sqrt(1-t*t)}const UY=["duration","bounce"],$Y=["stiffness","damping","mass"];function L1(e,t){return t.some(s=>e[s]!==void 0)}function BY(e){let t={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...e};if(!L1(e,$Y)&&L1(e,UY))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,a=2*fr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:tt.mass,stiffness:i,damping:a}}else{const s=IY(e);t={...t,...s,mass:tt.mass},t.isResolvedFromDuration=!0}return t}function DP(e=tt.visualDuration,t=tt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=BY({...s,velocity:-or(s.velocity||0)}),x=f||0,g=u/(2*Math.sqrt(c*d)),y=o-a,p=or(Math.sqrt(c/d)),b=Math.abs(y)<5;n||(n=b?tt.restSpeed.granular:tt.restSpeed.default),i||(i=b?tt.restDelta.granular:tt.restDelta.default);let v;if(g<1){const j=Yx(p,g);v=k=>{const P=Math.exp(-g*p*k);return o-P*((x+g*p*y)/j*Math.sin(j*k)+y*Math.cos(j*k))}}else if(g===1)v=j=>o-Math.exp(-p*j)*(y+(x+p*y)*j);else{const j=p*Math.sqrt(g*g-1);v=k=>{const P=Math.exp(-g*p*k),S=Math.min(j*k,300);return o-P*((x+g*p*y)*Math.sinh(S)+j*y*Math.cosh(S))/j}}const w={calculatedDuration:m&&h||null,next:j=>{const k=v(j);if(m)l.done=j>=h;else{let P=0;g<1&&(P=j===0?ar(x):MP(v,j,k));const S=Math.abs(P)<=n,T=Math.abs(o-k)<=i;l.done=S&&T}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(QC(w),Ux),k=ZC(P=>w.next(j*P).value,j,30);return j+"ms "+k}};return w}function I1({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=s*t;const y=h+g,p=o===void 0?y:o(y);p!==y&&(g=p-h);const b=S=>-g*Math.exp(-S/n),v=S=>p+b(S),w=S=>{const T=b(S),N=v(S);f.done=Math.abs(T)<=u,f.value=f.done?p:N};let j,k;const P=S=>{m(f.value)&&(j=S,k=DP({keyframes:[f.value,x(f.value)],velocity:MP(v,S,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:S=>{let T=!1;return!k&&j===void 0&&(T=!0,w(S),P(S)),j!==void 0&&S>=j?k.next(S-j):(!T&&w(S),f)}}}const zY=Lc(.42,0,1,1),VY=Lc(0,0,.58,1),LP=Lc(.42,0,.58,1),HY=e=>Array.isArray(e)&&typeof e[0]!="number",WY={linear:Rs,easeIn:zY,easeInOut:LP,easeOut:VY,circIn:jy,circInOut:pP,circOut:mP,backIn:wy,backInOut:hP,backOut:dP,anticipate:fP},O1=e=>{if(xy(e)){RC(e.length===4);const[t,s,n,i]=e;return Lc(t,s,n,i)}else if(typeof e=="string")return WY[e];return e};function qY(e,t,s){const n=[],i=s||RP,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Rs:t;l=Ic(c,l)}n.push(l)}return n}function YY(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(RC(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=qY(t,n,i),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=io(e[h],e[h+1],d);return l[h](f)};return s?d=>u(fr(e[0],e[a-1],d)):u}function GY(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=io(0,t,n);e.push(Ke(s,1,i))}}function KY(e){const t=[0];return GY(t,e.length-1),t}function XY(e,t){return e.map(s=>s*t)}function JY(e,t){return e.map(()=>t||LP).splice(0,e.length-1)}function lh({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=HY(n)?n.map(O1):O1(n),a={done:!1,value:t[0]},o=XY(s&&s.length===t.length?s:KY(t),e),l=YY(o,t,{ease:Array.isArray(i)?i:JY(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const QY=e=>{const t=({timestamp:s})=>e(s);return{start:()=>He.update(t,!0),stop:()=>Kr(t),now:()=>Et.isProcessing?Et.timestamp:Fn.now()}},ZY={decay:I1,inertia:I1,tween:lh,keyframes:lh,spring:DP},eG=e=>e/100;class Cy extends EP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||_y,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=py(s)?s:ZY[s]||lh;let c,u;l!==lh&&typeof t[0]!="number"&&(c=Ic(eG,RP(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=QC(d));const{calculatedDuration:h}=d,f=h+i,m=f*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?p<0:p>d;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let v=this.currentTime,w=a;if(m){const S=Math.min(this.currentTime,d)/h;let T=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(x==="reverse"?(N=1-N,g&&(N-=g/h)):x==="mirror"&&(w=o)),v=fr(0,1,N)*h}const j=b?{done:!1,value:c[0]}:w.next(v);l&&(j.value=l(j.value));let{done:k}=j;!b&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&i!==void 0&&(j.value=hf(c,this.options,i)),y&&y(j.value),P&&this.finish(),j}get duration(){const{resolved:t}=this;return t?or(t.calculatedDuration):0}get time(){return or(this.currentTime)}set time(t){t=ar(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=or(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=QY,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const tG=new Set(["opacity","clipPath","filter","transform"]);function sG(e,t,s,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:s};c&&(u.offset=c);const d=tP(l,i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const nG=ey(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ch=10,rG=2e4;function iG(e){return py(e.type)||e.type==="spring"||!eP(e.ease)}function aG(e,t){const s=new Cy({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<rG;)n=s.sample(a),i.push(n.value),a+=ch;return{times:void 0,keyframes:i,duration:a-ch,ease:"linear"}}const IP={anticipate:fP,backInOut:hP,circInOut:pP};function oG(e){return e in IP}class F1 extends EP{constructor(t){super(t);const{name:s,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new PP(a,(o,l)=>this.onKeyframesResolved(o,l),s,n,i),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&ah()&&oG(a)&&(a=IP[a]),iG(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:x,...g}=this.options,y=aG(t,g);t=y.keyframes,t.length===1&&(t[1]=t[0]),n=y.duration,i=y.times,a=y.ease,o="keyframes"}const d=sG(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(j1(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(hf(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return or(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return or(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=ar(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Rs;const{animation:n}=s;j1(n,t)}return Rs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:i,type:a,ease:o,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,x=new Cy({...m,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),g=ar(this.time);u.setWithVelocity(x.sample(g-ch).value,x.sample(g).value,ch)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return nG()&&n&&tG.has(n)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const lG={type:"spring",stiffness:500,damping:25,restSpeed:10},cG=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uG={type:"keyframes",duration:.8},dG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hG=(e,{keyframes:t})=>t.length>2?uG:ta.has(e)?e.startsWith("scale")?cG(t[1]):lG:dG;function fG({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Py=(e,t,s,n={},i,a)=>o=>{const l=my(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ar(c);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};fG(l)||(d={...d,...hG(e,d)}),d.duration&&(d.duration=ar(d.duration)),d.repeatDelay&&(d.repeatDelay=ar(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const f=hf(d.keyframes,l);if(f!==void 0)return He.update(()=>{d.onUpdate(f),d.onComplete()}),new Rq([])}return!a&&F1.supports(d)?new F1(d):new Cy(d)};function mG({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function OP(e,t,{delay:s=0,transitionOverride:n,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),m=c[h];if(m===void 0||d&&mG(d,h))continue;const x={delay:s,...my(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const p=oP(e);if(p){const b=window.MotionHandoffAnimation(p,h,He);b!==null&&(x.startTime=b,g=!0)}}Bx(e,h),f.start(Py(h,f,m,e.shouldReduceMotion&&iP.has(h)?{type:!1}:x,e,g));const y=f.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{He.update(()=>{l&&qq(e,l)})}),u}function Gx(e,t,s={}){var n;const i=df(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(OP(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return pG(e,t,d+u,h,f,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(s.delay)])}function pG(e,t,s=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(xG).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Gx(u,t,{...a,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function xG(e,t){return e.sortNodePosition(t)}function gG(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Gx(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=Gx(e,t,s);else{const i=typeof t=="function"?df(e,t,s.custom):t;n=Promise.all(OP(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const yG=sy.length;function FP(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?FP(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<yG;s++){const n=sy[s],i=e.props[n];(hc(i)||i===!1)&&(t[n]=i)}return t}const bG=[...ty].reverse(),vG=ty.length;function wG(e){return t=>Promise.all(t.map(({animation:s,options:n})=>gG(e,s,n)))}function jG(e){let t=wG(e),s=U1(),n=!0;const i=c=>(u,d)=>{var h;const f=df(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...g}=f;u={...u,...g,...x}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=FP(e.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let y=0;y<vG;y++){const p=bG[y],b=s[p],v=u[p]!==void 0?u[p]:d[p],w=hc(v),j=p===c?b.isActive:null;j===!1&&(x=y);let k=v===d[p]&&v!==u[p]&&w;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...m},!b.isActive&&j===null||!v&&!b.prevProp||cf(v)||typeof v=="boolean")continue;const P=NG(b.prevProp,v);let S=P||p===c&&b.isActive&&!k&&w||y>x&&w,T=!1;const N=Array.isArray(v)?v:[v];let E=N.reduce(i(p),{});j===!1&&(E={});const{prevResolvedValues:M={}}=b,O={...M,...E},F=I=>{S=!0,f.has(I)&&(T=!0,f.delete(I)),b.needsAnimating[I]=!0;const $=e.getValue(I);$&&($.liveStyle=!1)};for(const I in O){const $=E[I],B=M[I];if(m.hasOwnProperty(I))continue;let C=!1;Fx($)&&Fx(B)?C=!JC($,B):C=$!==B,C?$!=null?F(I):f.add(I):$!==void 0&&f.has(I)?F(I):b.protectedKeys[I]=!0}b.prevProp=v,b.prevResolvedValues=E,b.isActive&&(m={...m,...E}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(k&&P)||T)&&h.push(...N.map(I=>({animation:I,options:{type:p}})))}if(f.size){const y={};f.forEach(p=>{const b=e.getBaseTarget(p),v=e.getValue(p);v&&(v.liveStyle=!0),y[p]=b??null}),h.push({animation:y})}let g=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}function l(c,u){var d;if(s[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),s[c].isActive=u;const h=o(c);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=U1(),n=!0}}}function NG(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!JC(t,e):!1}function mi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U1(){return{animate:mi(!0),whileInView:mi(),whileHover:mi(),whileTap:mi(),whileDrag:mi(),whileFocus:mi(),exit:mi()}}class ai{constructor(t){this.isMounted=!1,this.node=t}update(){}}class kG extends ai{constructor(t){super(t),t.animationState||(t.animationState=jG(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let SG=0;class _G extends ai{constructor(){super(...arguments),this.id=SG++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const TG={animation:{Feature:kG},exit:{Feature:_G}};function xc(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function Oc(e){return{point:{x:e.pageX,y:e.pageY}}}const CG=e=>t=>gy(t)&&e(t,Oc(t));function Ml(e,t,s,n){return xc(e,t,CG(s),n)}const $1=(e,t)=>Math.abs(e-t);function PG(e,t){const s=$1(e.x,t.x),n=$1(e.y,t.y);return Math.sqrt(s**2+n**2)}class UP{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Fm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=PG(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=h,{timestamp:g}=Et;this.history.push({...x,timestamp:g});const{onStart:y,onMove:p}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Om(f,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Fm(h.type==="pointercancel"?this.lastMoveEventInfo:Om(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,y),x&&x(h,y)},!gy(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const o=Oc(t),l=Om(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Et;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Fm(l,this.history)),this.removeListeners=Ic(Ml(this.contextWindow,"pointermove",this.handlePointerMove),Ml(this.contextWindow,"pointerup",this.handlePointerUp),Ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Kr(this.updatePoint)}}function Om(e,t){return t?{point:t(e.point)}:e}function B1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fm({point:e},t){return{point:e,delta:B1(e,$P(t)),offset:B1(e,EG(t)),velocity:AG(t,.1)}}function EG(e){return e[0]}function $P(e){return e[e.length-1]}function AG(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=$P(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>ar(t)));)s--;if(!n)return{x:0,y:0};const a=or(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const BP=1e-4,RG=1-BP,MG=1+BP,zP=.01,DG=0-zP,LG=0+zP;function Ls(e){return e.max-e.min}function IG(e,t,s){return Math.abs(e-t)<=s}function z1(e,t,s,n=.5){e.origin=n,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=Ls(s)/Ls(t),e.translate=Ke(s.min,s.max,e.origin)-e.originPoint,(e.scale>=RG&&e.scale<=MG||isNaN(e.scale))&&(e.scale=1),(e.translate>=DG&&e.translate<=LG||isNaN(e.translate))&&(e.translate=0)}function Dl(e,t,s,n){z1(e.x,t.x,s.x,n?n.originX:void 0),z1(e.y,t.y,s.y,n?n.originY:void 0)}function V1(e,t,s){e.min=s.min+t.min,e.max=e.min+Ls(t)}function OG(e,t,s){V1(e.x,t.x,s.x),V1(e.y,t.y,s.y)}function H1(e,t,s){e.min=t.min-s.min,e.max=e.min+Ls(t)}function Ll(e,t,s){H1(e.x,t.x,s.x),H1(e.y,t.y,s.y)}function FG(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?Ke(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?Ke(s,e,n.max):Math.min(e,s)),e}function W1(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function UG(e,{top:t,left:s,bottom:n,right:i}){return{x:W1(e.x,s,i),y:W1(e.y,t,n)}}function q1(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function $G(e,t){return{x:q1(e.x,t.x),y:q1(e.y,t.y)}}function BG(e,t){let s=.5;const n=Ls(e),i=Ls(t);return i>n?s=io(t.min,t.max-n,e.min):n>i&&(s=io(e.min,e.max-i,t.min)),fr(0,1,s)}function zG(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Kx=.35;function VG(e=Kx){return e===!1?e=0:e===!0&&(e=Kx),{x:Y1(e,"left","right"),y:Y1(e,"top","bottom")}}function Y1(e,t,s){return{min:G1(e,t),max:G1(e,s)}}function G1(e,t){return typeof e=="number"?e:e[t]||0}const K1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pa=()=>({x:K1(),y:K1()}),X1=()=>({min:0,max:0}),rt=()=>({x:X1(),y:X1()});function Vs(e){return[e("x"),e("y")]}function VP({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function HG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function WG(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Um(e){return e===void 0||e===1}function Xx({scale:e,scaleX:t,scaleY:s}){return!Um(e)||!Um(t)||!Um(s)}function vi(e){return Xx(e)||HP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HP(e){return J1(e.x)||J1(e.y)}function J1(e){return e&&e!=="0%"}function uh(e,t,s){const n=e-s,i=t*n;return s+i}function Q1(e,t,s,n,i){return i!==void 0&&(e=uh(e,i,n)),uh(e,s,n)+t}function Jx(e,t=0,s=1,n,i){e.min=Q1(e.min,t,s,n,i),e.max=Q1(e.max,t,s,n,i)}function WP(e,{x:t,y:s}){Jx(e.x,t.translate,t.scale,t.originPoint),Jx(e.y,s.translate,s.scale,s.originPoint)}const Z1=.999999999999,eN=1.0000000000001;function qG(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Aa(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,WP(e,o)),n&&vi(a.latestValues)&&Aa(e,a.latestValues))}t.x<eN&&t.x>Z1&&(t.x=1),t.y<eN&&t.y>Z1&&(t.y=1)}function Ea(e,t){e.min=e.min+t,e.max=e.max+t}function tN(e,t,s,n,i=.5){const a=Ke(e.min,e.max,i);Jx(e,t,s,a,n)}function Aa(e,t){tN(e.x,t.x,t.scaleX,t.scale,t.originX),tN(e.y,t.y,t.scaleY,t.scale,t.originY)}function qP(e,t){return VP(WG(e.getBoundingClientRect(),t))}function YG(e,t,s){const n=qP(e,s),{scroll:i}=t;return i&&(Ea(n.x,i.offset.x),Ea(n.y,i.offset.y)),n}const YP=({current:e})=>e?e.ownerDocument.defaultView:null,GG=new WeakMap;class KG{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Oc(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bq(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(y=>{let p=this.getAxisMotionValue(y).get()||0;if(On.test(p)){const{projection:b}=this.visualElement;if(b&&b.layout){const v=b.layout.layoutBox[y];v&&(p=Ls(v)*(parseFloat(p)/100))}}this.originPoint[y]=p}),x&&He.postRender(()=>x(d,h)),Bx(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(m&&this.currentDirection===null){this.currentDirection=XG(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Vs(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new UP(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:YP(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&He.postRender(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!Eu(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=FG(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;s&&Ta(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=UG(i.layoutBox,s):this.constraints=!1,this.elastic=VG(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=zG(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ta(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=YG(n,i.root,this.visualElement.getTransformPagePoint());let o=$G(i.layout.layoutBox,a);if(s){const l=s(HG(o));this.hasMutatedConstraints=!!l,l&&(o=VP(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Vs(d=>{if(!Eu(d,s,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Bx(this.visualElement,t),n.start(Py(t,n,0,s,this.visualElement,!1))}stopAnimation(){Vs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vs(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Vs(s=>{const{drag:n}=this.getProps();if(!Eu(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-Ke(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Ta(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=BG({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Vs(o=>{if(!Eu(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ke(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;GG.set(this.visualElement,this);const t=this.visualElement.current,s=Ml(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ta(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),He.read(n);const o=xc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Kx,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Eu(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function XG(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class JG extends ai{constructor(t){super(t),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new KG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const sN=e=>(t,s)=>{e&&He.postRender(()=>e(t,s))};class QG extends ai{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(t){this.session=new UP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:sN(t),onStart:sN(s),onMove:n,onEnd:(a,o)=>{delete this.session,i&&He.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ml(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ce.test(e))e=parseFloat(e);else return e;const s=nN(e,t.target.x),n=nN(e,t.target.y);return`${s}% ${n}%`}},ZG={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=Xr.parse(e);if(i.length>5)return n;const a=Xr.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=Ke(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class eK extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;vq(tK),a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||He.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ry.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GP(e){const[t,s]=LW(),n=_.useContext(EC);return r.jsx(eK,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(FC),isPresent:t,safeToRemove:s})}const tK={borderRadius:{...Yo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yo,borderTopRightRadius:Yo,borderBottomLeftRadius:Yo,borderBottomRightRadius:Yo,boxShadow:ZG};function sK(e,t,s){const n=Ht(e)?e:mc(e);return n.start(Py("",n,t,s)),n.animation}function nK(e){return e instanceof SVGElement&&e.tagName!=="svg"}const rK=(e,t)=>e.depth-t.depth;class iK{constructor(){this.children=[],this.isDirty=!1}add(t){yy(this.children,t),this.isDirty=!0}remove(t){by(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rK),this.isDirty=!1,this.children.forEach(t)}}function aK(e,t){const s=Fn.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(Kr(n),e(a-t))};return He.read(n,!0),()=>Kr(n)}const KP=["TopLeft","TopRight","BottomLeft","BottomRight"],oK=KP.length,rN=e=>typeof e=="string"?parseFloat(e):e,iN=e=>typeof e=="number"||ce.test(e);function lK(e,t,s,n,i,a){i?(e.opacity=Ke(0,s.opacity!==void 0?s.opacity:1,cK(n)),e.opacityExit=Ke(t.opacity!==void 0?t.opacity:1,0,uK(n))):a&&(e.opacity=Ke(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<oK;o++){const l=`border${KP[o]}Radius`;let c=aN(t,l),u=aN(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||iN(c)===iN(u)?(e[l]=Math.max(Ke(rN(c),rN(u),n),0),(On.test(u)||On.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=Ke(t.rotate||0,s.rotate||0,n))}function aN(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cK=XP(0,.5,mP),uK=XP(.5,.95,Rs);function XP(e,t,s){return n=>n<e?0:n>t?1:s(io(e,t,n))}function oN(e,t){e.min=t.min,e.max=t.max}function zs(e,t){oN(e.x,t.x),oN(e.y,t.y)}function lN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cN(e,t,s,n,i){return e-=t,e=uh(e,1/s,n),i!==void 0&&(e=uh(e,1/i,n)),e}function dK(e,t=0,s=1,n=.5,i,a=e,o=e){if(On.test(t)&&(t=parseFloat(t),t=Ke(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ke(a.min,a.max,n);e===a&&(l-=t),e.min=cN(e.min,t,s,l,i),e.max=cN(e.max,t,s,l,i)}function uN(e,t,[s,n,i],a,o){dK(e,t[s],t[n],t[i],t.scale,a,o)}const hK=["x","scaleX","originX"],fK=["y","scaleY","originY"];function dN(e,t,s,n){uN(e.x,t,hK,s?s.x:void 0,n?n.x:void 0),uN(e.y,t,fK,s?s.y:void 0,n?n.y:void 0)}function hN(e){return e.translate===0&&e.scale===1}function JP(e){return hN(e.x)&&hN(e.y)}function fN(e,t){return e.min===t.min&&e.max===t.max}function mK(e,t){return fN(e.x,t.x)&&fN(e.y,t.y)}function mN(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function QP(e,t){return mN(e.x,t.x)&&mN(e.y,t.y)}function pN(e){return Ls(e.x)/Ls(e.y)}function xN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pK{constructor(){this.members=[]}add(t){yy(this.members,t),t.scheduleRender()}remove(t){if(by(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xK(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:x}=s;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const wi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},al=typeof window<"u"&&window.MotionDebug!==void 0,$m=["","X","Y","Z"],gK={visibility:"hidden"},gN=1e3;let yK=0;function Bm(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function ZP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=oP(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",He,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&ZP(n)}function eE({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=yK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,al&&(wi.totalNodes=wi.resolvedTargetDeltas=wi.recalculatedProjection=0),this.nodes.forEach(wK),this.nodes.forEach(_K),this.nodes.forEach(TK),this.nodes.forEach(jK),al&&window.MotionDebug.record(wi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new iK)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vy),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nK(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=aK(f,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(bN))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||RK,{onLayoutAnimationStart:y,onLayoutAnimationComplete:p}=d.getProps(),b=!this.targetLayout||!QP(this.targetLayout,x)||m,v=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const w={...my(g,"layout"),onPlay:y,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||bN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yN);return}this.isUpdating||this.nodes.forEach(kK),this.isUpdating=!1,this.nodes.forEach(SK),this.nodes.forEach(bK),this.nodes.forEach(vK),this.clearAllSnapshots();const l=Fn.now();Et.delta=fr(0,1e3/60,l-Et.timestamp),Et.timestamp=l,Et.isProcessing=!0,Am.update.process(Et),Am.preRender.process(Et),Am.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NK),this.sharedNodes.forEach(PK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!JP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||vi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),MK(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return rt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(DK))){const{scroll:d}=this.root;d&&(Ea(c.x,d.offset.x),Ea(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=rt();if(zs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&zs(c,o),Ea(c.x,h.offset.x),Ea(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=rt();zs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Aa(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vi(d.latestValues)&&Aa(c,d.latestValues)}return vi(this.latestValues)&&Aa(c,this.latestValues),c}removeTransform(o){const l=rt();zs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vi(u.latestValues))continue;Xx(u.latestValues)&&u.updateSnapshot();const d=rt(),h=u.measurePageBox();zs(d,h),dN(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vi(this.latestValues)&&dN(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ll(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zs(this.target,this.layout.layoutBox),WP(this.target,this.targetDelta)):zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ll(this.relativeTargetOrigin,this.target,m.target),zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}al&&wi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xx(this.parent.latestValues)||HP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;zs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;qG(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=rt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lN(this.prevProjectionDelta.x,this.projectionDelta.x),lN(this.prevProjectionDelta.y,this.projectionDelta.y)),Dl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!xN(this.projectionDelta.x,this.prevProjectionDelta.x)||!xN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),al&&wi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pa(),this.projectionDelta=Pa(),this.projectionDeltaWithTransform=Pa()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=rt(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=m!==x,y=this.getStack(),p=!y||y.members.length<=1,b=!!(g&&!p&&this.options.crossfade===!0&&!this.path.some(AK));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const j=w/1e3;vN(h.x,o.x,j),vN(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EK(this.relativeTarget,this.relativeTargetOrigin,f,j),v&&mK(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=rt()),zs(v,this.relativeTarget)),g&&(this.animationValues=d,lK(d,u,this.latestValues,j,b,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{rd.hasAnimatedSinceResize=!0,this.currentAnimation=sK(0,gN,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&tE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rt();const h=Ls(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ls(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}zs(l,c),Aa(l,d),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pK),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Bm("z",o,u,this.animationValues);for(let d=0;d<$m.length;d++)Bm(`rotate${$m[d]}`,o,u,this.animationValues),Bm(`skew${$m[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gK;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=sd(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=sd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vi(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=xK(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in ih){if(f[g]===void 0)continue;const{correct:y,applyTo:p}=ih[g],b=u.transform==="none"?f[g]:y(f[g],h);if(p){const v=p.length;for(let w=0;w<v;w++)u[p[w]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=h===this?sd(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(yN),this.root.sharedNodes.clear()}}}function bK(e){e.updateLayout()}function vK(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?Vs(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=Ls(f);f.min=n[h].min,f.max=f.min+m}):tE(a,s.layoutBox,n)&&Vs(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=Ls(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Pa();Dl(l,n,s.layoutBox);const c=Pa();o?Dl(c,e.applyTransform(i,!0),s.measuredBox):Dl(c,n,s.layoutBox);const u=!JP(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=rt();Ll(x,s.layoutBox,f.layoutBox);const g=rt();Ll(g,n,m.layoutBox),QP(x,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function wK(e){al&&wi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NK(e){e.clearSnapshot()}function yN(e){e.clearMeasurements()}function kK(e){e.isLayoutDirty=!1}function SK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _K(e){e.resolveTargetDelta()}function TK(e){e.calcProjection()}function CK(e){e.resetSkewAndRotation()}function PK(e){e.removeLeadSnapshot()}function vN(e,t,s){e.translate=Ke(t.translate,0,s),e.scale=Ke(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function wN(e,t,s,n){e.min=Ke(t.min,s.min,n),e.max=Ke(t.max,s.max,n)}function EK(e,t,s,n){wN(e.x,t.x,s.x,n),wN(e.y,t.y,s.y,n)}function AK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RK={duration:.45,ease:[.4,0,.1,1]},jN=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NN=jN("applewebkit/")&&!jN("chrome/")?Math.round:Rs;function kN(e){e.min=NN(e.min),e.max=NN(e.max)}function MK(e){kN(e.x),kN(e.y)}function tE(e,t,s){return e==="position"||e==="preserve-aspect"&&!IG(pN(t),pN(s),.2)}function DK(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const LK=eE({attachResizeListener:(e,t)=>xc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zm={current:void 0},sE=eE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zm.current){const e=new LK({});e.mount(window),e.setOptions({layoutScroll:!0}),zm.current=e}return zm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IK={pan:{Feature:QG},drag:{Feature:JG,ProjectionNode:sE,MeasureLayout:GP}};function SN(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=n[i];a&&He.postRender(()=>a(t,Oc(t)))}class OK extends ai{mount(){const{current:t}=this.node;t&&(this.unmount=Iq(t,s=>(SN(this.node,s,"Start"),n=>SN(this.node,n,"End"))))}unmount(){}}class FK extends ai{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(xc(this.node.current,"focus",()=>this.onFocus()),xc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _N(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=n[i];a&&He.postRender(()=>a(t,Oc(t)))}class UK extends ai{mount(){const{current:t}=this.node;t&&(this.unmount=$q(t,s=>(_N(this.node,s,"Start"),(n,{success:i})=>_N(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qx=new WeakMap,Vm=new WeakMap,$K=e=>{const t=Qx.get(e.target);t&&t(e)},BK=e=>{e.forEach($K)};function zK({root:e,...t}){const s=e||document;Vm.has(s)||Vm.set(s,{});const n=Vm.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(BK,{root:e,...t})),n[i]}function VK(e,t,s){const n=zK(t);return Qx.set(e,s),n.observe(e),()=>{Qx.delete(e),n.unobserve(e)}}const HK={some:0,all:1};class WK extends ai{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:HK[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return VK(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(qK(t,s))&&this.startObserver()}unmount(){}}function qK({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const YK={inView:{Feature:WK},tap:{Feature:UK},focus:{Feature:FK},hover:{Feature:OK}},GK={layout:{ProjectionNode:sE,MeasureLayout:GP}},Zx={current:null},nE={current:!1};function KK(){if(nE.current=!0,!!Z0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zx.current=e.matches;e.addListener(t),t()}else Zx.current=!1}const XK=[...CP,Ft,Xr],JK=e=>XK.find(TP(e)),TN=new WeakMap;function QK(e,t,s){for(const n in t){const i=t[n],a=s[n];if(Ht(i))e.addValue(n,i);else if(Ht(a))e.addValue(n,mc(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,mc(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const CN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZK{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Fn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,He.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=uf(s),this.isVariantNode=IC(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&Ht(x)&&x.set(c[m],!1)}}mount(t){this.current=t,TN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),nE.current||KK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TN.delete(this.current),this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ta.has(t),i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&He.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ao){const s=ao[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<CN.length;n++){const i=CN[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=QK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=mc(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(SP(i)||xP(i))?i=parseFloat(i):!JK(i)&&Xr.test(s)&&(i=jP(t,s)),this.setBaseTarget(t,Ht(i)?i.get():i)),Ht(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=ay(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ht(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new vy),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class rE extends ZK{constructor(){super(...arguments),this.KeyframeResolver=PP}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ht(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function eX(e){return window.getComputedStyle(e)}class tX extends rE{constructor(){super(...arguments),this.type="html",this.renderInstance=WC}readValueFromInstance(t,s){if(ta.has(s)){const n=Sy(s);return n&&n.default||0}else{const n=eX(t),i=(zC(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return qP(t,s)}build(t,s,n){cy(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return fy(t,s,n)}}class sX extends rE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ta.has(s)){const n=Sy(s);return n&&n.default||0}return s=qC.has(s)?s:ny(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return KC(t,s,n)}build(t,s,n){uy(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,i){YC(t,s,n,i)}mount(t){this.isSVGTag=hy(t.tagName),super.mount(t)}}const nX=(e,t)=>iy(e)?new sX(t):new tX(t,{allowProjection:e!==_.Fragment}),rX=Pq({...TG,...YK,...IK,...GK},nX),Ce=HW(rX),iX=({onSelectAlgoTrading:e})=>{const t=[{id:"algotrading",title:"Algorithmic Trading",subtitle:"Automated Trading Dashboard",description:"Create and manage trading robots, set up TradingView webhooks, and automate your trading strategies with advanced risk management.",icon:ss,cardBg:"bg-[#292929]",borderColor:"border-[#ffa31a]",iconBg:"bg-[#ffa31a]",subtitleColor:"text-[#ffa31a]",featureDot:"bg-[#ffa31a]",buttonBg:"bg-[#ffa31a]",buttonText:"text-[#1b1b1b]",text:"text-white",onClick:e},{id:"livetrading",title:"Live Trading",subtitle:"Real-time Trading Terminal",description:"Execute manual trades, monitor positions in real-time, analyze markets, and manage your portfolio with professional trading tools.",icon:Qa,cardBg:"bg-[#1b1b1b]",borderColor:"border-[#808080]",iconBg:"bg-[#808080]",subtitleColor:"text-[#ffa31a]",featureDot:"bg-[#ffa31a]",buttonBg:"bg-[#ffa31a]",buttonText:"text-[#1b1b1b]",text:"text-white",onClick:()=>{},comingSoon:!0}];return r.jsxs("div",{className:"min-h-screen bg-[#1b1b1b]",children:[r.jsx("div",{className:"bg-[#292929] border-b border-[#ffa31a]",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Platform Logo",className:"h-14 w-auto"})}),r.jsx("div",{})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[r.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Welcome to Your Trading Hub"}),r.jsx("p",{className:"text-xl text-[#ffa31a] max-w-3xl mx-auto",children:"Access powerful trading tools designed for both automated and manual trading. Choose your preferred trading style to get started."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-7xl mx-auto",children:t.map((s,n)=>{const i=s.icon;return r.jsx(Ce.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.2},className:"relative group cursor-pointer",onClick:s.onClick,children:r.jsx("div",{className:`
                  relative overflow-hidden rounded-2xl border-2 ${s.borderColor} 
                  ${s.cardBg} p-8 transition-all duration-300 
                  hover:shadow-2xl hover:scale-105 hover:-translate-y-2
                `,children:r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:`
                      inline-flex items-center justify-center w-16 h-16 rounded-xl 
                      ${s.iconBg} mb-6
                      group-hover:scale-110 transition-transform duration-300
                    `,children:r.jsx(i,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:`text-2xl font-bold mb-1 ${s.text}`,children:s.title}),r.jsx("p",{className:`text-lg ${s.subtitleColor} font-medium`,children:s.subtitle})]}),r.jsx("p",{className:`mb-6 leading-relaxed ${s.text}`,children:s.description}),r.jsx("div",{className:"space-y-3 mb-8",children:["features"in s?s.features:[]].map((a,o)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`${s.featureDot} w-2 h-2 rounded-full`}),r.jsx("span",{className:`${s.text} font-medium`,children:a})]},o))}),r.jsxs("div",{className:`
                      inline-flex items-center space-x-2 px-6 py-3 rounded-xl
                      ${s.buttonBg} ${s.buttonText} font-semibold
                      group-hover:shadow-lg transition-all duration-300
                      group-hover:scale-105
                      ${s.comingSoon?"opacity-60 cursor-not-allowed":""}
                    `,children:[r.jsxs("span",{children:["Enter ",s.title]}),r.jsx(es,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]}),s.comingSoon&&r.jsx("div",{className:"absolute top-4 right-4 bg-[#ffa31a] text-[#1b1b1b] px-3 py-1 rounded-full font-bold text-xs shadow-lg",children:"Coming Soon"})]})})},s.id)})}),r.jsx(Ce.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-16 bg-[#292929] rounded-2xl border border-[#ffa31a] p-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-center",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"bg-[#ffa31a] w-12 h-12 rounded-xl flex items-center justify-center mx-auto",children:r.jsx(Vi,{className:"w-6 h-6 text-[#1b1b1b]"})}),r.jsx("h4",{className:"text-2xl font-bold text-white",children:"Real-time"}),r.jsx("p",{className:"text-[#ffa31a]",children:"Market data and execution"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"bg-[#808080] w-12 h-12 rounded-xl flex items-center justify-center mx-auto",children:r.jsx(Qs,{className:"w-6 h-6 text-[#ffa31a]"})}),r.jsx("h4",{className:"text-2xl font-bold text-white",children:"Automated"}),r.jsx("p",{className:"text-[#ffa31a]",children:"Trading robots and signals"})]})]})})]})]})},aX=[{id:"free",name:"Free",description:"Basic trading in your browser",tokenCost:0,duration:"lifetime",isActive:!0,features:[{id:"manual-trading",name:"Manual Trading",description:"Execute trades manually",enabled:!0},{id:"basic-robots",name:"Basic Robots",description:"Up to 3 simple robots",enabled:!0},{id:"browser-only",name:"Browser Only",description:"Works only when browser is open",enabled:!0}],limits:{maxRobots:3,maxPositions:10,trailingStops:!1,advancedRiskManagement:!1,priorityExecution:!1,customAlgorithms:!1,apiAccess:!1,notifications:["email"]}},{id:"vps-basic",name:"VPS Basic",description:"24/7 server-side trading",tokenCost:100,duration:"monthly",isActive:!0,features:[{id:"server-trading",name:"24/7 Server Trading",description:"Trades execute even when offline",enabled:!0},{id:"trailing-stops",name:"Trailing Stops",description:"Basic trailing stop functionality",enabled:!0},{id:"more-robots",name:"More Robots",description:"Up to 10 active robots",enabled:!0},{id:"notifications",name:"Notifications",description:"Email + SMS alerts",enabled:!0}],limits:{maxRobots:10,maxPositions:50,trailingStops:!0,advancedRiskManagement:!0,priorityExecution:!1,customAlgorithms:!1,apiAccess:!1,notifications:["email","sms"]}},{id:"vps-pro",name:"VPS Pro",description:"Advanced trading features",tokenCost:250,duration:"monthly",isActive:!0,features:[{id:"advanced-trailing",name:"Advanced Trailing Stops",description:"Multiple trailing algorithms",enabled:!0},{id:"unlimited-robots",name:"More Robots",description:"Up to 50 active robots",enabled:!0},{id:"priority-execution",name:"Priority Execution",description:"Faster trade execution",enabled:!0},{id:"advanced-risk",name:"Advanced Risk Management",description:"Portfolio-level risk controls",enabled:!0}],limits:{maxRobots:50,maxPositions:200,trailingStops:!0,advancedRiskManagement:!0,priorityExecution:!0,customAlgorithms:!0,apiAccess:!1,notifications:["email","sms","webhook"]}},{id:"vps-enterprise",name:"VPS Enterprise",description:"Institutional-grade platform",tokenCost:500,duration:"monthly",isActive:!0,features:[{id:"unlimited-everything",name:"Unlimited Everything",description:"No limits on robots or positions",enabled:!0},{id:"custom-algorithms",name:"Custom Algorithms",description:"Build your own trading algorithms",enabled:!0},{id:"api-access",name:"API Access",description:"Full REST API access",enabled:!0},{id:"white-label",name:"White Label",description:"Brand the platform as your own",enabled:!0}],limits:{maxRobots:-1,maxPositions:-1,trailingStops:!0,advancedRiskManagement:!0,priorityExecution:!0,customAlgorithms:!0,apiAccess:!0,notifications:["email","sms","webhook"]}}],PN=({userTokens:e,onPurchasePlan:t,onBackToChoice:s})=>{const[n,i]=_.useState(null),[a,o]=_.useState(!1),l=kt(),c=f=>{switch(f){case"free":return ir;case"vps-basic":return Qs;case"vps-pro":return rs;case"vps-enterprise":return Vv;default:return ir}},u=f=>{switch(f){case"free":return"gray";case"vps-basic":return"blue";case"vps-pro":return"purple";case"vps-enterprise":return"yellow";default:return"gray"}},d=f=>e.balance>=f.tokenCost,h=async f=>{o(!0),i(f);try{const m=await t(f)}catch(m){console.error("Purchase failed:",m)}finally{o(!1),i(null)}};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:s,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"VPS Hosting Plans"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Unlock the full potential of your trading robots with our dedicated server solutions. Trade 24/7 with advanced features like trailing stops and priority execution."})]}),r.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6 mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Token Balance"}),r.jsx("p",{className:"text-gray-600",children:"Use tokens to unlock VPS features and advanced trading capabilities"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.balance}),r.jsx("p",{className:"text-sm text-gray-500",children:"Available Tokens"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:aX.map(f=>{const m=c(f.id),x=u(f.id),g=d(f),y=a&&n===f.id;return r.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all duration-300 ${n===f.id?`border-${x}-500 bg-${x}-50 shadow-lg scale-105`:`border-gray-200 bg-white hover:border-${x}-300 hover:shadow-md`}`,children:[f.id==="vps-pro"&&r.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:r.jsx("span",{className:"bg-purple-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Most Popular"})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-${x}-100 flex items-center justify-center`,children:r.jsx(m,{className:`w-8 h-8 text-${x}-600`})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:f.name}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:f.description})]}),r.jsx("div",{className:"text-center mb-6",children:f.tokenCost===0?r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"Free"}):r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:f.tokenCost}),r.jsxs("div",{className:"text-sm text-gray-500",children:["tokens/",f.duration]})]})}),r.jsx("div",{className:"space-y-3 mb-6",children:f.features.map(p=>r.jsxs("div",{className:"flex items-start space-x-2",children:[p.enabled?r.jsx(Qt,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}):r.jsx(vs,{className:"w-4 h-4 text-gray-300 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),r.jsx("p",{className:"text-xs text-gray-500",children:p.description})]})]},p.id))}),r.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:r.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Max Robots:"}),r.jsx("span",{className:"font-medium",children:f.limits.maxRobots===-1?"Unlimited":f.limits.maxRobots})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Max Positions:"}),r.jsx("span",{className:"font-medium",children:f.limits.maxPositions===-1?"Unlimited":f.limits.maxPositions})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Trailing Stops:"}),r.jsx("span",{className:"font-medium",children:f.limits.trailingStops?"Yes":"No"})]})]})}),r.jsx("button",{onClick:()=>h(f.id),disabled:y||f.tokenCost>0&&!g,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${f.tokenCost===0?"bg-gray-100 text-gray-700 hover:bg-gray-200":g?`bg-${x}-600 text-white hover:bg-${x}-700 disabled:opacity-50`:"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:y?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Processing..."})]}):f.tokenCost===0?"Current Plan":g?`Upgrade for ${f.tokenCost} tokens`:`Need ${f.tokenCost-e.balance} more tokens`})]},f.id)})}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need More Tokens?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Purchase token packages to unlock VPS features and advanced trading capabilities."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"100 Tokens"}),r.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"$9.99"}),r.jsx("button",{onClick:()=>l("/packages"),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Purchase"})]}),r.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 text-center bg-purple-50",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"500 Tokens"}),r.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"$39.99"}),r.jsx("div",{className:"text-xs text-purple-600 mb-3",children:"20% Bonus!"}),r.jsx("button",{onClick:()=>l("/packages"),className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Purchase"})]}),r.jsxs("div",{className:"border border-yellow-200 rounded-lg p-4 text-center bg-yellow-50",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:"1000 Tokens"}),r.jsx("div",{className:"text-sm text-yellow-600 mb-1",children:"$69.99"}),r.jsx("div",{className:"text-xs text-yellow-600 mb-3",children:"30% Bonus!"}),r.jsx("button",{onClick:()=>l("/packages"),className:"w-full py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Purchase"})]})]})]}),r.jsxs("div",{className:"mt-12 bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"What You Get with VPS Hosting"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3",children:r.jsx(ir,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"24/7 Operation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your robots trade continuously, even when your computer is off"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3",children:r.jsx(Qs,{className:"w-6 h-6 text-green-600"})}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Trailing Stops"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Advanced trailing stop algorithms to maximize profits"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3",children:r.jsx(Vv,{className:"w-6 h-6 text-purple-600"})}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Priority Execution"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Faster trade execution with dedicated server resources"})]})]})]})]})]})},EN=({onBackToChoice:e})=>{const{accountInfo:t,userTokens:s,userPlugins:n,fetchUserTokens:i,fetchUserPlugins:a,logout:o}=pe(),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[h,f]=_.useState(100),[m,x]=_.useState(""),[g,y]=_.useState(!1),[p,b]=_.useState(!1),v=kt();_.useEffect(()=>{i(),a()},[i,a]);const w=F=>new Intl.NumberFormat("en-US",{style:"currency",currency:(t==null?void 0:t.currency)||"USD",minimumFractionDigits:2}).format(F),j=F=>{switch(F){case"earned":return r.jsx(Se,{className:"w-4 h-4 text-green-600"});case"spent":return r.jsx(Qi,{className:"w-4 h-4 text-red-600"});case"purchased":return r.jsx(p_,{className:"w-4 h-4 text-blue-600"});default:return r.jsx(rr,{className:"w-4 h-4 text-gray-600"})}},k=F=>{switch(F){case"earned":return"text-green-600";case"spent":return"text-red-600";case"purchased":return"text-blue-600";default:return"text-gray-600"}},P=()=>{c(!1)},S=()=>{e?e():v("/")},T=()=>{d(!0)},N=()=>{d(!1),x("")},E=async()=>{var F;if(m!=="DELETE"){D.error("Please type DELETE to confirm");return}y(!0);try{const{data:{session:z}}=await H.auth.getSession();if(!((F=z==null?void 0:z.user)!=null&&F.id))throw new Error("No authenticated user found");await Promise.all([H.from("user_accounts").delete().eq("user_id",z.user.id),H.from("user_tokens").delete().eq("user_id",z.user.id),H.from("token_transactions").delete().eq("user_id",z.user.id),H.from("user_plugins").delete().eq("user_id",z.user.id),H.from("trading_robots").delete().eq("user_id",z.user.id),H.from("trading_signals").delete().eq("user_id",z.user.id),H.from("webhook_logs").delete().eq("user_id",z.user.id),H.from("user_vps_subscriptions").delete().eq("user_id",z.user.id),H.from("vps_instances").delete().eq("user_id",z.user.id)]);const{error:Q}=await H.auth.admin.deleteUser(z.user.id);Q&&await H.auth.signOut(),D.success("Your account has been deleted"),o(),v("/login")}catch(z){console.error("Error deleting account:",z),D.error("Failed to delete account. Please try again later.")}finally{y(!1),N()}},M=()=>{v("/packages")},O=()=>{b(!p)};return s?r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(nh,{accountInfo:t,onBackToChoice:S,showBackButton:!0,currentMode:"profile"}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Your Profile"}),r.jsx("p",{className:"text-gray-600",children:"Manage your tokens and view your trading activity"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(_a,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Current Balance"}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:s.balance}),r.jsx("p",{className:"text-xs text-blue-600",children:"Available Tokens"})]})]}),r.jsx("button",{onClick:O,className:"mt-4 text-sm text-blue-700 hover:text-blue-800 underline",children:p?"Hide token statistics":"View token statistics"})]}),p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(Ku,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Earned"}),r.jsx("p",{className:"text-2xl font-bold text-green-800",children:s.earned}),r.jsx("p",{className:"text-xs text-green-600",children:"Lifetime Earnings"})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:r.jsx(xL,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Total Spent"}),r.jsx("p",{className:"text-2xl font-bold text-purple-800",children:s.spent}),r.jsx("p",{className:"text-xs text-purple-600",children:"Lifetime Spending"})]})]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:r.jsx(fn,{className:"w-6 h-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Need More Tokens?"}),r.jsx("p",{className:"text-lg font-medium text-gray-800",children:"Browse Packages"})]})]}),r.jsx("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Packages"})]})}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:r.jsx(tn,{className:"w-6 h-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Token Circulation"}),r.jsxs("p",{className:"text-lg font-medium text-gray-800",children:["In: ",s.earned," | Out: ",s.spent]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Net Change"}),r.jsx("p",{className:`text-lg font-medium ${s.earned-s.spent>=0?"text-green-600":"text-red-600"}`,children:s.earned-s.spent})]})]})})]})]}),n.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Plugins"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(F=>r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:r.jsx(fn,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:F.name}),r.jsx("p",{className:"text-xs text-purple-600",children:F.expiresAt?`Expires ${In(new Date(F.expiresAt),{addSuffix:!0})}`:"Lifetime access"})]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:F.description})]},F.id))})]}),t&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trading Account"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Account Number"}),r.jsx("p",{className:"font-medium text-gray-900",children:t.accountNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Server"}),r.jsx("p",{className:"font-medium text-gray-900",children:t.serverName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Account Type"}),r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:t.accountType||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Balance"}),r.jsx("p",{className:"font-medium text-gray-900",children:w(t.balance)})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your latest token activity"})]}),r.jsx("div",{className:"divide-y divide-gray-100",children:s.transactions.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wL,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No transactions yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your token transactions will appear here"})]}):s.transactions.map(F=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${F.type==="earned"?"bg-green-100":F.type==="spent"?"bg-red-100":"bg-blue-100"}`,children:j(F.type)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:F.description}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[r.jsx(rr,{className:"w-3 h-3"}),r.jsx("span",{children:In(new Date(F.timestamp),{addSuffix:!0})}),F.relatedService&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"•"}),r.jsx("span",{className:"capitalize",children:F.relatedService})]})]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:`font-semibold ${k(F.type)}`,children:[F.type==="spent"?"-":"+",F.amount," tokens"]})})]})},F.id))})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Management"}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(x0,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:"Delete Account"}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."}),r.jsx("button",{onClick:T,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})})})]}),r.jsxs("div",{className:"mt-8 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need More Tokens?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Purchase token packages to unlock VPS features and advanced trading capabilities."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"100 Tokens"}),r.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"$9.99"}),r.jsx("button",{onClick:M,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Purchase"})]}),r.jsxs("div",{className:"bg-white border border-purple-200 rounded-lg p-4 text-center bg-purple-50",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"500 Tokens"}),r.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"$39.99"}),r.jsx("div",{className:"text-xs text-purple-600 mb-3",children:"20% Bonus!"}),r.jsx("button",{onClick:M,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Purchase"})]}),r.jsxs("div",{className:"bg-white border border-yellow-200 rounded-lg p-4 text-center bg-yellow-50",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:"1000 Tokens"}),r.jsx("div",{className:"text-sm text-yellow-600 mb-1",children:"$69.99"}),r.jsx("div",{className:"text-xs text-yellow-600 mb-3",children:"30% Bonus!"}),r.jsx("button",{onClick:M,className:"w-full py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Purchase"})]})]})]})]}),l&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Purchase Tokens with Cryptocurrency"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ax,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-800 font-medium",children:"Crypto Payment"}),r.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Send the exact amount to the address below. Tokens will be automatically credited to your account."})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token Amount"}),r.jsxs("select",{value:h,onChange:F=>f(parseInt(F.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:100,children:"100 Tokens - $9.99"}),r.jsx("option",{value:500,children:"500 Tokens - $39.99 (20% Bonus)"}),r.jsx("option",{value:1e3,children:"1000 Tokens - $69.99 (30% Bonus)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 text-center bg-gray-50",children:[r.jsx(ax,{className:"w-5 h-5 text-orange-500 mx-auto mb-1"}),r.jsx("p",{className:"text-sm font-medium",children:"Bitcoin"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 text-center bg-gray-50",children:[r.jsx(NL,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),r.jsx("p",{className:"text-sm font-medium",children:"USDT"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Address"}),r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 font-mono text-sm break-all",children:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Send exactly $",h===100?"9.99":h===500?"39.99":"69.99"," worth of cryptocurrency to this address"]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-yellow-800 text-sm",children:[r.jsx("strong",{children:"Important:"})," After sending payment, tokens will be automatically credited to your account within 10-30 minutes."]})})]}),r.jsx("div",{className:"flex space-x-3 mt-6",children:r.jsx("button",{onClick:P,className:"w-full py-2 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-600 mb-4",children:"Delete Account"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:"Warning: This action cannot be undone"}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Deleting your account will permanently remove all your data, including:"}),r.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"All trading accounts and connections"}),r.jsx("li",{children:"Trading robots and signals"}),r.jsx("li",{children:"Token balance and transaction history"}),r.jsx("li",{children:"Purchased plugins and VPS subscriptions"})]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type DELETE to confirm"}),r.jsx("input",{type:"text",value:m,onChange:F=>x(F.target.value),placeholder:"Type DELETE here",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:E,disabled:m!=="DELETE"||g,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Deleting..."})]}):"Permanently Delete Account"}),r.jsx("button",{onClick:N,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(nh,{accountInfo:t,onBackToChoice:S,showBackButton:!0,currentMode:"profile"}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})})]})},oX=()=>{const{adminPlugins:e,fetchAdminPlugins:t,addAdminPlugin:s,updateAdminPlugin:n,deleteAdminPlugin:i}=Tc(),[a,o]=_.useState(!0),[l,c]=_.useState(!1),[u,d]=_.useState(null),[h,f]=_.useState({id:"",name:"",description:"",tokenCost:0,isActive:!0,features:[],newFeatureName:"",newFeatureDescription:""});_.useEffect(()=>{(async()=>{o(!0),await t(),o(!1)})()},[t]);const m=()=>{f({id:"",name:"",description:"",tokenCost:0,isActive:!0,features:[],newFeatureName:"",newFeatureDescription:""})},x=()=>{m(),c(!0)},g=S=>{f({id:S.id,name:S.name,description:S.description,tokenCost:S.tokenCost,isActive:S.isActive,features:S.features||[],newFeatureName:"",newFeatureDescription:""}),d(S.id)},y=()=>{c(!1),d(null),m()},p=S=>{const{name:T,value:N,type:E}=S.target;if(E==="checkbox"){const M=S.target.checked;f(O=>({...O,[T]:M}))}else f(T==="tokenCost"?M=>({...M,[T]:parseInt(N)||0}):M=>({...M,[T]:N}))},b=()=>{if(!h.newFeatureName.trim()){D.error("Feature name is required");return}f(S=>({...S,features:[...S.features,{name:S.newFeatureName,description:S.newFeatureDescription}],newFeatureName:"",newFeatureDescription:""}))},v=S=>{f(T=>({...T,features:T.features.filter((N,E)=>E!==S)}))},w=async S=>{if(S.preventDefault(),!h.id.trim()||!h.name.trim()||!h.description.trim()){D.error("ID, name, and description are required");return}try{u?await n(u,{name:h.name,description:h.description,tokenCost:h.tokenCost,isActive:h.isActive,features:h.features})&&y():await s({id:h.id,name:h.name,description:h.description,tokenCost:h.tokenCost,isActive:h.isActive,features:h.features})&&y()}catch(T){console.error("Error saving plugin:",T),D.error("Failed to save plugin")}},j=async S=>{window.confirm("Are you sure you want to delete this plugin? This action cannot be undone.")&&await i(S)},k=async S=>{await n(S.id,{isActive:!S.isActive})},P=S=>S?new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm",children:[r.jsxs("div",{className:"p-6 border-b border-white/10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Plugin Management"}),r.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Ln,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Plugin"})]})]}),r.jsx("p",{className:"text-purple-200",children:"Manage available plugins that users can purchase with tokens"})]}),a?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-200",children:"Loading plugins..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(fn,{className:"w-12 h-12 text-purple-300 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-200",children:"No plugins found"}),r.jsx("p",{className:"text-sm text-purple-300 mt-1",children:"Add your first plugin to make it available to users"}),r.jsxs("button",{onClick:x,className:"mt-4 flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors mx-auto",children:[r.jsx(Ln,{className:"w-4 h-4"}),r.jsx("span",{children:"Add First Plugin"})]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-white/5",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Plugin"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Cost"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Features"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(S=>{var T;return r.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:S.name}),r.jsx("p",{className:"text-sm text-purple-300 font-mono",children:S.id})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("p",{className:"text-sm text-purple-100",children:S.description})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(tn,{className:"w-4 h-4 text-green-300"}),r.jsx("span",{className:"text-lg font-semibold text-white",children:S.tokenCost}),r.jsx("span",{className:"text-xs text-purple-300",children:"tokens"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm text-purple-200",children:[((T=S.features)==null?void 0:T.length)||0," features"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:P(S.createdAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>k(S),className:`p-1 rounded-lg transition-colors ${S.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,title:S.isActive?"Deactivate plugin":"Activate plugin",children:S.isActive?r.jsx(RL,{className:"w-5 h-5"}):r.jsx(AL,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>g(S),className:"p-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Edit plugin",children:r.jsx(N_,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>j(S.id),className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Delete plugin",children:r.jsx(x0,{className:"w-5 h-5"})})]})})]},S.id)})})]})}),(l||u)&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:u?"Edit Plugin":"Add New Plugin"}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plugin ID"}),r.jsx("input",{type:"text",name:"id",value:h.id,onChange:p,placeholder:"unique-plugin-id",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:!!u,required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Unique identifier, use kebab-case (e.g., "risk-manager")'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token Cost"}),r.jsxs("div",{className:"relative",children:[r.jsx(tn,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"number",name:"tokenCost",value:h.tokenCost,onChange:p,min:"0",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cost in tokens to purchase this plugin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plugin Name"}),r.jsx("input",{type:"text",name:"name",value:h.name,onChange:p,placeholder:"Risk Manager Pro",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{name:"description",value:h.description,onChange:p,placeholder:"Advanced risk management tools for professional traders...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,required:!0})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:h.isActive,onChange:S=>f(T=>({...T,isActive:S.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Plugin is active and available for purchase"})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[r.jsx(v_,{className:"w-4 h-4 mr-2"}),"Plugin Features"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[h.features.length," features"]})]}),h.features.length>0&&r.jsx("div",{className:"space-y-2 mb-4",children:h.features.map((S,T)=>r.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:S.name}),r.jsx("p",{className:"text-sm text-gray-600",children:S.description})]}),r.jsx("button",{type:"button",onClick:()=>v(T),className:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full",children:r.jsx(vs,{className:"w-4 h-4"})})]},T))}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add New Feature"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("input",{type:"text",name:"newFeatureName",value:h.newFeatureName,onChange:p,placeholder:"Feature name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"newFeatureDescription",value:h.newFeatureDescription,onChange:p,placeholder:"Feature description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"})}),r.jsxs("button",{type:"button",onClick:b,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[r.jsx(Ln,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Feature"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[r.jsx(k_,{className:"w-4 h-4"}),r.jsx("span",{children:u?"Update Plugin":"Add Plugin"})]})]})]})]})})]})},lX=()=>{const[e,t]=_.useState([]),[s,n]=_.useState(!0),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(null),[d,h]=_.useState(null),[f,m]=_.useState(!1),[x,g]=_.useState([]),[y,p]=_.useState({code:"",discountPercent:10,maxUses:100,expiresAt:"",isActive:!0,agreedToTerms:!1});_.useEffect(()=>{b();const I=setInterval(()=>{b()},3e4);return()=>clearInterval(I)},[]);const b=async()=>{try{n(!0);const{data:I,error:$}=await H.from("promo_codes").select("*").order("created_at",{ascending:!1});if($){console.error("Error fetching promo codes:",$),D.error("Failed to load promo codes");return}t(I||[])}catch(I){console.error("Error fetching promo codes:",I),D.error("Failed to load promo codes")}finally{n(!1)}},v=()=>{p({code:"",discountPercent:10,maxUses:100,expiresAt:"",isActive:!0,agreedToTerms:!1}),g([])},w=()=>{v(),a(!0)},j=I=>{p({code:I.code,discountPercent:I.discount_percent,maxUses:I.max_uses,expiresAt:I.expires_at?new Date(I.expires_at).toISOString().split("T")[0]:"",isActive:I.is_active,agreedToTerms:!0}),u(I.id),a(!0)},k=I=>{h(I),l(!0)},P=()=>{a(!1),u(null),v()},S=()=>{l(!1),h(null)},T=I=>{const{name:$,value:B,type:C}=I.target;if(C==="checkbox"){const ne=I.target.checked;p(ie=>({...ie,[$]:ne}))}else p($==="discountPercent"||$==="maxUses"?ne=>({...ne,[$]:parseInt(B)||0}):ne=>({...ne,[$]:B}))},N=()=>{const I=[];return y.code.trim()||I.push("Promo code is required"),(y.discountPercent<=0||y.discountPercent>100)&&I.push("Discount percent must be between 1 and 100"),y.maxUses<=0&&I.push("Maximum uses must be greater than 0"),!y.agreedToTerms&&!c&&I.push("You must agree to the terms and conditions"),g(I),I.length===0},E=async I=>{if(I.preventDefault(),!!N())try{m(!0);const $=`${xn}/functions/v1/admin-promo-code`,B=await fetch($,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nr}`},body:JSON.stringify({action:c?"update":"create",promoId:c,promoData:{code:y.code.toUpperCase(),discountPercent:y.discountPercent,maxUses:y.maxUses,expiresAt:y.expiresAt?new Date(y.expiresAt).toISOString():null,isActive:y.isActive},adminCredentials:{username:"admin",password:"admin123"}})}),C=await B.json();if(!B.ok)throw new Error(C.error||"Failed to save promo code");D.success(C.message||(c?"Promo code updated successfully":"Promo code created successfully")),b(),P()}catch($){console.error("Error saving promo code:",$),D.error($ instanceof Error?$.message:"Failed to save promo code")}finally{m(!1)}},M=async()=>{if(d)try{const I=`${xn}/functions/v1/admin-promo-code`,$=await fetch(I,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nr}`},body:JSON.stringify({action:"delete",promoId:d.id,adminCredentials:{username:"admin",password:"admin123"}})}),B=await $.json();if(!$.ok)throw new Error(B.error||"Failed to delete promo code");D.success(B.message||"Promo code deleted successfully"),b(),S()}catch(I){console.error("Error deleting promo code:",I),D.error(I instanceof Error?I.message:"Failed to delete promo code")}},O=async I=>{try{const $=`${xn}/functions/v1/admin-promo-code`,B=await fetch($,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nr}`},body:JSON.stringify({action:"toggle",promoId:I.id,isActive:!I.is_active,adminCredentials:{username:"admin",password:"admin123"}})}),C=await B.json();if(!B.ok)throw new Error(C.error||"Failed to update promo code status");D.success(`Promo code ${I.is_active?"deactivated":"activated"}`),b()}catch($){console.error("Error toggling promo code status:",$),D.error($ instanceof Error?$.message:"Failed to update promo code status")}},F=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never",z=I=>I?new Date(I)<new Date:!1,Q=()=>{const I=["SUMMER","WINTER","SPRING","FALL","PROMO","SAVE","DEAL","SPECIAL","VIP","WELCOME"],$=I[Math.floor(Math.random()*I.length)],B=Math.floor(Math.random()*90)+10,C=`${$}${B}`;p(ne=>({...ne,code:C}))};return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm",children:[r.jsxs("div",{className:"p-6 border-b border-white/10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Promo Code Management"}),r.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Ln,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Promo Code"})]})]}),r.jsx("p",{className:"text-purple-200",children:"Create and manage promo codes for token package discounts"})]}),s?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-200",children:"Loading promo codes..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ua,{className:"w-12 h-12 text-purple-300 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-200",children:"No promo codes found"}),r.jsx("p",{className:"text-sm text-purple-300 mt-1",children:"Create your first promo code to offer discounts to users"}),r.jsxs("button",{onClick:w,className:"mt-4 flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors mx-auto",children:[r.jsx(Ln,{className:"w-4 h-4"}),r.jsx("span",{children:"Create First Promo Code"})]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-white/5",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Code"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Discount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Usage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Expiration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(I=>r.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ua,{className:"w-4 h-4 text-purple-300"}),r.jsx("span",{className:"font-mono font-medium text-white",children:I.code})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ud,{className:"w-4 h-4 text-green-300"}),r.jsxs("span",{className:"text-lg font-semibold text-white",children:[I.discount_percent,"%"]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("span",{className:"text-white",children:[I.used_count," / ",I.max_uses]}),r.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-1.5 mt-1",children:r.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{inlineSize:I.max_uses>0?`${Math.min(I.used_count/I.max_uses*100,100)}%`:"0%"}})})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.expires_at?r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Za,{className:"w-4 h-4 text-purple-300"}),r.jsxs("span",{className:`text-sm ${z(I.expires_at)?"text-red-300":"text-white"}`,children:[F(I.expires_at),z(I.expires_at)&&" (Expired)"]})]}):r.jsx("span",{className:"text-gray-400",children:"Never"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.is_active&&!z(I.expires_at)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.is_active&&!z(I.expires_at)?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:F(I.created_at)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>O(I),className:`p-1 rounded-lg transition-colors ${I.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,title:I.is_active?"Deactivate promo code":"Activate promo code",children:I.is_active?r.jsx(vs,{className:"w-5 h-5"}):r.jsx(Qt,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>j(I),className:"p-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Edit promo code",children:r.jsx(N_,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>k(I),className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Delete promo code",children:r.jsx(x0,{className:"w-5 h-5"})})]})})]},I.id))})]})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:c?"Edit Promo Code":"Create Promo Code"}),x.length>0&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Js,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:"Please fix the following errors:"}),r.jsx("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside",children:x.map((I,$)=>r.jsx("li",{children:I},$))})]})]})}),r.jsxs("form",{onSubmit:E,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code *"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ua,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",name:"code",value:y.code,onChange:T,placeholder:"SUMMER20",className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent uppercase ${x.includes("Promo code is required")?"border-red-300 bg-red-50":"border-gray-300"}`,disabled:!!c,required:!0})]}),!c&&r.jsx("button",{type:"button",onClick:Q,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",title:"Generate random code",children:"Generate"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c?"Promo code cannot be changed":"Use uppercase letters and numbers, no spaces"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Percentage *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ud,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"number",name:"discountPercent",value:y.discountPercent,onChange:T,min:"1",max:"100",className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${x.includes("Discount percent must be between 1 and 100")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Percentage discount applied to the package price"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Uses *"}),r.jsx("input",{type:"number",name:"maxUses",value:y.maxUses,onChange:T,min:"1",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${x.includes("Maximum uses must be greater than 0")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How many times this code can be used in total"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(Za,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"date",name:"expiresAt",value:y.expiresAt,onChange:T,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for no expiration"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:y.isActive,onChange:T,className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Promo code is active and available for use"})]}),!c&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"agreedToTerms",name:"agreedToTerms",checked:y.agreedToTerms,onChange:T,className:`w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 ${x.includes("You must agree to the terms and conditions")?"border-red-300":""}`}),r.jsx("label",{htmlFor:"agreedToTerms",className:"ml-2 text-sm text-gray-700",children:"I understand that this promo code will be available to all users"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:f?r.jsxs(r.Fragment,{children:[r.jsx(Hi,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(k_,{className:"w-4 h-4"}),r.jsx("span",{children:c?"Update Promo Code":"Create Promo Code"})]})})]})]})]})}),o&&d&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[r.jsx("div",{className:"bg-red-100 p-3 rounded-lg flex-shrink-0",children:r.jsx(Js,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Promo Code"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["Are you sure you want to delete the promo code ",r.jsx("span",{className:"font-mono font-medium",children:d.code}),"?"]})]})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Js,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:"Warning"}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:"This action cannot be undone. Users will no longer be able to use this promo code."})]})]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{onClick:M,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete Promo Code"})]})]})})]})},AN=()=>{var qe,Fs;const{adminUsers:e,currentAdmin:t,fetchAllUsersWithTokens:s,addTokensToUser:n,logout:i,isLoading:a,updateUserLimits:o,fetchUserDetails:l}=Tc(),[c,u]=_.useState("users"),[d,h]=_.useState(""),[f,m]=_.useState("all"),[x,g]=_.useState(!1),[y,p]=_.useState(null),[b,v]=_.useState(""),[w,j]=_.useState(100),[k,P]=_.useState("Admin bonus"),[S,T]=_.useState(!1),[N,E]=_.useState(!1),[M,O]=_.useState(!1),[F,z]=_.useState(null),[Q,I]=_.useState(null),[$,B]=_.useState({maxRobots:0,maxMt5Accounts:0,expiresAt:""}),[C,ne]=_.useState(!1),[ie,A]=_.useState(null),[ve,Me]=_.useState(!1),[ue,fe]=_.useState(null),[De,ft]=_.useState(null),[St,mt]=_.useState(!1),[Kt,js]=_.useState(null),Bn=kt();_.useEffect(()=>{s();const q=setInterval(()=>{s()},3e4);return()=>clearInterval(q)},[s]);const _t=e.filter(q=>{const Te=q.email.toLowerCase().includes(d.toLowerCase())||q.id.toLowerCase().includes(d.toLowerCase()),Ze=f==="all"||f==="with-tokens"&&q.tokens!==null||f==="without-tokens"&&q.tokens===null;return Te&&Ze}),oi=e.length,sa=e.filter(q=>q.tokens!==null).length,Fc=e.reduce((q,Te)=>{var Ze;return q+(((Ze=Te.tokens)==null?void 0:Ze.balance)||0)},0),li=e.reduce((q,Te)=>{var Ze;return q+(((Ze=Te.tokens)==null?void 0:Ze.earned)||0)},0),R=e.reduce((q,Te)=>{var Ze;return q+(((Ze=Te.tokens)==null?void 0:Ze.spent)||0)},0),U=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),W=async()=>{if(!y||w<=0){D.error("Please enter a valid token amount");return}await n(y,w,k)&&(g(!1),p(null),v(""),j(100),P("Admin bonus"))},ee=(q,Te)=>{p(q),v(Te),g(!0)},Z=async()=>{T(!0),await s(),T(!1),D.success("User data refreshed")},J=q=>{z(q),B({maxRobots:q.maxRobots||0,maxMt5Accounts:q.maxMt5Accounts||0,expiresAt:q.expires_at?q.expires_at.slice(0,16):""}),E(!0)},L=async()=>{if(!F)return;ne(!0);const q=await o(F.id,$.maxRobots,$.maxMt5Accounts,$.expiresAt);ne(!1),q?(D.success("Limits updated"),E(!1),z(null)):D.error("Failed to update limits")},Y=async q=>{I(q),Me(!0),console.log("[AdminDashboard] openViewUserModal user.id:",q.id,"type:",typeof q.id);const Te={userId:q.id};console.log("[AdminDashboard] Payload to fetchUserDetails:",Te);const Ze=await l(q.id);A(Ze),Me(!1),O(!0)},te=async q=>{fe(q),await HD(q)&&await s(),fe(null)},le=async q=>{ft(q),await WD(q)&&(await s(),mt(!1),js(null)),ft(null)},je=q=>{if(!q)return"∞";const Te=new Date(q);if(isNaN(Te.getTime()))return"∞";const Ze=new Date,pt=Te.getTime()-Ze.getTime();if(pt<0)return"Expired";const Us=Math.ceil(pt/(1e3*60*60*24));return Us===0?"<1 day":`${Us} day${Us!==1?"s":""}`};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900",children:[r.jsx("div",{className:"bg-black/20 backdrop-blur-sm border-b border-white/10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-purple-600 p-2 rounded-lg",children:r.jsx(rs,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Dashboard"}),r.jsxs("p",{className:"text-sm text-purple-200",children:["Welcome, ",t==null?void 0:t.username]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-purple-200",children:"Role"}),r.jsx("p",{className:"text-white font-medium capitalize",children:t==null?void 0:t.role.replace("_"," ")})]}),r.jsxs("button",{onClick:()=>Bn("/"),className:"flex items-center space-x-2 px-4 py-2 text-purple-200 hover:text-white rounded-lg hover:bg-white/10 transition-colors",children:[r.jsx(Se,{className:"w-4 h-4"}),r.jsx("span",{children:"Main App"})]}),r.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-4 py-2 text-purple-200 hover:text-white rounded-lg hover:bg-white/10 transition-colors",children:[r.jsx(ox,{className:"w-4 h-4"}),r.jsx("span",{children:"Logout"})]})]})]})})}),r.jsx("div",{className:"bg-black/10 backdrop-blur-sm border-b border-white/10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex space-x-8",children:[r.jsxs("button",{onClick:()=>u("users"),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c==="users"?"border-purple-500 text-white":"border-transparent text-purple-200 hover:text-white hover:border-white/30"}`,children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:"User Management"})]}),r.jsxs("button",{onClick:()=>u("plugins"),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c==="plugins"?"border-purple-500 text-white":"border-transparent text-purple-200 hover:text-white hover:border-white/30"}`,children:[r.jsx(fn,{className:"w-4 h-4"}),r.jsx("span",{children:"Plugins"})]}),r.jsxs("button",{onClick:()=>u("promo-codes"),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c==="promo-codes"?"border-purple-500 text-white":"border-transparent text-purple-200 hover:text-white hover:border-white/30"}`,children:[r.jsx(Ua,{className:"w-4 h-4"}),r.jsx("span",{children:"Promo Codes"})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:r.jsx(Cs,{className:"w-6 h-6 text-blue-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-200 font-medium",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:oi}),r.jsxs("p",{className:"text-xs text-blue-200",children:[sa," with tokens"]})]})]})}),r.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:r.jsx(_a,{className:"w-6 h-6 text-green-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-200 font-medium",children:"Tokens in Circulation"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:Fc.toLocaleString()}),r.jsx("p",{className:"text-xs text-green-200",children:"Current balances"})]})]})}),r.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-purple-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-200 font-medium",children:"Total Earned"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:li.toLocaleString()}),r.jsx("p",{className:"text-xs text-purple-200",children:"All time"})]})]})}),r.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-orange-500/20 p-3 rounded-lg",children:r.jsx(tn,{className:"w-6 h-6 text-orange-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-orange-200 font-medium",children:"Total Spent"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:R.toLocaleString()}),r.jsx("p",{className:"text-xs text-orange-200",children:"All time"})]})]})})]}),c==="users"&&r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm",children:[r.jsxs("div",{className:"p-6 border-b border-white/10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"User Management"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:Z,disabled:S,className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[r.jsx(m0,{className:`w-4 h-4 ${S?"animate-spin":""}`}),r.jsx("span",{children:S?"Refreshing...":"Refresh Users"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(T_,{className:"w-4 h-4 text-purple-300"}),r.jsxs("span",{className:"text-sm text-purple-200",children:[_t.length," of ",oi," users"]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 min-w-64",children:[r.jsx(Ji,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by email or user ID...",value:d,onChange:q=>h(q.target.value),className:"w-full pl-10 pr-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-white placeholder-gray-400"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(g_,{className:"w-4 h-4 text-purple-300"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>m("all"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${f==="all"?"bg-purple-600 text-white":"bg-white/10 text-purple-200 hover:bg-white/20"}`,children:"All Users"}),r.jsx("button",{onClick:()=>m("with-tokens"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${f==="with-tokens"?"bg-green-600 text-white":"bg-white/10 text-green-200 hover:bg-white/20"}`,children:"With Tokens"}),r.jsx("button",{onClick:()=>m("without-tokens"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${f==="without-tokens"?"bg-red-600 text-white":"bg-white/10 text-red-200 hover:bg-white/20"}`,children:"No Tokens"})]})]})]})]}),a?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-200",children:"Loading users..."})]}):_t.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Cs,{className:"w-12 h-12 text-purple-300 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-200",children:"No users found"}),r.jsx("p",{className:"text-sm text-purple-300 mt-1",children:d?"Try adjusting your search criteria":"Users will appear here when they sign up"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-white/5",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Token Balance"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Earned"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Spent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Last Active"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-white/10",children:_t.map(q=>r.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:q.email}),r.jsxs("p",{className:"text-sm text-purple-300 font-mono",children:[q.id.substring(0,8),"..."]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.tokens?r.jsx("span",{className:"text-lg font-semibold text-white",children:q.tokens.balance.toLocaleString()}):r.jsx("span",{className:"text-purple-400",children:"No tokens"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.tokens?r.jsx("span",{className:"text-green-300 font-medium",children:q.tokens.earned.toLocaleString()}):r.jsx("span",{className:"text-purple-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.tokens?r.jsx("span",{className:"text-red-300 font-medium",children:q.tokens.spent.toLocaleString()}):r.jsx("span",{className:"text-purple-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:U(q.created_at)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:q.last_sign_in_at?In(new Date(q.last_sign_in_at),{addSuffix:!0}):"Never"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex space-x-2 items-center",children:[r.jsxs("button",{onClick:()=>ee(q.id,q.email),className:"inline-flex items-center px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:`Add tokens to ${q.email}`,children:[r.jsx(Ln,{className:"w-4 h-4 mr-1"}),"Add Tokens"]}),r.jsxs("button",{onClick:()=>Y(q),className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:`View details for ${q.email}`,children:[r.jsx(Pc,{className:"w-4 h-4 mr-1"}),"View"]}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded font-semibold ${q.expires_at?je(q.expires_at)==="Expired"?"bg-red-600 text-white":"bg-yellow-500 text-black":"bg-green-600 text-white"}`,title:q.expires_at?`Expires: ${q.expires_at}`:"No Expiry",children:je(q.expires_at)}),r.jsxs("button",{onClick:()=>J(q),className:"inline-flex items-center px-3 py-1 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:`Set limits for ${q.email}`,children:[r.jsx(rs,{className:"w-4 h-4 mr-1"}),"Set Limits"]}),r.jsx("button",{onClick:()=>te(q.id),disabled:ue===q.id||q.is_approved,className:`inline-flex items-center px-3 py-1 ${q.is_approved?"bg-gray-400 text-white":"bg-yellow-500 text-black hover:bg-yellow-600"} rounded-lg transition-colors`,title:q.is_approved?"Already approved":`Approve ${q.email}`,children:ue===q.id?"Approving...":q.is_approved?"Approved":"Approve"}),r.jsx("button",{onClick:()=>{mt(!0),js(q)},disabled:De===q.id,className:"inline-flex items-center px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:`Delete ${q.email}`,children:De===q.id?"Deleting...":"Delete"})]})})]},q.id))})]})})]}),c==="plugins"&&r.jsx(oX,{}),c==="promo-codes"&&r.jsx(lX,{})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Tokens to User"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[r.jsx("p",{className:"font-medium text-gray-900",children:b}),r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:y})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token Amount"}),r.jsx("input",{type:"number",value:w,onChange:q=>j(parseInt(q.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("input",{type:"text",value:k,onChange:q=>P(q.target.value),placeholder:"Reason for adding tokens",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:W,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Add Tokens"}),r.jsx("button",{onClick:()=>{g(!1),p(null),v("")},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),N&&F&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Set User Limits"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[r.jsx("p",{className:"font-medium text-gray-900",children:F.email}),r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:F.id})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Robots"}),r.jsx("input",{type:"number",value:$.maxRobots,onChange:q=>B(Te=>({...Te,maxRobots:parseInt(q.target.value)||0})),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max MT5 Accounts"}),r.jsx("input",{type:"number",value:$.maxMt5Accounts,onChange:q=>B(Te=>({...Te,maxMt5Accounts:parseInt(q.target.value)||0})),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Expiration"}),r.jsx("input",{type:"datetime-local",value:$.expiresAt,onChange:q=>B(Te=>({...Te,expiresAt:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for no expiration"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:L,disabled:C,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:C?"Saving...":"Save Limits"}),r.jsx("button",{onClick:()=>{E(!1),z(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),M&&Q&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Details"}),ve?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-600",children:"Loading user details..."})]}):ie?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[r.jsx("p",{className:"font-medium text-gray-900",children:Q.email}),r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:Q.id})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Robots"}),r.jsx("ul",{className:"list-disc ml-5 text-gray-800",children:(qe=ie.robots)!=null&&qe.length?ie.robots.map(q=>r.jsxs("li",{children:[q.name," (Status: ",q.status,")"]},q.id)):r.jsx("li",{children:"No robots"})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"MT5 Accounts"}),r.jsx("ul",{className:"list-disc ml-5 text-gray-800",children:(Fs=ie.mt5Accounts)!=null&&Fs.length?ie.mt5Accounts.map(q=>r.jsxs("li",{children:[q.login," (",q.server,")"]},q.id)):r.jsx("li",{children:"No MT5 accounts"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Balance"}),r.jsx("p",{className:"text-lg font-bold text-green-700",children:ie.balance??"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Drawdown"}),r.jsx("p",{className:"text-lg font-bold text-red-700",children:ie.drawdown??"N/A"})]})]})]}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-600",children:"No details found for this user."})}),r.jsx("div",{className:"flex space-x-3 mt-6",children:r.jsx("button",{onClick:()=>{O(!1),I(null),A(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Close"})})]})}),St&&Kt&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete User"}),r.jsxs("p",{className:"mb-4",children:["Are you sure you want to ",r.jsx("span",{className:"font-bold text-red-600",children:"delete"})," user ",r.jsx("span",{className:"font-mono",children:Kt.email}),"? This action cannot be undone."]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>le(Kt.id),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",disabled:De===Kt.id,children:De===Kt.id?"Deleting...":"Delete User"}),r.jsx("button",{onClick:()=>{mt(!1),js(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})})]})},cX=({initialOpen:e=!1})=>{const[t,s]=_.useState(e),[n,i]=_.useState([{id:"1",role:"system",content:"Hi there! I'm your MT5 Trading Platform assistant. How can I help you today?",timestamp:new Date,relatedQuestions:["How do I create a trading robot?","How do I set up TradingView webhooks?","What are tokens used for?"]}]),[a,o]=_.useState(""),[l,c]=_.useState(!1),u=_.useRef(null),d=_.useRef(null);_.useEffect(()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"})},[n]),_.useEffect(()=>{t&&d.current&&setTimeout(()=>{var v;(v=d.current)==null||v.focus()},300)},[t]);const h=()=>{s(!t)},f=v=>{o(v.target.value)},m=v=>{v.key==="Enter"&&a.trim()&&g()},x=v=>{let w=v;return w=w.replace(/(\d+[\)\.]\s+)([^\n]+)/g,"$1 $2"),w=w.replace(/(^|\n)([^:\n]+):\s*(\n|$)/g,"$1**$2:**$3"),["trading robots","TradingView","webhook","signals","risk management","tokens","VPS","bot token","User ID","JSON payload"].forEach(k=>{const P=new RegExp(`\\b${k}\\b`,"gi");w=w.replace(P,`**${k}**`)}),w},g=async()=>{if(!a.trim())return;const v={id:Date.now().toString(),role:"user",content:a.trim(),timestamp:new Date};i(j=>[...j,v]),o("");const w=(Date.now()+1).toString();i(j=>[...j,{id:w,role:"assistant",content:"",timestamp:new Date,isLoading:!0}]),c(!0);try{const j=await fetch(`${xn}/functions/v1/chatbot-api`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nr}`},body:JSON.stringify({query:v.content,previousMessages:n.filter(T=>T.role!=="system").map(T=>({role:T.role,content:T.content}))})});if(!j.ok)throw new Error(`Error: ${j.status}`);const k=await j.json();i(T=>T.filter(N=>N.id!==w));const P=x(k.answer),S={id:(Date.now()+2).toString(),role:"assistant",content:P,timestamp:new Date,relatedQuestions:k.relatedQuestions,relatedDocuments:k.category?[`${k.category} Documentation`]:void 0};i(T=>[...T,S])}catch(j){console.error("Error fetching chatbot response:",j),i(P=>P.filter(S=>S.id!==w));const k={id:(Date.now()+2).toString(),role:"assistant",content:"I'm having trouble connecting to the server. Please try again later.",timestamp:new Date};i(P=>[...P,k]),D.error("Failed to get chatbot response")}finally{c(!1)}},y=v=>{o(v),d.current&&d.current.focus()},p=(v,w)=>{D.success(`Thank you for your ${w?"positive":"negative"} feedback!`),i(j=>j.map(k=>k.id===v?{...k,relatedQuestions:void 0}:k))},b=v=>{D.success(`Opening ${v}...`)};return r.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[r.jsx("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 flex items-center justify-center","aria-label":t?"Close chat":"Open chat",children:t?r.jsx(vs,{className:"w-6 h-6"}):r.jsx(eo,{className:"w-6 h-6"})}),t&&r.jsxs("div",{className:"absolute bottom-16 right-0 w-80 md:w-96 bg-white rounded-xl shadow-xl border border-gray-200 flex flex-col transition-all duration-300 overflow-hidden",children:[r.jsxs("div",{className:"bg-blue-600 text-white p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ss,{className:"w-5 h-5"}),r.jsx("h3",{className:"font-medium",children:"Trading Assistant"})]}),r.jsx("button",{onClick:h,className:"text-white/80 hover:text-white transition-colors","aria-label":"Close chat",children:r.jsx(vs,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 max-h-96 bg-gray-50",children:[n.map(v=>r.jsx("div",{className:"mb-4",children:v.role==="user"?r.jsxs("div",{className:"flex items-start justify-end",children:[r.jsx("div",{className:"bg-blue-100 text-blue-900 rounded-lg py-2 px-3 max-w-[80%]",children:r.jsx("p",{className:"text-sm",children:v.content})}),r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center ml-2 flex-shrink-0",children:r.jsx(_s,{className:"w-4 h-4 text-white"})})]}):v.role==="system"?r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:r.jsx(Fd,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-3 max-w-[80%]",children:[r.jsx("p",{className:"text-sm",children:v.content}),v.relatedQuestions&&v.relatedQuestions.length>0&&r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"You can ask me about:"}),v.relatedQuestions.map((w,j)=>r.jsx("button",{onClick:()=>y(w),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:w},j))]})]})]}):r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:r.jsx(ss,{className:"w-4 h-4 text-white"})}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg py-2 px-3 max-w-[80%] shadow-sm",children:v.isLoading?r.jsx("div",{className:"flex items-center justify-center py-2",children:r.jsx(Hi,{className:"w-4 h-4 text-blue-500 animate-spin"})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm prose prose-sm max-w-none",children:r.jsx(iC,{remarkPlugins:[PC],children:v.content})}),v.relatedDocuments&&v.relatedDocuments.length>0&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500 mb-1",children:[r.jsx(d0,{className:"w-3 h-3"}),r.jsx("span",{className:"font-medium",children:"Related Documentation:"})]}),r.jsx("div",{className:"space-y-1",children:v.relatedDocuments.map((w,j)=>r.jsxs("button",{onClick:()=>b(w),className:"flex items-center space-x-1 text-xs text-blue-600 hover:text-blue-800 hover:underline",children:[r.jsx(Pr,{className:"w-3 h-3"}),r.jsx("span",{children:w}),r.jsx(er,{className:"w-2 h-2"})]},j))})]}),r.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>p(v.id,!0),className:"text-gray-400 hover:text-green-500 transition-colors",title:"Helpful",children:r.jsx(__,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>p(v.id,!1),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Not helpful",children:r.jsx(S_,{className:"w-3 h-3"})})]}),v.relatedQuestions&&v.relatedQuestions.length>0&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 space-y-1",children:[r.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Related questions:"}),v.relatedQuestions.map((w,j)=>r.jsx("button",{onClick:()=>y(w),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:w},j))]})]})})]})},v.id)),r.jsx("div",{ref:u})]}),r.jsxs("div",{className:"p-3 border-t border-gray-200 bg-white",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{ref:d,type:"text",value:a,onChange:f,onKeyPress:m,placeholder:"Ask me anything about trading...",className:"flex-1 border border-gray-300 rounded-l-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l}),r.jsx("button",{onClick:g,disabled:!a.trim()||l,className:"bg-blue-600 text-white rounded-r-lg py-2 px-3 hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?r.jsx(Hi,{className:"w-5 h-5 animate-spin"}):r.jsx(p0,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Ask about robots, signals, webhooks, or any platform feature"})]})]})]})},uX=({className:e})=>{const[t,s]=_.useState(!1),n=()=>{s(!t)};return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:n,className:`fixed bottom-6 right-6 z-50 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 flex items-center justify-center ${e}`,"aria-label":t?"Close chat assistant":"Open chat assistant",children:t?r.jsx(vs,{className:"w-6 h-6"}):r.jsx(eo,{className:"w-6 h-6"})}),t&&r.jsx(cX,{initialOpen:!0})]})},dX=()=>{const e=kt(),[t,s]=_.useState(!1),[n,i]=_.useState("algo"),[a,o]=_.useState(1e4),[l,c]=_.useState(8),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),[m,x]=_.useState([{symbol:"EURUSD",price:1.085,change:.0012,changePercent:.11,direction:"up"},{symbol:"GBPUSD",price:1.265,change:-8e-4,changePercent:-.06,direction:"down"},{symbol:"USDJPY",price:150.25,change:.15,changePercent:.1,direction:"up"},{symbol:"BTCUSD",price:45e3,change:-120,changePercent:-.27,direction:"down"},{symbol:"XAUUSD",price:2050.5,change:5.25,changePercent:.26,direction:"up"}]),g=()=>{u.current&&(t?u.current.pause():u.current.play(),s(!t))},y=k=>{var P;(P=k.current)==null||P.scrollIntoView({behavior:"smooth"})},p=()=>{e("/login")},b=()=>{e("/login")},w=(()=>{const k=l/100,P=Math.pow(1+k,12)-1,S=a*P;return{monthly:S/12,yearly:S,percentage:P*100}})();_.useEffect(()=>{const k=()=>{u.current&&window.innerWidth>=1024&&(u.current.play().catch(()=>{console.log("Autoplay prevented")}),s(!0))};return k(),window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}},[]),_.useEffect(()=>{const P=setInterval(()=>{x(S=>S.map(T=>{const N=(Math.random()-.5)*(T.symbol.includes("BTC")?50:T.symbol.includes("XAU")?.5:.0015),E=T.price+N,M=T.change+N,O=M/E*100,F=N>=0?"up":"down";return{...T,price:E,change:M,changePercent:O,direction:F}}))},2e3);return()=>clearInterval(P)},[]);const j=()=>r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:50}).map((k,P)=>r.jsx(Ce.div,{className:"absolute w-2 h-2 bg-blue-500 rounded-full opacity-20",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{x:[null,Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[null,Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:20+Math.random()*30,repeat:1/0,ease:"linear"}},P))});return r.jsxs("div",{className:"min-h-screen bg-[#1b1b1b] text-white",children:[r.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-[#292929] border-b border-[#ffa31a]",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-20",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Platform Logo",className:"h-9 w-auto"})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("nav",{className:"hidden md:flex space-x-8 text-[#808080]",children:[r.jsx("button",{onClick:()=>y(d),className:"hover:text-[#ffa31a] transition-colors",children:"Features"}),r.jsx("button",{onClick:()=>y(f),className:"hover:text-[#ffa31a] transition-colors",children:"Technology"}),r.jsx("button",{onClick:()=>y(h),className:"hover:text-[#ffa31a] transition-colors",children:"Calculator"}),r.jsx("button",{onClick:()=>e("/packages"),className:"hover:text-[#ffa31a] transition-colors",children:"Pricing"})]}),r.jsx("button",{onClick:b,className:"btn-primary",children:"Login"})]})]})})}),r.jsxs("div",{className:"relative pt-20 overflow-hidden bg-gradient-to-b from-[#1b1b1b] via-[#292929] to-[#1b1b1b]",children:[r.jsx("div",{className:"w-full overflow-hidden bg-[#292929]/50 backdrop-blur-sm border-y border-[#ffa31a]",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:r.jsxs("div",{className:"flex items-center space-x-6 overflow-x-auto scrollbar-hide",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-[#808080]",children:[r.jsx(rr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm whitespace-nowrap",children:new Date().toLocaleTimeString()})]}),m.map((k,P)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium whitespace-nowrap",children:k.symbol}),r.jsx("span",{className:"font-mono whitespace-nowrap",children:k.symbol.includes("JPY")?k.price.toFixed(3):k.symbol.includes("BTC")?k.price.toFixed(1):k.symbol.includes("XAU")?k.price.toFixed(2):k.price.toFixed(5)}),r.jsxs("span",{className:`flex items-center whitespace-nowrap ${k.direction==="up"?"text-green-500":"text-red-500"}`,children:[k.direction==="up"?r.jsx(Ku,{className:"w-3 h-3 mr-1"}):r.jsx(zv,{className:"w-3 h-3 mr-1"}),k.changePercent.toFixed(2),"%"]})]},P))]})})}),r.jsx(j,{}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 relative z-10",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center relative",children:[r.jsxs(Ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},children:[r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-6",children:["Next-Gen ",r.jsx("span",{className:"text-[#ffa31a]",children:"Algorithmic"})," Trading Platform"]}),r.jsx("p",{className:"text-xl text-[#808080] mb-8 leading-relaxed",children:"Automate your trading strategies with AI-powered algorithms, real-time signals, and professional risk management tools."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(Ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-6 py-3 bg-[#ffa31a] text-white rounded-lg font-semibold hover:bg-[#e59400] transition-colors shadow-lg flex items-center justify-center",children:["Start Trading Now ",r.jsx(es,{className:"ml-2 w-5 h-5"})]}),r.jsxs(Ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(d),className:"px-6 py-3 bg-[#292929] text-white rounded-lg font-semibold hover:bg-[#1b1b1b] transition-colors flex items-center justify-center",children:["Explore Features ",r.jsx(Fa,{className:"ml-2 w-5 h-5"})]})]})]}),r.jsxs(Ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative mt-8 lg:mt-0",children:[r.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border border-[#292929] bg-[#292929]",children:[r.jsxs("div",{className:"w-full h-[400px] relative",children:[r.jsxs("div",{className:"absolute inset-0 grid grid-cols-6 grid-rows-6",children:[Array.from({length:6}).map((k,P)=>r.jsx("div",{className:"w-full h-px bg-[#808080]/50",style:{top:`${(P+1)*16.66}%`,position:"absolute"}},`h-${P}`)),Array.from({length:6}).map((k,P)=>r.jsx("div",{className:"h-full w-px bg-[#808080]/50",style:{left:`${(P+1)*16.66}%`,position:"absolute"}},`v-${P}`))]}),r.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1000 400",preserveAspectRatio:"none",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#ffa31a",stopOpacity:"0.3"}),r.jsx("stop",{offset:"100%",stopColor:"#ffa31a",stopOpacity:"0"})]})}),r.jsx("path",{d:"M0,300 C50,280 100,320 150,280 C200,240 250,260 300,220 C350,180 400,200 450,150 C500,100 550,120 600,80 C650,40 700,60 750,100 C800,140 850,120 900,160 C950,200 1000,180 1000,180 L1000,400 L0,400 Z",fill:"url(#chartGradient)",stroke:"#ffa31a",strokeWidth:"2"}),r.jsx("path",{d:"M0,320 C50,300 100,340 150,300 C200,260 250,280 300,240 C350,200 400,220 450,170 C500,120 550,140 600,100 C650,60 700,80 750,120 C800,160 850,140 900,180 C950,220 1000,200 1000,200",fill:"none",stroke:"#10b981",strokeWidth:"2",opacity:"0.7"})]}),r.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-3",children:[r.jsx("div",{className:"bg-[#ffa31a]/20 backdrop-blur-sm px-3 py-1 rounded text-[#ffa31a] text-sm font-medium",children:"EURUSD"}),r.jsx("div",{className:"bg-[#292929]/80 backdrop-blur-sm px-3 py-1 rounded text-[#808080] text-sm",children:"1D"})]}),r.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2",children:[r.jsx("div",{className:"bg-green-500/20 backdrop-blur-sm px-2 py-1 rounded text-green-400 text-xs",children:"BUY"}),r.jsx("div",{className:"bg-red-500/20 backdrop-blur-sm px-2 py-1 rounded text-red-400 text-xs",children:"SELL"})]}),r.jsx("div",{className:"absolute right-3 top-1/4 bg-[#292929]/80 backdrop-blur-sm px-2 py-1 rounded text-[#808080] text-xs",children:"1.0850"}),r.jsx("div",{className:"absolute right-3 top-2/4 bg-[#292929]/80 backdrop-blur-sm px-2 py-1 rounded text-[#808080] text-xs",children:"1.0825"}),r.jsx("div",{className:"absolute right-3 top-3/4 bg-[#292929]/80 backdrop-blur-sm px-2 py-1 rounded text-[#808080] text-xs",children:"1.0800"}),r.jsxs("div",{className:"absolute bottom-3 left-0 w-full flex justify-between px-4",children:[r.jsx("span",{className:"text-[#808080] text-xs",children:"09:30"}),r.jsx("span",{className:"text-[#808080] text-xs",children:"12:00"}),r.jsx("span",{className:"text-[#808080] text-xs",children:"15:30"}),r.jsx("span",{className:"text-[#808080] text-xs",children:"19:00"})]}),r.jsx("button",{onClick:g,className:"absolute bottom-4 right-4 z-10 bg-[#292929]/80 backdrop-blur-sm p-3 rounded-full hover:bg-[#292929] transition-colors","aria-label":t?"Pause video":"Play video",children:t?r.jsx(CL,{className:"w-6 h-6 text-white"}):r.jsx(lx,{className:"w-6 h-6 text-white"})})]}),r.jsx("div",{className:"bg-[#292929] border-t border-[#808080] p-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Open"}),r.jsx("p",{className:"text-sm font-mono font-medium text-white",children:"1.0825"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"High"}),r.jsx("p",{className:"text-sm font-mono font-medium text-green-400",children:"1.0852"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Low"}),r.jsx("p",{className:"text-sm font-mono font-medium text-red-400",children:"1.0798"})]})]})})]}),r.jsx(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"absolute -bottom-6 -left-6 bg-[#292929]/90 backdrop-blur-sm rounded-lg shadow-lg p-4 border border-[#808080]",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-lg",children:r.jsx(Cs,{className:"w-5 h-5 text-[#ffa31a]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Active Traders"}),r.jsx("p",{className:"text-lg font-bold text-white",children:"10,000+"})]})]})}),r.jsx(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},className:"absolute -top-6 -right-6 bg-[#292929]/90 backdrop-blur-sm rounded-lg shadow-lg p-4 border border-[#808080]",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:r.jsx(tn,{className:"w-5 h-5 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Daily Volume"}),r.jsx("p",{className:"text-lg font-bold text-white",children:"$2.5M+"})]})]})})]})]})}),r.jsx("div",{className:"w-full bg-[#292929]/80 backdrop-blur-sm border-t border-[#808080] py-4",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-full",children:r.jsx(Vi,{className:"w-5 h-5 text-[#ffa31a]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Market Signals"}),r.jsx("p",{className:"text-lg font-bold text-white",children:"247 Today"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-500/20 p-2 rounded-full",children:r.jsx(Se,{className:"w-5 h-5 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Win Rate"}),r.jsx("p",{className:"text-lg font-bold text-white",children:"68.5%"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-purple-500/20 p-2 rounded-full",children:r.jsx(ss,{className:"w-5 h-5 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Active Robots"}),r.jsx("p",{className:"text-lg font-bold text-white",children:"5,280"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-yellow-500/20 p-2 rounded-full",children:r.jsx(Qs,{className:"w-5 h-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Executions"}),r.jsx("p",{className:"text-lg font-bold text-white",children:"12.4M"})]})]})]})})})]}),r.jsx("div",{ref:d,className:"py-20 bg-[#1b1b1b]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"text-center mb-16",children:r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Powerful Trading Features"}),r.jsx("p",{className:"text-xl text-[#808080] max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with user-friendly interfaces to give you the edge in today's markets"})]})}),r.jsxs("div",{className:"mb-12",children:[r.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-12 bg-[#292929]/50 p-4 rounded-xl border border-[#808080]",children:[r.jsx("button",{onClick:()=>i("algo"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${n==="algo"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"Algorithmic Trading"}),r.jsx("button",{onClick:()=>i("risk"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${n==="risk"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"Risk Management"}),r.jsx("button",{onClick:()=>i("signals"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${n==="signals"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"Real-time Signals"}),r.jsx("button",{onClick:()=>i("vps"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${n==="vps"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"24/7 VPS Hosting"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center bg-[#292929]/30 p-8 rounded-xl border border-[#808080]",children:[n==="algo"&&r.jsxs(r.Fragment,{children:[r.jsxs(Ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 bg-[#ffa31a]/10 p-4 rounded-xl border border-[#ffa31a]/20",children:[r.jsx("div",{className:"bg-[#ffa31a]/20 p-3 rounded-lg",children:r.jsx(ss,{className:"w-6 h-6 text-[#ffa31a]"})}),r.jsx("h3",{className:"text-2xl font-bold text-white",children:"Algorithmic Trading"})]}),r.jsx("p",{className:"text-lg text-[#808080]",children:"Create and deploy sophisticated trading algorithms without writing a single line of code. Our visual strategy builder makes it easy."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Pre-built Strategy Templates"}),r.jsx("p",{className:"text-[#808080]",children:"Choose from proven strategies like Trend Following, Mean Reversion, Breakout, and more."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Customizable Parameters"}),r.jsx("p",{className:"text-[#808080]",children:"Fine-tune your strategies with adjustable risk levels, lot sizes, and take profit targets."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Performance Analytics"}),r.jsx("p",{className:"text-[#808080]",children:"Track win rates, profit metrics, and optimize your strategies based on real data."})]})]})]}),r.jsxs("button",{onClick:p,className:"px-6 py-3 bg-[#ffa31a] text-white rounded-lg font-semibold hover:bg-[#e59400] transition-colors inline-flex items-center",children:["Start Building Robots ",r.jsx(es,{className:"ml-2 w-5 h-5"})]})]}),r.jsx(Ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:r.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[r.jsxs("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ss,{className:"w-5 h-5 text-[#ffa31a]"}),r.jsx("span",{className:"font-medium text-white",children:"Trend Following Strategy"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-green-400",children:"Active"})]})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"h-64 relative",children:[r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 400 200",preserveAspectRatio:"none",children:[r.jsx("path",{d:"M0,150 C20,140 40,160 60,140 C80,120 100,130 120,110 C140,90 160,100 180,80 C200,60 220,70 240,50 C260,30 280,40 300,60 C320,80 340,70 360,90 C380,110 400,100 400,100",fill:"none",stroke:"#ffa31a",strokeWidth:"2"}),r.jsx("path",{d:"M0,150 C20,140 40,160 60,140 C80,120 100,130 120,110 C140,90 160,100 180,80 C200,60 220,70 240,50 C260,30 280,40 300,60 C320,80 340,70 360,90 C380,110 400,100 400,100",fill:"url(#blueGradient)",strokeWidth:"0",opacity:"0.2"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"blueGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#ffa31a",stopOpacity:"0.5"}),r.jsx("stop",{offset:"100%",stopColor:"#ffa31a",stopOpacity:"0"})]})})]}),r.jsx("div",{className:"absolute top-1/4 left-1/4 w-4 h-4 rounded-full bg-green-500/20 border border-green-500 transform -translate-x-1/2 -translate-y-1/2"}),r.jsx("div",{className:"absolute top-2/3 left-1/2 w-4 h-4 rounded-full bg-red-500/20 border border-red-500 transform -translate-x-1/2 -translate-y-1/2"}),r.jsx("div",{className:"absolute top-1/3 left-3/4 w-4 h-4 rounded-full bg-green-500/20 border border-green-500 transform -translate-x-1/2 -translate-y-1/2"})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Win Rate"}),r.jsx("p",{className:"text-lg font-bold text-green-400",children:"72.5%"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Profit"}),r.jsx("p",{className:"text-lg font-bold text-green-400",children:"+$1,245"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Trades"}),r.jsx("p",{className:"text-lg font-bold text-white",children:"124"})]})]})]})]})})]}),n==="risk"&&r.jsxs(r.Fragment,{children:[r.jsxs(Ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 bg-purple-500/10 p-4 rounded-xl border border-purple-500/20",children:[r.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:r.jsx(rs,{className:"w-6 h-6 text-purple-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-white",children:"Risk Management"})]}),r.jsx("p",{className:"text-lg text-[#808080]",children:"Protect your capital with advanced risk management tools designed to minimize losses and maximize gains."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Position Sizing Calculator"}),r.jsx("p",{className:"text-[#808080]",children:"Automatically calculate optimal position sizes based on your risk tolerance and account balance."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Stop-Loss Automation"}),r.jsx("p",{className:"text-[#808080]",children:"Set and forget with automated stop-losses that protect your downside on every trade."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Portfolio Correlation Analysis"}),r.jsx("p",{className:"text-[#808080]",children:"Identify and avoid correlated risks across your trading portfolio."})]})]})]}),r.jsxs("button",{onClick:p,className:"px-6 py-3 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition-colors inline-flex items-center",children:["Explore Risk Tools ",r.jsx(es,{className:"ml-2 w-5 h-5"})]})]}),r.jsx(Ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:r.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[r.jsx("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{className:"font-medium text-white",children:"Risk Analysis Dashboard"})]})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-[#808080]",children:"Portfolio Risk Level"}),r.jsx("span",{className:"text-sm font-medium text-yellow-400",children:"Medium"})]}),r.jsx("div",{className:"h-2 w-full bg-[#808080] rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-full",style:{width:"65%"}})}),r.jsxs("div",{className:"flex justify-between text-xs text-[#808080] mt-1",children:[r.jsx("span",{children:"Low"}),r.jsx("span",{children:"Medium"}),r.jsx("span",{children:"High"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Max Drawdown"}),r.jsx("p",{className:"text-lg font-bold text-red-400",children:"-4.2%"}),r.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:r.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:"42%"}})})]}),r.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Risk per Trade"}),r.jsx("p",{className:"text-lg font-bold text-green-400",children:"1.5%"}),r.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:r.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:"15%"}})})]}),r.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Correlation Risk"}),r.jsx("p",{className:"text-lg font-bold text-yellow-400",children:"Medium"}),r.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:r.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:"60%"}})})]}),r.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Exposure"}),r.jsx("p",{className:"text-lg font-bold text-blue-400",children:"32.5%"}),r.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"32.5%"}})})]})]})]})]})})]}),n==="signals"&&r.jsxs(r.Fragment,{children:[r.jsxs(Ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 bg-green-500/10 p-4 rounded-xl border border-green-500/20",children:[r.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:r.jsx(Qs,{className:"w-6 h-6 text-green-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-white",children:"Real-time Signals"})]}),r.jsx("p",{className:"text-lg text-[#808080]",children:"Receive and execute trading signals in real-time from TradingView or our proprietary signal providers."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"TradingView Webhook Integration"}),r.jsx("p",{className:"text-[#808080]",children:"Connect your TradingView alerts directly to our platform for automated execution."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Automated Execution"}),r.jsx("p",{className:"text-[#808080]",children:"Signals are automatically executed according to your predefined risk parameters."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Signal Performance Tracking"}),r.jsx("p",{className:"text-[#808080]",children:"Analyze the performance of different signal sources to optimize your strategy."})]})]})]}),r.jsxs("button",{onClick:p,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors inline-flex items-center",children:["Set Up Signals ",r.jsx(es,{className:"ml-2 w-5 h-5"})]})]}),r.jsx(Ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:r.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[r.jsxs("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qs,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{className:"font-medium text-white",children:"Signal Feed"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-green-400",children:"Live"})]})]}),r.jsxs("div",{className:"divide-y divide-[#808080]",children:[r.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:r.jsx(Ku,{className:"w-4 h-4 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"BUY EURUSD"}),r.jsx("p",{className:"text-xs text-[#808080]",children:"1.0850 • SL: 1.0820 • TP: 1.0900"})]})]}),r.jsx("div",{className:"text-xs text-[#808080]",children:"2m ago"})]}),r.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-red-500/20 p-2 rounded-lg",children:r.jsx(zv,{className:"w-4 h-4 text-red-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"SELL GBPUSD"}),r.jsx("p",{className:"text-xs text-[#808080]",children:"1.2650 • SL: 1.2680 • TP: 1.2600"})]})]}),r.jsx("div",{className:"text-xs text-[#808080]",children:"5m ago"})]}),r.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:r.jsx(Ku,{className:"w-4 h-4 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"BUY XAUUSD"}),r.jsx("p",{className:"text-xs text-[#808080]",children:"2050.50 • SL: 2045.00 • TP: 2060.00"})]})]}),r.jsx("div",{className:"text-xs text-[#808080]",children:"12m ago"})]}),r.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:r.jsx(Le,{className:"w-4 h-4 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"CLOSE USDJPY"}),r.jsx("p",{className:"text-xs text-[#808080]",children:"150.25 • Profit: +35 pips"})]})]}),r.jsx("div",{className:"text-xs text-[#808080]",children:"18m ago"})]})]})]})})]}),n==="vps"&&r.jsxs(r.Fragment,{children:[r.jsxs(Ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 bg-yellow-500/10 p-4 rounded-xl border border-yellow-500/20",children:[r.jsx("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:r.jsx(ir,{className:"w-6 h-6 text-yellow-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-white",children:"24/7 VPS Hosting"})]}),r.jsx("p",{className:"text-lg text-[#808080]",children:"Our VPS hosting ensures your trading robots run continuously, even when your computer is off."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Cloud-based Execution"}),r.jsx("p",{className:"text-[#808080]",children:"Your strategies run on our secure, high-performance servers with 99.9% uptime."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Low-Latency Connections"}),r.jsx("p",{className:"text-[#808080]",children:"Strategically located servers ensure minimal latency to major exchanges."})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Resource Monitoring"}),r.jsx("p",{className:"text-[#808080]",children:"Real-time monitoring of your VPS performance and resource utilization."})]})]})]}),r.jsxs("button",{onClick:p,className:"px-6 py-3 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition-colors inline-flex items-center",children:["Get VPS Hosting ",r.jsx(es,{className:"ml-2 w-5 h-5"})]})]}),r.jsx(Ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:r.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[r.jsxs("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ir,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{className:"font-medium text-white",children:"VPS Dashboard"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-green-400",children:"Online"})]})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"CPU Usage"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-lg font-bold text-white",children:"24%"}),r.jsx("div",{className:"w-2/3 h-2 bg-[#808080] rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"24%"}})})]})]}),r.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-[#808080]",children:"Memory"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-lg font-bold text-white",children:"42%"}),r.jsx("div",{className:"w-2/3 h-2 bg-[#808080] rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:"42%"}})})]})]})]}),r.jsxs("div",{className:"bg-[#808080]/30 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Active Robots"}),r.jsx("p",{className:"text-sm font-medium text-green-400",children:"5/10"})]}),r.jsx("div",{className:"space-y-2",children:["EURUSD Scalper","Gold Trend","USDJPY Breakout"].map((k,P)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-[#808080]",children:k})]}),r.jsx("span",{className:"text-[#808080]",children:"Running"})]},P))})]}),r.jsxs("div",{className:"bg-[#808080]/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-medium text-white mb-2",children:"Server Status"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-[#808080]",children:"Uptime"}),r.jsx("span",{className:"text-[#808080]",children:"99.98%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-[#808080]",children:"Region"}),r.jsx("span",{className:"text-[#808080]",children:"US-East"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-[#808080]",children:"Latency"}),r.jsx("span",{className:"text-green-400",children:"12ms"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-[#808080]",children:"Bandwidth"}),r.jsx("span",{className:"text-[#808080]",children:"2.4 GB/day"})]})]})]})]})]})})]})]})]})]})}),r.jsx("div",{ref:f,className:"py-20 bg-[#1b1b1b] border-t border-[#808080]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"text-center mb-16",children:r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Powered by Advanced Technology"}),r.jsx("p",{className:"text-xl text-[#808080] max-w-3xl mx-auto",children:"Our platform leverages cutting-edge technologies to provide you with the best trading experience"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[r.jsx("div",{className:"absolute inset-0 hidden lg:block",children:r.jsx("svg",{className:"w-full h-full",viewBox:"0 0 1000 300",preserveAspectRatio:"none",children:r.jsx("path",{d:"M250,150 L750,150 M500,50 L500,250",stroke:"#ffa31a",strokeWidth:"1",strokeDasharray:"5,5",opacity:"0.3"})})}),r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-[#ffa31a]/20 text-center relative z-10",children:[r.jsx("div",{className:"bg-[#ffa31a]/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-[#ffa31a]/20",children:r.jsx(ir,{className:"w-8 h-8 text-[#ffa31a]"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cloud Infrastructure"}),r.jsx("p",{className:"text-[#808080]",children:"Enterprise-grade servers with 99.9% uptime guarantee and global distribution for minimal latency."})]}),r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-purple-500/20 text-center relative z-10",children:[r.jsx("div",{className:"bg-purple-500/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-purple-500/20",children:r.jsx(ss,{className:"w-8 h-8 text-purple-400"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"AI-Powered Analysis"}),r.jsx("p",{className:"text-[#808080]",children:"Machine learning algorithms that analyze market patterns and optimize trading strategies in real-time."})]}),r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-green-500/20 text-center relative z-10",children:[r.jsx("div",{className:"bg-green-500/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-green-500/20",children:r.jsx(kL,{className:"w-8 h-8 text-green-400"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cross-Platform Access"}),r.jsx("p",{className:"text-[#808080]",children:"Access your trading dashboard from any device with our responsive web app and native mobile applications."})]}),r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-yellow-500/20 text-center relative z-10",children:[r.jsx("div",{className:"bg-yellow-500/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-yellow-500/20",children:r.jsx(rs,{className:"w-8 h-8 text-yellow-400"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Security"}),r.jsx("p",{className:"text-[#808080]",children:"Bank-grade encryption, two-factor authentication, and regular security audits to protect your data."})]})]})]})}),r.jsx("div",{ref:h,className:"py-20 bg-gradient-to-br from-[#292929] to-[#1b1b1b] border-t border-[#808080]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"text-center mb-16",children:r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Calculate Your Trading ROI"}),r.jsx("p",{className:"text-xl text-[#808080] max-w-3xl mx-auto",children:"See how our algorithmic trading platform can help maximize your returns"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsxs(Ce.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},className:"bg-[#292929] rounded-xl shadow-lg p-8 border border-[#808080]",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx(Vi,{className:"w-6 h-6 text-[#ffa31a]"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Investment Calculator"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-2",children:"Initial Investment Amount ($)"}),r.jsx("input",{type:"range",value:a,onChange:k=>o(Number(k.target.value)),min:"1000",max:"100000",step:"1000",className:"w-full h-2 bg-[#808080] rounded-lg appearance-none cursor-pointer"}),r.jsxs("div",{className:"flex justify-between text-sm text-[#808080] mt-1",children:[r.jsx("span",{children:"$1,000"}),r.jsxs("span",{className:"font-medium text-white",children:["$",a.toLocaleString()]}),r.jsx("span",{children:"$100,000"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-2",children:"Expected Monthly Return (%)"}),r.jsx("input",{type:"range",value:l,onChange:k=>c(Number(k.target.value)),min:"1",max:"15",step:"0.5",className:"w-full h-2 bg-[#808080] rounded-lg appearance-none cursor-pointer"}),r.jsxs("div",{className:"flex justify-between text-sm text-[#808080] mt-1",children:[r.jsx("span",{children:"1%"}),r.jsxs("span",{className:"font-medium text-white",children:[l,"%"]}),r.jsx("span",{children:"15%"})]})]}),r.jsxs("div",{className:"bg-blue-900/30 rounded-lg p-6 border border-[#ffa31a]/30",children:[r.jsx("h4",{className:"text-lg font-semibold text-[#ffa31a] mb-4",children:"Projected Returns"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Monthly Profit"}),r.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:["$",w.monthly.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Yearly Profit"}),r.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:["$",w.yearly.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Annual ROI"}),r.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:[w.percentage.toFixed(2),"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#ffa31a]",children:"After 5 Years"}),r.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:["$",(a*Math.pow(1+w.percentage/100,5)).toFixed(2)]})]})]})]})]})]}),r.jsxs(Ce.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},className:"space-y-8",children:[r.jsxs("div",{className:"bg-[#292929] rounded-xl shadow-lg p-8 border border-[#808080]",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Traditional vs. Algorithmic Trading"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#808080]",children:"Traditional Trading"}),r.jsxs("p",{className:"text-lg font-semibold text-white",children:["$",(a*.02).toFixed(2),"/year"]}),r.jsx("p",{className:"text-xs text-[#808080]",children:"2% management fee"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#808080]",children:"Algorithmic Trading"}),r.jsxs("p",{className:"text-lg font-semibold text-green-400",children:["$",(a*.005).toFixed(2),"/year"]}),r.jsx("p",{className:"text-xs text-[#808080]",children:"0.5% platform fee"})]})]}),r.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("p",{className:"text-sm font-medium text-green-300",children:"Your Savings"}),r.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",(a*.015).toFixed(2),"/year"]})]}),r.jsx("div",{className:"w-full bg-[#808080] rounded-full h-2.5 mt-2",children:r.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"75%"}})})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-[#ffa31a] to-purple-700 rounded-xl shadow-lg p-8 text-white border border-[#ffa31a]/30",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"Why Choose Algorithmic Trading?"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Eliminates emotional trading decisions"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Executes trades 24/7 without your intervention"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Backtested strategies with proven performance"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Le,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Diversify across multiple markets simultaneously"})]})]}),r.jsx(Ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"mt-6 w-full py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors shadow-lg",children:"Start Trading Now"})]})]})]})]})}),r.jsx("div",{className:"py-20 bg-gradient-to-br from-[#ffa31a] to-purple-800 text-white border-t border-[#ffa31a]",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsxs(Ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Trading?"}),r.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8",children:"Join thousands of traders who are already using our platform to automate their trading strategies and maximize returns."}),r.jsx(Ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-8 py-4 bg-white text-blue-700 rounded-lg font-semibold hover:bg-gray-100 transition-colors shadow-xl",children:"Get Started Now"})]})})}),r.jsx("footer",{className:"bg-[#1b1b1b] text-white py-12 border-t border-[#808080]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-[#808080] text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-[#808080] text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"#",onClick:()=>y(d),className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"#",onClick:()=>i("risk"),className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"#",onClick:()=>i("signals"),className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"#",onClick:()=>i("vps"),className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-[#808080] text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-[#808080] text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-[#808080] mt-12 pt-8 text-center text-[#808080] text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},RN=[{id:"starter",name:"Starter",description:"Perfect for beginners",price:150,tokens:300,features:["3 Trading Robots","Basic Risk Management","TradingView Webhooks","Email Support"]},{id:"professional",name:"Professional",description:"For serious traders",price:250,tokens:500,features:["Unlimited Trading Robots","Advanced Risk Management","24/7 VPS Hosting","Priority Support","Multi-Account Management"],popular:!0},{id:"vip",name:"VIP",description:"For institutional traders",price:500,tokens:1500,features:["Everything in Professional","Custom Strategy Development","Dedicated Account Manager","API Access","White-label Options"]}],hX=["United States","United Kingdom","Canada","Australia","Germany","France","Spain","Italy","Japan","China","India","Brazil","Mexico","South Africa","Russia"],fX=()=>{const e=mo(),t=kt(),{userTokens:s,fetchUserTokens:n}=pe(),a=new URLSearchParams(e.search).get("package"),[o,l]=_.useState(null),[c,u]=_.useState("package"),[d,h]=_.useState("card"),[f,m]=_.useState(""),[x,g]=_.useState(!1),[y,p]=_.useState(null),[b,v]=_.useState(!1),[w,j]=_.useState(!1),[k,P]=_.useState([]),[S,T]=_.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"United States",postalCode:"",phone:""});_.useEffect(()=>{if(a){const B=RN.find(C=>C.id===a);B&&(l(B),u("payment"))}},[a]),_.useEffect(()=>{s===null&&n()},[n,s]);const N=B=>{l(B),u("payment");const C=`${window.location.pathname}?package=${B.id}`;window.history.pushState({path:C},"",C)},E=()=>{l(null),u("package"),p(null),m(""),t("/packages")},M=B=>{const{name:C,value:ne}=B.target;T(ie=>({...ie,[C]:ne}))},O=async()=>{if(!f.trim()){D.error("Please enter a promo code");return}g(!0);try{const C=await(await fetch(`${xn}/functions/v1/validate-promo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nr}`},body:JSON.stringify({code:f.trim()})})).json();C.isValid?(p(C),D.success(`Promo code applied: ${C.discountPercent}% discount`)):(p(null),D.error(C.message||"Invalid promo code"))}catch(B){console.error("Error validating promo code:",B),D.error("Failed to validate promo code"),p(null)}finally{g(!1)}},F=()=>{m(""),p(null)},z=()=>{if(!o)return 0;if(y&&y.isValid){const B=o.price*y.discountPercent/100;return o.price-B}return o.price},Q=()=>{if(!o)return!1;const C=[{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"email",label:"Email"},{key:"address",label:"Address"},{key:"city",label:"City"},{key:"country",label:"Country"}].filter(ne=>!S[ne.key]).map(ne=>ne.label);return w||C.push("Terms and Conditions agreement"),P(C),C.length===0},I=async()=>{var B;if(o){if(!Q()){D.error("Please fill in all required fields and agree to the Terms of Service");return}v(!0);try{const{data:{session:C}}=await H.auth.getSession();if(!((B=C==null?void 0:C.user)!=null&&B.id)){D.error("You must be logged in to make a purchase"),t("/login");return}const ie=await(await fetch(`${xn}/functions/v1/process-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nr}`},body:JSON.stringify({packageId:o.id,amount:z(),tokens:o.tokens,userId:C.user.id,promoCode:y?f:void 0,paymentMethod:d,paymentDetails:{success:!0},customerInfo:S})})).json();ie.success?(u("confirmation"),D.success(ie.message||"Payment successful!"),setTimeout(()=>{n()},1e3)):D.error(ie.message||"Payment failed")}catch(C){console.error("Error processing payment:",C),D.error("Failed to process payment")}finally{v(!1)}}},$=()=>{t("/")};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-8",children:[r.jsx("button",{onClick:()=>t("/"),className:"hover:text-gray-700 transition-colors",children:"Home"}),r.jsx(Fa,{className:"w-4 h-4 mx-2"}),r.jsx("button",{onClick:E,className:`hover:text-gray-700 transition-colors ${c!=="package"?"":"font-medium text-gray-900"}`,children:"Packages"}),c!=="package"&&r.jsxs(r.Fragment,{children:[r.jsx(Fa,{className:"w-4 h-4 mx-2"}),r.jsx("button",{onClick:()=>u("payment"),className:`hover:text-gray-700 transition-colors ${c==="payment"?"font-medium text-gray-900":""}`,children:"Payment"})]}),c==="confirmation"&&r.jsxs(r.Fragment,{children:[r.jsx(Fa,{className:"w-4 h-4 mx-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Confirmation"})]})]}),c==="package"&&r.jsxs("div",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Package"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Select the package that best fits your trading needs and budget"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:RN.map(B=>r.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl overflow-hidden border ${B.popular?"border-blue-500 shadow-lg shadow-blue-50/50":"border-gray-200 shadow"}`,children:[B.popular&&r.jsx("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:"MOST POPULAR"}),r.jsxs("div",{className:"p-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:B.name}),r.jsx("p",{className:"text-gray-600 mb-6",children:B.description}),r.jsxs("div",{className:"flex items-baseline mb-6",children:[r.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",B.price]}),r.jsx("span",{className:"text-gray-500 ml-2",children:"/month"})]}),r.jsxs("ul",{className:"space-y-3 mb-8",children:[B.features.map((C,ne)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx(Le,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:C})]},ne)),r.jsxs("li",{className:"flex items-center",children:[r.jsx(Le,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700 font-semibold",children:[B.tokens," Tokens"]})]})]}),r.jsxs("button",{onClick:()=>N(B),className:`w-full py-3 rounded-lg font-semibold transition-colors flex items-center justify-center ${B.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:["Select Package ",r.jsx(es,{className:"w-4 h-4 ml-2"})]})]})]},B.id))}),s&&r.jsx("div",{className:"mt-12 bg-blue-50 rounded-xl p-6 border border-blue-100",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Your Current Token Balance"}),r.jsxs("p",{className:"text-blue-700",children:["You currently have ",r.jsxs("span",{className:"font-bold",children:[s.balance," tokens"]})," available."]})]}),r.jsx("div",{className:"mt-4 md:mt-0",children:r.jsx("button",{onClick:()=>t("/vps"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Explore VPS Options"})})]})})]}),c==="payment"&&o&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Customer Information"}),k.length>0&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:"Please fix the following errors:"}),r.jsx("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside",children:k.map((B,C)=>r.jsxs("li",{children:[B," is required"]},C))})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),r.jsx("input",{type:"text",name:"firstName",value:S.firstName,onChange:M,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.includes("First Name")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),r.jsx("input",{type:"text",name:"lastName",value:S.lastName,onChange:M,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.includes("Last Name")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",name:"email",value:S.email,onChange:M,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.includes("Email")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",value:S.phone,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),r.jsx("input",{type:"text",name:"address",value:S.address,onChange:M,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.includes("Address")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),r.jsx("input",{type:"text",name:"city",value:S.city,onChange:M,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.includes("City")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),r.jsx("select",{name:"country",value:S.country,onChange:M,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.includes("Country")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0,children:hX.map(B=>r.jsx("option",{value:B,children:B},B))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),r.jsx("input",{type:"text",name:"postalCode",value:S.postalCode,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Payment Method"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("button",{onClick:()=>h("card"),className:`flex items-center justify-center space-x-2 p-4 rounded-lg border-2 transition-colors ${d==="card"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(p_,{className:`w-5 h-5 ${d==="card"?"text-blue-500":"text-gray-500"}`}),r.jsx("span",{className:d==="card"?"font-medium text-blue-700":"text-gray-700",children:"Credit Card"})]}),r.jsxs("button",{onClick:()=>h("crypto"),className:`flex items-center justify-center space-x-2 p-4 rounded-lg border-2 transition-colors ${d==="crypto"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(ax,{className:`w-5 h-5 ${d==="crypto"?"text-purple-500":"text-gray-500"}`}),r.jsx("span",{className:d==="crypto"?"font-medium text-purple-700":"text-gray-700",children:"Cryptocurrency"})]})]}),d==="card"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),r.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Date"}),r.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVC"}),r.jsx("input",{type:"text",placeholder:"123",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),r.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),d==="crypto"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-purple-50 border border-purple-100 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-purple-800 mb-2",children:"Cryptocurrency Payment"}),r.jsx("div",{className:"flex space-x-4",children:r.jsx("img",{src:"../src/images/paymentbtc150.jpg",alt:"Bitcoin"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Promo Code"}),y?r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ua,{className:"w-5 h-5 text-green-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-800",children:f.toUpperCase()}),r.jsxs("p",{className:"text-sm text-green-700",children:[y.discountPercent,"% discount applied"]})]})]}),r.jsx("button",{onClick:F,className:"text-green-700 hover:text-green-800",children:r.jsx(vs,{className:"w-5 h-5"})})]}):r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ua,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:f,onChange:B=>m(B.target.value.toUpperCase()),placeholder:"Enter promo code",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("button",{onClick:O,disabled:x||!f.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:x?r.jsxs(r.Fragment,{children:[r.jsx(Hi,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Validating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ud,{className:"w-4 h-4"}),r.jsx("span",{children:"Apply"})]})})]})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Order Summary"}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:[o.name," Package"]}),r.jsxs("span",{className:"font-medium",children:["$",o.price.toFixed(2)]})]}),y&&y.isValid&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{children:["Promo Discount (",y.discountPercent,"%)"]}),r.jsxs("span",{children:["-$",(o.price*y.discountPercent/100).toFixed(2)]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4 flex justify-between font-semibold text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["$",z().toFixed(2)]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Le,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-800",children:"You will receive:"})]}),r.jsxs("p",{className:"text-blue-700 text-lg font-bold",children:[o.tokens," Tokens"]}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Use tokens to access premium features and VPS hosting"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{id:"terms",type:"checkbox",checked:w,onChange:B=>j(B.target.checked),className:`w-4 h-4 text-blue-600 border rounded focus:ring-blue-500 ${k.includes("Terms and Conditions agreement")?"border-red-300":"border-gray-300"}`})}),r.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-700",children:["I agree to the ",r.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Terms of Service"})," and ",r.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),k.includes("Terms and Conditions agreement")&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"You must agree to the Terms of Service"})]}),r.jsx("button",{onClick:I,disabled:b,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:b?r.jsxs(r.Fragment,{children:[r.jsx(Hi,{className:"w-5 h-5 animate-spin mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:["Complete Purchase ",r.jsx(es,{className:"w-5 h-5 ml-2"})]})}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("button",{onClick:E,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Back to packages"})})]})})]}),c==="confirmation"&&o&&r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Le,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your purchase. Your tokens have been added to your account."}),r.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-6 mb-8 inline-block",children:[r.jsx("p",{className:"text-blue-800 font-medium mb-2",children:"Your new token balance:"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:[s?s.balance+o.tokens:o.tokens," Tokens"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{onClick:$,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),r.jsx("button",{onClick:()=>t("/vps"),className:"w-full py-3 bg-gray-100 text-gray-800 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"Explore VPS Options"})]})]})})]})]})},mX=()=>{const e=kt();return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"About Trading Hub"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionizing algorithmic trading with cutting-edge technology and user-friendly solutions"})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Trading Hub was founded in 2023 by a team of experienced traders and software engineers who recognized a gap in the market for accessible, powerful algorithmic trading tools."}),r.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Our founders had spent years developing proprietary trading systems for institutional clients but realized that individual traders and smaller firms lacked access to the same powerful tools."}),r.jsx("p",{className:"text-lg text-gray-600",children:"With a mission to democratize algorithmic trading, we built a platform that combines institutional-grade technology with an intuitive interface, making advanced trading strategies accessible to everyone from beginners to professional traders."})]}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 border border-blue-100",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx(Za,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Our Timeline"}),r.jsx("p",{className:"text-gray-600",children:"Key milestones in our journey"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2023"}),r.jsx("div",{children:"Trading Hub founded with seed funding"})]}),r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2023 Q3"}),r.jsx("div",{children:"Beta launch with 500 early adopters"})]}),r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2024 Q1"}),r.jsx("div",{children:"Official platform launch with MT5 integration"})]}),r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2024 Q2"}),r.jsx("div",{children:"VPS hosting and plugins marketplace introduced"})]}),r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2025"}),r.jsx("div",{children:"Reached 10,000+ active traders worldwide"})]})]})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-xl p-12 mb-16",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),r.jsx("p",{className:"text-xl mb-8",children:"To empower traders of all levels with institutional-grade algorithmic trading tools that are accessible, affordable, and easy to use."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:"Democratize"}),r.jsx("p",{className:"text-blue-100",children:"Make advanced trading technology accessible to everyone"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:"Innovate"}),r.jsx("p",{className:"text-blue-100",children:"Continuously improve our platform with cutting-edge features"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:"Educate"}),r.jsx("p",{className:"text-blue-100",children:"Help traders develop profitable strategies and risk management skills"})]})]})]})}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Team"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(Cs,{className:"w-12 h-12 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Alex Morgan"}),r.jsx("p",{className:"text-blue-600 mb-2",children:"CEO & Co-Founder"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Former hedge fund quant with 15+ years of algorithmic trading experience"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(Cs,{className:"w-12 h-12 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sarah Chen"}),r.jsx("p",{className:"text-blue-600 mb-2",children:"CTO & Co-Founder"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Software architect with expertise in financial technology and cloud infrastructure"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(Cs,{className:"w-12 h-12 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Michael Rodriguez"}),r.jsx("p",{className:"text-blue-600 mb-2",children:"Head of Product"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Former professional trader with a passion for creating intuitive trading interfaces"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(Cs,{className:"w-12 h-12 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Emma Wilson"}),r.jsx("p",{className:"text-blue-600 mb-2",children:"Head of Customer Success"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Dedicated to ensuring traders get the most out of our platform with exceptional support"})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Values"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg inline-block mb-4",children:r.jsx(ix,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Excellence"}),r.jsx("p",{className:"text-gray-600",children:`We strive for excellence in everything we do, from code quality to customer support. We're never satisfied with "good enough" and continuously push the boundaries of what's possible.`})]}),r.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg inline-block mb-4",children:r.jsx(y_,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Transparency"}),r.jsx("p",{className:"text-gray-600",children:"We believe in complete transparency with our users. From our pricing model to our platform's performance, we share everything openly and honestly."})]}),r.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg inline-block mb-4",children:r.jsx(h_,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Community"}),r.jsx("p",{className:"text-gray-600",children:"We're building more than just a platform; we're creating a community of like-minded traders who support each other and grow together."})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Join Our Journey"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"We're on a mission to transform the world of trading. Whether you're a seasoned professional or just getting started, we invite you to join us."}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx("button",{onClick:()=>e("/login"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Create Account"}),r.jsx("button",{onClick:()=>e("/contact"),className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Contact Us"})]})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},pX=()=>{const e=kt(),[t,s]=_.useState({name:"",email:"",subject:"",message:""}),[n,i]=_.useState(!1),[a,o]=_.useState(!1),l=u=>{const{name:d,value:h}=u.target;s(f=>({...f,[d]:h}))},c=async u=>{u.preventDefault(),i(!0),setTimeout(()=>{i(!1),o(!0),D.success("Your message has been sent successfully!")},1500)};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have questions or need assistance? Our team is here to help you get the most out of your trading experience."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[r.jsx("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-8",children:a?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Le,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for reaching out. We'll get back to you as soon as possible."}),r.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Send Another Message"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Us a Message"}),r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),r.jsx("input",{type:"text",name:"name",value:t.name,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsxs("select",{name:"subject",value:t.subject,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a subject"}),r.jsx("option",{value:"general",children:"General Inquiry"}),r.jsx("option",{value:"support",children:"Technical Support"}),r.jsx("option",{value:"billing",children:"Billing Question"}),r.jsx("option",{value:"feature",children:"Feature Request"}),r.jsx("option",{value:"partnership",children:"Partnership Opportunity"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Message"}),r.jsx("textarea",{name:"message",value:t.message,onChange:l,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"How can we help you?"})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(p0,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 border border-blue-100",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(w_,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Us"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"For general inquiries:"}),r.jsx("a",{href:"mailto:info@tradinghub.com",className:"text-blue-600 hover:text-blue-800",children:"info@tradinghub.com"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"For support:"}),r.jsx("a",{href:"mailto:support@tradinghub.com",className:"text-blue-600 hover:text-blue-800",children:"support@tradinghub.com"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(PL,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Call Us"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Customer Support:"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"+1 (555) 123-4567"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Business Hours:"}),r.jsx("p",{className:"text-gray-700",children:"Monday - Friday: 9 AM - 6 PM EST"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(j_,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Visit Us"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Headquarters:"}),r.jsxs("address",{className:"not-italic text-gray-700",children:["123 Trading Street",r.jsx("br",{}),"Financial District",r.jsx("br",{}),"New York, NY 10004",r.jsx("br",{}),"United States"]})]})]})]})]}),r.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What is the response time for support tickets?"}),r.jsx("p",{className:"text-gray-600",children:"We aim to respond to all support tickets within 24 hours during business days. Premium users receive priority support with faster response times."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Do you offer phone support?"}),r.jsx("p",{className:"text-gray-600",children:"Yes, phone support is available for all users during business hours. Premium users have access to extended hours and dedicated support lines."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How can I report a bug?"}),r.jsx("p",{className:"text-gray-600",children:'You can report bugs through our support portal, by email, or by using the "Report Bug" feature in your account dashboard. Please include as much detail as possible, including steps to reproduce the issue.'})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Do you offer training or onboarding?"}),r.jsx("p",{className:"text-gray-600",children:"Yes, we offer free basic onboarding for all users. Premium users have access to personalized training sessions and advanced strategy consultations."})]})]})]})]})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},xX=()=>{const e=kt();return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Policy"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Last Updated: ","June 15, 2025"]})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(rs,{className:"w-6 h-6 text-blue-600"})})]}),r.jsxs("div",{className:"prose prose-lg max-w-none",children:[r.jsx("p",{children:"At Trading Hub, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our trading platform."}),r.jsx("h2",{children:"Information We Collect"}),r.jsx("p",{children:"We collect information that you provide directly to us when you:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Create an account"}),r.jsx("li",{children:"Connect your MT5 broker"}),r.jsx("li",{children:"Set up trading robots"}),r.jsx("li",{children:"Configure TradingView webhooks"}),r.jsx("li",{children:"Purchase tokens or VPS plans"}),r.jsx("li",{children:"Contact our support team"})]}),r.jsx("p",{children:"This information may include:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Personal identification information (name, email address, phone number)"}),r.jsx("li",{children:"Billing information (for token purchases)"}),r.jsx("li",{children:"Trading preferences and settings"}),r.jsx("li",{children:"MT5 account credentials (securely stored and encrypted)"}),r.jsx("li",{children:"Trading history and performance data"})]}),r.jsx("p",{children:"We also automatically collect certain information when you visit our website, including:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"IP address"}),r.jsx("li",{children:"Browser type and version"}),r.jsx("li",{children:"Device information"}),r.jsx("li",{children:"Pages visited and time spent"}),r.jsx("li",{children:"Referral source"})]}),r.jsx("h2",{children:"How We Use Your Information"}),r.jsx("p",{children:"We use the information we collect to:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Provide, maintain, and improve our services"}),r.jsx("li",{children:"Process transactions and send related information"}),r.jsx("li",{children:"Send technical notices, updates, security alerts, and support messages"}),r.jsx("li",{children:"Respond to your comments, questions, and requests"}),r.jsx("li",{children:"Monitor and analyze trends, usage, and activities"}),r.jsx("li",{children:"Detect, prevent, and address technical issues"}),r.jsx("li",{children:"Personalize your experience and provide content that may interest you"})]}),r.jsx("h2",{children:"Data Security"}),r.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal data against accidental or unlawful destruction, loss, alteration, unauthorized disclosure, or access. These measures include:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Encryption of sensitive data at rest and in transit"}),r.jsx("li",{children:"Regular security assessments and penetration testing"}),r.jsx("li",{children:"Strict access controls and authentication procedures"}),r.jsx("li",{children:"Continuous monitoring for suspicious activities"}),r.jsx("li",{children:"Regular backups and disaster recovery planning"})]}),r.jsx("h2",{children:"Data Sharing and Disclosure"}),r.jsx("p",{children:"We may share your information with:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Service providers who perform services on our behalf"}),r.jsx("li",{children:"Financial institutions to process payments"}),r.jsx("li",{children:"Professional advisors, such as lawyers, auditors, and insurers"}),r.jsx("li",{children:"Regulatory authorities, law enforcement agencies, or other third parties when required by law"})]}),r.jsx("p",{children:"We do not sell your personal information to third parties."}),r.jsx("h2",{children:"Your Rights"}),r.jsx("p",{children:"Depending on your location, you may have certain rights regarding your personal data, including:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Right to access your personal data"}),r.jsx("li",{children:"Right to rectify inaccurate or incomplete data"}),r.jsx("li",{children:'Right to erasure (the "right to be forgotten")'}),r.jsx("li",{children:"Right to restrict processing"}),r.jsx("li",{children:"Right to data portability"}),r.jsx("li",{children:"Right to object to processing"}),r.jsx("li",{children:"Right to withdraw consent"})]}),r.jsx("p",{children:"To exercise these rights, please contact us at privacy@tradinghub.com."}),r.jsx("h2",{children:"Cookies and Tracking Technologies"}),r.jsx("p",{children:"We use cookies and similar tracking technologies to track activity on our website and hold certain information. Cookies are files with a small amount of data that may include an anonymous unique identifier. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent."}),r.jsx("h2",{children:"Children's Privacy"}),r.jsx("p",{children:"Our services are not intended for individuals under the age of 18. We do not knowingly collect personal information from children under 18. If we learn we have collected personal information from a child under 18, we will delete that information."}),r.jsx("h2",{children:"International Data Transfers"}),r.jsx("p",{children:"Your information may be transferred to, and maintained on, computers located outside of your state, province, country, or other governmental jurisdiction where the data protection laws may differ from those in your jurisdiction. If you are located outside the United States and choose to provide information to us, please note that we transfer the data to the United States and process it there."}),r.jsx("h2",{children:"Changes to This Privacy Policy"}),r.jsx("p",{children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. You are advised to review this Privacy Policy periodically for any changes.'}),r.jsx("h2",{children:"Contact Us"}),r.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Email: privacy@tradinghub.com"}),r.jsx("li",{children:"Address: 123 Trading Street, Financial District, New York, NY 10004, United States"}),r.jsx("li",{children:"Phone: +1 (555) 123-4567"})]})]}),r.jsx("div",{className:"mt-12 bg-blue-50 rounded-xl p-6 border border-blue-100",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(f0,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Data Security is Our Priority"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"We employ industry-standard security measures to protect your personal information and trading data. Your MT5 credentials are encrypted and securely stored, and we continuously monitor our systems to prevent unauthorized access."})]})]})})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},gX=()=>{const e=kt();return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Service"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Last Updated: ","June 15, 2025"]})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(Pr,{className:"w-6 h-6 text-blue-600"})})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:r.jsx(Js,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Important Notice"}),r.jsx("p",{className:"text-yellow-700 mt-1",children:"Trading involves risk. Past performance is not indicative of future results. You should never trade with money you cannot afford to lose. This platform is for informational and educational purposes only and should not be considered financial advice."})]})]})}),r.jsxs("div",{className:"prose prose-lg max-w-none",children:[r.jsx("p",{children:"Welcome to Trading Hub. By accessing or using our website and services, you agree to be bound by these Terms of Service. Please read them carefully."}),r.jsx("h2",{children:"1. Acceptance of Terms"}),r.jsx("p",{children:'By accessing or using the Trading Hub platform, website, and services (collectively, the "Services"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to all of these Terms, you may not access or use our Services.'}),r.jsx("h2",{children:"2. Description of Services"}),r.jsx("p",{children:"Trading Hub provides a platform for algorithmic trading, connecting to MetaTrader 5 (MT5) brokers, creating and managing trading robots, processing trading signals, and offering VPS hosting services. Our Services are intended for informational and educational purposes only and should not be considered financial advice."}),r.jsx("h2",{children:"3. Account Registration"}),r.jsx("p",{children:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete."}),r.jsx("p",{children:"You are responsible for safeguarding your account credentials and for all activities that occur under your account. You agree to notify us immediately of any unauthorized use of your account or any other breach of security."}),r.jsx("h2",{children:"4. MT5 Broker Connection"}),r.jsx("p",{children:"Our Services allow you to connect to your MT5 broker account. You are solely responsible for:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Providing accurate MT5 credentials"}),r.jsx("li",{children:"Ensuring you have the right to use these credentials"}),r.jsx("li",{children:"Understanding and complying with your broker's terms of service"}),r.jsx("li",{children:"Any trading activities conducted through your broker account"})]}),r.jsx("p",{children:"We store your MT5 credentials securely and use them solely for the purpose of connecting to your broker account to execute trades and retrieve account information as directed by you."}),r.jsx("h2",{children:"5. Trading Risks"}),r.jsx("p",{children:"Trading in financial markets involves substantial risk. You acknowledge and agree that:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Past performance is not indicative of future results"}),r.jsx("li",{children:"You should never trade with money you cannot afford to lose"}),r.jsx("li",{children:"Automated trading systems are subject to failure and may not perform as expected"}),r.jsx("li",{children:"Market conditions can change rapidly and unpredictably"}),r.jsx("li",{children:"You are solely responsible for all trading decisions and outcomes"})]}),r.jsx("h2",{children:"6. Token System"}),r.jsx("p",{children:"Our platform uses a token system for accessing premium features. You acknowledge that:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Tokens have no cash value and cannot be redeemed for cash"}),r.jsx("li",{children:"Token purchases are final and non-refundable"}),r.jsx("li",{children:"We reserve the right to modify token pricing and availability"}),r.jsx("li",{children:"Tokens may expire as specified at the time of purchase"})]}),r.jsx("h2",{children:"7. VPS Hosting"}),r.jsx("p",{children:"Our VPS hosting services are subject to the following terms:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"VPS resources are allocated based on the plan you purchase"}),r.jsx("li",{children:"We reserve the right to suspend or terminate VPS services that consume excessive resources"}),r.jsx("li",{children:"We provide no guarantee of uptime, though we strive for 99.9% availability"}),r.jsx("li",{children:"You are responsible for all activities conducted through your VPS"}),r.jsx("li",{children:"VPS subscriptions are billed according to the terms specified at purchase"})]}),r.jsx("h2",{children:"8. Intellectual Property"}),r.jsx("p",{children:"All content, features, and functionality of our Services, including but not limited to text, graphics, logos, icons, images, audio clips, digital downloads, data compilations, software, and the compilation thereof, are owned by Trading Hub, its licensors, or other providers of such material."}),r.jsx("p",{children:"You may not reproduce, distribute, modify, create derivative works of, publicly display, publicly perform, republish, download, store, or transmit any of the material on our Services without our prior written consent."}),r.jsx("h2",{children:"9. User Content"}),r.jsx("p",{children:'You retain ownership of any content you submit to our Services ("User Content"). By providing User Content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, adapt, publish, translate, distribute, and display such User Content.'}),r.jsx("p",{children:"You represent and warrant that your User Content does not violate any third-party rights and complies with all applicable laws and regulations."}),r.jsx("h2",{children:"10. Prohibited Uses"}),r.jsx("p",{children:"You agree not to use our Services:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"In any way that violates any applicable law or regulation"}),r.jsx("li",{children:"To engage in market manipulation or other prohibited trading practices"}),r.jsx("li",{children:"To attempt to gain unauthorized access to our systems or other users' accounts"}),r.jsx("li",{children:"To transmit any malware, viruses, or other harmful code"}),r.jsx("li",{children:"To interfere with the proper functioning of our Services"}),r.jsx("li",{children:"To engage in any activity that could damage, disable, or impair our Services"})]}),r.jsx("h2",{children:"11. Termination"}),r.jsx("p",{children:"We reserve the right to terminate or suspend your account and access to our Services at our sole discretion, without notice, for any reason, including if we believe you have violated these Terms."}),r.jsx("h2",{children:"12. Disclaimer of Warranties"}),r.jsx("p",{children:'OUR SERVICES ARE PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT ANY WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED. WE DISCLAIM ALL WARRANTIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.'}),r.jsx("p",{children:"WE DO NOT WARRANT THAT OUR SERVICES WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE, OR THAT ANY DEFECTS WILL BE CORRECTED."}),r.jsx("h2",{children:"13. Limitation of Liability"}),r.jsx("p",{children:"IN NO EVENT SHALL TRADING HUB, ITS OFFICERS, DIRECTORS, EMPLOYEES, OR AGENTS BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS, DATA, USE, OR OTHER INTANGIBLE LOSSES, RESULTING FROM:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"YOUR ACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE OUR SERVICES"}),r.jsx("li",{children:"ANY CONDUCT OR CONTENT OF ANY THIRD PARTY ON OUR SERVICES"}),r.jsx("li",{children:"ANY TRADING DECISIONS MADE USING OUR SERVICES"}),r.jsx("li",{children:"ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SERVERS AND/OR ANY PERSONAL INFORMATION STORED THEREIN"})]}),r.jsx("h2",{children:"14. Indemnification"}),r.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Trading Hub and its officers, directors, employees, and agents from and against any and all claims, liabilities, damages, losses, costs, expenses, or fees (including reasonable attorneys' fees) arising from:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Your use of our Services"}),r.jsx("li",{children:"Your violation of these Terms"}),r.jsx("li",{children:"Your violation of any rights of another"}),r.jsx("li",{children:"Your User Content"})]}),r.jsx("h2",{children:"15. Governing Law"}),r.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of New York, without regard to its conflict of law provisions. Any dispute arising from these Terms shall be subject to the exclusive jurisdiction of the courts located in New York County, New York."}),r.jsx("h2",{children:"16. Changes to Terms"}),r.jsx("p",{children:'We reserve the right to modify these Terms at any time. We will provide notice of any material changes by posting the updated Terms on this page and updating the "Last Updated" date. Your continued use of our Services after such changes constitutes your acceptance of the new Terms.'}),r.jsx("h2",{children:"17. Contact Information"}),r.jsx("p",{children:"If you have any questions about these Terms, please contact us at:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Email: legal@tradinghub.com"}),r.jsx("li",{children:"Address: 123 Trading Street, Financial District, New York, NY 10004, United States"}),r.jsx("li",{children:"Phone: +1 (555) 123-4567"})]})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},yX=()=>{const e=kt(),[t,s]=_.useState(""),[n,i]=_.useState({"getting-started":!0,"broker-connection":!1,"trading-robots":!1,"tradingview-webhooks":!1,"vps-hosting":!1,"risk-management":!1}),a=u=>{i(d=>({...d,[u]:!d[u]}))},o=u=>t?u.filter(d=>d.title.toLowerCase().includes(t.toLowerCase())||d.content.toLowerCase().includes(t.toLowerCase())):u,l=[{id:"getting-started",title:"Getting Started",icon:r.jsx(Qf,{className:"w-5 h-5 text-blue-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Welcome to Trading Hub</h3>
        <p class="mb-4">This guide will help you get started with our platform and set up your first trading robot.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Quick Start Steps</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Create an account or sign in</li>
          <li>Connect your MT5 broker</li>
          <li>Choose between Algorithmic Trading or Live Trading</li>
          <li>Create your first trading robot</li>
          <li>Set up TradingView webhooks (optional)</li>
          <li>Monitor your trades and performance</li>
        </ol>
        
        <p class="mb-4">The platform offers two main modes:</p>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>Algorithmic Trading</strong> - Create and manage automated trading robots</li>
          <li><strong>Live Trading</strong> - Execute manual trades with advanced tools</li>
        </ul>
        
        <p>Each section of this documentation covers a specific aspect of the platform in detail.</p>
      `},{id:"broker-connection",title:"Broker Connection",icon:r.jsx(Pr,{className:"w-5 h-5 text-green-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Connecting Your MT5 Broker</h3>
        <p class="mb-4">To use the platform, you need to connect your MetaTrader 5 (MT5) broker account.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Connection Steps</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the Broker Setup page after login</li>
          <li>Select your account type (Live or Prop)</li>
          <li>Enter your MT5 account number</li>
          <li>Enter your MT5 password</li>
          <li>Select your broker's server from the dropdown</li>
          <li>Click "Connect Broker"</li>
        </ol>
        
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
          <h4 class="font-semibold text-yellow-800 mb-2">Important Notes</h4>
          <ul class="list-disc pl-5 space-y-1 text-yellow-700">
            <li>Your MT5 credentials are securely encrypted</li>
            <li>We never store your password in plain text</li>
            <li>You can connect multiple MT5 accounts</li>
            <li>Prop accounts may use symbols with .raw extension</li>
          </ul>
        </div>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Supported Brokers</h4>
        <p class="mb-2">We support a wide range of MT5 brokers, including:</p>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li>RoboForex-ECN</li>
          <li>ACGMarkets-Main</li>
          <li>Alpari-MT5-Demo</li>
          <li>FXCM-USDDemo01</li>
          <li>ICMarkets-Demo02</li>
          <li>And many others...</li>
        </ul>
        
        <p>If your broker isn't listed, contact our support team for assistance.</p>
      `},{id:"trading-robots",title:"Trading Robots",icon:r.jsx(Pr,{className:"w-5 h-5 text-purple-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Creating and Managing Trading Robots</h3>
        <p class="mb-4">Trading robots automate your trading strategies based on predefined rules.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Creating a Robot</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the Algorithmic Trading dashboard</li>
          <li>Click "Create Robot"</li>
          <li>Follow the 3-step wizard:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Basic Info - Name, symbol, strategy</li>
              <li>Risk Settings - Risk level, lot size, stop loss, take profit</li>
              <li>Review - Confirm and create</li>
            </ul>
          </li>
          <li>Activate your robot to start trading</li>
        </ol>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Available Strategies</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>Scalping</strong> - Quick trades capturing small price movements</li>
          <li><strong>Trend Following</strong> - Follow market trends for sustained moves</li>
          <li><strong>Mean Reversion</strong> - Trade when price deviates from average</li>
          <li><strong>Breakout</strong> - Trade when price breaks key levels</li>
          <li><strong>Grid Trading</strong> - Place orders at regular intervals</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Risk Levels</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>LOW</strong> - Conservative approach with smaller position sizes</li>
          <li><strong>MEDIUM</strong> - Balanced approach with moderate risk</li>
          <li><strong>HIGH</strong> - Aggressive approach with larger position sizes</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Managing Robots</h4>
        <p class="mb-2">You can manage your robots from the dashboard:</p>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li>Activate/deactivate robots</li>
          <li>View performance metrics</li>
          <li>Edit robot settings</li>
          <li>Delete robots</li>
        </ul>
        
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
          <h4 class="font-semibold text-blue-800 mb-2">Pro Tip</h4>
          <p class="text-blue-700">
            Create multiple robots with different strategies and risk levels to diversify your trading approach.
          </p>
        </div>
      `},{id:"tradingview-webhooks",title:"TradingView Webhooks",icon:r.jsx(Pr,{className:"w-5 h-5 text-orange-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Setting Up TradingView Webhooks</h3>
        <p class="mb-4">TradingView webhooks allow you to automatically execute trades based on TradingView alerts.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Setup Process</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the Webhooks tab in the dashboard</li>
          <li>Copy your unique webhook URL</li>
          <li>Copy your User ID (critical for authentication)</li>
          <li>In TradingView, create an alert:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Select "Webhook" as the notification</li>
              <li>Paste the webhook URL</li>
              <li>Create a JSON payload with required fields</li>
            </ul>
          </li>
          <li>Save the alert</li>
        </ol>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">JSON Payload Format</h4>
        <div class="bg-gray-900 text-green-400 p-4 rounded-lg mb-4 relative">
          <pre class="overflow-x-auto text-sm">
{
  "symbol": "EURUSD",
  "action": "BUY",
  "userId": "your-user-id",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900,
  "timestamp": "{{time}}",
  "strategy": "Your Strategy Name",
  "botToken": "your-bot-token"
}
          </pre>
        </div>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Required Fields</h4>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li><strong>symbol</strong> - Trading pair (e.g., "EURUSD")</li>
          <li><strong>action</strong> - "BUY", "SELL", or "CLOSE"</li>
          <li><strong>userId</strong> - Your unique ID from the platform</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Optional Fields</h4>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li><strong>volume</strong> - Trade size in lots (defaults to robot's max lot size)</li>
          <li><strong>stopLoss/takeProfit</strong> - Price levels (if omitted, robot settings are used)</li>
          <li><strong>timestamp</strong> - Use {{time}} for TradingView's dynamic time</li>
          <li><strong>strategy</strong> - Description of the signal</li>
          <li><strong>botToken</strong> - Target a specific robot (if omitted, any matching robot will execute)</li>
        </ul>
        
        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
          <h4 class="font-semibold text-red-800 mb-2">Important</h4>
          <p class="text-red-700">
            The <strong>userId</strong> field is required in every webhook payload. Without it, signals will not be processed.
          </p>
        </div>
      `},{id:"vps-hosting",title:"VPS Hosting",icon:r.jsx(Pr,{className:"w-5 h-5 text-indigo-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">VPS Hosting for 24/7 Trading</h3>
        <p class="mb-4">VPS (Virtual Private Server) hosting allows your trading robots to run continuously, even when your computer is off.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Benefits of VPS Hosting</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>24/7 Operation</strong> - Your robots trade continuously without interruption</li>
          <li><strong>Reduced Latency</strong> - Servers located close to broker data centers for faster execution</li>
          <li><strong>Reliability</strong> - Enterprise-grade infrastructure with 99.9% uptime</li>
          <li><strong>Resource Monitoring</strong> - Track CPU, memory, and network usage</li>
          <li><strong>Advanced Features</strong> - Access to trailing stops and other premium features</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Available Plans</h4>
        <div class="overflow-x-auto mb-6">
          <table class="min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Plan</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tokens</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Max Robots</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Features</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-300">
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Basic</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10</td>
                <td class="px-6 py-4 text-sm text-gray-500">24/7 trading, basic trailing stops</td>
              </tr>
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Pro</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">250</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">50</td>
                <td class="px-6 py-4 text-sm text-gray-500">Advanced trailing stops, priority execution</td>
              </tr>
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Enterprise</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">500</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Unlimited</td>
                <td class="px-6 py-4 text-sm text-gray-500">Custom algorithms, API access, white label options</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">How to Purchase</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the VPS Hosting page</li>
          <li>Select your desired plan</li>
          <li>Purchase using your token balance</li>
          <li>Your robots will be automatically deployed to the VPS</li>
          <li>Monitor performance from your dashboard</li>
        </ol>
        
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
          <h4 class="font-semibold text-blue-800 mb-2">Pro Tip</h4>
          <p class="text-blue-700">
            VPS hosting is especially valuable for strategies that require quick reaction times or 24/7 monitoring of the markets.
          </p>
        </div>
      `},{id:"risk-management",title:"Risk Management",icon:r.jsx(Pr,{className:"w-5 h-5 text-red-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Risk Management Tools</h3>
        <p class="mb-4">Effective risk management is crucial for long-term trading success. Our platform offers several tools to help you manage risk.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Position Sizing</h4>
        <p class="mb-4">The platform can automatically calculate optimal position sizes based on your risk parameters:</p>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>In the trading panel, set your stop loss level</li>
          <li>Click the calculator button next to volume</li>
          <li>The system will calculate the optimal lot size based on:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Your account balance</li>
              <li>The currency pair's pip value</li>
              <li>The stop loss distance</li>
              <li>Your risk percentage (default 2%)</li>
            </ul>
          </li>
        </ol>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Risk Manager Settings</h4>
        <p class="mb-2">Configure these settings in the Risk Manager tab:</p>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>Max Risk Per Trade</strong> - Limit risk for individual trades (1-2% recommended)</li>
          <li><strong>Max Daily Loss</strong> - Set a maximum daily loss limit (5-10% recommended)</li>
          <li><strong>Max Drawdown</strong> - Set a maximum account drawdown limit</li>
          <li><strong>Max Open Positions</strong> - Limit the number of simultaneous open positions</li>
          <li><strong>Max Lot Size</strong> - Set a maximum lot size for all trades</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Risk Analysis</h4>
        <p class="mb-2">The platform provides real-time risk analysis:</p>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li>Current risk exposure by position</li>
          <li>Portfolio-level risk metrics</li>
          <li>Correlation between open positions</li>
          <li>Risk-adjusted performance metrics</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Best Practices</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>The 2% Rule</strong> - Never risk more than 2% of your account on a single trade</li>
          <li><strong>Diversification</strong> - Trade multiple symbols and strategies to spread risk</li>
          <li><strong>Correlation Awareness</strong> - Avoid highly correlated positions</li>
          <li><strong>Always Use Stop Losses</strong> - Never trade without downside protection</li>
          <li><strong>Regular Review</strong> - Analyze your trading performance weekly</li>
        </ul>
        
        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
          <h4 class="font-semibold text-red-800 mb-2">Important</h4>
          <p class="text-red-700">
            Remember that all trading involves risk. No risk management system can eliminate risk entirely. Never trade with money you cannot afford to lose.
          </p>
        </div>
      `}],c=o(l);return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Documentation"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive guides to help you get the most out of the Trading Hub platform"}),r.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ji,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search documentation...",value:t,onChange:u=>s(u.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-4 sticky top-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentation"}),r.jsx("nav",{className:"space-y-1",children:l.map(u=>r.jsxs("button",{onClick:()=>{const d=document.getElementById(u.id);d&&d.scrollIntoView({behavior:"smooth"}),i(h=>({...h,[u.id]:!0}))},className:`w-full flex items-center space-x-2 px-3 py-2 text-sm rounded-lg transition-colors ${n[u.id]?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[u.icon,r.jsx("span",{children:u.title})]},u.id))}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Additional Resources"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("a",{href:"/api-reference",className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[r.jsx(h0,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:"API Reference"})]}),r.jsxs("a",{href:"/community",className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[r.jsx(Cs,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:"Community Forum"})]}),r.jsxs("a",{href:"/blog",className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[r.jsx(Qf,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:"Blog Tutorials"})]})]})]})]})}),r.jsxs("div",{className:"lg:col-span-3",children:[c.length===0?r.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-8 text-center",children:[r.jsx(Qf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No results found"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:[`We couldn't find any documentation matching "`,t,'"']}),r.jsx("button",{onClick:()=>s(""),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear search"})]}):r.jsx("div",{className:"space-y-8",children:c.map(u=>r.jsxs("div",{id:u.id,className:"bg-white shadow-sm border border-gray-200 rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between cursor-pointer",onClick:()=>a(u.id),children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[u.icon,r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u.title})]}),n[u.id]?r.jsx(bL,{className:"w-5 h-5 text-gray-500"}):r.jsx(m_,{className:"w-5 h-5 text-gray-500"})]}),n[u.id]&&r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:u.content}})})]},u.id))}),r.jsxs("div",{className:"mt-12 bg-blue-50 rounded-xl p-8 border border-blue-100",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Need More Help?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"If you couldn't find what you're looking for in our documentation, there are several ways to get additional help:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Contact Support"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Our support team is available to help you with any questions or issues."}),r.jsxs("a",{href:"/contact",className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx("span",{children:"Contact Support"}),r.jsx(es,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Join the Community"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Connect with other traders and get help from the community."}),r.jsxs("a",{href:"/community",className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx("span",{children:"Visit Community Forum"}),r.jsx(es,{className:"w-4 h-4"})]})]})]})]})]})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},bX=()=>{const e=kt(),[t,s]=_.useState(""),[n,i]=_.useState("account-get"),[a,o]=_.useState(null),l=m=>{navigator.clipboard.writeText(m),o(m),setTimeout(()=>o(null),2e3)},c=[{id:"account",name:"Account",icon:ir,endpoints:[{id:"account-get",method:"GET",path:"/v1/account",description:"Get account information"},{id:"account-balance",method:"GET",path:"/v1/account/balance",description:"Get account balance"},{id:"account-tokens",method:"GET",path:"/v1/account/tokens",description:"Get token balance"}]},{id:"trading",name:"Trading",icon:Qs,endpoints:[{id:"positions-get",method:"GET",path:"/v1/positions",description:"Get open positions"},{id:"orders-post",method:"POST",path:"/v1/orders",description:"Place a new order"},{id:"positions-delete",method:"DELETE",path:"/v1/positions/{ticket}",description:"Close a position"},{id:"symbols-get",method:"GET",path:"/v1/symbols",description:"Get available symbols"}]},{id:"robots",name:"Robots",icon:vL,endpoints:[{id:"robots-get",method:"GET",path:"/v1/robots",description:"Get all robots"},{id:"robot-get",method:"GET",path:"/v1/robots/{id}",description:"Get a specific robot"},{id:"robots-post",method:"POST",path:"/v1/robots",description:"Create a new robot"},{id:"robots-put",method:"PUT",path:"/v1/robots/{id}",description:"Update a robot"},{id:"robots-delete",method:"DELETE",path:"/v1/robots/{id}",description:"Delete a robot"},{id:"robots-toggle",method:"PUT",path:"/v1/robots/{id}/toggle",description:"Toggle robot active status"}]},{id:"signals",name:"Signals",icon:rs,endpoints:[{id:"signals-get",method:"GET",path:"/v1/signals",description:"Get trading signals"},{id:"signals-post",method:"POST",path:"/v1/signals",description:"Create a new signal"}]}],u=c.map(m=>({...m,endpoints:m.endpoints.filter(x=>x.path.toLowerCase().includes(t.toLowerCase())||x.description.toLowerCase().includes(t.toLowerCase()))})).filter(m=>m.endpoints.length>0),h=(()=>{for(const m of c){const x=m.endpoints.find(g=>g.id===n);if(x)return{...x,category:m.name}}return null})(),f=m=>{switch(m){case"GET":return"bg-blue-100 text-blue-800";case"POST":return"bg-green-100 text-green-800";case"PUT":return"bg-yellow-100 text-yellow-800";case"DELETE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"API Reference"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Complete reference documentation for the Trading Hub API"}),r.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ji,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search API endpoints...",value:t,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-4 sticky top-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Endpoints"}),r.jsxs("nav",{className:"space-y-4",children:[u.map(m=>{const x=m.icon;return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium text-gray-900 mb-2",children:[r.jsx(x,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:m.name})]}),m.endpoints.map(g=>r.jsxs("button",{onClick:()=>i(g.id),className:`w-full flex items-center space-x-2 px-3 py-2 text-sm rounded-lg transition-colors ${n===g.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${f(g.method)}`,children:g.method}),r.jsx("span",{className:"text-left truncate",children:g.path})]},g.id))]},m.id)}),u.length===0&&r.jsx("div",{className:"text-center py-4",children:r.jsxs("p",{className:"text-gray-500",children:['No endpoints found matching "',t,'"']})})]})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsx("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:h?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded text-sm font-medium ${f(h.method)}`,children:h.method}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:h.path})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:h.description}),n==="account-get"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`GET /v1/account HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY`}),r.jsx("button",{onClick:()=>l(`GET /v1/account HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`GET /v1/account HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Response"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`HTTP/1.1 200 OK
Content-Type: application/json

{
  "accountNumber": "12345678",
  "serverName": "RoboForex-ECN",
  "balance": 10000.00,
  "equity": 10050.25,
  "margin": 250.50,
  "freeMargin": 9799.75,
  "marginLevel": 4011.28,
  "currency": "USD",
  "leverage": 100,
  "profit": 50.25
}`}),r.jsx("button",{onClick:()=>l(`HTTP/1.1 200 OK
Content-Type: application/json

{
  "accountNumber": "12345678",
  "serverName": "RoboForex-ECN",
  "balance": 10000.00,
  "equity": 10050.25,
  "margin": 250.50,
  "freeMargin": 9799.75,
  "marginLevel": 4011.28,
  "currency": "USD",
  "leverage": 100,
  "profit": 50.25
}`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`HTTP/1.1 200 OK
Content-Type: application/json

{
  "accountNumber": "12345678",
  "serverName": "RoboForex-ECN",
  "balance": 10000.00,
  "equity": 10050.25,
  "margin": 250.50,
  "freeMargin": 9799.75,
  "marginLevel": 4011.28,
  "currency": "USD",
  "leverage": 100,
  "profit": 50.25
}`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Response Fields"}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"accountNumber"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"MT5 account number"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"serverName"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"MT5 server name"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"balance"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account balance"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"equity"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account equity (balance + floating P/L)"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"margin"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Used margin"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"freeMargin"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Free margin available for new positions"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"marginLevel"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Margin level percentage"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"currency"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account currency"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"leverage"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account leverage"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"profit"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Current floating profit/loss"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Error Responses"}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status Code"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"401"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Unauthorized - Invalid or missing API key"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"403"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Forbidden - Insufficient permissions"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"500"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Internal Server Error - Server-side error"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Code Examples"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"JavaScript"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`// Using fetch
const getAccountInfo = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/account', {
    method: 'GET',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Account Info:', data);
  return data;
};

getAccountInfo().catch(console.error);`}),r.jsx("button",{onClick:()=>l(`// Using fetch
const getAccountInfo = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/account', {
    method: 'GET',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Account Info:', data);
  return data;
};

getAccountInfo().catch(console.error);`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`// Using fetch
const getAccountInfo = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/account', {
    method: 'GET',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Account Info:', data);
  return data;
};

getAccountInfo().catch(console.error);`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Python"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`import requests

def get_account_info():
    url = "https://api.tradinghub.com/v1/account"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY"
    }
    
    response = requests.get(url, headers=headers)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Account Info:", data)
    return data

try:
    get_account_info()
except requests.exceptions.RequestException as e:
    print("Error:", e)`}),r.jsx("button",{onClick:()=>l(`import requests

def get_account_info():
    url = "https://api.tradinghub.com/v1/account"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY"
    }
    
    response = requests.get(url, headers=headers)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Account Info:", data)
    return data

try:
    get_account_info()
except requests.exceptions.RequestException as e:
    print("Error:", e)`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`import requests

def get_account_info():
    url = "https://api.tradinghub.com/v1/account"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY"
    }
    
    response = requests.get(url, headers=headers)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Account Info:", data)
    return data

try:
    get_account_info()
except requests.exceptions.RequestException as e:
    print("Error:", e)`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]})]})]})]}),n==="orders-post"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`POST /v1/orders HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json

{
  "symbol": "EURUSD",
  "action": "BUY",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900
}`}),r.jsx("button",{onClick:()=>l(`POST /v1/orders HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json

{
  "symbol": "EURUSD",
  "action": "BUY",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900
}`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`POST /v1/orders HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json

{
  "symbol": "EURUSD",
  "action": "BUY",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900
}`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request Parameters"}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parameter"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"symbol"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yes"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:'Trading symbol (e.g., "EURUSD")'})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"action"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yes"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:'Order type: "BUY", "SELL", or "CLOSE"'})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"volume"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yes"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Trade size in lots (e.g., 0.01)"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"stopLoss"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"No"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Stop loss price level"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"takeProfit"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"No"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Take profit price level"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Response"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "orderId": 12345678,
  "message": "Order executed successfully"
}`}),r.jsx("button",{onClick:()=>l(`HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "orderId": 12345678,
  "message": "Order executed successfully"
}`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "orderId": 12345678,
  "message": "Order executed successfully"
}`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Error Responses"}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status Code"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Example"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"400"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Bad Request - Invalid parameters"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "invalid_parameter",
  "message": "Invalid symbol"
}`})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"401"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Unauthorized - Invalid or missing API key"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "unauthorized",
  "message": "Invalid API key"
}`})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"403"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Forbidden - Insufficient permissions"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "forbidden",
  "message": "Insufficient permissions"
}`})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"429"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Too Many Requests - Rate limit exceeded"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "rate_limit_exceeded",
  "message": "Rate limit exceeded"
}`})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"500"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Internal Server Error"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "server_error",
  "message": "Internal server error"
}`})})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Code Examples"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"JavaScript"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`// Using fetch
const placeOrder = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/orders', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      symbol: 'EURUSD',
      action: 'BUY',
      volume: 0.01,
      stopLoss: 1.0800,
      takeProfit: 1.0900
    })
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Order placed:', data);
  return data;
};

placeOrder().catch(console.error);`}),r.jsx("button",{onClick:()=>l(`// Using fetch
const placeOrder = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/orders', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      symbol: 'EURUSD',
      action: 'BUY',
      volume: 0.01,
      stopLoss: 1.0800,
      takeProfit: 1.0900
    })
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Order placed:', data);
  return data;
};

placeOrder().catch(console.error);`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`// Using fetch
const placeOrder = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/orders', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      symbol: 'EURUSD',
      action: 'BUY',
      volume: 0.01,
      stopLoss: 1.0800,
      takeProfit: 1.0900
    })
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Order placed:', data);
  return data;
};

placeOrder().catch(console.error);`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Python"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`import requests
import json

def place_order():
    url = "https://api.tradinghub.com/v1/orders"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    }
    payload = {
        "symbol": "EURUSD",
        "action": "BUY",
        "volume": 0.01,
        "stopLoss": 1.0800,
        "takeProfit": 1.0900
    }
    
    response = requests.post(url, headers=headers, json=payload)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Order placed:", data)
    return data

try:
    place_order()
except requests.exceptions.RequestException as e:
    print("Error:", e)`}),r.jsx("button",{onClick:()=>l(`import requests
import json

def place_order():
    url = "https://api.tradinghub.com/v1/orders"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    }
    payload = {
        "symbol": "EURUSD",
        "action": "BUY",
        "volume": 0.01,
        "stopLoss": 1.0800,
        "takeProfit": 1.0900
    }
    
    response = requests.post(url, headers=headers, json=payload)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Order placed:", data)
    return data

try:
    place_order()
except requests.exceptions.RequestException as e:
    print("Error:", e)`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`import requests
import json

def place_order():
    url = "https://api.tradinghub.com/v1/orders"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    }
    payload = {
        "symbol": "EURUSD",
        "action": "BUY",
        "volume": 0.01,
        "stopLoss": 1.0800,
        "takeProfit": 1.0900
    }
    
    response = requests.post(url, headers=headers, json=payload)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Order placed:", data)
    return data

try:
    place_order()
except requests.exceptions.RequestException as e:
    print("Error:", e)`?r.jsx(Qt,{className:"w-4 h-4"}):r.jsx(Hs,{className:"w-4 h-4"})})]})})]})]})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(h0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"Select an API endpoint from the sidebar"})]})})})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},vX=()=>{const e=kt(),[t,s]=_.useState(""),[n,i]=_.useState(null),a=[{id:1,title:"Mastering Risk Management in Algorithmic Trading",excerpt:"Learn the essential principles of risk management that every algorithmic trader should implement to protect their capital and maximize returns.",author:"Alex Morgan",date:"June 15, 2025",category:"Risk Management",readTime:"8 min read",image:"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,title:"Setting Up TradingView Webhooks for Automated Trading",excerpt:"A step-by-step guide to configuring TradingView alerts with webhooks to automate your trading strategies on the Trading Hub platform.",author:"Sarah Chen",date:"June 10, 2025",category:"Tutorials",readTime:"12 min read",image:"https://images.pexels.com/photos/6770609/pexels-photo-6770609.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,title:"The Benefits of 24/7 VPS Hosting for Traders",excerpt:"Discover why VPS hosting is essential for serious algorithmic traders and how it can improve your trading performance and reliability.",author:"Michael Rodriguez",date:"June 5, 2025",category:"VPS Hosting",readTime:"6 min read",image:"https://images.pexels.com/photos/325229/pexels-photo-325229.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:4,title:"Comparing Different Trading Strategies for Volatile Markets",excerpt:"An in-depth analysis of which algorithmic trading strategies perform best during periods of high market volatility.",author:"Emma Wilson",date:"May 28, 2025",category:"Strategy",readTime:"10 min read",image:"https://images.pexels.com/photos/6781341/pexels-photo-6781341.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:5,title:"How to Optimize Your MT5 Connection for Faster Execution",excerpt:"Technical tips to minimize latency and improve execution speed when connecting to your MT5 broker through Trading Hub.",author:"David Kim",date:"May 20, 2025",category:"Technical",readTime:"7 min read",image:"https://images.pexels.com/photos/7567443/pexels-photo-7567443.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:6,title:"Building a Diversified Portfolio of Trading Robots",excerpt:"Learn how to create and manage multiple trading robots with complementary strategies to build a robust, diversified trading portfolio.",author:"Alex Morgan",date:"May 15, 2025",category:"Strategy",readTime:"9 min read",image:"https://images.pexels.com/photos/8370752/pexels-photo-8370752.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}],o=Array.from(new Set(a.map(c=>c.category))),l=a.filter(c=>{const u=c.title.toLowerCase().includes(t.toLowerCase())||c.excerpt.toLowerCase().includes(t.toLowerCase())||c.author.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase()),d=n?c.category===n:!0;return u&&d});return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Insights, tutorials, and updates from the Trading Hub team"}),r.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ji,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search articles...",value:t,onChange:c=>s(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:[r.jsx("button",{onClick:()=>i(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n===null?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),o.map(c=>r.jsx("button",{onClick:()=>i(c),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n===c?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c},c))]})]}),l.length>0&&!t&&!n&&r.jsx("div",{className:"mb-16",children:r.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[r.jsx("div",{className:"h-64 lg:h-auto",children:r.jsx("img",{src:l[0].image,alt:l[0].title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:l[0].category}),r.jsxs("span",{className:"text-gray-500 text-sm flex items-center",children:[r.jsx(rr,{className:"w-3 h-3 mr-1"}),l[0].readTime]})]}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:l[0].title}),r.jsx("p",{className:"text-gray-600 mb-6",children:l[0].excerpt}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"bg-blue-100 w-8 h-8 rounded-full flex items-center justify-center",children:r.jsx(_s,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:l[0].author}),r.jsx("p",{className:"text-xs text-gray-500",children:l[0].date})]})]}),r.jsxs("button",{onClick:()=>e(`/blog/${l[0].id}`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx("span",{children:"Read more"}),r.jsx(es,{className:"w-4 h-4"})]})]})]})]})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.slice(n||t?0:1).map(c=>r.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:c.category}),r.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:[r.jsx(rr,{className:"w-3 h-3 mr-1"}),c.readTime]})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:c.title}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:c.excerpt}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"bg-blue-100 w-8 h-8 rounded-full flex items-center justify-center",children:r.jsx(_s,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.author}),r.jsx("p",{className:"text-xs text-gray-500",children:c.date})]})]}),r.jsx("button",{onClick:()=>e(`/blog/${c.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors",children:r.jsx(es,{className:"w-5 h-5"})})]})]})]},c.id))}),l.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No articles found matching your criteria"}),r.jsx("button",{onClick:()=>{s(""),i(null)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear filters"})]}),r.jsx("div",{className:"mt-16 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-8 text-white",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Subscribe to Our Newsletter"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"Get the latest trading insights, tutorials, and platform updates delivered straight to your inbox."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-lg mx-auto",children:[r.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-1 px-4 py-3 rounded-lg focus:ring-2 focus:ring-white focus:border-transparent"}),r.jsx("button",{className:"px-6 py-3 bg-white text-blue-700 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Subscribe"})]}),r.jsx("p",{className:"text-blue-200 text-sm mt-4",children:"We respect your privacy. Unsubscribe at any time."})]})})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},wX=()=>{const e=kt(),t=[{id:1,name:"Sarah Johnson",contributions:156,avatar:r.jsx(_s,{className:"w-8 h-8 text-blue-600"})},{id:2,name:"Michael Chen",contributions:142,avatar:r.jsx(_s,{className:"w-8 h-8 text-blue-600"})},{id:3,name:"David Rodriguez",contributions:128,avatar:r.jsx(_s,{className:"w-8 h-8 text-blue-600"})},{id:4,name:"Emma Wilson",contributions:115,avatar:r.jsx(_s,{className:"w-8 h-8 text-blue-600"})},{id:5,name:"James Taylor",contributions:103,avatar:r.jsx(_s,{className:"w-8 h-8 text-blue-600"})}],s=[{id:1,name:"Trading Strategies",posts:342,icon:r.jsx(Se,{className:"w-5 h-5 text-blue-600"})},{id:2,name:"Platform Support",posts:256,icon:r.jsx(eo,{className:"w-5 h-5 text-green-600"})},{id:3,name:"Robot Development",posts:189,icon:r.jsx(ix,{className:"w-5 h-5 text-purple-600"})},{id:4,name:"TradingView Integration",posts:175,icon:r.jsx(y_,{className:"w-5 h-5 text-orange-600"})},{id:5,name:"Risk Management",posts:142,icon:r.jsx(ux,{className:"w-5 h-5 text-yellow-600"})}],n=[{id:1,title:"Algorithmic Trading Webinar",date:"June 25, 2025",time:"2:00 PM EST",description:"Learn advanced algorithmic trading strategies from professional traders.",host:"Alex Morgan, CEO"},{id:2,title:"Platform Feature Showcase",date:"July 10, 2025",time:"1:00 PM EST",description:"Demonstration of new platform features and improvements.",host:"Sarah Chen, CTO"},{id:3,title:"Community Q&A Session",date:"July 15, 2025",time:"3:00 PM EST",description:"Open forum for community members to ask questions and provide feedback.",host:"Michael Rodriguez, Head of Product"}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Trading Hub Community"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Connect with fellow traders, share strategies, and learn from each other in our growing community"}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Join the Community"}),r.jsx("button",{className:"px-6 py-3 bg-gray-100 text-gray-800 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"Browse the Forum"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100 text-center",children:[r.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Cs,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"10,000+"}),r.jsx("p",{className:"text-blue-700",children:"Active Community Members"})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-100 text-center",children:[r.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(eo,{className:"w-6 h-6 text-green-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"25,000+"}),r.jsx("p",{className:"text-green-700",children:"Forum Posts"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-100 text-center",children:[r.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ix,{className:"w-6 h-6 text-purple-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"500+"}),r.jsx("p",{className:"text-purple-700",children:"Shared Trading Strategies"})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Popular Forum Categories"}),r.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx("span",{children:"View All Categories"}),r.jsx(es,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:i.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),r.jsxs("p",{className:"text-gray-500",children:[i.posts," posts"]})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors text-sm",children:"Browse discussions →"})})]},i.id))})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Top Contributors"}),r.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx("span",{children:"View All Members"}),r.jsx(es,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contributions"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profile"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 rounded-full p-1",children:i.avatar}),r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.name})})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ux,{className:"w-4 h-4 text-yellow-500 mr-1"}),r.jsxs("span",{className:"text-sm text-gray-900",children:[i.contributions," contributions"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors text-sm",children:"View Profile"})})]},i.id))})]})})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upcoming Events"}),r.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx("span",{children:"View All Events"}),r.jsx(es,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(i=>r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(Za,{className:"w-5 h-5 text-blue-600"}),r.jsxs("span",{className:"text-blue-600 font-medium",children:[i.date," • ",i.time]})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Host: ",i.host]}),r.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors text-sm",children:"Register →"})]})]},i.id))})]}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 border border-blue-100",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Community Guidelines"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Our Community Values"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),r.jsxs("span",{children:[r.jsx("strong",{children:"Respect:"})," Treat all community members with respect and courtesy"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),r.jsxs("span",{children:[r.jsx("strong",{children:"Collaboration:"})," Share knowledge and help others succeed"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),r.jsxs("span",{children:[r.jsx("strong",{children:"Quality:"})," Contribute thoughtful, well-researched content"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),r.jsxs("span",{children:[r.jsx("strong",{children:"Integrity:"})," Be honest and transparent in your communications"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Prohibited Behavior"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),r.jsx("span",{children:"Harassment or personal attacks"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),r.jsx("span",{children:"Spam or self-promotion"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),r.jsx("span",{children:"Sharing of personal or sensitive information"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),r.jsx("span",{children:"Promotion of illegal activities or market manipulation"})]})]})]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Read Full Community Guidelines"})})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),r.jsx("li",{children:r.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})};function jX(){const{isAuthenticated:e,userTokens:t,fetchUserTokens:s,purchaseVPSPlan:n,credentials:i}=pe(),{isAuthenticated:a}=Tc(),[o,l]=_.useState("choice");_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[o]),_.useEffect(()=>{e&&s()},[e,s]);const c=()=>{l("algotrading"),window.scrollTo({top:0,left:0,behavior:"instant"})},u=()=>{l("livetrading"),window.scrollTo({top:0,left:0,behavior:"instant"})},d=()=>{l("vps"),window.scrollTo({top:0,left:0,behavior:"instant"})},h=()=>{l("choice"),window.scrollTo({top:0,left:0,behavior:"instant"})},f=e&&!i;return r.jsx(M5,{children:r.jsxs("div",{className:"App",children:[r.jsxs(_5,{children:[r.jsx(et,{path:"/landing",element:r.jsx(dX,{})}),r.jsx(et,{path:"/packages",element:r.jsx(fX,{})}),r.jsx(et,{path:"/admin-login",element:r.jsx(qv,{})}),r.jsx(et,{path:"/admin-dashboard",element:r.jsx(AN,{})}),r.jsx(et,{path:"/admin/login",element:a?r.jsx(Tt,{to:"/admin"}):r.jsx(qv,{})}),r.jsx(et,{path:"/admin",element:a?r.jsx(AN,{}):r.jsx(Tt,{to:"/admin/login"})}),r.jsx(et,{path:"/login",element:e?f?r.jsx(Tt,{to:"/broker-setup"}):r.jsx(Tt,{to:"/"}):r.jsx(ML,{})}),r.jsx(et,{path:"/broker-setup",element:e?f?r.jsx(LL,{}):r.jsx(Tt,{to:"/"}):r.jsx(Tt,{to:"/login"})}),r.jsx(et,{path:"/",element:e?f?r.jsx(Tt,{to:"/broker-setup"}):r.jsxs(r.Fragment,{children:[o==="choice"&&r.jsx(iX,{onSelectAlgoTrading:c,onSelectLiveTrading:u}),o==="algotrading"&&r.jsx(f1,{onBackToChoice:h,onSelectVPS:d}),o==="livetrading"&&r.jsx(m1,{onBackToOverview:h,onSelectVPS:d}),o==="vps"&&t&&r.jsx(PN,{userTokens:t,onPurchasePlan:n,onBackToChoice:h}),o==="profile"&&r.jsx(EN,{onBackToChoice:h})]}):r.jsx(Tt,{to:"/landing"})}),r.jsx(et,{path:"/profile",element:e?f?r.jsx(Tt,{to:"/broker-setup"}):r.jsx(EN,{onBackToChoice:h}):r.jsx(Tt,{to:"/login"})}),r.jsx(et,{path:"/vps",element:e?f?r.jsx(Tt,{to:"/broker-setup"}):t?r.jsx(PN,{userTokens:t,onPurchasePlan:n,onBackToChoice:h}):r.jsx(Tt,{to:"/"}):r.jsx(Tt,{to:"/login"})}),r.jsx(et,{path:"/dashboard",element:e?f?r.jsx(Tt,{to:"/broker-setup"}):r.jsx(f1,{onBackToChoice:h,onSelectVPS:d}):r.jsx(Tt,{to:"/login"})}),r.jsx(et,{path:"/live-trading",element:e?f?r.jsx(Tt,{to:"/broker-setup"}):r.jsx(m1,{onBackToOverview:h,onSelectVPS:d}):r.jsx(Tt,{to:"/login"})}),r.jsx(et,{path:"/about-us",element:r.jsx(mX,{})}),r.jsx(et,{path:"/contact",element:r.jsx(pX,{})}),r.jsx(et,{path:"/privacy-policy",element:r.jsx(xX,{})}),r.jsx(et,{path:"/terms-of-service",element:r.jsx(gX,{})}),r.jsx(et,{path:"/documentation",element:r.jsx(yX,{})}),r.jsx(et,{path:"/api-reference",element:r.jsx(bX,{})}),r.jsx(et,{path:"/blog",element:r.jsx(vX,{})}),r.jsx(et,{path:"/community",element:r.jsx(wX,{})})]}),e&&!a&&r.jsx(uX,{}),r.jsx(_3,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}Qh.register(kx,Sx,Zu,Dr,u$,y$,l$,s$,sl);Hm.createRoot(document.getElementById("root")).render(r.jsx(Pe.StrictMode,{children:r.jsx(jX,{})}));
