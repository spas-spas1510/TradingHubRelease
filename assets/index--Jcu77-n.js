var JP=Object.defineProperty;var KP=(e,t,s)=>t in e?JP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var le=(e,t,s)=>KP(e,typeof t!="symbol"?t+"":t,s);function XP(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),s}var yk={exports:{}},Bh={},bk={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),ZP=Symbol.for("react.portal"),eE=Symbol.for("react.fragment"),tE=Symbol.for("react.strict_mode"),sE=Symbol.for("react.profiler"),rE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),iE=Symbol.for("react.forward_ref"),aE=Symbol.for("react.suspense"),oE=Symbol.for("react.memo"),lE=Symbol.for("react.lazy"),ub=Symbol.iterator;function cE(e){return e===null||typeof e!="object"?null:(e=ub&&e[ub]||e["@@iterator"],typeof e=="function"?e:null)}var vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wk=Object.assign,jk={};function Lo(e,t,s){this.props=e,this.context=t,this.refs=jk,this.updater=s||vk}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nk(){}Nk.prototype=Lo.prototype;function Dg(e,t,s){this.props=e,this.context=t,this.refs=jk,this.updater=s||vk}var Ig=Dg.prototype=new Nk;Ig.constructor=Dg;wk(Ig,Lo.prototype);Ig.isPureReactComponent=!0;var hb=Array.isArray,kk=Object.prototype.hasOwnProperty,Lg={current:null},Sk={key:!0,ref:!0,__self:!0,__source:!0};function _k(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)kk.call(t,r)&&!Sk.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Wc,type:e,key:a,ref:o,props:i,_owner:Lg.current}}function dE(e,t){return{$$typeof:Wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Og(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wc}function uE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var fb=/\/+/g;function Wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uE(""+e.key):t.toString(36)}function ru(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wc:case ZP:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Wf(o,0):r,hb(i)?(s="",e!=null&&(s=e.replace(fb,"$&/")+"/"),ru(i,t,s,"",function(d){return d})):i!=null&&(Og(i)&&(i=dE(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",hb(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Wf(a,l);o+=ru(a,t,s,c,i)}else if(c=cE(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Wf(a,l++),o+=ru(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function dd(e,t,s){if(e==null)return e;var r=[],i=0;return ru(e,r,"","",function(a){return t.call(s,a,i++)}),r}function hE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var js={current:null},nu={transition:null},fE={ReactCurrentDispatcher:js,ReactCurrentBatchConfig:nu,ReactCurrentOwner:Lg};function Tk(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:dd,forEach:function(e,t,s){dd(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return dd(e,function(){t++}),t},toArray:function(e){return dd(e,function(t){return t})||[]},only:function(e){if(!Og(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Lo;Pe.Fragment=eE;Pe.Profiler=sE;Pe.PureComponent=Dg;Pe.StrictMode=tE;Pe.Suspense=aE;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fE;Pe.act=Tk;Pe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wk({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Lg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)kk.call(t,c)&&!Sk.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Wc,type:e.type,key:i,ref:a,props:r,_owner:o}};Pe.createContext=function(e){return e={$$typeof:nE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rE,_context:e},e.Consumer=e};Pe.createElement=_k;Pe.createFactory=function(e){var t=_k.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:iE,render:e}};Pe.isValidElement=Og;Pe.lazy=function(e){return{$$typeof:lE,_payload:{_status:-1,_result:e},_init:hE}};Pe.memo=function(e,t){return{$$typeof:oE,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=nu.transition;nu.transition={};try{e()}finally{nu.transition=t}};Pe.unstable_act=Tk;Pe.useCallback=function(e,t){return js.current.useCallback(e,t)};Pe.useContext=function(e){return js.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return js.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return js.current.useEffect(e,t)};Pe.useId=function(){return js.current.useId()};Pe.useImperativeHandle=function(e,t,s){return js.current.useImperativeHandle(e,t,s)};Pe.useInsertionEffect=function(e,t){return js.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return js.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return js.current.useMemo(e,t)};Pe.useReducer=function(e,t,s){return js.current.useReducer(e,t,s)};Pe.useRef=function(e){return js.current.useRef(e)};Pe.useState=function(e){return js.current.useState(e)};Pe.useSyncExternalStore=function(e,t,s){return js.current.useSyncExternalStore(e,t,s)};Pe.useTransition=function(){return js.current.useTransition()};Pe.version="18.3.1";bk.exports=Pe;var k=bk.exports;const De=$h(k),mE=XP({__proto__:null,default:De},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE=k,xE=Symbol.for("react.element"),gE=Symbol.for("react.fragment"),yE=Object.prototype.hasOwnProperty,bE=pE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vE={key:!0,ref:!0,__self:!0,__source:!0};function Ck(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)yE.call(t,r)&&!vE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:xE,type:e,key:a,ref:o,props:i,_owner:bE.current}}Bh.Fragment=gE;Bh.jsx=Ck;Bh.jsxs=Ck;yk.exports=Bh;var n=yk.exports,Sp={},Pk={exports:{}},tr={},Ek={exports:{}},Ak={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,z){var A=F.length;F.push(z);e:for(;0<A;){var ie=A-1>>>1,K=F[ie];if(0<i(K,z))F[ie]=z,F[A]=K,A=ie;else break e}}function s(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var z=F[0],A=F.pop();if(A!==z){F[0]=A;e:for(var ie=0,K=F.length,M=K>>>1;ie<M;){var he=2*(ie+1)-1,be=F[he],me=he+1,qe=F[me];if(0>i(be,A))me<K&&0>i(qe,be)?(F[ie]=qe,F[me]=A,ie=me):(F[ie]=be,F[he]=A,ie=he);else if(me<K&&0>i(qe,A))F[ie]=qe,F[me]=A,ie=me;else break e}}return z}function i(F,z){var A=F.sortIndex-z.sortIndex;return A!==0?A:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var z=s(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=F)r(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=s(d)}}function w(F){if(g=!1,v(F),!x)if(s(c)!==null)x=!0,B(N);else{var z=s(d);z!==null&&L(w,z.startTime-F)}}function N(F,z){x=!1,g&&(g=!1,p(j),j=-1),m=!0;var A=f;try{for(v(z),h=s(c);h!==null&&(!(h.expirationTime>z)||F&&!C());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var K=ie(h.expirationTime<=z);z=e.unstable_now(),typeof K=="function"?h.callback=K:h===s(c)&&r(c),v(z)}else r(c);h=s(c)}if(h!==null)var M=!0;else{var he=s(d);he!==null&&L(w,he.startTime-z),M=!1}return M}finally{h=null,f=A,m=!1}}var S=!1,T=null,j=-1,E=5,_=-1;function C(){return!(e.unstable_now()-_<E)}function P(){if(T!==null){var F=e.unstable_now();_=F;var z=!0;try{z=T(!0,F)}finally{z?I():(S=!1,T=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=P,I=function(){H.postMessage(null)}}else I=function(){y(P,0)};function B(F){T=F,S||(S=!0,I())}function L(F,z){j=y(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,B(N))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var A=f;f=z;try{return F()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var A=f;f=F;try{return z()}finally{f=A}},e.unstable_scheduleCallback=function(F,z,A){var ie=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ie+A:ie):A=ie,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=A+K,F={id:u++,callback:z,priorityLevel:F,startTime:A,expirationTime:K,sortIndex:-1},A>ie?(F.sortIndex=A,t(d,F),s(c)===null&&F===s(d)&&(g?(p(j),j=-1):g=!0,L(w,A-ie))):(F.sortIndex=K,t(c,F),x||m||(x=!0,B(N))),F},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(F){var z=f;return function(){var A=f;f=z;try{return F.apply(this,arguments)}finally{f=A}}}})(Ak);Ek.exports=Ak;var wE=Ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE=k,Zs=wE;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rk=new Set,oc={};function ja(e,t){yo(e,t),yo(e+"Capture",t)}function yo(e,t){for(oc[e]=t,e=0;e<t.length;e++)Rk.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,NE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mb={},pb={};function kE(e){return _p.call(pb,e)?!0:_p.call(mb,e)?!1:NE.test(e)?pb[e]=!0:(mb[e]=!0,!1)}function SE(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _E(e,t,s,r){if(t===null||typeof t>"u"||SE(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ns(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new Ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new Ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new Ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new Ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new Ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new Ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new Ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new Ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new Ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function Ug(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fg,Ug);Vt[t]=new Ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fg,Ug);Vt[t]=new Ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fg,Ug);Vt[t]=new Ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new Ns(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new Ns(e,1,!1,e.toLowerCase(),null,!0,!0)});function $g(e,t,s,r){var i=Vt.hasOwnProperty(t)?Vt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_E(t,s,i,r)&&(s=null),r||i===null?kE(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var In=jE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ud=Symbol.for("react.element"),za=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),Dk=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),Vg=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Ik=Symbol.for("react.offscreen"),xb=Symbol.iterator;function Qo(e){return e===null||typeof e!="object"?null:(e=xb&&e[xb]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,qf;function wl(e){if(qf===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);qf=t&&t[1]||""}return`
`+qf+e}var Yf=!1;function Gf(e,t){if(!e||Yf)return"";Yf=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yf=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?wl(e):""}function TE(e){switch(e.tag){case 5:return wl(e.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return e=Gf(e.type,!1),e;case 11:return e=Gf(e.type.render,!1),e;case 1:return e=Gf(e.type,!0),e;default:return""}}function Ep(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case za:return"Portal";case Tp:return"Profiler";case Bg:return"StrictMode";case Cp:return"Suspense";case Pp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dk:return(e.displayName||"Context")+".Consumer";case Mk:return(e._context.displayName||"Context")+".Provider";case zg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vg:return t=e.displayName||null,t!==null?t:Ep(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return Ep(e(t))}catch{}}return null}function CE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ep(t);case 8:return t===Bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PE(e){var t=Lk(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hd(e){e._valueTracker||(e._valueTracker=PE(e))}function Ok(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Lk(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ap(e,t){var s=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function gb(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=gi(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fk(e,t){t=t.checked,t!=null&&$g(e,"checked",t,!1)}function Rp(e,t){Fk(e,t);var s=gi(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mp(e,t.type,s):t.hasOwnProperty("defaultValue")&&Mp(e,t.type,gi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yb(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Mp(e,t,s){(t!=="number"||Mu(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var jl=Array.isArray;function ao(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+gi(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bb(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Z(92));if(jl(s)){if(1<s.length)throw Error(Z(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:gi(s)}}function Uk(e,t){var s=gi(t.value),r=gi(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function vb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $k(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ip(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$k(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fd,Bk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fd=fd||document.createElement("div"),fd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lc(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EE=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(e){EE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ml[t]=Ml[e]})});function zk(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ml.hasOwnProperty(e)&&Ml[e]?(""+t).trim():t+"px"}function Vk(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=zk(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var AE=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(e,t){if(t){if(AE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Op(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function Hg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Up=null,oo=null,lo=null;function wb(e){if(e=Gc(e)){if(typeof Up!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=qh(t),Up(e.stateNode,e.type,t))}}function Hk(e){oo?lo?lo.push(e):lo=[e]:oo=e}function Wk(){if(oo){var e=oo,t=lo;if(lo=oo=null,wb(e),t)for(e=0;e<t.length;e++)wb(t[e])}}function qk(e,t){return e(t)}function Yk(){}var Jf=!1;function Gk(e,t,s){if(Jf)return e(t,s);Jf=!0;try{return qk(e,t,s)}finally{Jf=!1,(oo!==null||lo!==null)&&(Yk(),Wk())}}function cc(e,t){var s=e.stateNode;if(s===null)return null;var r=qh(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Z(231,t,typeof s));return s}var $p=!1;if(_n)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){$p=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{$p=!1}function RE(e,t,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Dl=!1,Du=null,Iu=!1,Bp=null,ME={onError:function(e){Dl=!0,Du=e}};function DE(e,t,s,r,i,a,o,l,c){Dl=!1,Du=null,RE.apply(ME,arguments)}function IE(e,t,s,r,i,a,o,l,c){if(DE.apply(this,arguments),Dl){if(Dl){var d=Du;Dl=!1,Du=null}else throw Error(Z(198));Iu||(Iu=!0,Bp=d)}}function Na(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Jk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jb(e){if(Na(e)!==e)throw Error(Z(188))}function LE(e){var t=e.alternate;if(!t){if(t=Na(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return jb(i),e;if(a===r)return jb(i),t;a=a.sibling}throw Error(Z(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(s.alternate!==r)throw Error(Z(190))}if(s.tag!==3)throw Error(Z(188));return s.stateNode.current===s?e:t}function Kk(e){return e=LE(e),e!==null?Xk(e):null}function Xk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xk(e);if(t!==null)return t;e=e.sibling}return null}var Qk=Zs.unstable_scheduleCallback,Nb=Zs.unstable_cancelCallback,OE=Zs.unstable_shouldYield,FE=Zs.unstable_requestPaint,mt=Zs.unstable_now,UE=Zs.unstable_getCurrentPriorityLevel,Wg=Zs.unstable_ImmediatePriority,Zk=Zs.unstable_UserBlockingPriority,Lu=Zs.unstable_NormalPriority,$E=Zs.unstable_LowPriority,e2=Zs.unstable_IdlePriority,zh=null,Wr=null;function BE(e){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(zh,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:HE,zE=Math.log,VE=Math.LN2;function HE(e){return e>>>=0,e===0?32:31-(zE(e)/VE|0)|0}var md=64,pd=4194304;function Nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ou(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=Nl(l):(a&=o,a!==0&&(r=Nl(a)))}else o=s&~i,o!==0?r=Nl(o):a!==0&&(r=Nl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Pr(t),i=1<<s,r|=e[s],t&=~i;return r}function WE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qE(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pr(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=WE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function zp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function t2(){var e=md;return md<<=1,!(md&4194240)&&(md=64),e}function Kf(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function qc(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=s}function YE(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Pr(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function qg(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Pr(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var Be=0;function s2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r2,Yg,n2,i2,a2,Vp=!1,xd=[],ai=null,oi=null,li=null,dc=new Map,uc=new Map,qn=[],GE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kb(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(t.pointerId)}}function el(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Gc(t),t!==null&&Yg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function JE(e,t,s,r,i){switch(t){case"focusin":return ai=el(ai,e,t,s,r,i),!0;case"dragenter":return oi=el(oi,e,t,s,r,i),!0;case"mouseover":return li=el(li,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return dc.set(a,el(dc.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,uc.set(a,el(uc.get(a)||null,e,t,s,r,i)),!0}return!1}function o2(e){var t=Ji(e.target);if(t!==null){var s=Na(t);if(s!==null){if(t=s.tag,t===13){if(t=Jk(s),t!==null){e.blockedOn=t,a2(e.priority,function(){n2(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function iu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Hp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Fp=r,s.target.dispatchEvent(r),Fp=null}else return t=Gc(s),t!==null&&Yg(t),e.blockedOn=s,!1;t.shift()}return!0}function Sb(e,t,s){iu(e)&&s.delete(t)}function KE(){Vp=!1,ai!==null&&iu(ai)&&(ai=null),oi!==null&&iu(oi)&&(oi=null),li!==null&&iu(li)&&(li=null),dc.forEach(Sb),uc.forEach(Sb)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,Zs.unstable_scheduleCallback(Zs.unstable_NormalPriority,KE)))}function hc(e){function t(i){return tl(i,e)}if(0<xd.length){tl(xd[0],e);for(var s=1;s<xd.length;s++){var r=xd[s];r.blockedOn===e&&(r.blockedOn=null)}}for(ai!==null&&tl(ai,e),oi!==null&&tl(oi,e),li!==null&&tl(li,e),dc.forEach(t),uc.forEach(t),s=0;s<qn.length;s++)r=qn[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<qn.length&&(s=qn[0],s.blockedOn===null);)o2(s),s.blockedOn===null&&qn.shift()}var co=In.ReactCurrentBatchConfig,Fu=!0;function XE(e,t,s,r){var i=Be,a=co.transition;co.transition=null;try{Be=1,Gg(e,t,s,r)}finally{Be=i,co.transition=a}}function QE(e,t,s,r){var i=Be,a=co.transition;co.transition=null;try{Be=4,Gg(e,t,s,r)}finally{Be=i,co.transition=a}}function Gg(e,t,s,r){if(Fu){var i=Hp(e,t,s,r);if(i===null)am(e,t,r,Uu,s),kb(e,r);else if(JE(i,e,t,s,r))r.stopPropagation();else if(kb(e,r),t&4&&-1<GE.indexOf(e)){for(;i!==null;){var a=Gc(i);if(a!==null&&r2(a),a=Hp(e,t,s,r),a===null&&am(e,t,r,Uu,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else am(e,t,r,null,s)}}var Uu=null;function Hp(e,t,s,r){if(Uu=null,e=Hg(r),e=Ji(e),e!==null)if(t=Na(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Jk(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uu=e,null}function l2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UE()){case Wg:return 1;case Zk:return 4;case Lu:case $E:return 16;case e2:return 536870912;default:return 16}default:return 16}}var Qn=null,Jg=null,au=null;function c2(){if(au)return au;var e,t=Jg,s=t.length,r,i="value"in Qn?Qn.value:Qn.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return au=i.slice(e,1<r?1-r:void 0)}function ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gd(){return!0}function _b(){return!1}function sr(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gd:_b,this.isPropagationStopped=_b,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),t}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=sr(Oo),Yc=dt({},Oo,{view:0,detail:0}),ZE=sr(Yc),Xf,Qf,sl,Vh=dt({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sl&&(sl&&e.type==="mousemove"?(Xf=e.screenX-sl.screenX,Qf=e.screenY-sl.screenY):Qf=Xf=0,sl=e),Xf)},movementY:function(e){return"movementY"in e?e.movementY:Qf}}),Tb=sr(Vh),e5=dt({},Vh,{dataTransfer:0}),t5=sr(e5),s5=dt({},Yc,{relatedTarget:0}),Zf=sr(s5),r5=dt({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),n5=sr(r5),i5=dt({},Oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a5=sr(i5),o5=dt({},Oo,{data:0}),Cb=sr(o5),l5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d5[e])?!!t[e]:!1}function Xg(){return u5}var h5=dt({},Yc,{key:function(e){if(e.key){var t=l5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(e){return e.type==="keypress"?ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f5=sr(h5),m5=dt({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pb=sr(m5),p5=dt({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),x5=sr(p5),g5=dt({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),y5=sr(g5),b5=dt({},Vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v5=sr(b5),w5=[9,13,27,32],Qg=_n&&"CompositionEvent"in window,Il=null;_n&&"documentMode"in document&&(Il=document.documentMode);var j5=_n&&"TextEvent"in window&&!Il,d2=_n&&(!Qg||Il&&8<Il&&11>=Il),Eb=" ",Ab=!1;function u2(e,t){switch(e){case"keyup":return w5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function N5(e,t){switch(e){case"compositionend":return h2(t);case"keypress":return t.which!==32?null:(Ab=!0,Eb);case"textInput":return e=t.data,e===Eb&&Ab?null:e;default:return null}}function k5(e,t){if(Ha)return e==="compositionend"||!Qg&&u2(e,t)?(e=c2(),au=Jg=Qn=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return d2&&t.locale!=="ko"?null:t.data;default:return null}}var S5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S5[e.type]:t==="textarea"}function f2(e,t,s,r){Hk(r),t=$u(t,"onChange"),0<t.length&&(s=new Kg("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Ll=null,fc=null;function _5(e){k2(e,0)}function Hh(e){var t=Ya(e);if(Ok(t))return e}function T5(e,t){if(e==="change")return t}var m2=!1;if(_n){var em;if(_n){var tm="oninput"in document;if(!tm){var Mb=document.createElement("div");Mb.setAttribute("oninput","return;"),tm=typeof Mb.oninput=="function"}em=tm}else em=!1;m2=em&&(!document.documentMode||9<document.documentMode)}function Db(){Ll&&(Ll.detachEvent("onpropertychange",p2),fc=Ll=null)}function p2(e){if(e.propertyName==="value"&&Hh(fc)){var t=[];f2(t,fc,e,Hg(e)),Gk(_5,t)}}function C5(e,t,s){e==="focusin"?(Db(),Ll=t,fc=s,Ll.attachEvent("onpropertychange",p2)):e==="focusout"&&Db()}function P5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hh(fc)}function E5(e,t){if(e==="click")return Hh(t)}function A5(e,t){if(e==="input"||e==="change")return Hh(t)}function R5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rr=typeof Object.is=="function"?Object.is:R5;function mc(e,t){if(Rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!_p.call(t,i)||!Rr(e[i],t[i]))return!1}return!0}function Ib(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lb(e,t){var s=Ib(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ib(s)}}function x2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?x2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g2(){for(var e=window,t=Mu();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Mu(e.document)}return t}function Zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function M5(e){var t=g2(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&x2(s.ownerDocument.documentElement,s)){if(r!==null&&Zg(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Lb(s,a);var o=Lb(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D5=_n&&"documentMode"in document&&11>=document.documentMode,Wa=null,Wp=null,Ol=null,qp=!1;function Ob(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qp||Wa==null||Wa!==Mu(r)||(r=Wa,"selectionStart"in r&&Zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&mc(Ol,r)||(Ol=r,r=$u(Wp,"onSelect"),0<r.length&&(t=new Kg("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Wa)))}function yd(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var qa={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},sm={},y2={};_n&&(y2=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Wh(e){if(sm[e])return sm[e];if(!qa[e])return e;var t=qa[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in y2)return sm[e]=t[s];return e}var b2=Wh("animationend"),v2=Wh("animationiteration"),w2=Wh("animationstart"),j2=Wh("transitionend"),N2=new Map,Fb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){N2.set(e,t),ja(t,[e])}for(var rm=0;rm<Fb.length;rm++){var nm=Fb[rm],I5=nm.toLowerCase(),L5=nm[0].toUpperCase()+nm.slice(1);Ni(I5,"on"+L5)}Ni(b2,"onAnimationEnd");Ni(v2,"onAnimationIteration");Ni(w2,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(j2,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O5=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Ub(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,IE(r,t,void 0,e),e.currentTarget=null}function k2(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Ub(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Ub(i,l,d),a=c}}}if(Iu)throw e=Bp,Iu=!1,Bp=null,e}function Ge(e,t){var s=t[Xp];s===void 0&&(s=t[Xp]=new Set);var r=e+"__bubble";s.has(r)||(S2(t,e,2,!1),s.add(r))}function im(e,t,s){var r=0;t&&(r|=4),S2(s,e,r,t)}var bd="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[bd]){e[bd]=!0,Rk.forEach(function(s){s!=="selectionchange"&&(O5.has(s)||im(s,!1,e),im(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bd]||(t[bd]=!0,im("selectionchange",!1,t))}}function S2(e,t,s,r){switch(l2(t)){case 1:var i=XE;break;case 4:i=QE;break;default:i=Gg}s=i.bind(null,t,s,e),i=void 0,!$p||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function am(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ji(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Gk(function(){var d=a,u=Hg(s),h=[];e:{var f=N2.get(e);if(f!==void 0){var m=Kg,x=e;switch(e){case"keypress":if(ou(s)===0)break e;case"keydown":case"keyup":m=f5;break;case"focusin":x="focus",m=Zf;break;case"focusout":x="blur",m=Zf;break;case"beforeblur":case"afterblur":m=Zf;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Tb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=t5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=x5;break;case b2:case v2:case w2:m=n5;break;case j2:m=y5;break;case"scroll":m=ZE;break;case"wheel":m=v5;break;case"copy":case"cut":case"paste":m=a5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Pb}var g=(t&4)!==0,y=!g&&e==="scroll",p=g?f!==null?f+"Capture":null:f;g=[];for(var b=d,v;b!==null;){v=b;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,p!==null&&(w=cc(b,p),w!=null&&g.push(xc(b,w,v)))),y)break;b=b.return}0<g.length&&(f=new m(f,x,null,s,u),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&s!==Fp&&(x=s.relatedTarget||s.fromElement)&&(Ji(x)||x[Tn]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=s.relatedTarget||s.toElement,m=d,x=x?Ji(x):null,x!==null&&(y=Na(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(g=Tb,w="onMouseLeave",p="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Pb,w="onPointerLeave",p="onPointerEnter",b="pointer"),y=m==null?f:Ya(m),v=x==null?f:Ya(x),f=new g(w,b+"leave",m,s,u),f.target=y,f.relatedTarget=v,w=null,Ji(u)===d&&(g=new g(p,b+"enter",x,s,u),g.target=v,g.relatedTarget=y,w=g),y=w,m&&x)t:{for(g=m,p=x,b=0,v=g;v;v=Aa(v))b++;for(v=0,w=p;w;w=Aa(w))v++;for(;0<b-v;)g=Aa(g),b--;for(;0<v-b;)p=Aa(p),v--;for(;b--;){if(g===p||p!==null&&g===p.alternate)break t;g=Aa(g),p=Aa(p)}g=null}else g=null;m!==null&&$b(h,f,m,g,!1),x!==null&&y!==null&&$b(h,y,x,g,!0)}}e:{if(f=d?Ya(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=T5;else if(Rb(f))if(m2)N=A5;else{N=P5;var S=C5}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=E5);if(N&&(N=N(e,d))){f2(h,N,s,u);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Mp(f,"number",f.value)}switch(S=d?Ya(d):window,e){case"focusin":(Rb(S)||S.contentEditable==="true")&&(Wa=S,Wp=d,Ol=null);break;case"focusout":Ol=Wp=Wa=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,Ob(h,s,u);break;case"selectionchange":if(D5)break;case"keydown":case"keyup":Ob(h,s,u)}var T;if(Qg)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ha?u2(e,s)&&(j="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(j="onCompositionStart");j&&(d2&&s.locale!=="ko"&&(Ha||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ha&&(T=c2()):(Qn=u,Jg="value"in Qn?Qn.value:Qn.textContent,Ha=!0)),S=$u(d,j),0<S.length&&(j=new Cb(j,e,null,s,u),h.push({event:j,listeners:S}),T?j.data=T:(T=h2(s),T!==null&&(j.data=T)))),(T=j5?N5(e,s):k5(e,s))&&(d=$u(d,"onBeforeInput"),0<d.length&&(u=new Cb("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=T))}k2(h,t)})}function xc(e,t,s){return{instance:e,listener:t,currentTarget:s}}function $u(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cc(e,s),a!=null&&r.unshift(xc(e,a,i)),a=cc(e,t),a!=null&&r.push(xc(e,a,i))),e=e.return}return r}function Aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $b(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=cc(s,a),c!=null&&o.unshift(xc(s,c,l))):i||(c=cc(s,a),c!=null&&o.push(xc(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var F5=/\r\n?/g,U5=/\u0000|\uFFFD/g;function Bb(e){return(typeof e=="string"?e:""+e).replace(F5,`
`).replace(U5,"")}function vd(e,t,s){if(t=Bb(t),Bb(e)!==t&&s)throw Error(Z(425))}function Bu(){}var Yp=null,Gp=null;function Jp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,$5=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,B5=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(e){return zb.resolve(null).then(e).catch(z5)}:Kp;function z5(e){setTimeout(function(){throw e})}function om(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),hc(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);hc(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Fo,gc="__reactProps$"+Fo,Tn="__reactContainer$"+Fo,Xp="__reactEvents$"+Fo,V5="__reactListeners$"+Fo,H5="__reactHandles$"+Fo;function Ji(e){var t=e[Vr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Tn]||s[Vr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Vb(e);e!==null;){if(s=e[Vr])return s;e=Vb(e)}return t}e=s,s=e.parentNode}return null}function Gc(e){return e=e[Vr]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ya(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function qh(e){return e[gc]||null}var Qp=[],Ga=-1;function ki(e){return{current:e}}function Xe(e){0>Ga||(e.current=Qp[Ga],Qp[Ga]=null,Ga--)}function We(e,t){Ga++,Qp[Ga]=e.current,e.current=t}var yi={},ls=ki(yi),Ls=ki(!1),ua=yi;function bo(e,t){var s=e.type.contextTypes;if(!s)return yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Os(e){return e=e.childContextTypes,e!=null}function zu(){Xe(Ls),Xe(ls)}function Hb(e,t,s){if(ls.current!==yi)throw Error(Z(168));We(ls,t),We(Ls,s)}function _2(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Z(108,CE(e)||"Unknown",i));return dt({},s,r)}function Vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,ua=ls.current,We(ls,e),We(Ls,Ls.current),!0}function Wb(e,t,s){var r=e.stateNode;if(!r)throw Error(Z(169));s?(e=_2(e,t,ua),r.__reactInternalMemoizedMergedChildContext=e,Xe(Ls),Xe(ls),We(ls,e)):Xe(Ls),We(Ls,s)}var mn=null,Yh=!1,lm=!1;function T2(e){mn===null?mn=[e]:mn.push(e)}function W5(e){Yh=!0,T2(e)}function Si(){if(!lm&&mn!==null){lm=!0;var e=0,t=Be;try{var s=mn;for(Be=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}mn=null,Yh=!1}catch(i){throw mn!==null&&(mn=mn.slice(e+1)),Qk(Wg,Si),i}finally{Be=t,lm=!1}}return null}var Ja=[],Ka=0,Hu=null,Wu=0,cr=[],dr=0,ha=null,xn=1,gn="";function $i(e,t){Ja[Ka++]=Wu,Ja[Ka++]=Hu,Hu=e,Wu=t}function C2(e,t,s){cr[dr++]=xn,cr[dr++]=gn,cr[dr++]=ha,ha=e;var r=xn;e=gn;var i=32-Pr(r)-1;r&=~(1<<i),s+=1;var a=32-Pr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xn=1<<32-Pr(t)+i|s<<i|r,gn=a+e}else xn=1<<a|s<<i|r,gn=e}function e0(e){e.return!==null&&($i(e,1),C2(e,1,0))}function t0(e){for(;e===Hu;)Hu=Ja[--Ka],Ja[Ka]=null,Wu=Ja[--Ka],Ja[Ka]=null;for(;e===ha;)ha=cr[--dr],cr[dr]=null,gn=cr[--dr],cr[dr]=null,xn=cr[--dr],cr[dr]=null}var Gs=null,Ys=null,tt=!1,_r=null;function P2(e,t){var s=hr(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function qb(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gs=e,Ys=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gs=e,Ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ha!==null?{id:xn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=hr(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Gs=e,Ys=null,!0):!1;default:return!1}}function Zp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ex(e){if(tt){var t=Ys;if(t){var s=t;if(!qb(e,t)){if(Zp(e))throw Error(Z(418));t=ci(s.nextSibling);var r=Gs;t&&qb(e,t)?P2(r,s):(e.flags=e.flags&-4097|2,tt=!1,Gs=e)}}else{if(Zp(e))throw Error(Z(418));e.flags=e.flags&-4097|2,tt=!1,Gs=e}}}function Yb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gs=e}function wd(e){if(e!==Gs)return!1;if(!tt)return Yb(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jp(e.type,e.memoizedProps)),t&&(t=Ys)){if(Zp(e))throw E2(),Error(Z(418));for(;t;)P2(e,t),t=ci(t.nextSibling)}if(Yb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ys=ci(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ys=null}}else Ys=Gs?ci(e.stateNode.nextSibling):null;return!0}function E2(){for(var e=Ys;e;)e=ci(e.nextSibling)}function vo(){Ys=Gs=null,tt=!1}function s0(e){_r===null?_r=[e]:_r.push(e)}var q5=In.ReactCurrentBatchConfig;function rl(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Z(309));var r=s.stateNode}if(!r)throw Error(Z(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Z(284));if(!s._owner)throw Error(Z(290,e))}return e}function jd(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gb(e){var t=e._init;return t(e._payload)}function A2(e){function t(p,b){if(e){var v=p.deletions;v===null?(p.deletions=[b],p.flags|=16):v.push(b)}}function s(p,b){if(!e)return null;for(;b!==null;)t(p,b),b=b.sibling;return null}function r(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function i(p,b){return p=fi(p,b),p.index=0,p.sibling=null,p}function a(p,b,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<b?(p.flags|=2,b):v):(p.flags|=2,b)):(p.flags|=1048576,b)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,b,v,w){return b===null||b.tag!==6?(b=pm(v,p.mode,w),b.return=p,b):(b=i(b,v),b.return=p,b)}function c(p,b,v,w){var N=v.type;return N===Va?u(p,b,v.props.children,w,v.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vn&&Gb(N)===b.type)?(w=i(b,v.props),w.ref=rl(p,b,v),w.return=p,w):(w=mu(v.type,v.key,v.props,null,p.mode,w),w.ref=rl(p,b,v),w.return=p,w)}function d(p,b,v,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=xm(v,p.mode,w),b.return=p,b):(b=i(b,v.children||[]),b.return=p,b)}function u(p,b,v,w,N){return b===null||b.tag!==7?(b=na(v,p.mode,w,N),b.return=p,b):(b=i(b,v),b.return=p,b)}function h(p,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=pm(""+b,p.mode,v),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ud:return v=mu(b.type,b.key,b.props,null,p.mode,v),v.ref=rl(p,null,b),v.return=p,v;case za:return b=xm(b,p.mode,v),b.return=p,b;case Vn:var w=b._init;return h(p,w(b._payload),v)}if(jl(b)||Qo(b))return b=na(b,p.mode,v,null),b.return=p,b;jd(p,b)}return null}function f(p,b,v,w){var N=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(p,b,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ud:return v.key===N?c(p,b,v,w):null;case za:return v.key===N?d(p,b,v,w):null;case Vn:return N=v._init,f(p,b,N(v._payload),w)}if(jl(v)||Qo(v))return N!==null?null:u(p,b,v,w,null);jd(p,v)}return null}function m(p,b,v,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(v)||null,l(b,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ud:return p=p.get(w.key===null?v:w.key)||null,c(b,p,w,N);case za:return p=p.get(w.key===null?v:w.key)||null,d(b,p,w,N);case Vn:var S=w._init;return m(p,b,v,S(w._payload),N)}if(jl(w)||Qo(w))return p=p.get(v)||null,u(b,p,w,N,null);jd(b,w)}return null}function x(p,b,v,w){for(var N=null,S=null,T=b,j=b=0,E=null;T!==null&&j<v.length;j++){T.index>j?(E=T,T=null):E=T.sibling;var _=f(p,T,v[j],w);if(_===null){T===null&&(T=E);break}e&&T&&_.alternate===null&&t(p,T),b=a(_,b,j),S===null?N=_:S.sibling=_,S=_,T=E}if(j===v.length)return s(p,T),tt&&$i(p,j),N;if(T===null){for(;j<v.length;j++)T=h(p,v[j],w),T!==null&&(b=a(T,b,j),S===null?N=T:S.sibling=T,S=T);return tt&&$i(p,j),N}for(T=r(p,T);j<v.length;j++)E=m(T,p,j,v[j],w),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?j:E.key),b=a(E,b,j),S===null?N=E:S.sibling=E,S=E);return e&&T.forEach(function(C){return t(p,C)}),tt&&$i(p,j),N}function g(p,b,v,w){var N=Qo(v);if(typeof N!="function")throw Error(Z(150));if(v=N.call(v),v==null)throw Error(Z(151));for(var S=N=null,T=b,j=b=0,E=null,_=v.next();T!==null&&!_.done;j++,_=v.next()){T.index>j?(E=T,T=null):E=T.sibling;var C=f(p,T,_.value,w);if(C===null){T===null&&(T=E);break}e&&T&&C.alternate===null&&t(p,T),b=a(C,b,j),S===null?N=C:S.sibling=C,S=C,T=E}if(_.done)return s(p,T),tt&&$i(p,j),N;if(T===null){for(;!_.done;j++,_=v.next())_=h(p,_.value,w),_!==null&&(b=a(_,b,j),S===null?N=_:S.sibling=_,S=_);return tt&&$i(p,j),N}for(T=r(p,T);!_.done;j++,_=v.next())_=m(T,p,j,_.value,w),_!==null&&(e&&_.alternate!==null&&T.delete(_.key===null?j:_.key),b=a(_,b,j),S===null?N=_:S.sibling=_,S=_);return e&&T.forEach(function(P){return t(p,P)}),tt&&$i(p,j),N}function y(p,b,v,w){if(typeof v=="object"&&v!==null&&v.type===Va&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ud:e:{for(var N=v.key,S=b;S!==null;){if(S.key===N){if(N=v.type,N===Va){if(S.tag===7){s(p,S.sibling),b=i(S,v.props.children),b.return=p,p=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vn&&Gb(N)===S.type){s(p,S.sibling),b=i(S,v.props),b.ref=rl(p,S,v),b.return=p,p=b;break e}s(p,S);break}else t(p,S);S=S.sibling}v.type===Va?(b=na(v.props.children,p.mode,w,v.key),b.return=p,p=b):(w=mu(v.type,v.key,v.props,null,p.mode,w),w.ref=rl(p,b,v),w.return=p,p=w)}return o(p);case za:e:{for(S=v.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){s(p,b.sibling),b=i(b,v.children||[]),b.return=p,p=b;break e}else{s(p,b);break}else t(p,b);b=b.sibling}b=xm(v,p.mode,w),b.return=p,p=b}return o(p);case Vn:return S=v._init,y(p,b,S(v._payload),w)}if(jl(v))return x(p,b,v,w);if(Qo(v))return g(p,b,v,w);jd(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(s(p,b.sibling),b=i(b,v),b.return=p,p=b):(s(p,b),b=pm(v,p.mode,w),b.return=p,p=b),o(p)):s(p,b)}return y}var wo=A2(!0),R2=A2(!1),qu=ki(null),Yu=null,Xa=null,r0=null;function n0(){r0=Xa=Yu=null}function i0(e){var t=qu.current;Xe(qu),e._currentValue=t}function tx(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function uo(e,t){Yu=e,r0=Xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ds=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(r0!==e)if(e={context:e,memoizedValue:t,next:null},Xa===null){if(Yu===null)throw Error(Z(308));Xa=e,Yu.dependencies={lanes:0,firstContext:e}}else Xa=Xa.next=e;return t}var Ki=null;function a0(e){Ki===null?Ki=[e]:Ki.push(e)}function M2(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,a0(t)):(s.next=i.next,i.next=s),t.interleaved=s,Cn(e,r)}function Cn(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Hn=!1;function o0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cn(e,s)}return i=r.interleaved,i===null?(t.next=t,a0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cn(e,s)}function lu(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,qg(e,s)}}function Jb(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Gu(e,t,s,r){var i=e.updateQueue;Hn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,m=s,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=dt({},h,f);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ma|=o,e.lanes=o,e.memoizedState=h}}function Kb(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Jc={},qr=ki(Jc),yc=ki(Jc),bc=ki(Jc);function Xi(e){if(e===Jc)throw Error(Z(174));return e}function l0(e,t){switch(We(bc,t),We(yc,e),We(qr,Jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ip(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ip(t,e)}Xe(qr),We(qr,t)}function jo(){Xe(qr),Xe(yc),Xe(bc)}function I2(e){Xi(bc.current);var t=Xi(qr.current),s=Ip(t,e.type);t!==s&&(We(yc,e),We(qr,s))}function c0(e){yc.current===e&&(Xe(qr),Xe(yc))}var it=ki(0);function Ju(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cm=[];function d0(){for(var e=0;e<cm.length;e++)cm[e]._workInProgressVersionPrimary=null;cm.length=0}var cu=In.ReactCurrentDispatcher,dm=In.ReactCurrentBatchConfig,fa=0,ct=null,_t=null,Mt=null,Ku=!1,Fl=!1,vc=0,Y5=0;function qt(){throw Error(Z(321))}function u0(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Rr(e[s],t[s]))return!1;return!0}function h0(e,t,s,r,i,a){if(fa=a,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cu.current=e===null||e.memoizedState===null?X5:Q5,e=s(r,i),Fl){a=0;do{if(Fl=!1,vc=0,25<=a)throw Error(Z(301));a+=1,Mt=_t=null,t.updateQueue=null,cu.current=Z5,e=s(r,i)}while(Fl)}if(cu.current=Xu,t=_t!==null&&_t.next!==null,fa=0,Mt=_t=ct=null,Ku=!1,t)throw Error(Z(300));return e}function f0(){var e=vc!==0;return vc=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ct.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function xr(){if(_t===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Mt===null?ct.memoizedState:Mt.next;if(t!==null)Mt=t,_t=e;else{if(e===null)throw Error(Z(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Mt===null?ct.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function wc(e,t){return typeof t=="function"?t(e):t}function um(e){var t=xr(),s=t.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=e;var r=_t,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((fa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ct.lanes|=u,ma|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Rr(r,t.memoizedState)||(Ds=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,ct.lanes|=a,ma|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function hm(e){var t=xr(),s=t.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Rr(a,t.memoizedState)||(Ds=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function L2(){}function O2(e,t){var s=ct,r=xr(),i=t(),a=!Rr(r.memoizedState,i);if(a&&(r.memoizedState=i,Ds=!0),r=r.queue,m0($2.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||Mt!==null&&Mt.memoizedState.tag&1){if(s.flags|=2048,jc(9,U2.bind(null,s,r,i,t),void 0,null),Dt===null)throw Error(Z(349));fa&30||F2(s,t,i)}return i}function F2(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function U2(e,t,s,r){t.value=s,t.getSnapshot=r,B2(t)&&z2(e)}function $2(e,t,s){return s(function(){B2(t)&&z2(e)})}function B2(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Rr(e,s)}catch{return!0}}function z2(e){var t=Cn(e,1);t!==null&&Er(t,e,1,-1)}function Xb(e){var t=Ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:e},t.queue=e,e=e.dispatch=K5.bind(null,ct,e),[t.memoizedState,e]}function jc(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function V2(){return xr().memoizedState}function du(e,t,s,r){var i=Ur();ct.flags|=e,i.memoizedState=jc(1|t,s,void 0,r===void 0?null:r)}function Gh(e,t,s,r){var i=xr();r=r===void 0?null:r;var a=void 0;if(_t!==null){var o=_t.memoizedState;if(a=o.destroy,r!==null&&u0(r,o.deps)){i.memoizedState=jc(t,s,a,r);return}}ct.flags|=e,i.memoizedState=jc(1|t,s,a,r)}function Qb(e,t){return du(8390656,8,e,t)}function m0(e,t){return Gh(2048,8,e,t)}function H2(e,t){return Gh(4,2,e,t)}function W2(e,t){return Gh(4,4,e,t)}function q2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Y2(e,t,s){return s=s!=null?s.concat([e]):null,Gh(4,4,q2.bind(null,t,e),s)}function p0(){}function G2(e,t){var s=xr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&u0(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function J2(e,t){var s=xr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&u0(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function K2(e,t,s){return fa&21?(Rr(s,t)||(s=t2(),ct.lanes|=s,ma|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ds=!0),e.memoizedState=s)}function G5(e,t){var s=Be;Be=s!==0&&4>s?s:4,e(!0);var r=dm.transition;dm.transition={};try{e(!1),t()}finally{Be=s,dm.transition=r}}function X2(){return xr().memoizedState}function J5(e,t,s){var r=hi(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Q2(e))Z2(t,s);else if(s=M2(e,t,s,r),s!==null){var i=ys();Er(s,e,r,i),eS(s,t,r)}}function K5(e,t,s){var r=hi(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Q2(e))Z2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Rr(l,o)){var c=t.interleaved;c===null?(i.next=i,a0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=M2(e,t,i,r),s!==null&&(i=ys(),Er(s,e,r,i),eS(s,t,r))}}function Q2(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function Z2(e,t){Fl=Ku=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function eS(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,qg(e,s)}}var Xu={readContext:pr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},X5={readContext:pr,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:Qb,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,du(4194308,4,q2.bind(null,t,e),s)},useLayoutEffect:function(e,t){return du(4194308,4,e,t)},useInsertionEffect:function(e,t){return du(4,2,e,t)},useMemo:function(e,t){var s=Ur();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Ur();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=J5.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:Xb,useDebugValue:p0,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=Xb(!1),t=e[0];return e=G5.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ct,i=Ur();if(tt){if(s===void 0)throw Error(Z(407));s=s()}else{if(s=t(),Dt===null)throw Error(Z(349));fa&30||F2(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,Qb($2.bind(null,r,a,e),[e]),r.flags|=2048,jc(9,U2.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=Ur(),t=Dt.identifierPrefix;if(tt){var s=gn,r=xn;s=(r&~(1<<32-Pr(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=vc++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Y5++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q5={readContext:pr,useCallback:G2,useContext:pr,useEffect:m0,useImperativeHandle:Y2,useInsertionEffect:H2,useLayoutEffect:W2,useMemo:J2,useReducer:um,useRef:V2,useState:function(){return um(wc)},useDebugValue:p0,useDeferredValue:function(e){var t=xr();return K2(t,_t.memoizedState,e)},useTransition:function(){var e=um(wc)[0],t=xr().memoizedState;return[e,t]},useMutableSource:L2,useSyncExternalStore:O2,useId:X2,unstable_isNewReconciler:!1},Z5={readContext:pr,useCallback:G2,useContext:pr,useEffect:m0,useImperativeHandle:Y2,useInsertionEffect:H2,useLayoutEffect:W2,useMemo:J2,useReducer:hm,useRef:V2,useState:function(){return hm(wc)},useDebugValue:p0,useDeferredValue:function(e){var t=xr();return _t===null?t.memoizedState=e:K2(t,_t.memoizedState,e)},useTransition:function(){var e=hm(wc)[0],t=xr().memoizedState;return[e,t]},useMutableSource:L2,useSyncExternalStore:O2,useId:X2,unstable_isNewReconciler:!1};function Nr(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function sx(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:dt({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Jh={isMounted:function(e){return(e=e._reactInternals)?Na(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ys(),i=hi(e),a=wn(r,i);a.payload=t,s!=null&&(a.callback=s),t=di(e,a,i),t!==null&&(Er(t,e,i,r),lu(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ys(),i=hi(e),a=wn(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=di(e,a,i),t!==null&&(Er(t,e,i,r),lu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ys(),r=hi(e),i=wn(s,r);i.tag=2,t!=null&&(i.callback=t),t=di(e,i,r),t!==null&&(Er(t,e,r,s),lu(t,e,r))}};function Zb(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!mc(s,r)||!mc(i,a):!0}function tS(e,t,s){var r=!1,i=yi,a=t.contextType;return typeof a=="object"&&a!==null?a=pr(a):(i=Os(t)?ua:ls.current,r=t.contextTypes,a=(r=r!=null)?bo(e,i):yi),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ev(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Jh.enqueueReplaceState(t,t.state,null)}function rx(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},o0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=pr(a):(a=Os(t)?ua:ls.current,i.context=bo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sx(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Jh.enqueueReplaceState(i,i.state,null),Gu(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function No(e,t){try{var s="",r=t;do s+=TE(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function fm(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function nx(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var e3=typeof WeakMap=="function"?WeakMap:Map;function sS(e,t,s){s=wn(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Zu||(Zu=!0,mx=r),nx(e,t)},s}function rS(e,t,s){s=wn(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){nx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){nx(e,t),typeof r!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function tv(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new e3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=m3.bind(null,e,t,s),t.then(e,e))}function sv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rv(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=wn(-1,1),t.tag=2,di(s,t,1))),s.lanes|=1),e)}var t3=In.ReactCurrentOwner,Ds=!1;function hs(e,t,s,r){t.child=e===null?R2(t,null,s,r):wo(t,e.child,s,r)}function nv(e,t,s,r,i){s=s.render;var a=t.ref;return uo(t,i),r=h0(e,t,s,r,a,i),s=f0(),e!==null&&!Ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(tt&&s&&e0(t),t.flags|=1,hs(e,t,r,i),t.child)}function iv(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!N0(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,nS(e,t,a,r,i)):(e=mu(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:mc,s(o,r)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=fi(a,r),e.ref=t.ref,e.return=t,t.child=e}function nS(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(mc(a,r)&&e.ref===t.ref)if(Ds=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ds=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return ix(e,t,s,r,i)}function iS(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Za,Ws),Ws|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Za,Ws),Ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,We(Za,Ws),Ws|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,We(Za,Ws),Ws|=r;return hs(e,t,i,s),t.child}function aS(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ix(e,t,s,r,i){var a=Os(s)?ua:ls.current;return a=bo(t,a),uo(t,i),s=h0(e,t,s,r,a,i),r=f0(),e!==null&&!Ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(tt&&r&&e0(t),t.flags|=1,hs(e,t,s,i),t.child)}function av(e,t,s,r,i){if(Os(s)){var a=!0;Vu(t)}else a=!1;if(uo(t,i),t.stateNode===null)uu(e,t),tS(t,s,r),rx(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=pr(d):(d=Os(s)?ua:ls.current,d=bo(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ev(t,o,r,d),Hn=!1;var f=t.memoizedState;o.state=f,Gu(t,r,o,i),c=t.memoizedState,l!==r||f!==c||Ls.current||Hn?(typeof u=="function"&&(sx(t,s,u,r),c=t.memoizedState),(l=Hn||Zb(t,s,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,D2(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Nr(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=pr(c):(c=Os(s)?ua:ls.current,c=bo(t,c));var m=s.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ev(t,o,r,c),Hn=!1,f=t.memoizedState,o.state=f,Gu(t,r,o,i);var x=t.memoizedState;l!==h||f!==x||Ls.current||Hn?(typeof m=="function"&&(sx(t,s,m,r),x=t.memoizedState),(d=Hn||Zb(t,s,d,r,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ax(e,t,s,r,a,i)}function ax(e,t,s,r,i,a){aS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Wb(t,s,!1),Pn(e,t,a);r=t.stateNode,t3.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=wo(t,e.child,null,a),t.child=wo(t,null,l,a)):hs(e,t,l,a),t.memoizedState=r.state,i&&Wb(t,s,!0),t.child}function oS(e){var t=e.stateNode;t.pendingContext?Hb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hb(e,t.context,!1),l0(e,t.containerInfo)}function ov(e,t,s,r,i){return vo(),s0(i),t.flags|=256,hs(e,t,s,r),t.child}var ox={dehydrated:null,treeContext:null,retryLane:0};function lx(e){return{baseLanes:e,cachePool:null,transitions:null}}function lS(e,t,s){var r=t.pendingProps,i=it.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(it,i&1),e===null)return ex(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Qh(o,r,0,null),e=na(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=lx(s),t.memoizedState=ox,e):x0(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return s3(e,t,o,r,l,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=fi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=fi(l,a):(a=na(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?lx(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=ox,r}return a=e.child,e=a.sibling,r=fi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function x0(e,t){return t=Qh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nd(e,t,s,r){return r!==null&&s0(r),wo(t,e.child,null,s),e=x0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s3(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=fm(Error(Z(422))),Nd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Qh({mode:"visible",children:r.children},i,0,null),a=na(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&wo(t,e.child,null,o),t.child.memoizedState=lx(o),t.memoizedState=ox,a);if(!(t.mode&1))return Nd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Z(419)),r=fm(a,r,void 0),Nd(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ds||l){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Cn(e,i),Er(r,e,i,-1))}return j0(),r=fm(Error(Z(421))),Nd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=p3.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ys=ci(i.nextSibling),Gs=t,tt=!0,_r=null,e!==null&&(cr[dr++]=xn,cr[dr++]=gn,cr[dr++]=ha,xn=e.id,gn=e.overflow,ha=t),t=x0(t,r.children),t.flags|=4096,t)}function lv(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tx(e.return,t,s)}function mm(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function cS(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(hs(e,t,r.children,s),r=it.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lv(e,s,t);else if(e.tag===19)lv(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(it,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Ju(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),mm(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ju(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}mm(t,!0,s,null,a);break;case"together":mm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,s=fi(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=fi(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function r3(e,t,s){switch(t.tag){case 3:oS(t),vo();break;case 5:I2(t);break;case 1:Os(t.type)&&Vu(t);break;case 4:l0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;We(qu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(it,it.current&1),t.flags|=128,null):s&t.child.childLanes?lS(e,t,s):(We(it,it.current&1),e=Pn(e,t,s),e!==null?e.sibling:null);We(it,it.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return cS(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(it,it.current),r)break;return null;case 22:case 23:return t.lanes=0,iS(e,t,s)}return Pn(e,t,s)}var dS,cx,uS,hS;dS=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};cx=function(){};uS=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xi(qr.current);var a=null;switch(s){case"input":i=Ap(e,i),r=Ap(e,r),a=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),a=[];break;case"textarea":i=Dp(e,i),r=Dp(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bu)}Lp(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(oc.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(oc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};hS=function(e,t,s,r){s!==r&&(t.flags|=4)};function nl(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function n3(e,t,s){var r=t.pendingProps;switch(t0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return Os(t.type)&&zu(),Yt(t),null;case 3:return r=t.stateNode,jo(),Xe(Ls),Xe(ls),d0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_r!==null&&(gx(_r),_r=null))),cx(e,t),Yt(t),null;case 5:c0(t);var i=Xi(bc.current);if(s=t.type,e!==null&&t.stateNode!=null)uS(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Yt(t),null}if(e=Xi(qr.current),wd(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[Vr]=t,r[gc]=a,e=(t.mode&1)!==0,s){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<kl.length;i++)Ge(kl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":gb(r,a),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",r);break;case"textarea":bb(r,a),Ge("invalid",r)}Lp(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&vd(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&vd(r.textContent,l,e),i=["children",""+l]):oc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",r)}switch(s){case"input":hd(r),yb(r,a,!0);break;case"textarea":hd(r),vb(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Bu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$k(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[Vr]=t,e[gc]=r,dS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Op(s,r),s){case"dialog":Ge("cancel",e),Ge("close",e),i=r;break;case"iframe":case"object":case"embed":Ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<kl.length;i++)Ge(kl[i],e);i=r;break;case"source":Ge("error",e),i=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=r;break;case"details":Ge("toggle",e),i=r;break;case"input":gb(e,r),i=Ap(e,r),Ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":bb(e,r),i=Dp(e,r),Ge("invalid",e);break;default:i=r}Lp(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Vk(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bk(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&lc(e,c):typeof c=="number"&&lc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ge("scroll",e):c!=null&&$g(e,a,c,o))}switch(s){case"input":hd(e),yb(e,r,!1);break;case"textarea":hd(e),vb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ao(e,!!r.multiple,a,!1):r.defaultValue!=null&&ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bu)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)hS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(s=Xi(bc.current),Xi(qr.current),wd(t)){if(r=t.stateNode,s=t.memoizedProps,r[Vr]=t,(a=r.nodeValue!==s)&&(e=Gs,e!==null))switch(e.tag){case 3:vd(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vd(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Vr]=t,t.stateNode=r}return Yt(t),null;case 13:if(Xe(it),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&Ys!==null&&t.mode&1&&!(t.flags&128))E2(),vo(),t.flags|=98560,a=!1;else if(a=wd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[Vr]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),a=!1}else _r!==null&&(gx(_r),_r=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?Tt===0&&(Tt=3):j0())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return jo(),cx(e,t),e===null&&pc(t.stateNode.containerInfo),Yt(t),null;case 10:return i0(t.type._context),Yt(t),null;case 17:return Os(t.type)&&zu(),Yt(t),null;case 19:if(Xe(it),a=t.memoizedState,a===null)return Yt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)nl(a,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ju(e),o!==null){for(t.flags|=128,nl(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return We(it,it.current&1|2),t.child}e=e.sibling}a.tail!==null&&mt()>ko&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ju(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),nl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!tt)return Yt(t),null}else 2*mt()-a.renderingStartTime>ko&&s!==1073741824&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mt(),t.sibling=null,s=it.current,We(it,r?s&1|2:s&1),t):(Yt(t),null);case 22:case 23:return w0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ws&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function i3(e,t){switch(t0(t),t.tag){case 1:return Os(t.type)&&zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jo(),Xe(Ls),Xe(ls),d0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return c0(t),null;case 13:if(Xe(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(it),null;case 4:return jo(),null;case 10:return i0(t.type._context),null;case 22:case 23:return w0(),null;case 24:return null;default:return null}}var kd=!1,Qt=!1,a3=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Qa(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ht(e,t,r)}else s.current=null}function dx(e,t,s){try{s()}catch(r){ht(e,t,r)}}var cv=!1;function o3(e,t){if(Yp=Fu,e=g2(),Zg(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===s&&++d===i&&(l=o),f===a&&++u===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gp={focusedElem:e,selectionRange:s},Fu=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,p=t.stateNode,b=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Nr(t.type,g),y);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(w){ht(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return x=cv,cv=!1,x}function Ul(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&dx(t,s,a)}i=i.next}while(i!==r)}}function Kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function ux(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function fS(e){var t=e.alternate;t!==null&&(e.alternate=null,fS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vr],delete t[gc],delete t[Xp],delete t[V5],delete t[H5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mS(e){return e.tag===5||e.tag===3||e.tag===4}function dv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hx(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Bu));else if(r!==4&&(e=e.child,e!==null))for(hx(e,t,s),e=e.sibling;e!==null;)hx(e,t,s),e=e.sibling}function fx(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fx(e,t,s),e=e.sibling;e!==null;)fx(e,t,s),e=e.sibling}var Ut=null,kr=!1;function Fn(e,t,s){for(s=s.child;s!==null;)pS(e,t,s),s=s.sibling}function pS(e,t,s){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(zh,s)}catch{}switch(s.tag){case 5:Qt||Qa(s,t);case 6:var r=Ut,i=kr;Ut=null,Fn(e,t,s),Ut=r,kr=i,Ut!==null&&(kr?(e=Ut,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ut.removeChild(s.stateNode));break;case 18:Ut!==null&&(kr?(e=Ut,s=s.stateNode,e.nodeType===8?om(e.parentNode,s):e.nodeType===1&&om(e,s),hc(e)):om(Ut,s.stateNode));break;case 4:r=Ut,i=kr,Ut=s.stateNode.containerInfo,kr=!0,Fn(e,t,s),Ut=r,kr=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&dx(s,t,o),i=i.next}while(i!==r)}Fn(e,t,s);break;case 1:if(!Qt&&(Qa(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){ht(s,t,l)}Fn(e,t,s);break;case 21:Fn(e,t,s);break;case 22:s.mode&1?(Qt=(r=Qt)||s.memoizedState!==null,Fn(e,t,s),Qt=r):Fn(e,t,s);break;default:Fn(e,t,s)}}function uv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new a3),t.forEach(function(r){var i=x3.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function vr(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,kr=!1;break e;case 3:Ut=l.stateNode.containerInfo,kr=!0;break e;case 4:Ut=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(Ut===null)throw Error(Z(160));pS(a,o,i),Ut=null,kr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ht(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xS(t,e),t=t.sibling}function xS(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Ir(e),r&4){try{Ul(3,e,e.return),Kh(3,e)}catch(g){ht(e,e.return,g)}try{Ul(5,e,e.return)}catch(g){ht(e,e.return,g)}}break;case 1:vr(t,e),Ir(e),r&512&&s!==null&&Qa(s,s.return);break;case 5:if(vr(t,e),Ir(e),r&512&&s!==null&&Qa(s,s.return),e.flags&32){var i=e.stateNode;try{lc(i,"")}catch(g){ht(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Fk(i,a),Op(l,o);var d=Op(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Vk(i,h):u==="dangerouslySetInnerHTML"?Bk(i,h):u==="children"?lc(i,h):$g(i,u,h,d)}switch(l){case"input":Rp(i,a);break;case"textarea":Uk(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ao(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?ao(i,!!a.multiple,a.defaultValue,!0):ao(i,!!a.multiple,a.multiple?[]:"",!1))}i[gc]=a}catch(g){ht(e,e.return,g)}}break;case 6:if(vr(t,e),Ir(e),r&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){ht(e,e.return,g)}}break;case 3:if(vr(t,e),Ir(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{hc(t.containerInfo)}catch(g){ht(e,e.return,g)}break;case 4:vr(t,e),Ir(e);break;case 13:vr(t,e),Ir(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(b0=mt())),r&4&&uv(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Qt=(d=Qt)||u,vr(t,e),Qt=d):vr(t,e),Ir(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(oe=e,u=e.child;u!==null;){for(h=oe=u;oe!==null;){switch(f=oe,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ul(4,f,f.return);break;case 1:Qa(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,s=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){ht(r,s,g)}}break;case 5:Qa(f,f.return);break;case 22:if(f.memoizedState!==null){fv(h);continue}}m!==null?(m.return=f,oe=m):fv(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zk("display",o))}catch(g){ht(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){ht(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vr(t,e),Ir(e),r&4&&uv(e);break;case 21:break;default:vr(t,e),Ir(e)}}function Ir(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(mS(s)){var r=s;break e}s=s.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lc(i,""),r.flags&=-33);var a=dv(e);fx(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=dv(e);hx(e,l,o);break;default:throw Error(Z(161))}}catch(c){ht(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l3(e,t,s){oe=e,gS(e)}function gS(e,t,s){for(var r=(e.mode&1)!==0;oe!==null;){var i=oe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||kd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=kd;var d=Qt;if(kd=o,(Qt=c)&&!d)for(oe=i;oe!==null;)o=oe,c=o.child,o.tag===22&&o.memoizedState!==null?mv(i):c!==null?(c.return=o,oe=c):mv(i);for(;a!==null;)oe=a,gS(a),a=a.sibling;oe=i,kd=l,Qt=d}hv(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,oe=a):hv(e)}}function hv(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Kh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qt)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Nr(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Kb(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Kb(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&hc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Qt||t.flags&512&&ux(t)}catch(f){ht(t,t.return,f)}}if(t===e){oe=null;break}if(s=t.sibling,s!==null){s.return=t.return,oe=s;break}oe=t.return}}function fv(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,oe=s;break}oe=t.return}}function mv(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Kh(4,t)}catch(c){ht(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ht(t,i,c)}}var a=t.return;try{ux(t)}catch(c){ht(t,a,c)}break;case 5:var o=t.return;try{ux(t)}catch(c){ht(t,o,c)}}}catch(c){ht(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var c3=Math.ceil,Qu=In.ReactCurrentDispatcher,g0=In.ReactCurrentOwner,mr=In.ReactCurrentBatchConfig,Me=0,Dt=null,jt=null,zt=0,Ws=0,Za=ki(0),Tt=0,Nc=null,ma=0,Xh=0,y0=0,$l=null,As=null,b0=0,ko=1/0,hn=null,Zu=!1,mx=null,ui=null,Sd=!1,Zn=null,eh=0,Bl=0,px=null,hu=-1,fu=0;function ys(){return Me&6?mt():hu!==-1?hu:hu=mt()}function hi(e){return e.mode&1?Me&2&&zt!==0?zt&-zt:q5.transition!==null?(fu===0&&(fu=t2()),fu):(e=Be,e!==0||(e=window.event,e=e===void 0?16:l2(e.type)),e):1}function Er(e,t,s,r){if(50<Bl)throw Bl=0,px=null,Error(Z(185));qc(e,s,r),(!(Me&2)||e!==Dt)&&(e===Dt&&(!(Me&2)&&(Xh|=s),Tt===4&&Yn(e,zt)),Fs(e,r),s===1&&Me===0&&!(t.mode&1)&&(ko=mt()+500,Yh&&Si()))}function Fs(e,t){var s=e.callbackNode;qE(e,t);var r=Ou(e,e===Dt?zt:0);if(r===0)s!==null&&Nb(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Nb(s),t===1)e.tag===0?W5(pv.bind(null,e)):T2(pv.bind(null,e)),B5(function(){!(Me&6)&&Si()}),s=null;else{switch(s2(r)){case 1:s=Wg;break;case 4:s=Zk;break;case 16:s=Lu;break;case 536870912:s=e2;break;default:s=Lu}s=SS(s,yS.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function yS(e,t){if(hu=-1,fu=0,Me&6)throw Error(Z(327));var s=e.callbackNode;if(ho()&&e.callbackNode!==s)return null;var r=Ou(e,e===Dt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=th(e,r);else{t=r;var i=Me;Me|=2;var a=vS();(Dt!==e||zt!==t)&&(hn=null,ko=mt()+500,ra(e,t));do try{h3();break}catch(l){bS(e,l)}while(!0);n0(),Qu.current=a,Me=i,jt!==null?t=0:(Dt=null,zt=0,t=Tt)}if(t!==0){if(t===2&&(i=zp(e),i!==0&&(r=i,t=xx(e,i))),t===1)throw s=Nc,ra(e,0),Yn(e,r),Fs(e,mt()),s;if(t===6)Yn(e,r);else{if(i=e.current.alternate,!(r&30)&&!d3(i)&&(t=th(e,r),t===2&&(a=zp(e),a!==0&&(r=a,t=xx(e,a))),t===1))throw s=Nc,ra(e,0),Yn(e,r),Fs(e,mt()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Bi(e,As,hn);break;case 3:if(Yn(e,r),(r&130023424)===r&&(t=b0+500-mt(),10<t)){if(Ou(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ys(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kp(Bi.bind(null,e,As,hn),t);break}Bi(e,As,hn);break;case 4:if(Yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Pr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c3(r/1960))-r,10<r){e.timeoutHandle=Kp(Bi.bind(null,e,As,hn),r);break}Bi(e,As,hn);break;case 5:Bi(e,As,hn);break;default:throw Error(Z(329))}}}return Fs(e,mt()),e.callbackNode===s?yS.bind(null,e):null}function xx(e,t){var s=$l;return e.current.memoizedState.isDehydrated&&(ra(e,t).flags|=256),e=th(e,t),e!==2&&(t=As,As=s,t!==null&&gx(t)),e}function gx(e){As===null?As=e:As.push.apply(As,e)}function d3(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!Rr(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~y0,t&=~Xh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Pr(t),r=1<<s;e[s]=-1,t&=~r}}function pv(e){if(Me&6)throw Error(Z(327));ho();var t=Ou(e,0);if(!(t&1))return Fs(e,mt()),null;var s=th(e,t);if(e.tag!==0&&s===2){var r=zp(e);r!==0&&(t=r,s=xx(e,r))}if(s===1)throw s=Nc,ra(e,0),Yn(e,t),Fs(e,mt()),s;if(s===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bi(e,As,hn),Fs(e,mt()),null}function v0(e,t){var s=Me;Me|=1;try{return e(t)}finally{Me=s,Me===0&&(ko=mt()+500,Yh&&Si())}}function pa(e){Zn!==null&&Zn.tag===0&&!(Me&6)&&ho();var t=Me;Me|=1;var s=mr.transition,r=Be;try{if(mr.transition=null,Be=1,e)return e()}finally{Be=r,mr.transition=s,Me=t,!(Me&6)&&Si()}}function w0(){Ws=Za.current,Xe(Za)}function ra(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,$5(s)),jt!==null)for(s=jt.return;s!==null;){var r=s;switch(t0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:jo(),Xe(Ls),Xe(ls),d0();break;case 5:c0(r);break;case 4:jo();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:i0(r.type._context);break;case 22:case 23:w0()}s=s.return}if(Dt=e,jt=e=fi(e.current,null),zt=Ws=t,Tt=0,Nc=null,y0=Xh=ma=0,As=$l=null,Ki!==null){for(t=0;t<Ki.length;t++)if(s=Ki[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}Ki=null}return e}function bS(e,t){do{var s=jt;try{if(n0(),cu.current=Xu,Ku){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ku=!1}if(fa=0,Mt=_t=ct=null,Fl=!1,vc=0,g0.current=null,s===null||s.return===null){Tt=1,Nc=t,jt=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=sv(o);if(m!==null){m.flags&=-257,rv(m,o,l,a,t),m.mode&1&&tv(a,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){tv(a,d,t),j0();break e}c=Error(Z(426))}}else if(tt&&l.mode&1){var y=sv(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),rv(y,o,l,a,t),s0(No(c,l));break e}}a=c=No(c,l),Tt!==4&&(Tt=2),$l===null?$l=[a]:$l.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=sS(a,c,t);Jb(a,p);break e;case 1:l=c;var b=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=rS(a,l,t);Jb(a,w);break e}}a=a.return}while(a!==null)}jS(s)}catch(N){t=N,jt===s&&s!==null&&(jt=s=s.return);continue}break}while(!0)}function vS(){var e=Qu.current;return Qu.current=Xu,e===null?Xu:e}function j0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Dt===null||!(ma&268435455)&&!(Xh&268435455)||Yn(Dt,zt)}function th(e,t){var s=Me;Me|=2;var r=vS();(Dt!==e||zt!==t)&&(hn=null,ra(e,t));do try{u3();break}catch(i){bS(e,i)}while(!0);if(n0(),Me=s,Qu.current=r,jt!==null)throw Error(Z(261));return Dt=null,zt=0,Tt}function u3(){for(;jt!==null;)wS(jt)}function h3(){for(;jt!==null&&!OE();)wS(jt)}function wS(e){var t=kS(e.alternate,e,Ws);e.memoizedProps=e.pendingProps,t===null?jS(e):jt=t,g0.current=null}function jS(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=i3(s,t),s!==null){s.flags&=32767,jt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,jt=null;return}}else if(s=n3(s,t,Ws),s!==null){jt=s;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Bi(e,t,s){var r=Be,i=mr.transition;try{mr.transition=null,Be=1,f3(e,t,s,r)}finally{mr.transition=i,Be=r}return null}function f3(e,t,s,r){do ho();while(Zn!==null);if(Me&6)throw Error(Z(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(YE(e,a),e===Dt&&(jt=Dt=null,zt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Sd||(Sd=!0,SS(Lu,function(){return ho(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=mr.transition,mr.transition=null;var o=Be;Be=1;var l=Me;Me|=4,g0.current=null,o3(e,s),xS(s,e),M5(Gp),Fu=!!Yp,Gp=Yp=null,e.current=s,l3(s),FE(),Me=l,Be=o,mr.transition=a}else e.current=s;if(Sd&&(Sd=!1,Zn=e,eh=i),a=e.pendingLanes,a===0&&(ui=null),BE(s.stateNode),Fs(e,mt()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zu)throw Zu=!1,e=mx,mx=null,e;return eh&1&&e.tag!==0&&ho(),a=e.pendingLanes,a&1?e===px?Bl++:(Bl=0,px=e):Bl=0,Si(),null}function ho(){if(Zn!==null){var e=s2(eh),t=mr.transition,s=Be;try{if(mr.transition=null,Be=16>e?16:e,Zn===null)var r=!1;else{if(e=Zn,Zn=null,eh=0,Me&6)throw Error(Z(331));var i=Me;for(Me|=4,oe=e.current;oe!==null;){var a=oe,o=a.child;if(oe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(oe=d;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:Ul(8,u,a)}var h=u.child;if(h!==null)h.return=u,oe=h;else for(;oe!==null;){u=oe;var f=u.sibling,m=u.return;if(fS(u),u===d){oe=null;break}if(f!==null){f.return=m,oe=f;break}oe=m}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,oe=o;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ul(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,oe=p;break e}oe=a.return}}var b=e.current;for(oe=b;oe!==null;){o=oe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,oe=v;else e:for(o=b;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kh(9,l)}}catch(N){ht(l,l.return,N)}if(l===o){oe=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,oe=w;break e}oe=l.return}}if(Me=i,Si(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(zh,e)}catch{}r=!0}return r}finally{Be=s,mr.transition=t}}return!1}function xv(e,t,s){t=No(s,t),t=sS(e,t,1),e=di(e,t,1),t=ys(),e!==null&&(qc(e,1,t),Fs(e,t))}function ht(e,t,s){if(e.tag===3)xv(e,e,s);else for(;t!==null;){if(t.tag===3){xv(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ui===null||!ui.has(r))){e=No(s,e),e=rS(t,e,1),t=di(t,e,1),e=ys(),t!==null&&(qc(t,1,e),Fs(t,e));break}}t=t.return}}function m3(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=ys(),e.pingedLanes|=e.suspendedLanes&s,Dt===e&&(zt&s)===s&&(Tt===4||Tt===3&&(zt&130023424)===zt&&500>mt()-b0?ra(e,0):y0|=s),Fs(e,t)}function NS(e,t){t===0&&(e.mode&1?(t=pd,pd<<=1,!(pd&130023424)&&(pd=4194304)):t=1);var s=ys();e=Cn(e,t),e!==null&&(qc(e,t,s),Fs(e,s))}function p3(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),NS(e,s)}function x3(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),NS(e,s)}var kS;kS=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ls.current)Ds=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Ds=!1,r3(e,t,s);Ds=!!(e.flags&131072)}else Ds=!1,tt&&t.flags&1048576&&C2(t,Wu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;uu(e,t),e=t.pendingProps;var i=bo(t,ls.current);uo(t,s),i=h0(null,t,r,e,i,s);var a=f0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Os(r)?(a=!0,Vu(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,o0(t),i.updater=Jh,t.stateNode=i,i._reactInternals=t,rx(t,r,e,s),t=ax(null,t,r,!0,a,s)):(t.tag=0,tt&&a&&e0(t),hs(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(uu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=y3(r),e=Nr(r,e),i){case 0:t=ix(null,t,r,e,s);break e;case 1:t=av(null,t,r,e,s);break e;case 11:t=nv(null,t,r,e,s);break e;case 14:t=iv(null,t,r,Nr(r.type,e),s);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nr(r,i),ix(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nr(r,i),av(e,t,r,i,s);case 3:e:{if(oS(t),e===null)throw Error(Z(387));r=t.pendingProps,a=t.memoizedState,i=a.element,D2(e,t),Gu(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=No(Error(Z(423)),t),t=ov(e,t,r,s,i);break e}else if(r!==i){i=No(Error(Z(424)),t),t=ov(e,t,r,s,i);break e}else for(Ys=ci(t.stateNode.containerInfo.firstChild),Gs=t,tt=!0,_r=null,s=R2(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(vo(),r===i){t=Pn(e,t,s);break e}hs(e,t,r,s)}t=t.child}return t;case 5:return I2(t),e===null&&ex(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Jp(r,i)?o=null:a!==null&&Jp(r,a)&&(t.flags|=32),aS(e,t),hs(e,t,o,s),t.child;case 6:return e===null&&ex(t),null;case 13:return lS(e,t,s);case 4:return l0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wo(t,null,r,s):hs(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nr(r,i),nv(e,t,r,i,s);case 7:return hs(e,t,t.pendingProps,s),t.child;case 8:return hs(e,t,t.pendingProps.children,s),t.child;case 12:return hs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,We(qu,r._currentValue),r._currentValue=o,a!==null)if(Rr(a.value,o)){if(a.children===i.children&&!Ls.current){t=Pn(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=wn(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),tx(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),tx(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}hs(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,uo(t,s),i=pr(i),r=r(i),t.flags|=1,hs(e,t,r,s),t.child;case 14:return r=t.type,i=Nr(r,t.pendingProps),i=Nr(r.type,i),iv(e,t,r,i,s);case 15:return nS(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nr(r,i),uu(e,t),t.tag=1,Os(r)?(e=!0,Vu(t)):e=!1,uo(t,s),tS(t,r,i),rx(t,r,i,s),ax(null,t,r,!0,e,s);case 19:return cS(e,t,s);case 22:return iS(e,t,s)}throw Error(Z(156,t.tag))};function SS(e,t){return Qk(e,t)}function g3(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,s,r){return new g3(e,t,s,r)}function N0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y3(e){if(typeof e=="function")return N0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zg)return 11;if(e===Vg)return 14}return 2}function fi(e,t){var s=e.alternate;return s===null?(s=hr(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function mu(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")N0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Va:return na(s.children,i,a,t);case Bg:o=8,i|=8;break;case Tp:return e=hr(12,s,t,i|2),e.elementType=Tp,e.lanes=a,e;case Cp:return e=hr(13,s,t,i),e.elementType=Cp,e.lanes=a,e;case Pp:return e=hr(19,s,t,i),e.elementType=Pp,e.lanes=a,e;case Ik:return Qh(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mk:o=10;break e;case Dk:o=9;break e;case zg:o=11;break e;case Vg:o=14;break e;case Vn:o=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=hr(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function na(e,t,s,r){return e=hr(7,e,r,t),e.lanes=s,e}function Qh(e,t,s,r){return e=hr(22,e,r,t),e.elementType=Ik,e.lanes=s,e.stateNode={isHidden:!1},e}function pm(e,t,s){return e=hr(6,e,null,t),e.lanes=s,e}function xm(e,t,s){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b3(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kf(0),this.expirationTimes=Kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k0(e,t,s,r,i,a,o,l,c){return e=new b3(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=hr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},o0(a),e}function v3(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function _S(e){if(!e)return yi;e=e._reactInternals;e:{if(Na(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var s=e.type;if(Os(s))return _2(e,s,t)}return t}function TS(e,t,s,r,i,a,o,l,c){return e=k0(s,r,!0,e,i,a,o,l,c),e.context=_S(null),s=e.current,r=ys(),i=hi(s),a=wn(r,i),a.callback=t??null,di(s,a,i),e.current.lanes=i,qc(e,i,r),Fs(e,r),e}function Zh(e,t,s,r){var i=t.current,a=ys(),o=hi(i);return s=_S(s),t.context===null?t.context=s:t.pendingContext=s,t=wn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=di(i,t,o),e!==null&&(Er(e,i,o,a),lu(e,i,o)),o}function sh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function S0(e,t){gv(e,t),(e=e.alternate)&&gv(e,t)}function w3(){return null}var CS=typeof reportError=="function"?reportError:function(e){console.error(e)};function _0(e){this._internalRoot=e}ef.prototype.render=_0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Zh(e,t,null,null)};ef.prototype.unmount=_0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pa(function(){Zh(null,e,null,null)}),t[Tn]=null}};function ef(e){this._internalRoot=e}ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=i2();e={blockedOn:null,target:e,priority:t};for(var s=0;s<qn.length&&t!==0&&t<qn[s].priority;s++);qn.splice(s,0,e),s===0&&o2(e)}};function T0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yv(){}function j3(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=sh(o);a.call(d)}}var o=TS(t,r,e,0,null,!1,!1,"",yv);return e._reactRootContainer=o,e[Tn]=o.current,pc(e.nodeType===8?e.parentNode:e),pa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=sh(c);l.call(d)}}var c=k0(e,0,!1,null,null,!1,!1,"",yv);return e._reactRootContainer=c,e[Tn]=c.current,pc(e.nodeType===8?e.parentNode:e),pa(function(){Zh(t,c,s,r)}),c}function sf(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=sh(o);l.call(c)}}Zh(t,o,e,i)}else o=j3(s,t,e,i,r);return sh(o)}r2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Nl(t.pendingLanes);s!==0&&(qg(t,s|1),Fs(t,mt()),!(Me&6)&&(ko=mt()+500,Si()))}break;case 13:pa(function(){var r=Cn(e,1);if(r!==null){var i=ys();Er(r,e,1,i)}}),S0(e,1)}};Yg=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var s=ys();Er(t,e,134217728,s)}S0(e,134217728)}};n2=function(e){if(e.tag===13){var t=hi(e),s=Cn(e,t);if(s!==null){var r=ys();Er(s,e,t,r)}S0(e,t)}};i2=function(){return Be};a2=function(e,t){var s=Be;try{return Be=e,t()}finally{Be=s}};Up=function(e,t,s){switch(t){case"input":if(Rp(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=qh(r);if(!i)throw Error(Z(90));Ok(r),Rp(r,i)}}}break;case"textarea":Uk(e,s);break;case"select":t=s.value,t!=null&&ao(e,!!s.multiple,t,!1)}};qk=v0;Yk=pa;var N3={usingClientEntryPoint:!1,Events:[Gc,Ya,qh,Hk,Wk,v0]},il={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k3={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kk(e),e===null?null:e.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||w3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{zh=_d.inject(k3),Wr=_d}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N3;tr.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T0(t))throw Error(Z(200));return v3(e,t,null,s)};tr.createRoot=function(e,t){if(!T0(e))throw Error(Z(299));var s=!1,r="",i=CS;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=k0(e,1,!1,null,null,s,!1,r,i),e[Tn]=t.current,pc(e.nodeType===8?e.parentNode:e),new _0(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Kk(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return pa(e)};tr.hydrate=function(e,t,s){if(!tf(t))throw Error(Z(200));return sf(null,e,t,!0,s)};tr.hydrateRoot=function(e,t,s){if(!T0(e))throw Error(Z(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=CS;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=TS(t,null,e,1,s??null,i,!1,a,o),e[Tn]=t.current,pc(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new ef(t)};tr.render=function(e,t,s){if(!tf(t))throw Error(Z(200));return sf(null,e,t,!1,s)};tr.unmountComponentAtNode=function(e){if(!tf(e))throw Error(Z(40));return e._reactRootContainer?(pa(function(){sf(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};tr.unstable_batchedUpdates=v0;tr.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!tf(s))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return sf(e,t,s,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(e){console.error(e)}}PS(),Pk.exports=tr;var S3=Pk.exports,bv=S3;Sp.createRoot=bv.createRoot,Sp.hydrateRoot=bv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},kc.apply(this,arguments)}var ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ei||(ei={}));const vv="popstate";function _3(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return yx("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:rh(i)}return C3(t,s,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ES(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T3(){return Math.random().toString(36).substr(2,8)}function wv(e,t){return{usr:e.state,key:e.key,idx:t}}function yx(e,t,s,r){return s===void 0&&(s=null),kc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Uo(t):t,{state:s,key:t&&t.key||r||T3()})}function rh(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Uo(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function C3(e,t,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=ei.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(kc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=ei.Pop;let y=u(),p=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:p})}function f(y,p){l=ei.Push;let b=yx(g.location,y,p);d=u()+1;let v=wv(b,d),w=g.createHref(b);try{o.pushState(v,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(w)}a&&c&&c({action:l,location:g.location,delta:1})}function m(y,p){l=ei.Replace;let b=yx(g.location,y,p);d=u();let v=wv(b,d),w=g.createHref(b);o.replaceState(v,"",w),a&&c&&c({action:l,location:g.location,delta:0})}function x(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:rh(y);return b=b.replace(/ $/,"%20"),xt(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let g={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(vv,h),c=y,()=>{i.removeEventListener(vv,h),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let p=x(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(y){return o.go(y)}};return g}var jv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jv||(jv={}));function P3(e,t,s){return s===void 0&&(s="/"),E3(e,t,s)}function E3(e,t,s,r){let i=typeof t=="string"?Uo(t):t,a=C0(i.pathname||"/",s);if(a==null)return null;let o=AS(e);A3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=V3(a);l=$3(o[c],d)}return l}function AS(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=mi([r,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),AS(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:F3(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of RS(a.path))i(a,o,c)}),t}function RS(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=RS(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function A3(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:U3(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const R3=/^:[\w-]+$/,M3=3,D3=2,I3=1,L3=10,O3=-2,Nv=e=>e==="*";function F3(e,t){let s=e.split("/"),r=s.length;return s.some(Nv)&&(r+=O3),t&&(r+=D3),s.filter(i=>!Nv(i)).reduce((i,a)=>i+(R3.test(a)?M3:a===""?I3:L3),r)}function U3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function $3(e,t,s){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=B3({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:mi([a,h.pathname]),pathnameBase:Y3(mi([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=mi([a,h.pathnameBase]))}return o}function B3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=z3(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function z3(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),ES(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function V3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ES(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function C0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function H3(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?Uo(e):e;return{pathname:s?s.startsWith("/")?s:W3(s,t):t,search:G3(r),hash:J3(i)}}function W3(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function gm(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q3(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function P0(e,t){let s=q3(e);return t?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function E0(e,t,s,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Uo(e):(i=kc({},e),xt(!i.pathname||!i.pathname.includes("?"),gm("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),gm("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),gm("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=H3(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const mi=e=>e.join("/").replace(/\/\/+/g,"/"),Y3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MS=["post","put","patch","delete"];new Set(MS);const X3=["get",...MS];new Set(X3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Sc.apply(this,arguments)}const A0=k.createContext(null),Q3=k.createContext(null),_i=k.createContext(null),rf=k.createContext(null),Ti=k.createContext({outlet:null,matches:[],isDataRoute:!1}),DS=k.createContext(null);function Z3(e,t){let{relative:s}=t===void 0?{}:t;$o()||xt(!1);let{basename:r,navigator:i}=k.useContext(_i),{hash:a,pathname:o,search:l}=LS(e,{relative:s}),c=o;return r!=="/"&&(c=o==="/"?r:mi([r,o])),i.createHref({pathname:c,search:l,hash:a})}function $o(){return k.useContext(rf)!=null}function Bo(){return $o()||xt(!1),k.useContext(rf).location}function IS(e){k.useContext(_i).static||k.useLayoutEffect(e)}function Pt(){let{isDataRoute:e}=k.useContext(Ti);return e?hA():eA()}function eA(){$o()||xt(!1);let e=k.useContext(A0),{basename:t,future:s,navigator:r}=k.useContext(_i),{matches:i}=k.useContext(Ti),{pathname:a}=Bo(),o=JSON.stringify(P0(i,s.v7_relativeSplatPath)),l=k.useRef(!1);return IS(()=>{l.current=!0}),k.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=E0(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:mi([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,o,a,e])}function LS(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=k.useContext(_i),{matches:i}=k.useContext(Ti),{pathname:a}=Bo(),o=JSON.stringify(P0(i,r.v7_relativeSplatPath));return k.useMemo(()=>E0(e,JSON.parse(o),a,s==="path"),[e,o,a,s])}function tA(e,t){return sA(e,t)}function sA(e,t,s,r){$o()||xt(!1);let{navigator:i}=k.useContext(_i),{matches:a}=k.useContext(Ti),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Bo(),u;if(t){var h;let y=typeof t=="string"?Uo(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||xt(!1),u=y}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=P3(e,{pathname:m}),g=oA(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:mi([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:mi([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,s,r);return t&&g?k.createElement(rf.Provider,{value:{location:Sc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ei.Pop}},g):g}function rA(){let e=uA(),t=K3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),s?k.createElement("pre",{style:i},s):null,null)}const nA=k.createElement(rA,null);class iA extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?k.createElement(Ti.Provider,{value:this.props.routeContext},k.createElement(DS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aA(e){let{routeContext:t,match:s,children:r}=e,i=k.useContext(A0);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),k.createElement(Ti.Provider,{value:t},r)}function oA(e,t,s,r){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||xt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=s,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,x=!1,g=null,y=null;s&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||nA,c&&(d<0&&f===0?(fA("route-fallback"),x=!0,y=null):d===f&&(x=!0,y=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),b=()=>{let v;return m?v=g:x?v=y:h.route.Component?v=k.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,k.createElement(aA,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:s!=null},children:v})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(iA,{location:s.location,revalidation:s.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var OS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(OS||{}),FS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(FS||{});function lA(e){let t=k.useContext(A0);return t||xt(!1),t}function cA(e){let t=k.useContext(Q3);return t||xt(!1),t}function dA(e){let t=k.useContext(Ti);return t||xt(!1),t}function US(e){let t=dA(),s=t.matches[t.matches.length-1];return s.route.id||xt(!1),s.route.id}function uA(){var e;let t=k.useContext(DS),s=cA(),r=US();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function hA(){let{router:e}=lA(OS.UseNavigateStable),t=US(FS.UseNavigateStable),s=k.useRef(!1);return IS(()=>{s.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Sc({fromRouteId:t},a)))},[e,t])}const kv={};function fA(e,t,s){kv[e]||(kv[e]=!0)}function mA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ot(e){let{to:t,replace:s,state:r,relative:i}=e;$o()||xt(!1);let{future:a,static:o}=k.useContext(_i),{matches:l}=k.useContext(Ti),{pathname:c}=Bo(),d=Pt(),u=E0(t,P0(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return k.useEffect(()=>d(JSON.parse(h),{replace:s,state:r,relative:i}),[d,h,i,s,r]),null}function nt(e){xt(!1)}function pA(e){let{basename:t="/",children:s=null,location:r,navigationType:i=ei.Pop,navigator:a,static:o=!1,future:l}=e;$o()&&xt(!1);let c=t.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:a,static:o,future:Sc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Uo(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:x="default"}=r,g=k.useMemo(()=>{let y=C0(u,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:x},navigationType:i}},[c,u,h,f,m,x,i]);return g==null?null:k.createElement(_i.Provider,{value:d},k.createElement(rf.Provider,{children:s,value:g}))}function xA(e){let{children:t,location:s}=e;return tA(bx(t),s)}new Promise(()=>{});function bx(e,t){t===void 0&&(t=[]);let s=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let a=[...t,i];if(r.type===k.Fragment){s.push.apply(s,bx(r.props.children,a));return}r.type!==nt&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bx(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},vx.apply(this,arguments)}function gA(e,t){if(e==null)return{};var s={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function yA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bA(e,t){return e.button===0&&(!t||t==="_self")&&!yA(e)}const vA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wA="6";try{window.__reactRouterVersion=wA}catch{}const jA="startTransition",Sv=mE[jA];function NA(e){let{basename:t,children:s,future:r,window:i}=e,a=k.useRef();a.current==null&&(a.current=_3({window:i,v5Compat:!0}));let o=a.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=k.useCallback(h=>{d&&Sv?Sv(()=>c(h)):c(h)},[c,d]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.useEffect(()=>mA(r),[r]),k.createElement(pA,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:r})}const kA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_A=k.forwardRef(function(t,s){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=gA(t,vA),{basename:m}=k.useContext(_i),x,g=!1;if(typeof d=="string"&&SA.test(d)&&(x=d,kA))try{let v=new URL(window.location.href),w=d.startsWith("//")?new URL(v.protocol+d):new URL(d),N=C0(w.pathname,m);w.origin===v.origin&&N!=null?d=N+w.search+w.hash:g=!0}catch{}let y=Z3(d,{relative:i}),p=TA(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function b(v){r&&r(v),v.defaultPrevented||p(v)}return k.createElement("a",vx({},f,{href:x||y,onClick:g||a?r:b,ref:s,target:c}))});var _v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_v||(_v={}));var Tv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tv||(Tv={}));function TA(e,t){let{target:s,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Pt(),d=Bo(),u=LS(e,{relative:o});return k.useCallback(h=>{if(bA(h,s)){h.preventDefault();let f=r!==void 0?r:rh(d)===rh(u);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,r,i,s,e,a,o,l])}let CA={data:""},PA=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||CA,EA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AA=/\/\*[^]*?\*\/|  +/g,Cv=/\n+/g,Gn=(e,t)=>{let s="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":r+=a[1]=="f"?Gn(o,a):a+"{"+Gn(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Gn(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Gn.p?Gn.p(a,o):a+":"+o+";")}return s+(t&&i?t+"{"+i+"}":i)+r},an={},$S=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+$S(e[s]);return t}return e},RA=(e,t,s,r,i)=>{let a=$S(e),o=an[a]||(an[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!an[o]){let c=a!==e?e:(d=>{let u,h,f=[{}];for(;u=EA.exec(d.replace(AA,""));)u[4]?f.shift():u[3]?(h=u[3].replace(Cv," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(Cv," ").trim();return f[0]})(e);an[o]=Gn(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&an.g?an.g:null;return s&&(an.g=an[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(an[o],t,r,l),o},MA=(e,t,s)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Gn(l,""):l===!1?"":l}return r+i+(o??"")},"");function nf(e){let t=this||{},s=e.call?e(t.p):e;return RA(s.unshift?s.raw?MA(s,[].slice.call(arguments,1),t.p):s.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):s,PA(t.target),t.g,t.o,t.k)}let BS,wx,jx;nf.bind({g:1});let En=nf.bind({k:1});function DA(e,t,s,r){Gn.p=t,BS=e,wx=s,jx=r}function Ci(e,t){let s=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:wx&&wx()},l),s.o=/ *go\d+/.test(c),l.className=nf.apply(s,r)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),jx&&d[0]&&jx(l),BS(d,l)}return i}}var IA=e=>typeof e=="function",nh=(e,t)=>IA(e)?e(t):e,LA=(()=>{let e=0;return()=>(++e).toString()})(),zS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),OA=20,VS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,OA)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:s}=t;return VS(e,{type:e.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},pu=[],Qi={toasts:[],pausedAt:void 0},ka=e=>{Qi=VS(Qi,e),pu.forEach(t=>{t(Qi)})},FA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},UA=(e={})=>{let[t,s]=k.useState(Qi),r=k.useRef(Qi);k.useEffect(()=>(r.current!==Qi&&s(Qi),pu.push(s),()=>{let a=pu.indexOf(s);a>-1&&pu.splice(a,1)}),[]);let i=t.toasts.map(a=>{var o,l,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||FA[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:i}},$A=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||LA()}),Kc=e=>(t,s)=>{let r=$A(t,e,s);return ka({type:2,toast:r}),r.id},ae=(e,t)=>Kc("blank")(e,t);ae.error=Kc("error");ae.success=Kc("success");ae.loading=Kc("loading");ae.custom=Kc("custom");ae.dismiss=e=>{ka({type:3,toastId:e})};ae.remove=e=>ka({type:4,toastId:e});ae.promise=(e,t,s)=>{let r=ae.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?nh(t.success,i):void 0;return a?ae.success(a,{id:r,...s,...s==null?void 0:s.success}):ae.dismiss(r),i}).catch(i=>{let a=t.error?nh(t.error,i):void 0;a?ae.error(a,{id:r,...s,...s==null?void 0:s.error}):ae.dismiss(r)}),e};var BA=(e,t)=>{ka({type:1,toast:{id:e,height:t}})},zA=()=>{ka({type:5,time:Date.now()})},zl=new Map,VA=1e3,HA=(e,t=VA)=>{if(zl.has(e))return;let s=setTimeout(()=>{zl.delete(e),ka({type:4,toastId:e})},t);zl.set(e,s)},WA=e=>{let{toasts:t,pausedAt:s}=UA(e);k.useEffect(()=>{if(s)return;let a=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&ae.dismiss(l.id);return}return setTimeout(()=>ae.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,s]);let r=k.useCallback(()=>{s&&ka({type:6,time:Date.now()})},[s]),i=k.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},u=t.filter(m=>(m.position||d)===(a.position||d)&&m.height),h=u.findIndex(m=>m.id===a.id),f=u.filter((m,x)=>x<h&&m.visible).length;return u.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,x)=>m+(x.height||0)+c,0)},[t]);return k.useEffect(()=>{t.forEach(a=>{if(a.dismissed)HA(a.id,a.removeDelay);else{let o=zl.get(a.id);o&&(clearTimeout(o),zl.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:BA,startPause:zA,endPause:r,calculateOffset:i}}},qA=En`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YA=En`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GA=En`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,JA=Ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${GA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KA=En`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XA=Ci("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${KA} 1s linear infinite;
`,QA=En`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZA=En`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,e6=Ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,t6=Ci("div")`
  position: absolute;
`,s6=Ci("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,r6=En`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n6=Ci("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${r6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,i6=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return t!==void 0?typeof t=="string"?k.createElement(n6,null,t):t:s==="blank"?null:k.createElement(s6,null,k.createElement(XA,{...r}),s!=="loading"&&k.createElement(t6,null,s==="error"?k.createElement(JA,{...r}):k.createElement(e6,{...r})))},a6=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,o6=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,l6="0%{opacity:0;} 100%{opacity:1;}",c6="0%{opacity:1;} 100%{opacity:0;}",d6=Ci("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,u6=Ci("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,h6=(e,t)=>{let s=e.includes("top")?1:-1,[r,i]=zS()?[l6,c6]:[a6(s),o6(s)];return{animation:t?`${En(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${En(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},f6=k.memo(({toast:e,position:t,style:s,children:r})=>{let i=e.height?h6(e.position||t||"top-center",e.visible):{opacity:0},a=k.createElement(i6,{toast:e}),o=k.createElement(u6,{...e.ariaProps},nh(e.message,e));return k.createElement(d6,{className:e.className,style:{...i,...s,...e.style}},typeof r=="function"?r({icon:a,message:o}):k.createElement(k.Fragment,null,a,o))});DA(k.createElement);var m6=({id:e,className:t,style:s,onHeightUpdate:r,children:i})=>{let a=k.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return k.createElement("div",{ref:a,className:t,style:s},i)},p6=(e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...i}},x6=nf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Td=16,g6=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=WA(s);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Td,left:Td,right:Td,bottom:Td,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||t,h=c.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),f=p6(u,h);return k.createElement(m6,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?x6:"",style:f},d.type==="custom"?nh(d.message,d):i?i(d):k.createElement(f6,{toast:d,position:u}))}))},R=ae;const y6={},Pv=e=>{let t;const s=new Set,r=(u,h)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(x=>x(t,m))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(y6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},d=t=e(r,i,c);return c},b6=e=>e?Pv(e):Pv;var HS={exports:{}},WS={},qS={exports:{}},YS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=k;function v6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w6=typeof Object.is=="function"?Object.is:v6,j6=So.useState,N6=So.useEffect,k6=So.useLayoutEffect,S6=So.useDebugValue;function _6(e,t){var s=t(),r=j6({inst:{value:s,getSnapshot:t}}),i=r[0].inst,a=r[1];return k6(function(){i.value=s,i.getSnapshot=t,ym(i)&&a({inst:i})},[e,s,t]),N6(function(){return ym(i)&&a({inst:i}),e(function(){ym(i)&&a({inst:i})})},[e]),S6(s),s}function ym(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!w6(e,s)}catch{return!0}}function T6(e,t){return t()}var C6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T6:_6;YS.useSyncExternalStore=So.useSyncExternalStore!==void 0?So.useSyncExternalStore:C6;qS.exports=YS;var P6=qS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=k,E6=P6;function A6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R6=typeof Object.is=="function"?Object.is:A6,M6=E6.useSyncExternalStore,D6=af.useRef,I6=af.useEffect,L6=af.useMemo,O6=af.useDebugValue;WS.useSyncExternalStoreWithSelector=function(e,t,s,r,i){var a=D6(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=L6(function(){function c(m){if(!d){if(d=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var x=o.value;if(i(x,m))return h=x}return h=m}if(x=h,R6(u,m))return x;var g=r(m);return i!==void 0&&i(x,g)?(u=m,x):(u=m,h=g)}var d=!1,u,h,f=s===void 0?null:s;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,s,r,i]);var l=M6(e,a[0],a[1]);return I6(function(){o.hasValue=!0,o.value=l},[l]),O6(l),l};HS.exports=WS;var F6=HS.exports;const U6=$h(F6),GS={},{useDebugValue:$6}=De,{useSyncExternalStoreWithSelector:B6}=U6;let Ev=!1;const z6=e=>e;function V6(e,t=z6,s){(GS?"production":void 0)!=="production"&&s&&!Ev&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ev=!0);const r=B6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return $6(r),r}const Av=e=>{(GS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?b6(e):e,s=(r,i)=>V6(t,r,i);return Object.assign(s,t),s},of=e=>e?Av(e):Av,H6="modulepreload",W6=function(e){return"/"+e},Rv={},An=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=W6(c),c in Rv)return;Rv[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":H6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},q6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>An(async()=>{const{default:r}=await Promise.resolve().then(()=>zo);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class R0 extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Y6 extends R0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mv extends R0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dv extends R0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nx||(Nx={}));var G6=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class J6{constructor(t,{headers:s={},customFetch:r,region:i=Nx.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=q6(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return G6(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(g=>{throw new Y6(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Mv(h);if(!h.ok)throw new Dv(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield h.json():m==="application/octet-stream"?x=yield h.blob():m==="text/event-stream"?x=h:m==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Dv||i instanceof Mv?i.context:void 0}}})}}var Rs={},M0={},lf={},Xc={},cf={},df={},K6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_o=K6();const X6=_o.fetch,JS=_o.fetch.bind(_o),KS=_o.Headers,Q6=_o.Request,Z6=_o.Response,zo=Object.freeze(Object.defineProperty({__proto__:null,Headers:KS,Request:Q6,Response:Z6,default:JS,fetch:X6},Symbol.toStringTag,{value:"Module"})),eR=QP(zo);var uf={};Object.defineProperty(uf,"__esModule",{value:!0});let tR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};uf.default=tR;var XS=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(df,"__esModule",{value:!0});const sR=XS(eR),rR=XS(uf);let nR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=sR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let d=null,u=null,h=null,f=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await a.text();try{d=JSON.parse(g),Array.isArray(d)&&a.status===404&&(u=[],d=null,f=200,m="OK")}catch{a.status===404&&g===""?(f=204,m="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,m="OK"),d&&this.shouldThrowOnError)throw new rR.default(d)}return{error:d,data:u,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};df.default=nR;var iR=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cf,"__esModule",{value:!0});const aR=iR(df);let oR=class extends aR.default{select(t){let s=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};cf.default=oR;var lR=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xc,"__esModule",{value:!0});const cR=lR(cf);let dR=class extends cR.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};Xc.default=dR;var uR=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lf,"__esModule",{value:!0});const al=uR(Xc);let hR=class{constructor(t,{headers:s={},schema:r,fetch:i}){this.url=t,this.headers=s,this.schema=r,this.fetch=i}select(t,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new al.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new al.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new al.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new al.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new al.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lf.default=hR;var hf={},ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.version=void 0;ff.version="0.0.0-automated";Object.defineProperty(hf,"__esModule",{value:!0});hf.DEFAULT_HEADERS=void 0;const fR=ff;hf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fR.version}`};var QS=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M0,"__esModule",{value:!0});const mR=QS(lf),pR=QS(Xc),xR=hf;let gR=class ZS{constructor(t,{headers:s={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},xR.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new mR.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ZS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=s);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new pR.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};M0.default=gR;var Vo=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.PostgrestError=Rs.PostgrestBuilder=Rs.PostgrestTransformBuilder=Rs.PostgrestFilterBuilder=Rs.PostgrestQueryBuilder=Rs.PostgrestClient=void 0;const e_=Vo(M0);Rs.PostgrestClient=e_.default;const t_=Vo(lf);Rs.PostgrestQueryBuilder=t_.default;const s_=Vo(Xc);Rs.PostgrestFilterBuilder=s_.default;const r_=Vo(cf);Rs.PostgrestTransformBuilder=r_.default;const n_=Vo(df);Rs.PostgrestBuilder=n_.default;const i_=Vo(uf);Rs.PostgrestError=i_.default;var yR=Rs.default={PostgrestClient:e_.default,PostgrestQueryBuilder:t_.default,PostgrestFilterBuilder:s_.default,PostgrestTransformBuilder:r_.default,PostgrestBuilder:n_.default,PostgrestError:i_.default};const{PostgrestClient:bR,PostgrestQueryBuilder:aQ,PostgrestFilterBuilder:oQ,PostgrestTransformBuilder:lQ,PostgrestBuilder:cQ,PostgrestError:dQ}=yR;function vR(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const wR=vR(),jR="2.11.15",NR=`realtime-js/${jR}`,kR="1.0.0",a_=1e4,SR=1e3;var Vl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vl||(Vl={}));var Jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jt||(Jt={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var kx;(function(e){e.websocket="websocket"})(kx||(kx={}));var Yi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yi||(Yi={}));class _R{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}let o_=class{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Iv=(e,t,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=TR(o,e,t,i),a),{})},TR=(e,t,s,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=s[e];return a&&!r.includes(a)?l_(a,o):Sx(o)},l_=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return AR(t,s)}switch(e){case Ve.bool:return CR(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return PR(t);case Ve.json:case Ve.jsonb:return ER(t);case Ve.timestamp:return RR(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Sx(t);default:return Sx(t)}},Sx=e=>e,CR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},PR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ER=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AR=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>l_(t,l))}return e},RR=e=>typeof e=="string"?e.replace(" ","T"):e,c_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class bm{constructor(t,s,r={},i=a_){this.channel=t,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Lv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Lv||(Lv={}));class Hl{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Hl.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hl.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,i){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const f=u.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),x=u.filter(y=>m.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,s,r,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const i=t[r];return"metas"in i?s[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ov;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ov||(Ov={}));var Fv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fv||(Fv={}));var fn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));class D0{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new bm(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new o_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Hl(this),this.broadcastEndpointURL=c_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(fn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(fn.CLOSED));const c={},d={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(fn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let g=0;g<m;g++){const y=f[g],{filter:{event:p,schema:b,table:v,filter:w}}=y,N=u&&u[g];if(N&&N.event===p&&N.schema===b&&N.table===v&&N.filter===w)x.push(Object.assign(Object.assign({},y),{id:N.id}));else{this.unsubscribe(),this.state=Jt.errored,t==null||t(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(fn.SUBSCRIBED);return}}).receive("error",u=>{this.state=Jt.errored,t==null||t(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new bm(this,Sr.leave,{},t),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bm(this,t,s,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Sr;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var x,g,y;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var x,g,y,p,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,N=(x=m.filter)===null||x===void 0?void 0:x.event;return w&&((g=s.ids)===null||g===void 0?void 0:g.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(b=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((v=s==null?void 0:s.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:g,table:y,commit_timestamp:p,type:b,errors:v}=x;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:p,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(x))}m.callback(f,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&D0.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Iv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Iv(t.columns,t.old_record)),s}}const Uv=()=>{},MR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DR{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uv,this.ref=0,this.logger=Uv,this.conn=null,this.sendBuffer=[],this.serializer=new _R,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>An(async()=>{const{default:c}=await Promise.resolve().then(()=>zo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${kx.websocket}`,this.httpEndpoint=c_(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(a,o)=>o(JSON.stringify(a)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=wR),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kR}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vl.connecting:return Yi.Connecting;case Vl.open:return Yi.Open;case Vl.closing:return Yi.Closing;default:return Yi.Closed}}isConnected(){return this.connectionState()===Yi.Open}channel(t,s={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new D0(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:NR};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Sr.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(SR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:i,payload:a,ref:o}=s;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${r}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([MR],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class I0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Rt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IR extends I0{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _x extends I0{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var LR=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const d_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>An(async()=>{const{default:r}=await Promise.resolve().then(()=>zo);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},OR=()=>LR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield An(()=>Promise.resolve().then(()=>zo),void 0)).Response:Response}),Tx=e=>{if(Array.isArray(e))return e.map(s=>Tx(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Tx(r)}),t};var Sa=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const vm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FR=(e,t,s)=>Sa(void 0,void 0,void 0,function*(){const r=yield OR();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new IR(vm(i),e.status||500))}).catch(i=>{t(new _x(vm(i),i))}):t(new _x(vm(e),e))}),UR=(e,t,s,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),s))};function Qc(e,t,s,r,i,a){return Sa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,UR(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>FR(c,l,r))})})}function ih(e,t,s,r){return Sa(this,void 0,void 0,function*(){return Qc(e,"GET",t,s,r)})}function Wn(e,t,s,r,i){return Sa(this,void 0,void 0,function*(){return Qc(e,"POST",t,r,i,s)})}function $R(e,t,s,r,i){return Sa(this,void 0,void 0,function*(){return Qc(e,"PUT",t,r,i,s)})}function BR(e,t,s,r){return Sa(this,void 0,void 0,function*(){return Qc(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function u_(e,t,s,r,i){return Sa(this,void 0,void 0,function*(){return Qc(e,"DELETE",t,r,i,s)})}var _s=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const zR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$v={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VR{constructor(t,s={},r,i){this.url=t,this.headers=s,this.bucketId=r,this.fetch=d_(i)}uploadOrUpdate(t,s,r,i){return _s(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},$v),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(Rt(a))return{data:null,error:a};throw a}})}upload(t,s,r){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,i){return _s(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:$v.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Rt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return _s(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield Wn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new I0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}update(t,s,r){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return _s(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}copy(t,s,r){return _s(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,r){return _s(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Wn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,r){return _s(this,void 0,void 0,function*(){try{const i=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}download(t,s){return _s(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ih(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}info(t){return _s(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield ih(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Tx(r),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}exists(t){return _s(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield BR(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Rt(r)&&r instanceof _x){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return _s(this,void 0,void 0,function*(){try{return{data:yield u_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}list(t,s,r){return _s(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zR),s),{prefix:t||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const HR="2.7.1",WR={"X-Client-Info":`storage-js/${HR}`};var Ra=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class qR{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},WR),s),this.fetch=d_(r)}listBuckets(){return Ra(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ra(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Ra(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return Ra(this,void 0,void 0,function*(){try{return{data:yield $R(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ra(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Ra(this,void 0,void 0,function*(){try{return{data:yield u_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}}class YR extends qR{constructor(t,s={},r){super(t,s,r)}from(t){return new VR(this.url,this.headers,t,this.fetch)}}const GR="2.50.3";let Sl="";typeof Deno<"u"?Sl="deno":typeof document<"u"?Sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sl="react-native":Sl="node";const JR={"X-Client-Info":`supabase-js-${Sl}/${GR}`},KR={headers:JR},XR={schema:"public"},QR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZR={};var eM=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const tM=e=>{let t;return e?t=e:typeof fetch>"u"?t=JS:t=fetch,(...s)=>t(...s)},sM=()=>typeof Headers>"u"?KS:Headers,rM=(e,t,s)=>{const r=tM(s),i=sM();return(a,o)=>eM(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var nM=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};function iM(e){return e.endsWith("/")?e:e+"/"}function aM(e,t){var s,r;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>nM(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const h_="2.70.0",$a=30*1e3,Cx=3,wm=Cx*$a,oM="http://localhost:9999",lM="supabase.auth.token",cM={"X-Client-Info":`gotrue-js/${h_}`},Px="X-Supabase-Api-Version",f_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uM=6e5;class L0 extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hM extends L0{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function fM(e){return xe(e)&&e.name==="AuthApiError"}class m_ extends L0{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Pi extends L0{constructor(t,s,r,i){super(t,r,i),this.name=s,this.status=r}}class Bn extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mM(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Cd extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends Pi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ed extends Pi{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pM(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bv extends Pi{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ex extends Pi{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function jm(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class zv extends Pi{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Wl extends Pi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vv=` 	
\r=`.split(""),xM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vv.length;t+=1)e[Vv[t].charCodeAt(0)]=-2;for(let t=0;t<ah.length;t+=1)e[ah[t].charCodeAt(0)]=t;return e})();function Hv(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(ah[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(ah[r]),t.queuedBits-=6}}function p_(e,t,s){const r=xM[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wv(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{bM(o,r,s)};for(let o=0;o<e.length;o+=1)p_(e.charCodeAt(o),i,a);return t.join("")}function gM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yM(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}gM(r,t)}}function bM(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function vM(e){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)p_(e.charCodeAt(i),s,r);return new Uint8Array(t)}function wM(e){const t=[];return yM(e,s=>t.push(s)),new Uint8Array(t)}function jM(e){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Hv(i,s,r)),Hv(null,s,r),t.join("")}function NM(e){return Math.round(Date.now()/1e3)+e}function kM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wr=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},ql=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function SM(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((r,i)=>{t[i]=r}),t}const x_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>An(async()=>{const{default:r}=await Promise.resolve().then(()=>zo);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},_M=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",g_=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Ad=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Rd=async(e,t)=>{await e.removeItem(t)};class mf{constructor(){this.promise=new mf.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}mf.promiseConstructor=Promise;function Nm(e){const t=e.split(".");if(t.length!==3)throw new Wl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!dM.test(t[r]))throw new Wl("JWT not in base64url format");return{header:JSON.parse(Wv(t[0])),payload:JSON.parse(Wv(t[1])),signature:vM(t[2]),raw:{header:t[0],payload:t[1]}}}async function TM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CM(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function PM(e){return("0"+e.toString(16)).substr(-2)}function EM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,PM).join("")}async function AM(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function RM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await AM(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ma(e,t,s=!1){const r=EM();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await g_(e,`${t}-code-verifier`,i);const a=await RM(r);return[a,r===a?"plain":"s256"]}const MM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DM(e){const t=e.headers.get(Px);if(!t||!t.match(MM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Da(e){if(!OM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var FM=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s};const zi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UM=[502,503,504];async function qv(e){var t;if(!_M(e))throw new Ex(zi(e),0);if(UM.includes(e.status))throw new Ex(zi(e),e.status);let s;try{s=await e.json()}catch(a){throw new m_(zi(a),a)}let r;const i=DM(e);if(i&&i.getTime()>=f_["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new zv(zi(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Bn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new zv(zi(s),e.status,s.weak_password.reasons);throw new hM(zi(s),e.status||500,r)}const $M=(e,t,s,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function _e(e,t,s,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Px]||(a[Px]=f_["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await BM(e,t,s+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function BM(e,t,s,r,i,a){const o=$M(t,r,i,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Ex(zi(c),0)}if(l.ok||await qv(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await qv(c)}}function cn(e){var t;let s=null;WM(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=NM(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Yv(e){const t=cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zM(e){return{data:e,error:null}}function VM(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a}=e,o=FM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HM(e){return e}function WM(e){return e.access_token&&e.refresh_token&&e.expires_in}const km=["global","local","others"];var qM=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s};class YM{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=x_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=km[0]){if(km.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${km.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Jn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=qM(t,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:VM,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(xe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jn})}catch(s){if(xe(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:HM});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(xe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Da(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jn})}catch(s){if(xe(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Da(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Jn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Da(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Jn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Da(t.userId);try{const{data:s,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(xe(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Da(t.userId),Da(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}}}const GM={getItem:e=>ql()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ql()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ql()&&globalThis.localStorage.removeItem(e)}};function Gv(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function JM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ia={debug:!!(globalThis&&ql()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KM extends y_{}async function XM(e,t,s){Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ia.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}JM();const QM={url:oM,storageKey:lM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jv(e,t,s){return await s()}class _c{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_c.nextInstanceID,_c.nextInstanceID+=1,this.instanceID>0&&wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},QM),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new YM({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=x_(i.fetch),this.lock=i.lock||Jv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:wr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=XM:this.lock=Jv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ql()?this.storage=GM:(this.memoryStorage={},this.storage=Gv(this.memoryStorage)):(this.memoryStorage={},this.storage=Gv(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${h_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=SM(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),wr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),pM(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return xe(s)?{error:s}:{error:new m_("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,i;try{const a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:cn}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var s,r,i;try{let a;if("email"in t){const{email:u,password:h,options:f}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Ma(this.storage,this.storageKey)),a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:cn})}else if("phone"in t){const{phone:u,password:h,options:f}=t;a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:cn})}else throw new Pd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yv})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yv})}else throw new Pd("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Cd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,r,i,a,o,l,c,d,u,h,f,m;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:y,wallet:p,statement:b,options:v}=t;let w;if(wr())if(typeof p=="object")w=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const N=new URL((s=v==null?void 0:v.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),g=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:y,error:p}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:jM(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:cn});if(p)throw p;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Cd}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:p})}catch(y){if(xe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const s=await Ad(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:a,error:o}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:cn});if(await Rd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Cd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(xe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:s,provider:r,token:i,access_token:a,nonce:o}=t,l=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:cn}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ma(this.storage,this.storageKey));const{error:h}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Pd("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,r;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:cn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ma(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:zM})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Bn;const{error:i}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Pd("You must provide either an email or phone number and a type")}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Ad(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<wm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jn}):await this._useSession(async s=>{var r,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Jn})})}catch(s){if(xe(s))return mM(s)&&(await this._removeSession(),await Rd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Bn;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ma(this.storage,this.storageKey));const{data:d,error:u}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Jn});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const s=Date.now()/1e3;let r=s,i=!0,a=null;const{payload:o}=Nm(t.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(xe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Bn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!wr())throw new Ed("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ed(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Bv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ed("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bv("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new Ed("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=$a&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,u);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const p={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Ad(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(fM(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Rd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=kM(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ma(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return wr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)throw o;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(xe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await CM(async i=>(i>0&&await TM(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&jm(a)&&Date.now()+o-r<$a})}catch(r){if(this._debug(s,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),wr()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ad(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wm;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${wm}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),jm(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mf;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Bn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),xe(a)){const o={session:null,error:a};return jm(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await g_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Rd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$a);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/$a);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$a}ms, refresh threshold is ${Cx} ticks`),i<=Cx&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof y_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ma(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(xe(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(xe(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(xe(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(xe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nm(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+uM>Date.now()))return r;const{data:i,error:a}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Wl("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===t),!r)throw new Wl("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Nm(r);if(IM(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:i,signature:o},error:null}}const d=LM(i.alg),u=await this.fetchJwk(i.kid,s),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,wM(`${l}.${c}`)))throw new Wl("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}}_c.nextInstanceID=0;const ZM=_c;class eD extends ZM{constructor(t){super(t)}}var tD=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class sD{constructor(t,s,r){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=iM(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:XR,realtime:ZR,auth:Object.assign(Object.assign({},QR),{storageKey:d}),global:KR},h=aM(r??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=rM(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new bR(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new J6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new YR(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return tD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eD({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new DR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rD=(e,t,s)=>new sD(e,t,s),Js="https://ykajmsrubmjpbzljxsup.supabase.co",jn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ",D=rD(Js,jn),Ax=Object.freeze(Object.defineProperty({__proto__:null,supabase:D,supabaseAnonKey:jn,supabaseUrl:Js},Symbol.toStringTag,{value:"Module"}));class nD{async getUserTokens(t){var s;try{let r=t;if(!r){const{data:{session:o}}=await D.auth.getSession();if(!((s=o==null?void 0:o.user)!=null&&s.id))return console.log("❌ No authenticated user found"),null;r=o.user.id}console.log("🔄 Fetching tokens for user:",r);const{data:i,error:a}=await D.from("user_tokens").select("*").eq("user_id",r).single();return a?(console.log("⚠️ Error or no record found:",a.code,a.message),a.code==="PGRST116"?(console.log("🔄 Creating initial token record for user:",r),await this.createInitialTokenRecord(r)):(console.error("❌ Error fetching user tokens:",a),null)):(console.log("✅ Found existing token record for user:",r),{id:i.id,userId:i.user_id,balance:i.balance||0,earned:i.earned||0,spent:i.spent||0,createdAt:i.created_at,updatedAt:i.updated_at,transactions:await this.getRecentTransactions(r)})}catch(r){return console.error("❌ Error in getUserTokens:",r),null}}async createInitialTokenRecord(t){var s;try{console.log("🔄 Creating initial token record for user:",t);const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))return console.error("❌ No authenticated session found when creating token record"),null;if(r.user.id!==t)return console.error("❌ User ID mismatch: session user",r.user.id,"vs requested user",t),null;const{data:i,error:a}=await D.from("user_tokens").insert({user_id:t,balance:100,earned:100,spent:0}).select().single();if(a){if(console.error("❌ Error creating initial token record:",a),a.code==="23505")return console.log("⚠️ Token record already exists (race condition), fetching existing record..."),await this.getUserTokens(t);console.log("🔄 Trying edge function fallback for token initialization...");try{const{error:l}=await D.functions.invoke("initialize-user-tokens",{body:{userId:t}});return l?(console.error("❌ Edge function also failed:",l),null):(console.log("✅ Token record created via edge function"),await this.getUserTokens(t))}catch(l){return console.error("❌ Edge function fallback failed:",l),null}}return console.log("✅ Created initial token record successfully"),await this.createTransaction(t,{type:"bonus",amount:100,description:"Welcome bonus - Free tokens for new users",relatedService:"system"})||console.warn("⚠️ Failed to create welcome transaction, but token record was created"),{id:i.id,userId:i.user_id,balance:i.balance,earned:i.earned,spent:i.spent,createdAt:i.created_at,updatedAt:i.updated_at,transactions:await this.getRecentTransactions(t)}}catch(r){return console.error("❌ Error creating initial token record:",r),null}}async spendTokens(t,s,r,i){try{let a=await this.getUserTokens(t);if(!a&&(console.log("No token record found, creating initial record for user:",t),a=await this.createInitialTokenRecord(t),!a))throw new Error("Failed to create user token record");if(a.balance<s)throw new Error(`Insufficient tokens. You need ${s} tokens but only have ${a.balance}`);const{error:o}=await D.from("user_tokens").update({balance:a.balance-s,spent:a.spent+s,updated_at:new Date().toISOString()}).eq("user_id",t);if(o)throw new Error("Failed to deduct tokens");return await this.createTransaction(t,{type:"spent",amount:s,description:r,relatedService:i}),console.log(`✅ Spent ${s} tokens for user ${t}: ${r}`),!0}catch(a){return console.error("Error spending tokens:",a),R.error(a instanceof Error?a.message:"Failed to spend tokens"),!1}}async addTokens(t,s,r,i){try{let a=await this.getUserTokens(t);if(!a&&(console.log("No token record found, creating initial record for user:",t),a=await this.createInitialTokenRecord(t),!a))throw new Error("Failed to create user token record");const{error:o}=await D.from("user_tokens").update({balance:a.balance+s,earned:a.earned+s,updated_at:new Date().toISOString()}).eq("user_id",t);if(o)throw new Error("Failed to add tokens");return await this.createTransaction(t,{type:"earned",amount:s,description:r,relatedService:i}),console.log(`✅ Added ${s} tokens for user ${t}: ${r}`),!0}catch(a){return console.error("Error adding tokens:",a),R.error(a instanceof Error?a.message:"Failed to add tokens"),!1}}async addTokensToUser(t,s,r,i){try{let a=await this.getUserTokensDirectly(t);if(!a){console.log("No token record found for user, creating with edge function:",t);try{const{error:l}=await D.functions.invoke("initialize-user-tokens",{body:{userId:t}});l||(a=await this.getUserTokensDirectly(t))}catch(l){console.error("Edge function failed, creating basic record:",l)}if(!a){const{data:l,error:c}=await D.from("user_tokens").insert({user_id:t,balance:s,earned:s,spent:0}).select().single();if(c)return console.error("Failed to create token record for user:",c),!1;a={id:l.id,userId:l.user_id,balance:l.balance,earned:l.earned,spent:l.spent,createdAt:l.created_at,updatedAt:l.updated_at,transactions:[]}}}if(!a)return console.error("Failed to get or create token record for user:",t),!1;const{error:o}=await D.from("user_tokens").update({balance:a.balance+s,earned:a.earned+s,updated_at:new Date().toISOString()}).eq("user_id",t);return o?(console.error("Failed to update token balance:",o),!1):(await this.createTransaction(t,{type:"earned",amount:s,description:r,relatedService:i}),console.log(`✅ Added ${s} tokens for user ${t}: ${r}`),!0)}catch(a){return console.error("Error adding tokens to user:",a),!1}}async getUserTokensDirectly(t){try{const{data:s,error:r}=await D.from("user_tokens").select("*").eq("user_id",t).single();return r?(r.code==="PGRST116"||console.error("Error fetching user tokens directly:",r),null):{id:s.id,userId:s.user_id,balance:s.balance||0,earned:s.earned||0,spent:s.spent||0,createdAt:s.created_at,updatedAt:s.updated_at,transactions:[]}}catch(s){return console.error("Error in getUserTokensDirectly:",s),null}}async transferTokens(t,s,r,i,a){try{const o=await this.getUserTokens(t);if(!o||o.balance<r)throw new Error("Insufficient tokens for transfer");return await this.spendTokens(t,r,`Transfer: ${i}`,a)?await this.addTokens(s,r,`Received: ${i}`,a)?(console.log(`✅ Transferred ${r} tokens from ${t} to ${s}: ${i}`),!0):(await this.addTokens(t,r,`Rollback: ${i}`,a),!1):!1}catch(o){return console.error("Error transferring tokens:",o),R.error(o instanceof Error?o.message:"Failed to transfer tokens"),!1}}async createTransaction(t,s){try{const{error:r}=await D.from("token_transactions").insert({user_id:t,type:s.type,amount:s.amount,description:s.description,related_service:s.relatedService||null,created_at:new Date().toISOString()});return r?(console.error("Error creating transaction record:",r),!1):!0}catch(r){return console.error("Error in createTransaction:",r),!1}}async getTransactionHistory(t,s=50){try{const{data:r,error:i}=await D.from("token_transactions").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(s);return i?(console.error("Error fetching transaction history:",i),[]):(r||[]).map(a=>({id:a.id,userId:a.user_id,type:a.type,amount:a.amount,description:a.description,relatedService:a.related_service,createdAt:a.created_at}))}catch(r){return console.error("Error in getTransactionHistory:",r),[]}}async getPlatformStats(){try{const{data:t,error:s}=await D.from("user_tokens").select("balance, earned, spent");return s?(console.error("Error fetching platform stats:",s),null):(t||[]).reduce((i,a)=>({totalUsers:i.totalUsers+1,totalTokensInCirculation:i.totalTokensInCirculation+(a.balance||0),totalTokensEarned:i.totalTokensEarned+(a.earned||0),totalTokensSpent:i.totalTokensSpent+(a.spent||0)}),{totalUsers:0,totalTokensInCirculation:0,totalTokensEarned:0,totalTokensSpent:0})}catch(t){return console.error("Error in getPlatformStats:",t),null}}async getRecentTransactions(t){try{const{data:s,error:r}=await D.from("token_transactions").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(10);return r?(console.error("Error fetching transactions:",r),[]):(s==null?void 0:s.map(i=>({id:i.id,userId:i.user_id,type:i.type,amount:i.amount,description:i.description,relatedService:i.related_service,createdAt:i.created_at})))||[]}catch(s){return console.error("Error in getRecentTransactions:",s),[]}}subscribeToTokenUpdates(t,s){return D.channel(`user_tokens:${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_tokens",filter:`user_id=eq.${t}`},async()=>{const r=await this.getUserTokens(t);s(r)}).subscribe()}}const ti=new nD;function b_(e,t){return function(){return e.apply(t,arguments)}}const{toString:iD}=Object.prototype,{getPrototypeOf:O0}=Object,{iterator:pf,toStringTag:v_}=Symbol,xf=(e=>t=>{const s=iD.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Mr=e=>(e=e.toLowerCase(),t=>xf(t)===e),gf=e=>t=>typeof t===e,{isArray:Ho}=Array,Tc=gf("undefined");function aD(e){return e!==null&&!Tc(e)&&e.constructor!==null&&!Tc(e.constructor)&&Us(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const w_=Mr("ArrayBuffer");function oD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&w_(e.buffer),t}const lD=gf("string"),Us=gf("function"),j_=gf("number"),yf=e=>e!==null&&typeof e=="object",cD=e=>e===!0||e===!1,xu=e=>{if(xf(e)!=="object")return!1;const t=O0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(v_ in e)&&!(pf in e)},dD=Mr("Date"),uD=Mr("File"),hD=Mr("Blob"),fD=Mr("FileList"),mD=e=>yf(e)&&Us(e.pipe),pD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Us(e.append)&&((t=xf(e))==="formdata"||t==="object"&&Us(e.toString)&&e.toString()==="[object FormData]"))},xD=Mr("URLSearchParams"),[gD,yD,bD,vD]=["ReadableStream","Request","Response","Headers"].map(Mr),wD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ho(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=s?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(r=0;r<o;r++)l=a[r],t.call(null,e[l],l,e)}}function N_(e,t){t=t.toLowerCase();const s=Object.keys(e);let r=s.length,i;for(;r-- >0;)if(i=s[r],t===i.toLowerCase())return i;return null}const Zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,k_=e=>!Tc(e)&&e!==Zi;function Rx(){const{caseless:e}=k_(this)&&this||{},t={},s=(r,i)=>{const a=e&&N_(t,i)||i;xu(t[a])&&xu(r)?t[a]=Rx(t[a],r):xu(r)?t[a]=Rx({},r):Ho(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Zc(arguments[r],s);return t}const jD=(e,t,s,{allOwnKeys:r}={})=>(Zc(t,(i,a)=>{s&&Us(i)?e[a]=b_(i,s):e[a]=i},{allOwnKeys:r}),e),ND=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kD=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},SD=(e,t,s,r)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&O0(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},_D=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},TD=e=>{if(!e)return null;if(Ho(e))return e;let t=e.length;if(!j_(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},CD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&O0(Uint8Array)),PD=(e,t)=>{const r=(e&&e[pf]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},ED=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},AD=Mr("HTMLFormElement"),RD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,i){return r.toUpperCase()+i}),Kv=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),MD=Mr("RegExp"),S_=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Zc(s,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},DD=e=>{S_(e,(t,s)=>{if(Us(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Us(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},ID=(e,t)=>{const s={},r=i=>{i.forEach(a=>{s[a]=!0})};return Ho(e)?r(e):r(String(e).split(t)),s},LD=()=>{},OD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function FD(e){return!!(e&&Us(e.append)&&e[v_]==="FormData"&&e[pf])}const UD=e=>{const t=new Array(10),s=(r,i)=>{if(yf(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=Ho(r)?[]:{};return Zc(r,(o,l)=>{const c=s(o,i+1);!Tc(c)&&(a[l]=c)}),t[i]=void 0,a}}return r};return s(e,0)},$D=Mr("AsyncFunction"),BD=e=>e&&(yf(e)||Us(e))&&Us(e.then)&&Us(e.catch),__=((e,t)=>e?setImmediate:t?((s,r)=>(Zi.addEventListener("message",({source:i,data:a})=>{i===Zi&&a===s&&r.length&&r.shift()()},!1),i=>{r.push(i),Zi.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Us(Zi.postMessage)),zD=typeof queueMicrotask<"u"?queueMicrotask.bind(Zi):typeof process<"u"&&process.nextTick||__,VD=e=>e!=null&&Us(e[pf]),q={isArray:Ho,isArrayBuffer:w_,isBuffer:aD,isFormData:pD,isArrayBufferView:oD,isString:lD,isNumber:j_,isBoolean:cD,isObject:yf,isPlainObject:xu,isReadableStream:gD,isRequest:yD,isResponse:bD,isHeaders:vD,isUndefined:Tc,isDate:dD,isFile:uD,isBlob:hD,isRegExp:MD,isFunction:Us,isStream:mD,isURLSearchParams:xD,isTypedArray:CD,isFileList:fD,forEach:Zc,merge:Rx,extend:jD,trim:wD,stripBOM:ND,inherits:kD,toFlatObject:SD,kindOf:xf,kindOfTest:Mr,endsWith:_D,toArray:TD,forEachEntry:PD,matchAll:ED,isHTMLForm:AD,hasOwnProperty:Kv,hasOwnProp:Kv,reduceDescriptors:S_,freezeMethods:DD,toObjectSet:ID,toCamelCase:RD,noop:LD,toFiniteNumber:OD,findKey:N_,global:Zi,isContextDefined:k_,isSpecCompliantForm:FD,toJSONObject:UD,isAsyncFn:$D,isThenable:BD,setImmediate:__,asap:zD,isIterable:VD};function ge(e,t,s,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const T_=ge.prototype,C_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{C_[e]={value:e}});Object.defineProperties(ge,C_);Object.defineProperty(T_,"isAxiosError",{value:!0});ge.from=(e,t,s,r,i,a)=>{const o=Object.create(T_);return q.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ge.call(o,e.message,t,s,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const HD=null;function Mx(e){return q.isPlainObject(e)||q.isArray(e)}function P_(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function Xv(e,t,s){return e?e.concat(t).map(function(i,a){return i=P_(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function WD(e){return q.isArray(e)&&!e.some(Mx)}const qD=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function bf(e,t,s){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!q.isUndefined(y[g])});const r=s.metaTokens,i=s.visitor||u,a=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(q.isDate(x))return x.toISOString();if(q.isBoolean(x))return x.toString();if(!c&&q.isBlob(x))throw new ge("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(x)||q.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,g,y){let p=x;if(x&&!y&&typeof x=="object"){if(q.endsWith(g,"{}"))g=r?g:g.slice(0,-2),x=JSON.stringify(x);else if(q.isArray(x)&&WD(x)||(q.isFileList(x)||q.endsWith(g,"[]"))&&(p=q.toArray(x)))return g=P_(g),p.forEach(function(v,w){!(q.isUndefined(v)||v===null)&&t.append(o===!0?Xv([g],w,a):o===null?g:g+"[]",d(v))}),!1}return Mx(x)?!0:(t.append(Xv(y,g,a),d(x)),!1)}const h=[],f=Object.assign(qD,{defaultVisitor:u,convertValue:d,isVisitable:Mx});function m(x,g){if(!q.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(x),q.forEach(x,function(p,b){(!(q.isUndefined(p)||p===null)&&i.call(t,p,q.isString(b)?b.trim():b,g,f))===!0&&m(p,g?g.concat(b):[b])}),h.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Qv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function F0(e,t){this._pairs=[],e&&bf(e,this,t)}const E_=F0.prototype;E_.append=function(t,s){this._pairs.push([t,s])};E_.toString=function(t){const s=t?function(r){return t.call(this,r,Qv)}:Qv;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function YD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function A_(e,t,s){if(!t)return e;const r=s&&s.encode||YD;q.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=q.isURLSearchParams(t)?t.toString():new F0(t,s).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Zv{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(r){r!==null&&t(r)})}}const R_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GD=typeof URLSearchParams<"u"?URLSearchParams:F0,JD=typeof FormData<"u"?FormData:null,KD=typeof Blob<"u"?Blob:null,XD={isBrowser:!0,classes:{URLSearchParams:GD,FormData:JD,Blob:KD},protocols:["http","https","file","blob","url","data"]},U0=typeof window<"u"&&typeof document<"u",Dx=typeof navigator=="object"&&navigator||void 0,QD=U0&&(!Dx||["ReactNative","NativeScript","NS"].indexOf(Dx.product)<0),ZD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eI=U0&&window.location.href||"http://localhost",tI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:U0,hasStandardBrowserEnv:QD,hasStandardBrowserWebWorkerEnv:ZD,navigator:Dx,origin:eI},Symbol.toStringTag,{value:"Module"})),Zt={...tI,...XD};function sI(e,t){return bf(e,new Zt.classes.URLSearchParams,Object.assign({visitor:function(s,r,i,a){return Zt.isNode&&q.isBuffer(s)?(this.append(r,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function rI(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nI(e){const t={},s=Object.keys(e);let r;const i=s.length;let a;for(r=0;r<i;r++)a=s[r],t[a]=e[a];return t}function M_(e){function t(s,r,i,a){let o=s[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=s.length;return o=!o&&q.isArray(i)?i.length:o,c?(q.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!q.isObject(i[o]))&&(i[o]=[]),t(s,r,i[o],a)&&q.isArray(i[o])&&(i[o]=nI(i[o])),!l)}if(q.isFormData(e)&&q.isFunction(e.entries)){const s={};return q.forEachEntry(e,(r,i)=>{t(rI(r),i,s,0)}),s}return null}function iI(e,t,s){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const ed={transitional:R_,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",i=r.indexOf("application/json")>-1,a=q.isObject(t);if(a&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return i?JSON.stringify(M_(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sI(t,this.formSerializer).toString();if((l=q.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return bf(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),iI(t)):t}],transformResponse:[function(t){const s=this.transitional||ed.transitional,r=s&&s.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(r&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ge.from(l,ge.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{ed.headers[e]={}});const aI=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oI=e=>{const t={};let s,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!s||t[s]&&aI[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},ew=Symbol("internals");function ol(e){return e&&String(e).trim().toLowerCase()}function gu(e){return e===!1||e==null?e:q.isArray(e)?e.map(gu):String(e)}function lI(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const cI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sm(e,t,s,r,i){if(q.isFunction(r))return r.call(this,t,s);if(i&&(t=s),!!q.isString(t)){if(q.isString(r))return t.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(t)}}function dI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function uI(e,t){const s=q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(i,a,o){return this[r].call(this,t,i,a,o)},configurable:!0})})}let $s=class{constructor(t){t&&this.set(t)}set(t,s,r){const i=this;function a(l,c,d){const u=ol(c);if(!u)throw new Error("header name must be a non-empty string");const h=q.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=gu(l))}const o=(l,c)=>q.forEach(l,(d,u)=>a(d,u,c));if(q.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(q.isString(t)&&(t=t.trim())&&!cI(t))o(oI(t),s);else if(q.isObject(t)&&q.isIterable(t)){let l={},c,d;for(const u of t){if(!q.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?q.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,s)}else t!=null&&a(s,t,r);return this}get(t,s){if(t=ol(t),t){const r=q.findKey(this,t);if(r){const i=this[r];if(!s)return i;if(s===!0)return lI(i);if(q.isFunction(s))return s.call(this,i,r);if(q.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ol(t),t){const r=q.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Sm(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let i=!1;function a(o){if(o=ol(o),o){const l=q.findKey(r,o);l&&(!s||Sm(r,r[l],l,s))&&(delete r[l],i=!0)}}return q.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let r=s.length,i=!1;for(;r--;){const a=s[r];(!t||Sm(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,r={};return q.forEach(this,(i,a)=>{const o=q.findKey(r,a);if(o){s[o]=gu(i),delete s[a];return}const l=t?dI(a):String(a).trim();l!==a&&delete s[a],s[l]=gu(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(s[i]=t&&q.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[ew]=this[ew]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=ol(o);r[l]||(uI(i,o),r[l]=!0)}return q.isArray(t)?t.forEach(a):a(t),this}};$s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors($s.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});q.freezeMethods($s);function _m(e,t){const s=this||ed,r=t||s,i=$s.from(r.headers);let a=r.data;return q.forEach(e,function(l){a=l.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function D_(e){return!!(e&&e.__CANCEL__)}function Wo(e,t,s){ge.call(this,e??"canceled",ge.ERR_CANCELED,t,s),this.name="CanceledError"}q.inherits(Wo,ge,{__CANCEL__:!0});function I_(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new ge("Request failed with status code "+s.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function hI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fI(e,t){e=e||10;const s=new Array(e),r=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[a];o||(o=d),s[i]=c,r[i]=d;let h=a,f=0;for(;h!==i;)f+=s[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function mI(e,t){let s=0,r=1e3/t,i,a;const o=(d,u=Date.now())=>{s=u,i=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=r?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},r-h)))},()=>i&&o(i)]}const oh=(e,t,s=3)=>{let r=0;const i=fI(50,250);return mI(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-r,d=i(c),u=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},tw=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},sw=e=>(...t)=>q.asap(()=>e(...t)),pI=Zt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Zt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,xI=Zt.hasStandardBrowserEnv?{write(e,t,s,r,i,a){const o=[e+"="+encodeURIComponent(t)];q.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),q.isString(r)&&o.push("path="+r),q.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function L_(e,t,s){let r=!gI(t);return e&&(r||s==!1)?yI(e,t):t}const rw=e=>e instanceof $s?{...e}:e;function xa(e,t){t=t||{};const s={};function r(d,u,h,f){return q.isPlainObject(d)&&q.isPlainObject(u)?q.merge.call({caseless:f},d,u):q.isPlainObject(u)?q.merge({},u):q.isArray(u)?u.slice():u}function i(d,u,h,f){if(q.isUndefined(u)){if(!q.isUndefined(d))return r(void 0,d,h,f)}else return r(d,u,h,f)}function a(d,u){if(!q.isUndefined(u))return r(void 0,u)}function o(d,u){if(q.isUndefined(u)){if(!q.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,h){if(h in t)return r(d,u);if(h in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>i(rw(d),rw(u),h,!0)};return q.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=c[u]||i,f=h(e[u],t[u],u);q.isUndefined(f)&&h!==l||(s[u]=f)}),s}const O_=e=>{const t=xa({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=$s.from(o),t.url=A_(L_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(q.isFormData(s)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Zt.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(t)),r||r!==!1&&pI(t.url))){const d=i&&a&&xI.read(a);d&&o.set(i,d)}return t},bI=typeof XMLHttpRequest<"u",vI=bI&&function(e){return new Promise(function(s,r){const i=O_(e);let a=i.data;const o=$s.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,h,f,m,x;function g(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function p(){if(!y)return;const v=$s.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};I_(function(T){s(T),g()},function(T){r(T),g()},N),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(r(new ge("Request aborted",ge.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||R_;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),r(new ge(w,N.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&q.forEach(o.toJSON(),function(w,N){y.setRequestHeader(N,w)}),q.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),l&&l!=="json"&&(y.responseType=i.responseType),d&&([f,x]=oh(d,!0),y.addEventListener("progress",f)),c&&y.upload&&([h,m]=oh(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=v=>{y&&(r(!v||v.type?new Wo(null,e,y):v),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=hI(i.url);if(b&&Zt.protocols.indexOf(b)===-1){r(new ge("Unsupported protocol "+b+":",ge.ERR_BAD_REQUEST,e));return}y.send(a||null)})},wI=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof ge?u:new Wo(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>q.asap(l),c}},jI=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,i;for(;r<s;)i=r+t,yield e.slice(r,i),r=i},NI=async function*(e,t){for await(const s of kI(e))yield*jI(s,t)},kI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},nw=(e,t,s,r)=>{const i=NI(e,t);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(s){let f=a+=h;s(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},vf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",F_=vf&&typeof ReadableStream=="function",SI=vf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),U_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_I=F_&&U_(()=>{let e=!1;const t=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),iw=64*1024,Ix=F_&&U_(()=>q.isReadableStream(new Response("").body)),lh={stream:Ix&&(e=>e.body)};vf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!lh[t]&&(lh[t]=q.isFunction(e[t])?s=>s[t]():(s,r)=>{throw new ge(`Response type '${t}' is not supported`,ge.ERR_NOT_SUPPORT,r)})})})(new Response);const TI=async e=>{if(e==null)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e))return(await new Request(Zt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(q.isArrayBufferView(e)||q.isArrayBuffer(e))return e.byteLength;if(q.isURLSearchParams(e)&&(e=e+""),q.isString(e))return(await SI(e)).byteLength},CI=async(e,t)=>{const s=q.toFiniteNumber(e.getContentLength());return s??TI(t)},PI=vf&&(async e=>{let{url:t,method:s,data:r,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:f}=O_(e);d=d?(d+"").toLowerCase():"text";let m=wI([i,a&&a.toAbortSignal()],o),x;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(c&&_I&&s!=="get"&&s!=="head"&&(y=await CI(u,r))!==0){let N=new Request(t,{method:"POST",body:r,duplex:"half"}),S;if(q.isFormData(r)&&(S=N.headers.get("content-type"))&&u.setContentType(S),N.body){const[T,j]=tw(y,oh(sw(c)));r=nw(N.body,iw,T,j)}}q.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;x=new Request(t,{...f,signal:m,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:p?h:void 0});let b=await fetch(x,f);const v=Ix&&(d==="stream"||d==="response");if(Ix&&(l||v&&g)){const N={};["status","statusText","headers"].forEach(E=>{N[E]=b[E]});const S=q.toFiniteNumber(b.headers.get("content-length")),[T,j]=l&&tw(S,oh(sw(l),!0))||[];b=new Response(nw(b.body,iw,T,()=>{j&&j(),g&&g()}),N)}d=d||"text";let w=await lh[q.findKey(lh,d)||"text"](b,e);return!v&&g&&g(),await new Promise((N,S)=>{I_(N,S,{data:w,headers:$s.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:x})})}catch(p){throw g&&g(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,e,x),{cause:p.cause||p}):ge.from(p,p&&p.code,e,x)}}),Lx={http:HD,xhr:vI,fetch:PI};q.forEach(Lx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const aw=e=>`- ${e}`,EI=e=>q.isFunction(e)||e===null||e===!1,$_={getAdapter:e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let s,r;const i={};for(let a=0;a<t;a++){s=e[a];let o;if(r=s,!EI(s)&&(r=Lx[(o=String(s)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(aw).join(`
`):" "+aw(a[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Lx};function Tm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wo(null,e)}function ow(e){return Tm(e),e.headers=$s.from(e.headers),e.data=_m.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$_.getAdapter(e.adapter||ed.adapter)(e).then(function(r){return Tm(e),r.data=_m.call(e,e.transformResponse,r),r.headers=$s.from(r.headers),r},function(r){return D_(r)||(Tm(e),r&&r.response&&(r.response.data=_m.call(e,e.transformResponse,r.response),r.response.headers=$s.from(r.response.headers))),Promise.reject(r)})}const B_="1.10.0",wf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const lw={};wf.transitional=function(t,s,r){function i(a,o){return"[Axios v"+B_+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(t===!1)throw new ge(i(o," has been removed"+(s?" in "+s:"")),ge.ERR_DEPRECATED);return s&&!lw[o]&&(lw[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,o,l):!0}};wf.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function AI(e,t,s){if(typeof e!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new ge("option "+a+" must be "+c,ge.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ge("Unknown option "+a,ge.ERR_BAD_OPTION)}}const yu={assertOptions:AI,validators:wf},Lr=yu.validators;let ia=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Zv,response:new Zv}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=xa(this.defaults,s);const{transitional:r,paramsSerializer:i,headers:a}=s;r!==void 0&&yu.assertOptions(r,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),i!=null&&(q.isFunction(i)?s.paramsSerializer={serialize:i}:yu.assertOptions(i,{encode:Lr.function,serialize:Lr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),yu.assertOptions(s,{baseUrl:Lr.spelling("baseURL"),withXsrfToken:Lr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=a&&q.merge(a.common,a[s.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),s.headers=$s.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!c){const x=[ow.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),f=x.length,u=Promise.resolve(s);h<f;)u=u.then(x[h++],x[h++]);return u}f=l.length;let m=s;for(h=0;h<f;){const x=l[h++],g=l[h++];try{m=x(m)}catch(y){g.call(this,y);break}}try{u=ow.call(this,m)}catch(x){return Promise.reject(x)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=xa(this.defaults,t);const s=L_(t.baseURL,t.url,t.allowAbsoluteUrls);return A_(s,t.params,t.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(t){ia.prototype[t]=function(s,r){return this.request(xa(r||{},{method:t,url:s,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(t){function s(r){return function(a,o,l){return this.request(xa(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ia.prototype[t]=s(),ia.prototype[t+"Form"]=s(!0)});let RI=class z_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,l){r.reason||(r.reason=new Wo(a,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new z_(function(i){t=i}),cancel:t}}};function MI(e){return function(s){return e.apply(null,s)}}function DI(e){return q.isObject(e)&&e.isAxiosError===!0}const Ox={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ox).forEach(([e,t])=>{Ox[t]=e});function V_(e){const t=new ia(e),s=b_(ia.prototype.request,t);return q.extend(s,ia.prototype,t,{allOwnKeys:!0}),q.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return V_(xa(e,i))},s}const Ne=V_(ed);Ne.Axios=ia;Ne.CanceledError=Wo;Ne.CancelToken=RI;Ne.isCancel=D_;Ne.VERSION=B_;Ne.toFormData=bf;Ne.AxiosError=ge;Ne.Cancel=Ne.CanceledError;Ne.all=function(t){return Promise.all(t)};Ne.spread=MI;Ne.isAxiosError=DI;Ne.mergeConfig=xa;Ne.AxiosHeaders=$s;Ne.formToJSON=e=>M_(q.isHTMLForm(e)?new FormData(e):e);Ne.getAdapter=$_.getAdapter;Ne.HttpStatusCode=Ox;Ne.default=Ne;const{Axios:mQ,AxiosError:pQ,CanceledError:xQ,isCancel:gQ,CancelToken:yQ,VERSION:bQ,all:vQ,Cancel:wQ,isAxiosError:jQ,spread:NQ,toFormData:kQ,AxiosHeaders:SQ,HttpStatusCode:_Q,formToJSON:TQ,getAdapter:CQ,mergeConfig:PQ}=Ne,nr="https://mt5.mtapi.io",ir="970ef0fe-76d7-453d-8731-312bceb02433";let bt=null;const at={startCopyTrading:async(e,t)=>{var s;try{return((s=(await Ne.post(`${nr}/startCopyTrading`,{userId:e,robotId:t},{headers:{apikey:ir}})).data)==null?void 0:s.success)===!0}catch(r){return console.error("❌ Failed to start copy trading:",r),!1}},stopCopyTrading:async(e,t)=>{var s;try{return((s=(await Ne.post(`${nr}/stopCopyTrading`,{userId:e,robotId:t},{headers:{apikey:ir}})).data)==null?void 0:s.success)===!0}catch(r){return console.error("❌ Failed to stop copy trading:",r),!1}},getStoredToken:()=>bt,connect:async e=>{var t,s,r;try{console.log("🔄 Connecting to MT5 server:",{accountNumber:e.accountNumber,server:e.serverName});let i=!0;const a=new URLSearchParams({user:e.accountNumber,password:e.password,server:e.serverName,reconnectOnSymbolUpdate:i.toString()}),o=await Ne.get(`${nr}/ConnectEx?${a.toString()}`,{headers:{apikey:ir}});console.log("✅ MT5 connection response:",{status:o.status,hasData:!!o.data,dataType:typeof o.data,dataValue:o.data});let l=null;typeof o.data=="string"&&o.data.trim()!==""?(l=o.data.trim(),console.log("✅ Token extracted directly from response data")):(t=o.data)!=null&&t.token&&typeof o.data.token=="string"&&o.data.token.trim()!==""?(l=o.data.token.trim(),console.log("✅ Token extracted from response.data.token")):(s=o.data)!=null&&s.id&&typeof o.data.id=="string"&&o.data.id.trim()!==""&&(l=o.data.id.trim(),console.log("✅ Token extracted from response.data.id"));try{const{data:{session:c}}=await An(()=>Promise.resolve().then(()=>Ax),void 0).then(d=>d.supabase.auth.getSession());(r=c==null?void 0:c.user)!=null&&r.id&&await An(()=>Promise.resolve().then(()=>Ax),void 0).then(d=>d.supabase.from("user_accounts").upsert({user_id:c.user.id,account_number:e.accountNumber,password:e.password,server_name:e.serverName},{onConflict:"user_id"}))}catch(c){console.warn("⚠️ Could not save MT5 credentials to Supabase:",c)}return l?(bt=l,console.log("✅ MT5 token stored successfully"),{success:!0,token:l,message:"Connection successful"}):(console.warn("⚠️ No valid MT5 token received in response:",o.data),{success:!1,token:null,message:"Connection failed: No valid token received from MT5 server"})}catch(i){console.error("❌ MT5 connection failed:",i);let a="Failed to connect to MT5 server";return Ne.isAxiosError(i)?i.response?(a=`MT5 server error: ${i.response.status} - ${i.response.data||"Unknown error"}`,console.error("❌ MT5 server response:",i.response.data)):i.request?a="No response from MT5 server. Please check your internet connection.":a=`Error setting up MT5 connection: ${i.message}`:i instanceof Error&&(a=i.message),{success:!1,token:null,message:a}}},disconnect:()=>{bt=null,console.log("✅ Disconnected from MT5 server")},getAccountInfo:async()=>{var e;try{if(!bt)throw new Error("Not connected to MT5 server");const t=await Ne.get(`${nr}/AccountSummary?id=${bt}`,{headers:{apikey:ir}}),s=await Ne.get(`${nr}/AccountDetails?id=${bt}`,{headers:{apikey:ir}});return{balance:t.data.balance||0,equity:t.data.equity||0,margin:t.data.margin||0,freeMargin:t.data.freeMargin||0,marginLevel:t.data.marginLevel||0,currency:s.data.currency||"USD",accountNumber:s.data.login||"",accountName:s.data.name||"",serverName:s.data.server||"",leverage:s.data.leverage||100,profit:t.data.profit||0,credit:s.data.credit||0}}catch(t){throw console.error("❌ Failed to get account info:",t),Ne.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):t}},getPositions:async()=>{var e;try{if(!bt)throw new Error("Not connected to MT5 server");const t=await Ne.get(`${nr}/OpenedOrders?id=${bt}`,{headers:{apikey:ir}});console.log("🔍 MT5 API Response:",t.data);let s=t.data;return s&&typeof s=="object"&&s.data&&(s=s.data),Array.isArray(s)?s.map(i=>({ticket:i.ticket,symbol:i.symbol,type:i.orderType===0?"Buy":"Sell",volume:i.lots||i.volume,openPrice:i.openPrice,currentPrice:i.currentPrice,profit:i.profit,swap:i.swap,commission:i.commission,openTime:i.openTime,comment:i.comment})):(console.log("📊 No positions or invalid response format:",typeof s),[])}catch(t){throw console.error("❌ Failed to get positions:",t),Ne.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):t}},getSymbols:async()=>{var e;try{if(!bt)throw new Error("Not connected to MT5 server");const t=await Ne.get(`${nr}/SymbolList?id=${bt}`,{headers:{apikey:ir}});return Array.isArray(t.data)?t.data.filter(r=>typeof r=="string"):[]}catch(t){throw console.error("❌ Failed to get symbols:",t),Ne.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):t}},getQuote:async e=>{try{if(!bt)throw new Error("Not connected to MT5 server");const t=await Ne.get(`${nr}/GetQuote?id=${bt}&symbol=${e}`,{headers:{apikey:ir}});return t.data&&typeof t.data.bid=="number"&&typeof t.data.ask=="number"?{bid:t.data.bid,ask:t.data.ask,time:new Date().toISOString()}:null}catch(t){return console.error(`❌ Failed to get quote for ${e}:`,t),null}},sendOrder:async e=>{var t;try{if(!bt)throw new Error("Not connected to MT5 server");const r=(e.action||"").toUpperCase()==="BUY"?"Buy":"Sell";let i="";e.botToken?i=`[BOT:${e.botToken}]`:e.strategy&&(i=`[STRATEGY:${e.strategy}]`);const a=new URLSearchParams({id:bt,symbol:e.symbol,operation:r,volume:e.volume.toString(),slippage:"10",expertID:"0",comment:i});return e.price&&a.append("price",e.price.toString()),e.sl&&a.append("stoploss",e.sl.toString()),e.tp&&a.append("takeprofit",e.tp.toString()),(await Ne.get(`${nr}/OrderSend?${a.toString()}`,{headers:{apikey:ir}})).data}catch(s){throw console.error("❌ Failed to send order:",s),Ne.isAxiosError(s)&&((t=s.response)==null?void 0:t.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):s}},closePosition:async(e,t)=>{var s;try{if(!bt)throw new Error("Not connected to MT5 server");const r=new URLSearchParams({id:bt,ticket:e.toString(),slippage:"10"});t&&r.append("lots",t.toString());const a=(await Ne.get(`${nr}/OrderClose?${r.toString()}`,{headers:{apikey:ir}})).data;return a.formatDescription=t?`Specified volume: ${t}`:"Auto-detected volume",a}catch(r){throw console.error(`❌ Failed to close position ${e}:`,r),Ne.isAxiosError(r)&&((s=r.response)==null?void 0:s.status)===401?new Error("Authentication failed. Please reconnect to MT5 server."):r}},orderHistory:async(e,t)=>{try{if(!bt)throw new Error("Not connected to MT5 server");const s=new URLSearchParams({id:bt});return e&&s.append("from",e),t&&s.append("to",t),(await Ne.get(`${nr}/OrderHistory?${s.toString()}`,{headers:{apikey:ir}})).data}catch(s){return console.error("❌ Failed to fetch order history:",s),[]}},filterPositionsByRobot:(e,t)=>e.filter(s=>t.botToken&&s.comment&&typeof s.comment=="string"?s.comment.includes(`[BOT:${t.botToken}]`):t.strategy&&s.comment&&typeof s.comment=="string"?s.comment.includes(`[STRATEGY:${t.strategy}]`)||s.comment.includes(t.strategy):!1),getAccountSummary:async()=>{try{if(!bt)throw new Error("Not connected to MT5 server");return(await Ne.get(`${nr}/AccountSummary?id=${bt}`,{headers:{apikey:ir}})).data}catch(e){return console.error("❌ Failed to get account summary:",e),null}}},II=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"})),Fx=[{id:"multi-account",name:"Multi-Account Manager",description:"Manage multiple trading accounts simultaneously",tokenCost:200,features:["Connect unlimited MT5 accounts","Copy trades between accounts","Individual risk settings per account","Consolidated reporting"],icon:"User"},{id:"algo-bots",name:"Algo Bot Pack",description:"Advanced algorithmic trading bots",tokenCost:300,features:["10 premium trading strategies","Machine learning optimization","Custom indicators","Backtesting tools"],icon:"TrendingUp"},{id:"advanced-signals",name:"Advanced Signals",description:"Premium trading signals and alerts",tokenCost:250,features:["Professional signal providers","Real-time market alerts","Performance tracking","Custom notification settings"],icon:"TrendingUp"},{id:"risk-manager-pro",name:"Risk Manager Pro",description:"Advanced risk management tools",tokenCost:150,features:["Portfolio-level risk analysis","Drawdown protection","Correlation monitoring","Risk-adjusted position sizing"],icon:"Shield"}],pe=of((e,t)=>({isAuthenticated:!1,isInitialized:!1,isLoading:!1,credentials:null,accountInfo:null,userTokens:null,userPlugins:[],lastAccountInfoUpdate:null,error:null,autoRefreshInterval:null,login:async s=>{e({isLoading:!0,error:null});try{const{data:{session:r}}=await D.auth.getSession();if(!(r!=null&&r.user))throw new Error("You must be logged in to connect a broker");const{data:i,error:a}=await D.from("profiles").select("is_approved,expires_at,subscription_package").eq("id",r.user.id).single();if(a){R.error("Failed to fetch profile"),e({isLoading:!1,error:"Failed to fetch profile"});return}if(i&&i.is_approved===!1){R.error("Your account is pending approval by admin."),await D.auth.signOut(),e({isLoading:!1,error:"Account not approved"});return}if(i&&i.expires_at&&new Date(i.expires_at)<new Date){R.error("Your account has expired. Please renew your subscription."),window.location.href=`/payment?package=${i.subscription_package||""}`,e({isLoading:!1,error:"Account expired"});return}console.log("🔐 DEBUG: Starting MT5 login process for user:",r.user.id);const o={accountNumber:s.username,password:s.password,serverName:s.server},l=await at.connect(o);if(l.success)localStorage.setItem("mt5_UserId",l.token?l.token:"");else throw new Error(l.message);console.log("✅ DEBUG: MT5 connection successful, token receive:",l.token?"YES":"NO");const c=await at.getAccountInfo();if(!c)throw new Error("Failed to retrieve account information");console.log("📊 DEBUG: Account info retrieved successfully:",{accountNumber:c.accountNumber,serverName:c.serverName,balance:c.balance}),localStorage.setItem("mt5_username",s.username),localStorage.setItem("mt5_nickname",s.nickname||""),localStorage.setItem("mt5_server",s.server);const d={...c,accountType:s.accountType};let u=null;if(l.token&&r.user.id)try{console.log("🔑 DEBUG: Preparing to store MT5 token with account data:",{userId:r.user.id,username:s.username,server:s.server,accountType:s.accountType,tokenReceived:!!l.token,tokenLength:l.token?l.token.length:0,accountName:s.nickname||d.accountName||""});const{error:h}=await D.from("user_accounts").update({is_active:!1}).eq("user_id",r.user.id);h?console.error("❌ DEBUG: Error deactivating existing accounts:",h):console.log("✅ DEBUG: Successfully deactivated existing accounts");const f={user_id:r.user.id,mt5_username:s.username,mt5_server:s.server,account_name:s.nickname||d.accountName||"",account_type:s.accountType,mt5_token:l.token,is_active:!0,updated_at:new Date().toISOString()};console.log("📤 DEBUG: Sending upsert data to Supabase:",f);const{data:m,error:x}=await D.from("user_accounts").upsert(f,{onConflict:"user_id,mt5_username,mt5_server"}).select();if(console.log("📥 DEBUG: Upsert response data:",m),x)console.error("❌ DEBUG: Error storing MT5 token - FULL ERROR:",x),console.error("❌ DEBUG: Error details:",{code:x.code,message:x.message,details:x.details,hint:x.hint}),R.error("Warning: MT5 token could not be stored. Automatic trading may not work.");else{if(console.log("✅ DEBUG: MT5 token stored successfully with account type for webhook automation"),m&&m.length>0)u=m[0].id,console.log("✅ DEBUG: Retrieved MT5 account ID:",u);else{const{data:y,error:p}=await D.from("user_accounts").select("id").eq("user_id",r.user.id).eq("is_active",!0).single();p?console.error("❌ DEBUG: Error fetching MT5 account ID:",p):y&&(u=y.id,console.log("✅ DEBUG: Fetched MT5 account ID:",u))}const g=s.accountType.charAt(0).toUpperCase()+s.accountType.slice(1);R.success(`MT5 ${g} account connected and configured for automatic trading!`)}}catch(h){console.error("❌ DEBUG: Unexpected error storing MT5 token:",h),R.error("Warning: MT5 token could not be stored. Automatic trading may not work.")}else console.warn("⚠️ DEBUG: Cannot store MT5 token - missing token or user ID:",{hasToken:!!l.token,hasUserId:!!r.user.id});await t().fetchUserTokens(),await t().fetchUserPlugins(),e({isAuthenticated:!0,credentials:{...s,mt5AccountId:u},accountInfo:d,lastAccountInfoUpdate:new Date,isLoading:!1,error:null}),t().startAutoRefresh()}catch(r){console.error("❌ DEBUG: Login process failed:",r);let i="Login failed";throw r instanceof Error&&(r.message.includes("Authentication failed")&&r.message.includes("Please check your credentials")?i="MT5 authentication failed. Please double-check your account number, password, and server name.":i=r.message),e({isLoading:!1,error:i}),r}},logout:async()=>{t().stopAutoRefresh(),await D.auth.signOut(),at.disconnect(),e({isAuthenticated:!1,credentials:null,accountInfo:null,userTokens:null,userPlugins:[],lastAccountInfoUpdate:null,error:null,autoRefreshInterval:null})},reauthenticateMT5:async()=>{var s;try{console.log("🔄 DEBUG: Attempting to reauthenticate MT5 connection...");const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))return console.error("❌ DEBUG: No authenticated user found for reauthentication"),!1;const{data:i,error:a}=await D.from("user_accounts").select("*").eq("user_id",r.user.id).eq("is_active",!0).maybeSingle();if(a)return console.error("❌ DEBUG: Error fetching user account for reauthentication:",a),!1;if(!i)return console.error("❌ DEBUG: No active MT5 account found for reauthentication"),!1;console.log("✅ DEBUG: Found active MT5 account for reauthentication:",{username:i.mt5_username,server:i.mt5_server,accountType:i.account_type,accountId:i.id});const o=t().credentials;if(!o||!o.password)return console.error("❌ DEBUG: No credentials available for reauthentication"),!1;const l={accountNumber:i.mt5_username,password:o.password,serverName:i.mt5_server};console.log("🔄 DEBUG: Attempting to reconnect to MT5 with stored credentials");const c=await at.connect(l);if(!c.success)return console.error("❌ DEBUG: MT5 reauthentication failed:",c.message),!1;if(console.log("✅ DEBUG: MT5 reauthentication successful, token received:",c.token?"YES":"NO"),c.token){const{error:h}=await D.from("user_accounts").update({mt5_token:c.token,updated_at:new Date().toISOString()}).eq("id",i.id);h?console.error("❌ DEBUG: Error updating MT5 token after reauthentication:",h):console.log("✅ DEBUG: MT5 token updated in database after reauthentication")}const d=await at.getAccountInfo();if(!d)return console.error("❌ DEBUG: Failed to retrieve account info after reauthentication"),!1;const u={...d,accountType:i.account_type};return e({credentials:{...o,mt5AccountId:i.id},accountInfo:u,lastAccountInfoUpdate:new Date}),console.log("✅ DEBUG: MT5 reauthentication completed successfully"),!0}catch(r){return console.error("❌ DEBUG: MT5 reauthentication failed with error:",r),!1}},refreshAccountInfo:async()=>{if(t().isAuthenticated)try{const s=await at.getAccountInfo();if(s){const r=t().credentials,i={...s,accountType:r==null?void 0:r.accountType};e({accountInfo:i,lastAccountInfoUpdate:new Date})}}catch(s){if(s instanceof Error)if(console.error("Failed to refresh account info:",s.message),s.message.includes("Authentication failed")||s.message.includes("Session expired")||s.message.includes("Invalid token"))if(console.log("🔄 DEBUG: Authentication error detected, attempting to reauthenticate..."),await t().reauthenticateMT5()){console.log("✅ DEBUG: Reauthentication successful, continuing session"),R.success("MT5 session refreshed successfully");return}else console.error("❌ DEBUG: Reauthentication failed, logging out user"),R.error("MT5 session expired. Please login again."),t().logout();else console.warn("Account info refresh failed:",s.message);else console.error("Failed to refresh account info:",s)}},fetchUserTokens:async()=>{var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id)){console.log("❌ No authenticated user found for token fetch");return}console.log("🔄 Fetching user tokens for user ID:",r.user.id);const i=await ti.getUserTokens(r.user.id);i?(e({userTokens:{id:i.id,userId:i.userId,balance:i.balance,earned:i.earned,spent:i.spent,transactions:(i.transactions||[]).map(a=>({id:a.id,userId:a.userId,type:a.type==="bonus"||a.type==="refund"?"earned":a.type,amount:a.amount,description:a.description,relatedService:a.relatedService,timestamp:a.createdAt}))}}),console.log(`✅ User tokens loaded: ${i.balance} balance, ${i.earned} earned, ${i.spent} spent`)):(console.log("⚠️ No user tokens available"),e({userTokens:null}))}catch(r){console.error("❌ DEBUG: Error fetching user tokens:",r)}},updateTokenCirculation:async()=>{var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id)){console.log("❌ No authenticated user found for token circulation update");return}const{userTokens:i}=t();if(!i){console.log("❌ No user tokens available for circulation update");return}const{data:a,error:o}=await D.rpc("get_token_circulation_stats");if(o){console.error("❌ Error fetching token circulation stats:",o);return}if(a&&a.length>0){const l=a[0];console.log("✅ Token circulation stats updated:",{totalBalance:l.total_balance,totalEarned:l.total_earned,totalSpent:l.total_spent})}await t().fetchUserTokens()}catch(r){console.error("❌ Error updating token circulation:",r)}},fetchUserPlugins:async()=>{var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id)){console.log("❌ No authenticated user found for plugins fetch");return}const{data:i,error:a}=await D.from("user_plugins").select("*").eq("user_id",r.user.id);if(a){console.error("❌ Error fetching user plugins:",a);return}const o=(i==null?void 0:i.map(l=>({id:l.plugin_id,name:l.name,description:l.description,tokenCost:l.token_cost,isActive:l.is_active,expiresAt:l.expires_at})))||[];e({userPlugins:o}),console.log(`✅ User plugins loaded: ${o.length} plugins`)}catch(r){console.error("❌ Error fetching user plugins:",r)}},purchaseVPSPlan:async s=>{var r;try{const{data:{session:i}}=await D.auth.getSession();if(!((r=i==null?void 0:i.user)!=null&&r.id))return R.error("You must be logged in to purchase a VPS plan"),!1;const a=t().userTokens;if(!a)return R.error("Unable to load token balance"),!1;const{data:o,error:l}=await D.from("vps_plans").select("*").eq("id",s).single();if(l||!o)return R.error("VPS plan not found"),!1;if(a.balance<o.token_cost)return R.error(`Insufficient tokens. You need ${o.token_cost-a.balance} more tokens.`),!1;if(o.token_cost===0)return R("You are already on the free plan"),!0;const c=new Date,d=new Date;o.duration==="monthly"?d.setMonth(d.getMonth()+1):o.duration==="yearly"?d.setFullYear(d.getFullYear()+1):o.duration==="lifetime"&&d.setFullYear(d.getFullYear()+100);const{error:u}=await D.from("user_vps_subscriptions").insert({user_id:i.user.id,plan_id:s,start_date:c.toISOString(),end_date:d.toISOString(),tokens_spent:o.token_cost,is_active:!0});if(u)return console.error("❌ Error creating VPS subscription:",u),R.error("Failed to create VPS subscription"),!1;if(!await ti.spendTokens(i.user.id,o.token_cost,`VPS Plan: ${o.name} (${o.duration})`,"vps"))return console.error("❌ Error deducting tokens for VPS subscription"),R.error("Failed to process token payment"),!1;const f=await ti.getUserTokens(i.user.id);return f&&e({userTokens:{id:f.id,userId:f.userId,balance:f.balance,earned:f.earned,spent:f.spent,transactions:(f.transactions||[]).map(m=>({id:m.id,userId:m.userId,type:m.type==="bonus"||m.type==="refund"?"earned":m.type,amount:m.amount,description:m.description,relatedService:m.relatedService,timestamp:m.createdAt}))}}),await t().updateTokenCirculation(),R.success(`Successfully upgraded to ${o.name}! Your VPS is being set up.`),!0}catch(i){return console.error("❌ Error purchasing VPS plan:",i),R.error("Failed to purchase VPS plan"),!1}},purchasePlugin:async s=>{var r;try{const{data:{session:i}}=await D.auth.getSession();if(!((r=i==null?void 0:i.user)!=null&&r.id))return R.error("You must be logged in to purchase a plugin"),!1;const a=t().userTokens;if(!a)return R.error("Unable to load token balance"),!1;const{data:o,error:l}=await D.from("plugins").select("*").eq("id",s).single();if(l){console.error("❌ Error fetching plugin details:",l);const d=Fx.find(u=>u.id===s);return d?await cw(i.user.id,a,{id:d.id,name:d.name,description:d.description,tokenCost:d.tokenCost,isActive:!0}):(R.error("Plugin not found"),!1)}const c={id:o.id,name:o.name,description:o.description,tokenCost:o.token_cost,features:o.features,isActive:o.is_active};return await cw(i.user.id,a,c)}catch(i){return console.error("❌ Error purchasing plugin:",i),R.error("Failed to purchase plugin"),!1}},ensureMT5TokenStored:async()=>{var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))return console.log("❌ No authenticated user found"),!1;console.log("🔍 DEBUG: Checking if MT5 token is stored for user:",r.user.id);const{data:i,error:a}=await D.from("user_accounts").select("id, mt5_token, mt5_username, mt5_server, account_type").eq("user_id",r.user.id).eq("is_active",!0).limit(1);if(a)return console.error("❌ DEBUG: Error checking MT5 token:",a),!1;const o=i==null?void 0:i[0];if(console.log("📊 DEBUG: User account data retrieved:",{hasAccount:!!o,hasToken:o!=null&&o.mt5_token?"YES":"NO",username:o==null?void 0:o.mt5_username,server:o==null?void 0:o.mt5_server,accountType:o==null?void 0:o.account_type,accountId:o==null?void 0:o.id}),o!=null&&o.mt5_token){console.log("✅ DEBUG: MT5 token already stored and available");const u=t().credentials;return u&&!u.mt5AccountId&&o.id&&(e({credentials:{...u,mt5AccountId:o.id}}),console.log("✅ DEBUG: Updated credentials with MT5 account ID:",o.id)),!0}const l=at.getStoredToken(),c=t().credentials,d=t().accountInfo;if(console.log("🔑 DEBUG: Current state for token storage:",{hasStoredToken:!!l,hasCredentials:!!c,hasAccountInfo:!!d,tokenLength:l?l.length:0}),l&&c&&d){console.log("🔄 DEBUG: Storing missing MT5 token with account type...",{userId:r.user.id,username:c.username,server:c.server,accountType:c.accountType,accountName:d.accountName||""});const{error:u}=await D.from("user_accounts").update({is_active:!1}).eq("user_id",r.user.id);u?console.error("❌ DEBUG: Error deactivating existing accounts:",u):console.log("✅ DEBUG: Successfully deactivated existing accounts");const h={user_id:r.user.id,mt5_username:c.username,mt5_server:c.server,account_name:d.accountName||"",account_type:c.accountType,mt5_token:l,is_active:!0,updated_at:new Date().toISOString()};console.log("📤 DEBUG: Sending upsert data to Supabase:",h);const{data:f,error:m}=await D.from("user_accounts").upsert(h,{onConflict:"user_id,mt5_username,mt5_server"}).select();return console.log("📥 DEBUG: Upsert response data:",f),m?(console.error("❌ DEBUG: Error storing MT5 token - FULL ERROR:",m),console.error("❌ DEBUG: Error details:",{code:m.code,message:m.message,details:m.details,hint:m.hint}),!1):(console.log("✅ DEBUG: MT5 token stored successfully with account type"),f&&f.length>0&&(e({credentials:{...c,mt5AccountId:f[0].id}}),console.log("✅ DEBUG: Updated credentials with MT5 account ID:",f[0].id)),R.success("MT5 token updated for automatic trading"),!0)}return console.log("⚠️ DEBUG: No MT5 token available to store"),!1}catch(r){return console.error("❌ DEBUG: Error ensuring MT5 token storage:",r),!1}},startAutoRefresh:()=>{t().stopAutoRefresh();const s=setInterval(()=>{t().refreshAccountInfo()},2e3);e({autoRefreshInterval:s})},stopAutoRefresh:()=>{const{autoRefreshInterval:s}=t();s&&(clearInterval(s),e({autoRefreshInterval:null}))},clearError:()=>e({error:null}),isUserExpired:async()=>{var i;const{data:{session:s}}=await D.auth.getSession();if(!((i=s==null?void 0:s.user)!=null&&i.id))return!1;const{data:r}=await D.from("profiles").select("expires_at").eq("id",s.user.id).single();return!!(r&&r.expires_at&&new Date(r.expires_at)<new Date)},updateTokenBalance:s=>{e(r=>({userTokens:r.userTokens?{...r.userTokens,balance:s}:null}))}}));async function cw(e,t,s){try{const{data:r}=await D.from("user_plugins").select("id").eq("user_id",e).eq("plugin_id",s.id);if(r&&r.length>0)return R("You already own this plugin"),!0;if(t.balance<s.tokenCost)return R.error(`Insufficient tokens. You need ${s.tokenCost-t.balance} more tokens.`),!1;const i=new Date;i.setFullYear(i.getFullYear()+1);const{error:a}=await D.from("user_plugins").insert({user_id:e,plugin_id:s.id,name:s.name,description:s.description,token_cost:s.tokenCost,is_active:!0,expires_at:i.toISOString()});if(a)return console.error("❌ Error creating plugin record:",a),R.error("Failed to purchase plugin"),!1;const o=t.balance-s.tokenCost,l=t.spent+s.tokenCost,{error:c}=await D.from("user_tokens").update({balance:o,spent:l,updated_at:new Date().toISOString()}).eq("user_id",e);return c?(console.error("❌ Error updating user tokens:",c),R.error("Failed to process token payment"),!1):(await D.from("token_transactions").insert({user_id:e,type:"spent",amount:s.tokenCost,description:`Plugin: ${s.name}`,related_service:"plugins"}),pe.setState(d=>({userTokens:{...d.userTokens,balance:o,spent:l},userPlugins:[...d.userPlugins,{id:s.id,name:s.name,description:s.description,tokenCost:s.tokenCost,isActive:!0,expiresAt:i.toISOString()}]})),await pe.getState().updateTokenCirculation(),R.success(`Successfully purchased ${s.name}!`),!0)}catch(r){return console.error("❌ Error in purchasePluginWithDetails:",r),R.error("Failed to purchase plugin"),!1}}D.auth.onAuthStateChange((e,t)=>{e==="SIGNED_IN"&&t?pe.setState({isAuthenticated:!0}):e==="SIGNED_OUT"&&pe.setState({isAuthenticated:!1,credentials:null,accountInfo:null,userTokens:null})});(async()=>{try{const{data:{session:e}}=await D.auth.getSession();pe.setState({isAuthenticated:!!e,isInitialized:!0})}catch(e){console.error("Error checking initial session:",e),await D.auth.signOut(),pe.setState({isAuthenticated:!1,isInitialized:!0})}})();async function LI(e){const{error:t}=await D.from("profiles").update({is_approved:!0}).eq("id",e);return t?(R.error("Failed to approve user"),!1):(R.success("User approved!"),!0)}async function OI(e){try{return await D.from("profiles").delete().eq("id",e),await D.from("user_accounts").delete().eq("user_id",e),await D.from("user_tokens").delete().eq("user_id",e),await D.from("user_plugins").delete().eq("user_id",e),R.success("User deleted!"),!0}catch{return R.error("Failed to delete user"),!1}}const Cm={username:"admin",password:"admin123",role:"super_admin"},To=of((e,t)=>({isAuthenticated:!1,isLoading:!1,error:null,adminUsers:[],adminPlugins:[],currentAdmin:null,login:async s=>{e({isLoading:!0,error:null});try{if(s.username===Cm.username&&s.password===Cm.password)e({isAuthenticated:!0,currentAdmin:{username:s.username,password:s.password,role:Cm.role},isLoading:!1,error:null}),await t().fetchAllUsersWithTokens(),await t().fetchAdminPlugins(),R.success("Admin login successful");else throw new Error("Invalid admin credentials")}catch(r){throw e({isAuthenticated:!1,currentAdmin:null,isLoading:!1,error:r instanceof Error?r.message:"Login failed"}),r}},logout:()=>{e({isAuthenticated:!1,currentAdmin:null,adminUsers:[],adminPlugins:[],error:null})},fetchAllUsersWithTokens:async()=>{try{console.log("🔄 Admin: Fetching all users with token data...");const{isLoading:s}=t();if(s){console.log("⏭️ Skipping fetchAllUsersWithTokens: already loading");return}e({isLoading:!0});const r=await fetch(`${Js}/functions/v1/admin-list-users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({adminCredentials:{username:"admin",password:"admin123"}})}),i=await r.json();if(!r.ok){console.error("❌ Error fetching admin users via edge:",i.error),R.dismiss(),R.error(i.error||"Failed to load admin data"),e({isLoading:!1});return}const a=(i.users||[]).map(o=>({id:o.id,email:o.email||`User-${String(o.id).slice(0,8)}`,created_at:o.created_at||new Date().toISOString(),last_sign_in_at:o.last_sign_in_at||void 0,tokens:o.tokens?{balance:o.tokens.balance,earned:o.tokens.earned,spent:o.tokens.spent}:null,maxRobots:o.max_robots??0,maxMt5Accounts:o.max_mt5_accounts??0,expires_at:o.expires_at??"",allowCopyTrading:o.allow_copy_trading??!1}));e({adminUsers:a,isLoading:!1}),console.log(`✅ Admin: Loaded ${a.length} users via edge`)}catch(s){console.error("❌ Admin: Error fetching all users with tokens:",s),R.dismiss(),R.error("Failed to load admin data"),e({error:"Failed to load user data",isLoading:!1})}},fetchAdminPlugins:async()=>{try{console.log("🔄 Admin: Fetching plugins...");const{data:s,error:r}=await D.from("plugins").select("*").order("created_at",{ascending:!1});if(r){console.error("❌ Error fetching plugins:",r),R.error("Failed to load plugins data");return}const i=s.map(a=>({id:a.id,name:a.name,description:a.description,tokenCost:a.token_cost,features:a.features||[],isActive:a.is_active,expiresAt:a.expires_at,createdAt:a.created_at,updatedAt:a.updated_at}));e({adminPlugins:i}),console.log(`✅ Admin: Loaded ${i.length} plugins`)}catch(s){console.error("❌ Admin: Error fetching plugins:",s),R.error("Failed to load plugins data")}},addAdminPlugin:async s=>{try{console.log("🔄 Admin: Adding new plugin:",s.name);const{error:r}=await D.from("plugins").insert({id:s.id,name:s.name,description:s.description,token_cost:s.tokenCost,features:s.features||[],is_active:s.isActive,expires_at:s.expiresAt});return r?(console.error("❌ Error adding plugin:",r),R.error("Failed to add plugin"),!1):(await t().fetchAdminPlugins(),R.success(`Plugin "${s.name}" added successfully`),!0)}catch(r){return console.error("❌ Admin: Error adding plugin:",r),R.error("Failed to add plugin"),!1}},updateAdminPlugin:async(s,r)=>{try{console.log(`🔄 Admin: Updating plugin ${s}:`,r);const{error:i}=await D.from("plugins").update({name:r.name,description:r.description,token_cost:r.tokenCost,features:r.features,is_active:r.isActive,expires_at:r.expiresAt,updated_at:new Date().toISOString()}).eq("id",s);return i?(console.error("❌ Error updating plugin:",i),R.error("Failed to update plugin"),!1):(await t().fetchAdminPlugins(),R.success("Plugin updated successfully"),!0)}catch(i){return console.error("❌ Admin: Error updating plugin:",i),R.error("Failed to update plugin"),!1}},deleteAdminPlugin:async s=>{try{console.log(`🔄 Admin: Deleting plugin ${s}`);const{error:r}=await D.from("plugins").delete().eq("id",s);return r?(console.error("❌ Error deleting plugin:",r),R.error("Failed to delete plugin"),!1):(e(i=>({adminPlugins:i.adminPlugins.filter(a=>a.id!==s)})),R.success("Plugin deleted successfully"),!0)}catch(r){return console.error("❌ Admin: Error deleting plugin:",r),R.error("Failed to delete plugin"),!1}},addTokensToUser:async(s,r,i)=>{try{console.log(`🔄 Admin: Adding ${r} tokens to user ${s}`);const a=t().currentAdmin;if(!a)return R.error("Admin authentication required"),!1;const o=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/admin-add-tokens",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({userId:s,amount:r,description:i,adminCredentials:{username:a.username,password:a.password}})}),l=await o.json();return o.ok?(e(c=>({adminUsers:c.adminUsers.map(d=>{var u;return d.id===s?{...d,tokens:{balance:l.newBalance,earned:l.newEarned,spent:((u=d.tokens)==null?void 0:u.spent)||0}}:d})})),R.success(l.message),console.log(`✅ Admin: Successfully added ${r} tokens to user ${s}`),await t().fetchAllUsersWithTokens(),!0):(console.error("❌ Error from edge function:",l.error),R.error(l.error||"Failed to add tokens"),!1)}catch(a){return console.error("❌ Admin: Error adding tokens to user:",a),R.error("Failed to add tokens to user"),!1}},updateUserLimits:async(s,r,i,a,o)=>{try{const l={user_id:s,max_robots:r,max_mt5_accounts:i,allow_copy_trading:!!o};a&&a.length>0?l.expires_at=new Date(a).toISOString():l.expires_at=null;const{error:c}=await D.from("user_limits").upsert([l],{onConflict:"user_id"});return c?(R.error("Failed to update user limits"),!1):!0}catch{return R.error("Error updating user limits"),!1}},updateUserTokenBalance:(s,r)=>{e(i=>({adminUsers:i.adminUsers.map(a=>a.id===s&&a.tokens?{...a,tokens:{...a.tokens,balance:r}}:a)}))},fetchUserDetails:async s=>{try{const r=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/admin-user-details",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({userId:s})}),i=await r.json();return r.ok?(console.log("Admin user details:",i),{robots:i.robots||[],mt5Accounts:i.mt5Accounts||[],balance:i.balance??null,drawdown:i.drawdown??null}):(R.error(i.error||"Failed to fetch user details"),null)}catch(r){return R.error("Failed to fetch user details"),console.error("fetchUserDetails error:",r),null}},clearError:()=>e({error:null}),enforceUserLimits:async(s,r)=>{try{debugger;const i=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/user-limits-enforce",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({userId:s,type:r})}),a=await i.json();return!i.ok||!a.allowed?(R.error(a.reason||"User limit reached or account expired"),{allowed:!1,reason:a.reason}):{allowed:!0}}catch{return R.error("Failed to enforce user limits"),{allowed:!1,reason:"Failed to enforce user limits"}}}}));var td=e=>e.type==="checkbox",ea=e=>e instanceof Date,fs=e=>e==null;const H_=e=>typeof e=="object";var gt=e=>!fs(e)&&!Array.isArray(e)&&H_(e)&&!ea(e),FI=e=>gt(e)&&e.target?td(e.target)?e.target.checked:e.target.value:e,UI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$I=(e,t)=>e.has(UI(t)),BI=e=>{const t=e.constructor&&e.constructor.prototype;return gt(t)&&t.hasOwnProperty("isPrototypeOf")},$0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!($0&&(e instanceof Blob||r))&&(s||gt(e)))if(t=s?[]:{},!s&&!BI(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Gt(e[i]));else return e;return t}var jf=e=>/^\w*$/.test(e),wt=e=>e===void 0,B0=e=>Array.isArray(e)?e.filter(Boolean):[],z0=e=>B0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(e,t,s)=>{if(!t||!gt(e))return s;const r=(jf(t)?[t]:z0(t)).reduce((i,a)=>fs(i)?i:i[a],e);return wt(r)||r===e?wt(e[t])?s:e[t]:r},zr=e=>typeof e=="boolean",Je=(e,t,s)=>{let r=-1;const i=jf(t)?[t]:z0(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=s;if(r!==o){const d=e[l];c=gt(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const dw={BLUR:"blur",FOCUS_OUT:"focusout"},Tr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},on={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},zI=De.createContext(null);zI.displayName="HookFormContext";var VI=(e,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Tr.all&&(t._proxyFormState[o]=!r||Tr.all),e[o]}});return i};const HI=typeof window<"u"?k.useLayoutEffect:k.useEffect;var Hr=e=>typeof e=="string",WI=(e,t,s,r,i)=>Hr(e)?(r&&t.watch.add(e),ce(s,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),ce(s,a))):(r&&(t.watchAll=!0),s),qI=(e,t,s,r,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:i||!0}}:{},Yl=e=>Array.isArray(e)?e:[e],uw=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Ux=e=>fs(e)||!H_(e);function Kn(e,t){if(Ux(e)||Ux(t))return e===t;if(ea(e)&&ea(t))return e.getTime()===t.getTime();const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(const i of s){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(ea(a)&&ea(o)||gt(a)&&gt(o)||Array.isArray(a)&&Array.isArray(o)?!Kn(a,o):a!==o)return!1}}return!0}var Ps=e=>gt(e)&&!Object.keys(e).length,V0=e=>e.type==="file",Cr=e=>typeof e=="function",ch=e=>{if(!$0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},W_=e=>e.type==="select-multiple",H0=e=>e.type==="radio",YI=e=>H0(e)||td(e),Pm=e=>ch(e)&&e.isConnected;function GI(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=wt(e)?r++:e[t[r++]];return e}function JI(e){for(const t in e)if(e.hasOwnProperty(t)&&!wt(e[t]))return!1;return!0}function St(e,t){const s=Array.isArray(t)?t:jf(t)?[t]:z0(t),r=s.length===1?e:GI(e,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(gt(r)&&Ps(r)||Array.isArray(r)&&JI(r))&&St(e,s.slice(0,-1)),e}var q_=e=>{for(const t in e)if(Cr(e[t]))return!0;return!1};function dh(e,t={}){const s=Array.isArray(e);if(gt(e)||s)for(const r in e)Array.isArray(e[r])||gt(e[r])&&!q_(e[r])?(t[r]=Array.isArray(e[r])?[]:{},dh(e[r],t[r])):fs(e[r])||(t[r]=!0);return t}function Y_(e,t,s){const r=Array.isArray(e);if(gt(e)||r)for(const i in e)Array.isArray(e[i])||gt(e[i])&&!q_(e[i])?wt(t)||Ux(s[i])?s[i]=Array.isArray(e[i])?dh(e[i],[]):{...dh(e[i])}:Y_(e[i],fs(t)?{}:t[i],s[i]):s[i]=!Kn(e[i],t[i]);return s}var ll=(e,t)=>Y_(e,t,dh(t));const hw={value:!1,isValid:!1},fw={value:!0,isValid:!0};var G_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wt(e[0].attributes.value)?wt(e[0].value)||e[0].value===""?fw:{value:e[0].value,isValid:!0}:fw:hw}return hw},J_=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>wt(e)?e:t?e===""?NaN:e&&+e:s&&Hr(e)?new Date(e):r?r(e):e;const mw={isValid:!1,value:null};var K_=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,mw):mw;function pw(e){const t=e.ref;return V0(t)?t.files:H0(t)?K_(e.refs).value:W_(t)?[...t.selectedOptions].map(({value:s})=>s):td(t)?G_(e.refs).value:J_(wt(t.value)?e.ref.value:t.value,e)}var KI=(e,t,s,r)=>{const i={};for(const a of e){const o=ce(t,a);o&&Je(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}},uh=e=>e instanceof RegExp,cl=e=>wt(e)?e:uh(e)?e.source:gt(e)?uh(e.value)?e.value.source:e.value:e,xw=e=>({isOnSubmit:!e||e===Tr.onSubmit,isOnBlur:e===Tr.onBlur,isOnChange:e===Tr.onChange,isOnAll:e===Tr.all,isOnTouch:e===Tr.onTouched});const gw="AsyncFunction";var XI=e=>!!e&&!!e.validate&&!!(Cr(e.validate)&&e.validate.constructor.name===gw||gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===gw)),QI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),yw=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Gl=(e,t,s,r)=>{for(const i of s||Object.keys(e)){const a=ce(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Gl(l,t))break}else if(gt(l)&&Gl(l,t))break}}};function bw(e,t,s){const r=ce(e,s);if(r||jf(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=ce(t,a),l=ce(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:s}}var ZI=(e,t,s,r)=>{s(e);const{name:i,...a}=e;return Ps(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Tr.all))},eL=(e,t,s)=>!e||!t||e===t||Yl(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),tL=(e,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:(s?r.isOnChange:i.isOnChange)?e:!0,sL=(e,t)=>!B0(ce(e,t)).length&&St(e,t),rL=(e,t,s)=>{const r=Yl(ce(e,s));return Je(r,"root",t[s]),Je(e,s,r),e},bu=e=>Hr(e);function vw(e,t,s="validate"){if(bu(e)||Array.isArray(e)&&e.every(bu)||zr(e)&&!e)return{type:s,message:bu(e)?e:"",ref:t}}var La=e=>gt(e)&&!uh(e)?e:{value:e,message:""},ww=async(e,t,s,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:m,validate:x,name:g,valueAsNumber:y,mount:p}=e._f,b=ce(s,g);if(!p||t.has(g))return{};const v=l?l[0]:o,w=P=>{i&&v.reportValidity&&(v.setCustomValidity(zr(P)?"":P||""),v.reportValidity())},N={},S=H0(o),T=td(o),j=S||T,E=(y||V0(o))&&wt(o.value)&&wt(b)||ch(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,_=qI.bind(null,g,r,N),C=(P,I,$,H=on.maxLength,B=on.minLength)=>{const L=P?I:$;N[g]={type:P?H:B,message:L,ref:o,..._(P?H:B,L)}};if(a?!Array.isArray(b)||!b.length:c&&(!j&&(E||fs(b))||zr(b)&&!b||T&&!G_(l).isValid||S&&!K_(l).isValid)){const{value:P,message:I}=bu(c)?{value:!!c,message:c}:La(c);if(P&&(N[g]={type:on.required,message:I,ref:v,..._(on.required,I)},!r))return w(I),N}if(!E&&(!fs(h)||!fs(f))){let P,I;const $=La(f),H=La(h);if(!fs(b)&&!isNaN(b)){const B=o.valueAsNumber||b&&+b;fs($.value)||(P=B>$.value),fs(H.value)||(I=B<H.value)}else{const B=o.valueAsDate||new Date(b),L=A=>new Date(new Date().toDateString()+" "+A),F=o.type=="time",z=o.type=="week";Hr($.value)&&b&&(P=F?L(b)>L($.value):z?b>$.value:B>new Date($.value)),Hr(H.value)&&b&&(I=F?L(b)<L(H.value):z?b<H.value:B<new Date(H.value))}if((P||I)&&(C(!!P,$.message,H.message,on.max,on.min),!r))return w(N[g].message),N}if((d||u)&&!E&&(Hr(b)||a&&Array.isArray(b))){const P=La(d),I=La(u),$=!fs(P.value)&&b.length>+P.value,H=!fs(I.value)&&b.length<+I.value;if(($||H)&&(C($,P.message,I.message),!r))return w(N[g].message),N}if(m&&!E&&Hr(b)){const{value:P,message:I}=La(m);if(uh(P)&&!b.match(P)&&(N[g]={type:on.pattern,message:I,ref:o,..._(on.pattern,I)},!r))return w(I),N}if(x){if(Cr(x)){const P=await x(b,s),I=vw(P,v);if(I&&(N[g]={...I,..._(on.validate,I.message)},!r))return w(I.message),N}else if(gt(x)){let P={};for(const I in x){if(!Ps(P)&&!r)break;const $=vw(await x[I](b,s),v,I);$&&(P={...$,..._(I,$.message)},w($.message),r&&(N[g]=P))}if(!Ps(P)&&(N[g]={ref:v,...P},!r))return N}}return w(!0),N};const nL={mode:Tr.onSubmit,reValidateMode:Tr.onChange,shouldFocusError:!0};function iL(e={}){let t={...nL,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Cr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=gt(t.defaultValues)||gt(t.values)?Gt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Gt(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:uw(),state:uw()},m=t.criteriaMode===Tr.all,x=O=>V=>{clearTimeout(d),d=setTimeout(O,V)},g=async O=>{if(!t.disabled&&(u.isValid||h.isValid||O)){const V=t.resolver?Ps((await T()).errors):await E(r,!0);V!==s.isValid&&f.state.next({isValid:V})}},y=(O,V)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((O||Array.from(l.mount)).forEach(Y=>{Y&&(V?Je(s.validatingFields,Y,V):St(s.validatingFields,Y))}),f.state.next({validatingFields:s.validatingFields,isValidating:!Ps(s.validatingFields)}))},p=(O,V=[],Y,re,se=!0,ee=!0)=>{if(re&&Y&&!t.disabled){if(o.action=!0,ee&&Array.isArray(ce(r,O))){const U=Y(ce(r,O),re.argA,re.argB);se&&Je(r,O,U)}if(ee&&Array.isArray(ce(s.errors,O))){const U=Y(ce(s.errors,O),re.argA,re.argB);se&&Je(s.errors,O,U),sL(s.errors,O)}if((u.touchedFields||h.touchedFields)&&ee&&Array.isArray(ce(s.touchedFields,O))){const U=Y(ce(s.touchedFields,O),re.argA,re.argB);se&&Je(s.touchedFields,O,U)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=ll(i,a)),f.state.next({name:O,isDirty:C(O,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Je(a,O,V)},b=(O,V)=>{Je(s.errors,O,V),f.state.next({errors:s.errors})},v=O=>{s.errors=O,f.state.next({errors:s.errors,isValid:!1})},w=(O,V,Y,re)=>{const se=ce(r,O);if(se){const ee=ce(a,O,wt(Y)?ce(i,O):Y);wt(ee)||re&&re.defaultChecked||V?Je(a,O,V?ee:pw(se._f)):$(O,ee),o.mount&&g()}},N=(O,V,Y,re,se)=>{let ee=!1,U=!1;const J={name:O};if(!t.disabled){if(!Y||re){(u.isDirty||h.isDirty)&&(U=s.isDirty,s.isDirty=J.isDirty=C(),ee=U!==J.isDirty);const ne=Kn(ce(i,O),V);U=!!ce(s.dirtyFields,O),ne?St(s.dirtyFields,O):Je(s.dirtyFields,O,!0),J.dirtyFields=s.dirtyFields,ee=ee||(u.dirtyFields||h.dirtyFields)&&U!==!ne}if(Y){const ne=ce(s.touchedFields,O);ne||(Je(s.touchedFields,O,Y),J.touchedFields=s.touchedFields,ee=ee||(u.touchedFields||h.touchedFields)&&ne!==Y)}ee&&se&&f.state.next(J)}return ee?J:{}},S=(O,V,Y,re)=>{const se=ce(s.errors,O),ee=(u.isValid||h.isValid)&&zr(V)&&s.isValid!==V;if(t.delayError&&Y?(c=x(()=>b(O,Y)),c(t.delayError)):(clearTimeout(d),c=null,Y?Je(s.errors,O,Y):St(s.errors,O)),(Y?!Kn(se,Y):se)||!Ps(re)||ee){const U={...re,...ee&&zr(V)?{isValid:V}:{},errors:s.errors,name:O};s={...s,...U},f.state.next(U)}},T=async O=>{y(O,!0);const V=await t.resolver(a,t.context,KI(O||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(O),V},j=async O=>{const{errors:V}=await T(O);if(O)for(const Y of O){const re=ce(V,Y);re?Je(s.errors,Y,re):St(s.errors,Y)}else s.errors=V;return V},E=async(O,V,Y={valid:!0})=>{for(const re in O){const se=O[re];if(se){const{_f:ee,...U}=se;if(ee){const J=l.array.has(ee.name),ne=se._f&&XI(se._f);ne&&u.validatingFields&&y([re],!0);const de=await ww(se,l.disabled,a,m,t.shouldUseNativeValidation&&!V,J);if(ne&&u.validatingFields&&y([re]),de[ee.name]&&(Y.valid=!1,V))break;!V&&(ce(de,ee.name)?J?rL(s.errors,de,ee.name):Je(s.errors,ee.name,de[ee.name]):St(s.errors,ee.name))}!Ps(U)&&await E(U,V,Y)}}return Y.valid},_=()=>{for(const O of l.unMount){const V=ce(r,O);V&&(V._f.refs?V._f.refs.every(Y=>!Pm(Y)):!Pm(V._f.ref))&&qe(O)}l.unMount=new Set},C=(O,V)=>!t.disabled&&(O&&V&&Je(a,O,V),!Kn(A(),i)),P=(O,V,Y)=>WI(O,l,{...o.mount?a:wt(V)?i:Hr(O)?{[O]:V}:V},Y,V),I=O=>B0(ce(o.mount?a:i,O,t.shouldUnregister?ce(i,O,[]):[])),$=(O,V,Y={})=>{const re=ce(r,O);let se=V;if(re){const ee=re._f;ee&&(!ee.disabled&&Je(a,O,J_(V,ee)),se=ch(ee.ref)&&fs(V)?"":V,W_(ee.ref)?[...ee.ref.options].forEach(U=>U.selected=se.includes(U.value)):ee.refs?td(ee.ref)?ee.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(se)?U.checked=!!se.find(J=>J===U.value):U.checked=se===U.value||!!se)}):ee.refs.forEach(U=>U.checked=U.value===se):V0(ee.ref)?ee.ref.value="":(ee.ref.value=se,ee.ref.type||f.state.next({name:O,values:Gt(a)})))}(Y.shouldDirty||Y.shouldTouch)&&N(O,se,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&z(O)},H=(O,V,Y)=>{for(const re in V){if(!V.hasOwnProperty(re))return;const se=V[re],ee=O+"."+re,U=ce(r,ee);(l.array.has(O)||gt(se)||U&&!U._f)&&!ea(se)?H(ee,se,Y):$(ee,se,Y)}},B=(O,V,Y={})=>{const re=ce(r,O),se=l.array.has(O),ee=Gt(V);Je(a,O,ee),se?(f.array.next({name:O,values:Gt(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Y.shouldDirty&&f.state.next({name:O,dirtyFields:ll(i,a),isDirty:C(O,ee)})):re&&!re._f&&!fs(ee)?H(O,ee,Y):$(O,ee,Y),yw(O,l)&&f.state.next({...s}),f.state.next({name:o.mount?O:void 0,values:Gt(a)})},L=async O=>{o.mount=!0;const V=O.target;let Y=V.name,re=!0;const se=ce(r,Y),ee=ne=>{re=Number.isNaN(ne)||ea(ne)&&isNaN(ne.getTime())||Kn(ne,ce(a,Y,ne))},U=xw(t.mode),J=xw(t.reValidateMode);if(se){let ne,de;const Ee=V.type?pw(se._f):FI(O),et=O.type===dw.BLUR||O.type===dw.FOCUS_OUT,ks=!QI(se._f)&&!t.resolver&&!ce(s.errors,Y)&&!se._f.deps||tL(et,ce(s.touchedFields,Y),s.isSubmitted,J,U),Lt=yw(Y,l,et);Je(a,Y,Ee),et?(se._f.onBlur&&se._f.onBlur(O),c&&c(0)):se._f.onChange&&se._f.onChange(O);const Ss=N(Y,Ee,et),br=!Ps(Ss)||Lt;if(!et&&f.state.next({name:Y,type:O.type,values:Gt(a)}),ks)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?et&&g():et||g()),br&&f.state.next({name:Y,...Lt?{}:Ss});if(!et&&Lt&&f.state.next({...s}),t.resolver){const{errors:st}=await T([Y]);if(ee(Ee),re){const Vs=bw(s.errors,r,Y),kt=bw(st,r,Vs.name||Y);ne=kt.error,Y=kt.name,de=Ps(st)}}else y([Y],!0),ne=(await ww(se,l.disabled,a,m,t.shouldUseNativeValidation))[Y],y([Y]),ee(Ee),re&&(ne?de=!1:(u.isValid||h.isValid)&&(de=await E(r,!0)));re&&(se._f.deps&&z(se._f.deps),S(Y,de,ne,Ss))}},F=(O,V)=>{if(ce(s.errors,V)&&O.focus)return O.focus(),1},z=async(O,V={})=>{let Y,re;const se=Yl(O);if(t.resolver){const ee=await j(wt(O)?O:se);Y=Ps(ee),re=O?!se.some(U=>ce(ee,U)):Y}else O?(re=(await Promise.all(se.map(async ee=>{const U=ce(r,ee);return await E(U&&U._f?{[ee]:U}:U)}))).every(Boolean),!(!re&&!s.isValid)&&g()):re=Y=await E(r);return f.state.next({...!Hr(O)||(u.isValid||h.isValid)&&Y!==s.isValid?{}:{name:O},...t.resolver||!O?{isValid:Y}:{},errors:s.errors}),V.shouldFocus&&!re&&Gl(r,F,O?se:l.mount),re},A=O=>{const V={...o.mount?a:i};return wt(O)?V:Hr(O)?ce(V,O):O.map(Y=>ce(V,Y))},ie=(O,V)=>({invalid:!!ce((V||s).errors,O),isDirty:!!ce((V||s).dirtyFields,O),error:ce((V||s).errors,O),isValidating:!!ce(s.validatingFields,O),isTouched:!!ce((V||s).touchedFields,O)}),K=O=>{O&&Yl(O).forEach(V=>St(s.errors,V)),f.state.next({errors:O?s.errors:{}})},M=(O,V,Y)=>{const re=(ce(r,O,{_f:{}})._f||{}).ref,se=ce(s.errors,O)||{},{ref:ee,message:U,type:J,...ne}=se;Je(s.errors,O,{...ne,...V,ref:re}),f.state.next({name:O,errors:s.errors,isValid:!1}),Y&&Y.shouldFocus&&re&&re.focus&&re.focus()},he=(O,V)=>Cr(O)?f.state.subscribe({next:Y=>O(P(void 0,V),Y)}):P(O,V,!0),be=O=>f.state.subscribe({next:V=>{eL(O.name,V.name,O.exact)&&ZI(V,O.formState||u,yr,O.reRenderRoot)&&O.callback({values:{...a},...s,...V})}}).unsubscribe,me=O=>(o.mount=!0,h={...h,...O.formState},be({...O,formState:h})),qe=(O,V={})=>{for(const Y of O?Yl(O):l.mount)l.mount.delete(Y),l.array.delete(Y),V.keepValue||(St(r,Y),St(a,Y)),!V.keepError&&St(s.errors,Y),!V.keepDirty&&St(s.dirtyFields,Y),!V.keepTouched&&St(s.touchedFields,Y),!V.keepIsValidating&&St(s.validatingFields,Y),!t.shouldUnregister&&!V.keepDefaultValue&&St(i,Y);f.state.next({values:Gt(a)}),f.state.next({...s,...V.keepDirty?{isDirty:C()}:{}}),!V.keepIsValid&&g()},Ze=({disabled:O,name:V})=>{(zr(O)&&o.mount||O||l.disabled.has(V))&&(O?l.disabled.add(V):l.disabled.delete(V))},je=(O,V={})=>{let Y=ce(r,O);const re=zr(V.disabled)||zr(t.disabled);return Je(r,O,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:O}},name:O,mount:!0,...V}}),l.mount.add(O),Y?Ze({disabled:zr(V.disabled)?V.disabled:t.disabled,name:O}):w(O,!0,V.value),{...re?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:cl(V.min),max:cl(V.max),minLength:cl(V.minLength),maxLength:cl(V.maxLength),pattern:cl(V.pattern)}:{},name:O,onChange:L,onBlur:L,ref:se=>{if(se){je(O,V),Y=ce(r,O);const ee=wt(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,U=YI(ee),J=Y._f.refs||[];if(U?J.find(ne=>ne===ee):ee===Y._f.ref)return;Je(r,O,{_f:{...Y._f,...U?{refs:[...J.filter(Pm),ee,...Array.isArray(ce(i,O))?[{}]:[]],ref:{type:ee.type,name:O}}:{ref:ee}}}),w(O,!1,void 0,ee)}else Y=ce(r,O,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!($I(l.array,O)&&o.action)&&l.unMount.add(O)}}},Le=()=>t.shouldFocusError&&Gl(r,F,l.mount),Ye=O=>{zr(O)&&(f.state.next({disabled:O}),Gl(r,(V,Y)=>{const re=ce(r,Y);re&&(V.disabled=re._f.disabled||O,Array.isArray(re._f.refs)&&re._f.refs.forEach(se=>{se.disabled=re._f.disabled||O}))},0,!1))},Et=(O,V)=>async Y=>{let re;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let se=Gt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ee,values:U}=await T();s.errors=ee,se=U}else await E(r);if(l.disabled.size)for(const ee of l.disabled)Je(se,ee,void 0);if(St(s.errors,"root"),Ps(s.errors)){f.state.next({errors:{}});try{await O(se,Y)}catch(ee){re=ee}}else V&&await V({...s.errors},Y),Le(),setTimeout(Le);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ps(s.errors)&&!re,submitCount:s.submitCount+1,errors:s.errors}),re)throw re},Wt=(O,V={})=>{ce(r,O)&&(wt(V.defaultValue)?B(O,Gt(ce(i,O))):(B(O,V.defaultValue),Je(i,O,Gt(V.defaultValue))),V.keepTouched||St(s.touchedFields,O),V.keepDirty||(St(s.dirtyFields,O),s.isDirty=V.defaultValue?C(O,Gt(ce(i,O))):C()),V.keepError||(St(s.errors,O),u.isValid&&g()),f.state.next({...s}))},rr=(O,V={})=>{const Y=O?Gt(O):i,re=Gt(Y),se=Ps(O),ee=se?i:re;if(V.keepDefaultValues||(i=Y),!V.keepValues){if(V.keepDirtyValues){const U=new Set([...l.mount,...Object.keys(ll(i,a))]);for(const J of Array.from(U))ce(s.dirtyFields,J)?Je(ee,J,ce(a,J)):B(J,ce(ee,J))}else{if($0&&wt(O))for(const U of l.mount){const J=ce(r,U);if(J&&J._f){const ne=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(ch(ne)){const de=ne.closest("form");if(de){de.reset();break}}}}for(const U of l.mount)B(U,ce(ee,U))}a=Gt(ee),f.array.next({values:{...ee}}),f.state.next({values:{...ee}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:se?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!Kn(O,i)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:se?{}:V.keepDirtyValues?V.keepDefaultValues&&a?ll(i,a):s.dirtyFields:V.keepDefaultValues&&O?ll(i,O):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},At=(O,V)=>rr(Cr(O)?O(a):O,V),rn=(O,V={})=>{const Y=ce(r,O),re=Y&&Y._f;if(re){const se=re.refs?re.refs[0]:re.ref;se.focus&&(se.focus(),V.shouldSelect&&Cr(se.select)&&se.select())}},yr=O=>{s={...s,...O}},zs={control:{register:je,unregister:qe,getFieldState:ie,handleSubmit:Et,setError:M,_subscribe:be,_runSchema:T,_focusError:Le,_getWatch:P,_getDirty:C,_setValid:g,_setFieldArray:p,_setDisabledField:Ze,_setErrors:v,_getFieldArray:I,_reset:rr,_resetDefaultValues:()=>Cr(t.defaultValues)&&t.defaultValues().then(O=>{At(O,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:Ye,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return l},set _names(O){l=O},get _formState(){return s},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:me,trigger:z,register:je,handleSubmit:Et,watch:he,setValue:B,getValues:A,reset:At,resetField:Wt,clearErrors:K,unregister:qe,setError:M,setFocus:rn,getFieldState:ie};return{...zs,formControl:zs}}function _a(e={}){const t=De.useRef(void 0),s=De.useRef(void 0),[r,i]=De.useState({isDirty:!1,isValidating:!1,isLoading:Cr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Cr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Cr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=iL(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,HI(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),De.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),De.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),De.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),De.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),De.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),De.useEffect(()=>{e.values&&!Kn(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),De.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=VI(r,a),t.current}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const s=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>k.createElement("svg",{ref:u,...aL,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${oL(e)}`,l].join(" "),...d},[...t.map(([h,f])=>k.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=Q("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Q("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=Q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Q("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Q("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Q("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=Q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Q("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Q("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Q("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Q("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Q("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Q("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=Q("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Q("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Q("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Q("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Q("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Q("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Q("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Q("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Q("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Q("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Q("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Q("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Q("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Q("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Q("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=Q("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Q("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Q("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Q("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Q("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Q("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),gh=({message:e="",size:t="medium",className:s=""})=>{const i=(()=>{switch(t){case"small":return{container:"p-4",image:"h-12 w-12",text:"text-sm"};case"medium":return{container:"p-8",image:"h-16 w-16",text:"text-base"};case"large":return{container:"p-12",image:"h-24 w-24",text:"text-lg"};case"xlarge":return{container:"p-16",image:"h-40 w-40",text:"text-xl"};case"massive":return{container:"p-20",image:"h-64 w-64",text:"text-2xl"};case"ultra":return{container:"pt-8 pb-20",image:"h-96 w-96",text:"text-3xl"};case"fullscreen":return{container:"min-h-screen flex items-center justify-center p-8",image:"h-32 w-32",text:"text-xl"};default:return{container:"p-8",image:"h-16 w-16",text:"text-base"}}})(),a=t==="fullscreen",o=n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("img",{src:"/src/images/loading-animation.webp",alt:"Loading...",className:`${i.image} object-contain animate-pulse`,style:{filter:"brightness(1.1) contrast(1.1)",animation:"pulse 1.5s ease-in-out infinite"}})}),e&&n.jsx("p",{className:`text-white ${i.text} font-medium`,children:e})]});return a?n.jsx("div",{className:`bg-gradient-to-br from-blue-900 via-purple-900 to-black ${i.container} ${s}`,children:o}):n.jsx("div",{className:`flex items-center justify-center ${i.container} ${s}`,children:o})},oa=({message:e="Processing...",isVisible:t=!0})=>{if(!t)return null;const s=[ts,Ks,bi,we];return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 rounded-3xl p-16 shadow-2xl max-w-lg w-full mx-4 text-center border border-blue-500 border-opacity-30",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/src/images/loading-animation.webp",alt:"Loading...",className:"h-40 w-40 object-contain",style:{filter:"brightness(1.3) contrast(1.2) drop-shadow(0 0 20px rgba(59, 130, 246, 0.5))",animation:"pulse 1.2s ease-in-out infinite"}})}),n.jsx("div",{className:"flex justify-center space-x-6 mb-8",children:s.map((r,i)=>n.jsx("div",{className:"p-4 bg-blue-600 bg-opacity-30 rounded-full backdrop-blur-sm border border-blue-400 border-opacity-40",style:{animation:`bounce 1.5s ease-in-out infinite ${i*.3}s`},children:n.jsx(r,{className:"w-8 h-8 text-blue-300",style:{animation:`spin 3s linear infinite ${i*.7}s reverse`,filter:"drop-shadow(0 0 8px rgba(59, 130, 246, 0.7))"}})},i))}),n.jsx("h3",{className:"text-2xl font-bold text-white mb-3 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"TradingHub AI"}),n.jsx("p",{className:"text-blue-200 text-lg font-medium mb-6",children:e}),n.jsx("div",{className:"flex justify-center space-x-3",children:[1,2,3,4,5].map(r=>n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full",style:{animation:`pulse 2s ease-in-out infinite ${r*.2}s`,filter:"drop-shadow(0 0 4px rgba(59, 130, 246, 0.8))"}},r))}),n.jsx("div",{className:"absolute inset-0 rounded-3xl border-2 border-blue-500 border-opacity-20",style:{animation:"pulse 3s ease-in-out infinite"}})]})})},EL=()=>{const[e,t]=k.useState(!0),[s,r]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState(null),c=Pt(),{register:d,handleSubmit:u,formState:{errors:h},reset:f}=_a(),m=async g=>{a(!0),l(null);try{if(e){await D.auth.signOut();const{error:y}=await D.auth.signInWithPassword({email:g.email,password:g.password});if(y)throw y.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):y.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link before signing in."):new Error(y.message);R.success("Successfully signed in!"),c("/broker-setup")}else{const{error:y,data:p}=await D.auth.signUp({email:g.email,password:g.password,options:{data:{first_name:g.firstName,last_name:g.lastName,address:g.address,years_experience:g.yearsExperience,referral_code:g.referralCode,how_heard_about:g.howHeardAbout,newsletter:g.newsletter}}});if(y)if(y.message.toLowerCase().includes("user already registered")||y.message.toLowerCase().includes("user already exists")||y.code==="user_already_exists"){t(!0),l("An account with this email already exists. Please sign in with your existing credentials."),R.error("Account already exists. Switched to sign in mode.");return}else throw y.message.includes("Password should be at least")?new Error("Password must be at least 6 characters long."):new Error(y.message);p!=null&&p.user&&!p.session?R.success("Account created! Please check your email for verification before signing in."):(R.success("Account created and signed in successfully!"),c("/broker-setup")),t(!0),f()}}catch(y){const p=y instanceof Error?y.message:"Authentication failed";l(p),R.error(p)}finally{a(!1)}},x=()=>{t(!e),l(null),f()};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-black p-12 flex-col justify-center",children:n.jsxs("div",{className:"max-w-md mx-auto text-white",children:[n.jsx("div",{className:"mb-8 flex justify-center",children:n.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Platform Logo",className:"h-16 w-auto"})}),n.jsx("h1",{className:"text-4xl font-bold mb-6",children:"MT5 Trading Platform"}),n.jsx("p",{className:"text-xl mb-8 text-white/80",children:"The most advanced trading platform for forex, stocks, and cryptocurrencies."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:n.jsx(es,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Personal Dashboard"}),n.jsx("p",{className:"text-white/70",children:"Manage all your trading accounts in one place"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:n.jsx(pL,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"TradingView Integration"}),n.jsx("p",{className:"text-white/70",children:"Connect your TradingView alerts for automated trading"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:n.jsx(dL,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Multiple Brokers"}),n.jsx("p",{className:"text-white/70",children:"Connect to any MT5 broker of your choice"})]})]})]})]})}),n.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 bg-white",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"bg-black w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 cursor-pointer",onClick:()=>c("/admin-login"),title:"Admin Login",children:e?n.jsx(gL,{className:"w-8 h-8 text-white"}):n.jsx(K0,{className:"w-8 h-8 text-black"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Welcome Back":"Create Account"}),n.jsx("p",{className:"text-gray-600 mt-2",children:e?"Sign in to your trading platform":"Join the MT5 trading platform"})]}),n.jsxs("form",{onSubmit:u(m),className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(nT,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{...d("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",placeholder:"your@email.com",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),h.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cc,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{...d("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:s?"text":"password",placeholder:"••••••••",className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),n.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?n.jsx(tT,{className:"w-5 h-5"}):n.jsx(Ta,{className:"w-5 h-5"})})]}),h.password&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.password.message})]}),!e&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),n.jsx("input",{...d("firstName",{required:"First name is required"}),type:"text",placeholder:"John",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),h.firstName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.firstName.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),n.jsx("input",{...d("lastName",{required:"Last name is required"}),type:"text",placeholder:"Doe",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),h.lastName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.lastName.message})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(iT,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{...d("address"),type:"text",placeholder:"123 Trading St, New York, NY",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Trading Experience"}),n.jsxs("div",{className:"relative",children:[n.jsx(Co,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{...d("yearsExperience"),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[n.jsx("option",{value:"",children:"Select experience"}),n.jsx("option",{value:"0-1",children:"Less than 1 year"}),n.jsx("option",{value:"1-3",children:"1-3 years"}),n.jsx("option",{value:"3-5",children:"3-5 years"}),n.jsx("option",{value:"5-10",children:"5-10 years"}),n.jsx("option",{value:"10+",children:"More than 10 years"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referral Code (Optional)"}),n.jsx("input",{...d("referralCode"),type:"text",placeholder:"Enter referral code if you have one",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you hear about us?"}),n.jsxs("div",{className:"relative",children:[n.jsx(rT,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{...d("howHeardAbout"),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[n.jsx("option",{value:"",children:"Select an option"}),n.jsx("option",{value:"search",children:"Search Engine"}),n.jsx("option",{value:"social",children:"Social Media"}),n.jsx("option",{value:"friend",children:"Friend or Colleague"}),n.jsx("option",{value:"blog",children:"Blog or Article"}),n.jsx("option",{value:"ad",children:"Advertisement"}),n.jsx("option",{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{...d("newsletter"),type:"checkbox",id:"newsletter",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"newsletter",className:"ml-2 text-sm text-gray-700",children:"Subscribe to our newsletter for trading tips and updates"})]})]}),o&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 text-sm font-medium",children:e?"Sign In Failed":"Authentication Notice"}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:o})]})]}),n.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-black text-white rounded-lg font-semibold hover:bg-gray-900 transition-colors",disabled:i,children:e?"Sign In":"Create Account"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[e?"Don't have an account?":"Already have an account?",n.jsx("button",{onClick:x,className:"ml-1 text-blue-600 hover:text-blue-700 font-medium",children:e?"Sign up":"Sign in"})]})})]})}),n.jsx(oa,{isVisible:i,message:e?"Signing you in...":"Creating your account..."})]})},AL=["RoboForex-ECN"],Rm=[{id:"live",label:"Live Account",description:"Real money trading",icon:we,color:"green"}],RL=()=>{const e=Pt(),{logout:t}=pe(),[s,r]=k.useState(!1),[i,a]=k.useState(null),[o,l]=k.useState([]),[c,d]=k.useState(!0),[u,h]=k.useState(!1),[f,m]=k.useState({isOpen:!1,account:null,password:"",isConnecting:!1}),{register:x,handleSubmit:g,watch:y,setValue:p,formState:{errors:b}}=_a({defaultValues:{accountType:"live",nickname:""}}),v=y("accountType");k.useEffect(()=>{(async()=>{var P;try{const{data:{session:I}}=await D.auth.getSession();if(!((P=I==null?void 0:I.user)!=null&&P.id))return;const{data:$,error:H}=await D.from("user_accounts").select("*").eq("user_id",I.user.id).order("created_at",{ascending:!1});if(H){console.error("❌ Error fetching saved accounts:",H);return}if($&&$.length>0){const B=$.map(L=>({id:L.id,username:L.mt5_username,server:L.mt5_server,accountType:L.account_type,nickname:L.account_name||`${L.account_type} - ${L.mt5_username}`,isActive:L.is_active}));l(B),d(!1)}}catch(I){console.error("Error fetching saved accounts:",I)}})()},[]);const w=async C=>{var P,I;r(!0),a(null);try{const{data:{session:$}}=await D.auth.getSession();if(!((P=$==null?void 0:$.user)!=null&&P.email))throw new Error("No authenticated user found");const H={user_id:$.user.id,mt5_username:C.username,mt5_server:C.server,account_type:C.accountType,account_name:C.nickname,mt5_password:C.password,is_active:!0},{error:B}=await D.from("user_accounts").upsert([H],{onConflict:"user_id,mt5_username,mt5_server"});if(B)throw new Error("Failed to save broker credentials: "+B.message);const L={email:$.user.email,password:C.password,username:C.username,server:C.server,accountType:C.accountType,nickname:C.nickname},{login:F}=pe.getState();await F(L);const z=((I=Rm.find(A=>A.id===C.accountType))==null?void 0:I.label)||C.accountType;R.success(`Successfully connected to MT5 ${z}!`),e("/")}catch($){console.error("Broker connection failed:",$);const H=$ instanceof Error?$.message:"Failed to connect to broker";a(H),R.error("Failed to connect to MT5 broker")}finally{r(!1)}},N=C=>{m({isOpen:!0,account:C,password:"",isConnecting:!1})},S=async()=>{var C;if(!f.account||!f.password){R.error("Please enter your MT5 password");return}m(P=>({...P,isConnecting:!0})),a(null);try{const{data:{session:P}}=await D.auth.getSession();if(!((C=P==null?void 0:P.user)!=null&&C.email))throw new Error("No authenticated user found");await D.from("user_accounts").update({is_active:!1}).eq("user_id",P.user.id),await D.from("user_accounts").update({is_active:!0}).eq("id",f.account.id);const{error:I}=await D.from("user_accounts").update({mt5_password:f.password}).eq("id",f.account.id);if(I)throw new Error("Failed to update password: "+I.message);const $={email:P.user.email,password:f.password,username:f.account.username,server:f.account.server,accountType:f.account.accountType,nickname:f.account.nickname},{login:H}=pe.getState();await H($),R.success(`Successfully connected to ${f.account.nickname}!`),e("/"),l(B=>B.map(L=>({...L,isActive:L.id===f.account.id}))),m({isOpen:!1,account:null,password:"",isConnecting:!1})}catch(P){console.error("Account selection failed:",P);let I="Failed to connect to broker",$="Failed to connect to selected account";P instanceof Error&&(I=P.message,P.message.includes("Invalid MT5 API key")?$="MT5 API key is invalid. Please contact support.":P.message.includes("Access forbidden")||P.message.includes("Invalid account credentials")?$="Invalid MT5 password. Please check your password and try again.":P.message.includes("No response from MT5 server")?$="Cannot reach MT5 server. Please check your internet connection.":P.message.includes("Connection timeout")?$="Connection timed out. Please try again.":P.message.includes("server name")?$="Invalid server name. Please verify your broker server.":P.message.includes("Failed to retrieve account information")?$="Connected but could not get account info. Please try again.":P.message.includes("Account not approved")?$="Your account is pending admin approval.":P.message.includes("Account expired")?$="Your subscription has expired. Please renew to continue.":$=`Connection failed: ${P.message}`),a(I),R.error($)}finally{m(P=>({...P,isConnecting:!1}))}},T=()=>{m({isOpen:!1,account:null,password:"",isConnecting:!1})},j=C=>{const P=C.toLowerCase();return P.includes("invalid account")||P.includes("invalid_account")||P.includes("invalid password")||P.includes("invalid_password")||P.includes("invalid server")||P.includes("invalid_server")||P.includes("authentication failed")||P.includes("login failed")||P.includes("incorrect")||P.includes("wrong")},E=C=>Rm.find(P=>P.id===C),_=E(v);return n.jsxs("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center p-4",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("img",{src:"/src/images/tradinghub_light_logo.png",alt:"Platform Logo",className:"mx-auto block h-auto w-auto"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Connect Your Broker"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Add your MT5 broker account to start trading"})]}),o.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Accounts"}),n.jsx("button",{onClick:()=>d(!c),className:"flex items-center space-x-1 text-black hover:text-gray-700 text-sm",children:c?"Hide":"Add New Account"})]}),n.jsx("div",{className:"space-y-3",children:o.map(C=>{const P=E(C.accountType),I=(P==null?void 0:P.icon)||we;return n.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${C.isActive?"border-black bg-gray-100":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>N(C),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${C.isActive?"bg-black":"bg-gray-100"}`,children:n.jsx(I,{className:`w-5 h-5 ${C.isActive?"text-white":"text-gray-500"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:C.nickname}),n.jsxs("p",{className:"text-sm text-gray-500",children:[C.username," • ",C.server]})]})]}),C.isActive&&n.jsx("div",{className:"p-1 rounded-full bg-black",children:n.jsx(Te,{className:"w-4 h-4 text-white"})})]})},C.id)})})]}),(c||o.length===0)&&n.jsxs(n.Fragment,{children:[o.length>0&&n.jsx("div",{className:"border-t border-gray-200 pt-6 mb-6",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Gr,{className:"w-5 h-5 mr-2 text-black"}),"Add New Account"]})}),n.jsxs("form",{onSubmit:g(w),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Account Type"}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:Rm.map(C=>{const P=C.icon,I=v===C.id;return n.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${I?"border-black bg-gray-100":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[n.jsx("input",{...x("accountType",{required:"Account type is required"}),type:"radio",value:C.id,className:"sr-only",onChange:()=>p("accountType",C.id)}),n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${I?"bg-black":"bg-gray-100"}`,children:n.jsx(P,{className:`w-5 h-5 ${I?"text-white":"text-gray-500"}`})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("p",{className:`text-sm font-medium ${I?"text-gray-900":"text-gray-700"}`,children:C.label}),n.jsx("p",{className:`text-xs ${I?"text-gray-600":"text-gray-500"}`,children:C.description})]}),I&&n.jsx("div",{className:"w-5 h-5 rounded-full bg-black flex items-center justify-center",children:n.jsx(Te,{className:"w-3 h-3 text-white"})})]},C.id)})})]}),_&&n.jsx("div",{className:`p-4 rounded-lg border border-${_.color}-200 bg-${_.color}-50`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(_.icon,{className:`w-5 h-5 text-${_.color}-600 flex-shrink-0 mt-0.5`}),n.jsxs("div",{children:[n.jsxs("p",{className:`text-${_.color}-800 text-sm font-medium`,children:[_.label," Selected"]}),n.jsxs("div",{className:`text-${_.color}-700 text-xs mt-1 space-y-1`,children:[v==="live"&&n.jsxs(n.Fragment,{children:[n.jsx("p",{children:"• Uses standard symbols (e.g., EURUSD)"}),n.jsx("p",{children:"• Real money trading with full features"})]}),v==="prop"&&n.jsxs(n.Fragment,{children:[n.jsx("p",{children:"• Uses .raw symbols (e.g., EURUSD.raw)"}),n.jsx("p",{children:"• Funded account with profit sharing"})]})]})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Nickname (Optional)"}),n.jsx("input",{...x("nickname"),type:"text",placeholder:"e.g., My Live Account",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A friendly name to identify this account"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Account Number"}),n.jsx("input",{...x("username",{required:"Account number is required",pattern:{value:/^\d+$/,message:"Account number must contain only digits"}}),type:"text",placeholder:"Your broker account number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"}),b.username&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.username.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Password"}),n.jsx("input",{...x("password",{required:"Password is required"}),type:"password",placeholder:"Your broker account password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"}),b.password&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.password.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Server"}),n.jsxs("select",{...x("server",{required:"Server is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",children:[n.jsx("option",{value:"",children:"Select your broker's server"}),AL.map(C=>n.jsx("option",{value:C,children:C},C))]}),b.server&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.server.message})]}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Connection Failed"}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:i}),j(i)&&n.jsxs("div",{className:"mt-3 p-3 bg-red-100 rounded-md",children:[n.jsx("p",{className:"text-red-800 text-xs font-medium mb-2",children:"💡 Troubleshooting Tips:"}),n.jsxs("ul",{className:"text-red-700 text-xs space-y-1",children:[n.jsx("li",{children:"• Double-check your account number (no spaces or special characters)"}),n.jsx("li",{children:"• Verify your password is correct"}),n.jsx("li",{children:"• Ensure you selected the right server for your broker"}),n.jsx("li",{children:"• Make sure your account is active and not suspended"}),n.jsx("li",{children:"• Try logging into MT5 desktop app first to verify credentials"})]}),n.jsxs("button",{type:"button",onClick:()=>h(!u),className:"mt-2 text-red-600 hover:text-red-700 text-xs flex items-center space-x-1",children:[n.jsx(fh,{className:"w-3 h-3"}),n.jsxs("span",{children:[u?"Hide":"Show"," detailed help"]})]})]})]})]})}),u&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(fh,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-800 text-sm font-medium mb-2",children:"How to find your MT5 credentials:"}),n.jsxs("div",{className:"text-blue-700 text-xs space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Account Number:"}),n.jsx("p",{children:"• Found in your broker's welcome email"}),n.jsx("p",{children:'• Visible in MT5 desktop app under "Navigator" → "Accounts"'}),n.jsx("p",{children:"• Usually 6-8 digits (e.g., 12345678)"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Password:"}),n.jsx("p",{children:"• The password you use to log into MT5"}),n.jsx("p",{children:"• If forgotten, contact your broker to reset"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Server:"}),n.jsx("p",{children:"• Found in your broker's setup instructions"}),n.jsx("p",{children:"• Visible in MT5 when connecting"}),n.jsx("p",{children:"• Format: BrokerName-ServerType (e.g., RoboForex-ECN)"})]})]}),n.jsxs("a",{href:"https://www.metatrader5.com/en/download",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700 text-xs",children:[n.jsx(yn,{className:"w-3 h-3"}),n.jsx("span",{children:"Download MT5 to verify credentials"})]})]})]})}),n.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-black text-white rounded-lg font-semibold hover:bg-gray-900 transition-colors",disabled:s,children:"Connect"})]})]}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Your broker credentials are securely stored and encrypted"}),n.jsxs("button",{onClick:async()=>{await t(),e("/login")},className:"mt-4 inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[n.jsx($x,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Login Page"})]})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Need to create a new account? ",n.jsx(_A,{to:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign up here"})]})})]}),f.isOpen&&f.account&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Cc,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enter MT5 Password"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Please enter your MT5 password for account: ",n.jsx("br",{}),n.jsx("span",{className:"font-medium",children:f.account.nickname})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MT5 Password"}),n.jsx("input",{type:"password",value:f.password,onChange:C=>m(P=>({...P,password:C.target.value})),placeholder:"Enter your MT5 account password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",onKeyPress:C=>{C.key==="Enter"&&S()}})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:T,disabled:f.isConnecting,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),n.jsx("button",{onClick:S,disabled:f.isConnecting||!f.password,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:f.isConnecting?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Connecting..."})]}):"Connect"})]})]})]})})]})},Tw=()=>{const[e,t]=k.useState(!1),{login:s,isLoading:r,error:i,clearError:a}=To(),o=Pt(),{register:l,handleSubmit:c,formState:{errors:d}}=_a(),u=async h=>{try{a(),await s(h),R.success("Successfully logged in as admin!"),o("/admin-dashboard")}catch{R.error("Failed to authenticate as admin")}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(It,{className:"w-8 h-8 text-purple-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Portal"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Secure administrator access"})]}),n.jsxs("form",{onSubmit:c(u),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Username"}),n.jsx("input",{...l("username",{required:"Username is required"}),type:"text",placeholder:"Enter admin username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"}),d.username&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.username.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{...l("password",{required:"Password is required"}),type:e?"text":"password",placeholder:"Enter admin password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e?n.jsx(tT,{className:"w-5 h-5"}):n.jsx(Ta,{className:"w-5 h-5"})})]}),d.password&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.password.message})]}),i&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Authentication Failed"}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:i})]})]}),n.jsx("button",{type:"submit",disabled:r,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Authenticating..."})]}):"Login as Admin"})]}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Authorized personnel only"}),n.jsx("a",{href:"/login",className:"text-sm text-purple-600 hover:text-purple-700 mt-2 inline-block",children:"← Back to User Login"})]})]})})},Ft=[];for(let e=0;e<256;++e)Ft.push((e+256).toString(16).slice(1));function ML(e,t=0){return(Ft[e[t+0]]+Ft[e[t+1]]+Ft[e[t+2]]+Ft[e[t+3]]+"-"+Ft[e[t+4]]+Ft[e[t+5]]+"-"+Ft[e[t+6]]+Ft[e[t+7]]+"-"+Ft[e[t+8]]+Ft[e[t+9]]+"-"+Ft[e[t+10]]+Ft[e[t+11]]+Ft[e[t+12]]+Ft[e[t+13]]+Ft[e[t+14]]+Ft[e[t+15]]).toLowerCase()}let Mm;const DL=new Uint8Array(16);function IL(){if(!Mm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Mm=crypto.getRandomValues.bind(crypto)}return Mm(DL)}const LL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cw={randomUUID:LL};function dT(e,t,s){var i;if(Cw.randomUUID&&!e)return Cw.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??IL();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ML(r)}const uT="https://copyback.mtapi.io",hT="970ef0fe-76d7-453d-8731-312bceb02433";function fT(e){const t=encodeURIComponent;return Object.entries(e).filter(([,s])=>s!=null&&s!=="").map(([s,r])=>`${t(s)}=${t(String(r))}`).join("&")}async function X0(e){const t={userKey:hT,masterType:"MT5",slaveType:"MT5",...e},s=`${uT.replace(/\/$/,"")}/Start?${fT(t)}`;console.log("[CopyBack] Requesting URL:",s);try{const r=await fetch(s,{method:"GET",headers:{Accept:"application/json"}}),i=await r.text();console.log("[CopyBack] Raw Response Text:",i);let a;try{a=JSON.parse(i)}catch{a={message:`Invalid JSON response: ${i}`}}if(console.log("[CopyBack] Parsed Response Body:",a),a.message&&(a.message.includes("Copier already exists")||a.message.includes("Reverse copier already exists")))return console.log("[CopyBack] Detected that copier already exists (or reverse)."),{copierId:null,copierAlreadyExists:!0};if(!r.ok)throw new Error(`start failed (${r.status}): ${a.message||"Unknown error"}`);if(a.result!=="Ok"||!a.copierId)throw new Error(a.message||"Failed to start copy trading. No copierId returned.");return{copierId:a.copierId,copierAlreadyExists:!1}}catch(r){throw console.error("Error in copybackStart:",r),r}}async function OL(e){const t={userKey:hT,copierId:e},s=`${uT.replace(/\/$/,"")}/Stop?${fT(t)}`;console.log("[CopyBack] Requesting URL:",s);try{const r=await fetch(s,{method:"GET",headers:{Accept:"application/json"}}),i=await r.text();console.log("[CopyBack] Raw Stop Response Text:",i);let a;try{a=JSON.parse(i)}catch{a={message:`Invalid JSON response: ${i}`}}if(console.log("[CopyBack] Parsed Stop Response Body:",a),!r.ok)throw new Error(`stop failed (${r.status}): ${a.message||"Unknown error"}`);if(a.result!=="Ok"&&i!=="Ok")throw new Error(a.message||"Failed to stop copy trading.");return{success:!0}}catch(r){throw console.error("Error in copybackStop:",r),r}}function Pw(){return"bot_"+dT().replace(/-/g,"")}function Dm(e,t){return e.startsWith("XAU")||e.startsWith("XAG")||e.startsWith("US30")||e.startsWith("NAS100")||e.startsWith("SPX500")||e.startsWith("UK100")||e.startsWith("GER30")||e.startsWith("BTC")||e.startsWith("ETH")||e.startsWith("LTC")||e.startsWith("XRP")||e.startsWith("BCH")||e.includes("OIL")?e:t==="prop"&&!e.match(/\.(raw|m|c|pro|ecn|stp)$/i)?e+".raw":e}const ws=of((e,t)=>({positions:[],signals:[],robots:[],strategies:[],userStrategySubscriptions:[],subscriptionsByStrategy:{},availableSymbols:[],adminUsers:[],isLoading:!1,lastPositionsUpdate:null,lastSignalsUpdate:null,autoRefreshInterval:null,autoRefreshIntervalSignals:null,error:null,ordersHistory:[],fetchStrategies:async()=>{try{console.log("🔄 Fetching all available strategies...");const{data:s,error:r}=await D.from("strategies").select("*").order("created_at",{ascending:!0});if(r)throw console.error("❌ Error fetching strategies:",r),R.error("Failed to load strategies."),r;e({strategies:s||[]}),console.log(`✅ Loaded ${(s==null?void 0:s.length)||0} strategies.`)}catch(s){console.error("❌ Failed to fetch strategies:",s)}},fetchUserStrategySubscriptions:async()=>{var s,r,i,a,o;try{const{data:{session:l}}=await D.auth.getSession();if(!((s=l==null?void 0:l.user)!=null&&s.id)){console.warn("No authenticated user found for strategy subscriptions fetch"),e({userStrategySubscriptions:[],subscriptionsByStrategy:{}});return}console.log(`🔄 Fetching strategy subscriptions for user ${l.user.id}...`);let c=null,d=null;{const m=await D.from("strategy_subscriptions").select("strategy_id, ends_at, status").eq("user_id",l.user.id);c=m.data,d=m.error}if(d&&(d.code==="PGRST102"||d.code==="PGRST204"||(i=(r=d.message)==null?void 0:r.toLowerCase)!=null&&i.call(r).includes("column")||d.status===400)){console.warn("⚠️ Falling back to strategy_subscriptions shape with expires_at/status. Error:",d);const m=await D.from("strategy_subscriptions").select("strategy_id, expires_at, status").eq("user_id",l.user.id);c=m.data,d=m.error}if(d&&(d.code==="PGRST102"||d.code==="PGRST204"||(o=(a=d.message)==null?void 0:a.toLowerCase)!=null&&o.call(a).includes("column")||d.status===400)){console.warn("⚠️ Falling back to legacy strategy_subscriptions shape (strategy_id only). Error:",d);const m=await D.from("strategy_subscriptions").select("strategy_id").eq("user_id",l.user.id);c=m.data,d=m.error}if(d)throw console.error("❌ Error fetching user strategy subscriptions:",d),R.error("Failed to load your strategy subscriptions."),d;const u=new Date,h={},f=[];(c||[]).forEach(m=>{const x=m.status??(m.strategy_id?"active":null),g=m.ends_at??m.expires_at??null;if(m.strategy_id){h[m.strategy_id]={status:x,ends_at:g};const y=!g||new Date(g)>u;x==="active"&&y&&f.push(m.strategy_id)}}),e({userStrategySubscriptions:f,subscriptionsByStrategy:h}),console.log(`✅ User has ${f.length} active strategies; ${Object.keys(h).length} total records.`)}catch(l){console.error("❌ Failed to fetch user strategy subscriptions:",l)}},renewStrategySubscription:async s=>{var a;const{data:{session:r}}=await D.auth.getSession();if(!((a=r==null?void 0:r.user)!=null&&a.id))return R.error("You must be logged in to renew."),!1;const i=r.user.id;try{e({isLoading:!0});const{data:o,error:l}=await D.rpc("renew_strategy_subscription",{p_user_id:i,p_strategy_id:s});if(l)return console.error("❌ RPC error during renewal:",l),R.error("Renewal failed."),!1;const c=o||{};if(!c.success){const u=typeof c.error=="string"?c.error:"";let h="Renewal failed.";return u.includes("Insufficient tokens")&&(h="Insufficient tokens. Please purchase more tokens."),R.error(h),!1}await t().fetchUserStrategySubscriptions();const d=typeof c.new_balance=="number"?c.new_balance:void 0;return typeof d=="number"&&pe.getState().updateTokenBalance(d),R.success("Subscription renewed."),!0}catch(o){return console.error("❌ Unexpected renewal error:",o),R.error("Renewal failed."),!1}finally{e({isLoading:!1})}},cancelStrategySubscription:async s=>{var i;const{data:{session:r}}=await D.auth.getSession();if(!((i=r==null?void 0:r.user)!=null&&i.id))return R.error("You must be logged in to cancel."),!1;try{const{error:a}=await D.rpc("cancel_strategy_subscription",{p_user_id:r.user.id,p_strategy_id:s});return a?(console.error("❌ RPC error during cancel:",a),R.error("Cancel failed."),!1):(await t().fetchUserStrategySubscriptions(),R("Subscription canceled"),!0)}catch(a){return console.error("❌ Unexpected cancel error:",a),R.error("Cancel failed."),!1}},subscribeToStrategy:async s=>{var a;const{data:{session:r}}=await D.auth.getSession();if(!((a=r==null?void 0:r.user)!=null&&a.id))return R.error("You must be logged in to subscribe."),!1;const i=r.user.id;try{e({isLoading:!0}),console.log(`🚀 Attempting to subscribe user ${i} to strategy ${s} via RPC...`);const{data:o,error:l}=await D.rpc("subscribe_user_to_strategy",{p_user_id:i,p_strategy_id:s});if(l){if(console.error("❌ RPC error during subscription:",l),((l==null?void 0:l.code)||"")==="PGRST202"||(l==null?void 0:l.status)===404||String((l==null?void 0:l.message)||"").includes("schema cache")){const x=t().strategies.find(y=>y.id===s);if(((x==null?void 0:x.token_cost)??0)===0){console.warn("⚠️ RPC missing; attempting direct insert for free strategy.");const{error:y}=await D.from("strategy_subscriptions").insert({user_id:i,strategy_id:s});if(!y)return e(p=>({userStrategySubscriptions:p.userStrategySubscriptions.includes(s)?p.userStrategySubscriptions:[...p.userStrategySubscriptions,s]})),await t().fetchUserStrategySubscriptions(),R.success("Subscribed to the strategy."),!0;console.error("❌ Direct insert fallback failed:",y)}return R.error("Backend not ready. Please apply the subscription RPC migration and reload."),!1}return R.error("Subscription failed. Please try again."),!1}const c=o||{};if(!c.success){const h=typeof c.error=="string"?c.error:"";let f="Subscription failed.";return h.includes("Insufficient tokens")?f="Insufficient tokens. Please purchase more tokens.":h.toLowerCase().includes("platform wallet")?f="Platform wallet not configured. Please contact support or an admin.":h.toLowerCase().includes("not found")&&(f="Strategy not found or unavailable."),R.error(h?`${f} (${h})`:f),console.warn("⚠️ Subscription RPC reported failure:",c),!1}e(h=>({userStrategySubscriptions:h.userStrategySubscriptions.includes(s)?h.userStrategySubscriptions:[...h.userStrategySubscriptions,s]}));const d=typeof c.new_balance=="number"?c.new_balance:void 0;if(typeof d=="number"){const h=To.getState();h.adminUsers.some(m=>m.id===i)&&h.updateUserTokenBalance(i,d),pe.getState().updateTokenBalance(d)}const u=typeof c.cost=="number"?` Spent ${c.cost} tokens.`:"";return R.success(`Subscribed to the strategy.${u}`),console.log(`✅ User ${i} subscribed successfully.`,c),!0}catch(o){return R.error("An unexpected error occurred during subscription."),console.error("❌ Unexpected subscription error:",o),!1}finally{e({isLoading:!1})}},fetchOrdersHistory:async()=>{try{const s=new Date,r=new Date(s.getFullYear(),s.getMonth(),1),a=(await at.orderHistory(r.toISOString(),s.toISOString())).orders||[];e({ordersHistory:a,lastPositionsUpdate:new Date,error:null})}catch(s){console.error("❌ Failed to fetch order history:",s)}},startCopyTrading:async(s,r)=>{var i;try{const{data:{session:a}}=await D.auth.getSession();if(!((i=a==null?void 0:a.user)!=null&&i.id))return R.error("You must be logged in to start copy trading"),{success:!1,error:"Not authenticated"};const{data:o,error:l}=await D.from("user_accounts").select("*").eq("user_id",a.user.id).eq("is_active",!0).limit(1);if(l||!o||o.length===0)return R.error("No active MT5 account found"),{success:!1,error:"No active MT5 account"};const c=o[0],d=((c==null?void 0:c.login)||(c==null?void 0:c.user)||"").toString(),u=((c==null?void 0:c.server)||"").toString();let h=null;if(!h){const f=(r.username||r.user||r.login||"").toString().trim();if(!d||!u)return R.error("Your broker connection is incomplete (missing MT5 account or server). Please reconnect your MT5 account."),{success:!1,error:"Missing master credentials"};if(!f||!r.password||!r.server)return R.error("Follower account details incomplete (username/password/server required)."),{success:!1,error:"Missing slave credentials"};const m=r.riskType??"FixedLot",x=typeof r.riskValue=="number"?r.riskValue:.01,g=r.riskMultiply??void 0,y={copySL:r.copySL??!0,copyTP:r.copyTP??!0,copyPendingOrders:r.copyPendingOrders??!0,forceMinLot:r.forceMinLot??!0,forceMaxLot:r.forceMaxLot??!0,contractAlignment:r.contractAlignment??!0,copyMagicNumber:r.copyMagicNumber??"No",filterMagicOption:r.filterMagicOption??"None",filterMagicValue:r.filterMagicValue??void 0,filterCommentOption:r.filterCommentOption??"None",filterCommentValue:r.filterCommentValue??void 0,filterSide:r.filterSide??"CopyAll",symbolMapping:r.symbolMapping??""};try{const{copierId:p}=await X0({masterUser:d,masterPassword:c.mt5_password,masterServer:u,masterName:c.account_name||`Leader-${d}`,slaveUser:f,slavePassword:r.password,slaveServer:r.server,slaveName:r.nickname||`Follower-${f}`,riskType:m,riskValue:x,riskMultiply:g,...y});h=p||null}catch(p){return console.error("CopyBack start failed:",p),R.error("Failed to start copy trading with credentials."),{success:!1,error:"Copy trading start failed"}}}return h?(R.success("Copy trading started successfully!"),{success:!0,copierId:h}):(R.error("Failed to start copy trading"),{success:!1,error:"No copierId returned"})}catch(a){const o=(a==null?void 0:a.message)||"Unknown error";return console.error("Error starting copy trading:",o),/masterserver is required/i.test(o)?R.error("Missing master server. Please reconnect your MT5 account (Broker Setup) to save the server name."):/masteruser|master account/i.test(o)?R.error("Missing master account number. Please reconnect your MT5 account."):/masterUser|slaveApiId|must be a valid guid/i.test(o)?R.error("Invalid account ID received. We will use credentials instead. Please try again."):/slave.*(user|server|password)/i.test(o)?R.error("Follower details incomplete. Please provide username, password, and server."):R.error(`Failed to start copy trading: ${o}`),{success:!1,error:o}}},fetchPositions:async()=>{if(await pe.getState().isUserExpired()){e({positions:[],error:"Your account is expired. Only account/robot history is available."}),R.error("Your account is expired. Live trading data is unavailable.");return}try{console.log("🔄 Fetching positions from MT5...");const i=(await at.getPositions()).filter(l=>l.ticket&&l.ticket>0&&l.symbol&&l.volume>0);console.log(`📊 Valid positions found: ${i.length}`);const o=t().positions.filter(l=>!i.some(c=>c.ticket===l.ticket));o.length>0&&console.log(`🧹 Found ${o.length} positions that are no longer on MT5:`,o.map(l=>`${l.ticket} (${l.symbol})`)),e({positions:i,lastPositionsUpdate:new Date,error:null})}catch(r){let i="Failed to fetch positions";r instanceof Error?(console.error("Failed to fetch positions:",r.message),r.message.includes("Authentication failed")||r.message.includes("Session expired")?(i="Session expired. Please login again.",R.error(i),pe.getState().logout()):(i=r.message,!r.message.includes("timeout")&&!r.message.includes("network")&&console.warn("Position fetch error (not showing toast):",r.message))):console.error("Failed to fetch positions:",r),e({error:i,lastPositionsUpdate:new Date})}},forceRefreshPositions:async()=>{console.log("🔄 Force refreshing positions and account info..."),e({isLoading:!0});try{const s=pe.getState();e({positions:[]}),await Promise.all([t().fetchPositions(),t().fetchOrdersHistory(),s.refreshAccountInfo()]),console.log("✅ Force refresh completed"),R.success("Positions and account info refreshed")}catch(s){console.error("❌ Force refresh failed:",s),R.error("Failed to refresh data")}finally{e({isLoading:!1})}},removeClosedPositionFromCache:s=>{console.log(`🧹 Removing position ${s} from cache`),e(r=>({positions:r.positions.filter(i=>i.ticket!==s)}))},verifyPositionExists:async s=>{try{console.log(`🔍 Verifying if position ${s} still exists on MT5...`);const i=(await at.getPositions()).some(a=>a.ticket===s);return console.log(`📊 Position ${s} exists on MT5: ${i?"YES":"NO"}`),i}catch(r){return console.error(`❌ Error verifying position ${s}:`,r),!1}},fetchAvailableSymbols:async()=>{try{const s=await at.getSymbols();e({availableSymbols:s}),s.length>0?console.log(`Loaded ${s.length} symbols from broker:`,s.slice(0,10),"..."):console.warn("No symbols received from broker")}catch(s){console.error("Failed to fetch symbols:",s),e({availableSymbols:["EURUSD","GBPUSD","USDJPY","AUDUSD","USDCAD","NZDUSD","USDCHF","EURJPY","EURGBP","GBPJPY","XAUUSD","XAGUSD","USOIL","UKOIL","US30","US500","NAS100","GER30","UK100","JPN225","BTCUSD","ETHUSD","LTCUSD","XRPUSD","BCHUSD"]}),s instanceof Error&&s.message.includes("Authentication failed")?(R.error("Session expired. Please login again."),pe.getState().logout()):R("Could not load broker symbols. Using common symbols instead.")}},fetchRobots:async()=>{var s,r,i,a,o;try{const{data:{session:l}}=await D.auth.getSession();if(!((s=l==null?void 0:l.user)!=null&&s.id)){console.warn("No authenticated user found");return}const c=l.user.id,{credentials:d}=pe.getState(),u=d==null?void 0:d.mt5AccountId;let h=D.from("trading_robots").select("*").eq("user_id",c).order("created_at",{ascending:!1});u&&(h=h.eq("mt5_account_id",u)),console.log("[fetchRobots] Querying robots for userId:",c,"mt5AccountId:",u);const{data:f,error:m}=await h;if(console.log("[fetchRobots] ownRobotsData:",f),m){console.error("Error fetching own robots:",m),R.error("Failed to load trading robots");return}let x=null,g=null;{const v=[{col:"subscriber_user_id",filter:{name:"status",value:"active"}},{col:"subscriber_user_id"},{col:"user_id",filter:{name:"active",value:!0}},{col:"user_id"}];for(const w of v){let S=D.from("robot_subscriptions").select("robot_id");S=S.eq(w.col,c),w.filter&&(S=S.eq(w.filter.name,w.filter.value));const T=await S;if(!T.error){x=T.data||[];break}const j=T.error;if(!((j==null?void 0:j.code)==="PGRST102"||(j==null?void 0:j.code)==="PGRST204"||(i=(r=j==null?void 0:j.message)==null?void 0:r.toLowerCase)!=null&&i.call(r).includes("column")||(o=(a=j==null?void 0:j.hint)==null?void 0:a.toLowerCase)!=null&&o.call(a).includes("column"))){console.warn("robot_subscriptions query failed with non-schema error:",j),g=j;break}}}let y=[];if(!g&&x&&x.length>0){const v=x.map(S=>S.robot_id),{data:w,error:N}=await D.from("trading_robots").select("*").in("id",v);!N&&w&&(y=w)}const b=[...f||[],...y.filter(v=>!(f||[]).some(w=>w.id===v.id))].map(v=>({id:v.id,name:v.name,symbol:v.symbol,isActive:v.is_active||!1,strategy:v.strategy,riskLevel:v.risk_level,maxLotSize:parseFloat(v.max_lot_size),stopLoss:v.stop_loss,takeProfit:v.take_profit,createdAt:v.created_at,botToken:v.bot_token||Pw(),mt5AccountId:v.mt5_account_id,performance:{totalTrades:v.total_trades||0,winRate:parseFloat(v.win_rate)||0,profit:parseFloat(v.profit)||0},userId:v.userId,isCopyable:v.is_copyable||!1,isShared:v.is_shared||!1}));e({robots:b}),console.log(`Loaded ${b.length} robots for user and subscriptions.`),await t().updateRobotPerformanceFromSignals()}catch(l){console.error("Error fetching robots:",l),R.error("Failed to load trading robots")}},fetchAllUsersWithTokens:async()=>{try{console.log("🔄 Fetching all users with token data for admin dashboard...");const{data:s,error:r}=await D.auth.admin.listUsers();if(r){console.error("❌ Error fetching users:",r);const{data:c,error:d}=await D.from("user_tokens").select(`
            user_id,
            balance,
            earned,
            spent,
            created_at
          `);if(d){console.error("❌ Error fetching token users:",d),R.error("Failed to load user data");return}const u=(c==null?void 0:c.map(h=>({id:h.user_id,email:"Unknown",created_at:h.created_at,tokens:{balance:h.balance,earned:h.earned,spent:h.spent}})))||[];e({adminUsers:u}),console.log(`✅ Loaded ${u.length} users from token data`);return}const i=s.users.map(c=>c.id),{data:a,error:o}=await D.from("user_tokens").select("*").in("user_id",i);o&&console.error("❌ Error fetching token data:",o);const l=s.users.map(c=>{const d=a==null?void 0:a.find(u=>u.user_id===c.id);return{id:c.id,email:c.email||"No email",created_at:c.created_at,last_sign_in_at:c.last_sign_in_at,tokens:d?{balance:d.balance,earned:d.earned,spent:d.spent}:null}});e({adminUsers:l}),console.log(`✅ Loaded ${l.length} users with token data for admin dashboard`)}catch(s){console.error("❌ Error fetching all users with tokens:",s),R.error("Failed to load admin data")}},fetchInitialSignals:async()=>{var r;if(await pe.getState().isUserExpired()){e({signals:[],error:"Your account is expired. Only account/robot history is available."}),R.error("Your account is expired. Live signals are unavailable.");return}try{const{data:{session:i}}=await D.auth.getSession();if(!((r=i==null?void 0:i.user)!=null&&r.id)){console.warn("No authenticated user found for signals fetch");return}const{data:a,error:o}=await D.from("trading_signals").select("*").eq("user_id",i.user.id).order("created_at",{ascending:!1}).limit(50);if(o){console.error("Error fetching signals:",o);return}const l=(a==null?void 0:a.map(c=>({id:c.id,symbol:c.symbol,action:c.action,volume:parseFloat(c.volume),price:c.price?parseFloat(c.price):void 0,stopLoss:c.stop_loss?parseFloat(c.stop_loss):void 0,takeProfit:c.take_profit?parseFloat(c.take_profit):void 0,timestamp:c.created_at,source:c.source,botToken:c.bot_token,ticket:c.ticket,profitLoss:c.profit_loss?parseFloat(c.profit_loss):void 0})))||[];e({signals:l,lastSignalsUpdate:new Date}),console.log(`📊 Fetched ${l.length} signals for user ${i.user.id}`),await t().updateRobotPerformanceFromSignals()}catch(i){console.error("Error fetching initial signals:",i)}},subscribeToSignals:()=>{const s=D.channel("trading_signals").on("postgres_changes",{event:"INSERT",schema:"public",table:"trading_signals"},r=>{const i=r.new,a={id:i.id,symbol:i.symbol,action:i.action,volume:parseFloat(i.volume),price:i.price?parseFloat(i.price):void 0,stopLoss:i.stop_loss?parseFloat(i.stop_loss):void 0,takeProfit:i.take_profit?parseFloat(i.take_profit):void 0,timestamp:i.created_at,source:i.source,botToken:i.bot_token,ticket:i.ticket,profitLoss:i.profit_loss?parseFloat(i.profit_loss):void 0};e(o=>({signals:[a,...o.signals.slice(0,49)],lastSignalsUpdate:new Date})),a.action!=="CLOSE"?R.success(`New ${a.action} signal received for ${a.symbol} - Auto-executed`):console.log(`📊 Close signal received for ${a.symbol}`),t().updateRobotPerformanceFromSignals()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"trading_signals"},r=>{const i=r.new;e(a=>({signals:a.signals.map(o=>o.id===i.id?{...o,timestamp:i.created_at,profitLoss:i.profit_loss?parseFloat(i.profit_loss):void 0}:o),lastSignalsUpdate:new Date})),t().updateRobotPerformanceFromSignals()}).subscribe();return()=>{D.removeChannel(s)}},addSignal:s=>{e(r=>({signals:[s,...r.signals.slice(0,99)],lastSignalsUpdate:new Date})),t().updateRobotPerformanceFromSignals()},executeSignal:async s=>{var i,a;if(await pe.getState().isUserExpired())return R.error("Your account is expired. You cannot execute trades or signals."),!1;try{console.log("🔄 Executing signal:",s);const{data:{session:o}}=await D.auth.getSession();if(!((i=o==null?void 0:o.user)!=null&&i.id))return R.error("You must be logged in to execute trades"),!1;const c=(a=pe.getState().accountInfo)==null?void 0:a.accountType;console.log(`🏦 Account type: ${c}`);const{data:d,error:u}=await D.from("trading_signals").insert({user_id:o.user.id,symbol:s.symbol,action:s.action,volume:s.volume,price:s.price,stop_loss:s.stopLoss,take_profit:s.takeProfit,source:s.source||"manual",status:"pending",bot_token:s.botToken,ticket:s.ticket}).select().single();if(u)return console.error("Error saving signal:",u),R.error("Failed to save signal"),!1;let h,f=!1;if(s.action==="CLOSE")if(s.ticket)console.log(`Closing specific position with ticket ${s.ticket}`),await t().verifyPositionExists(s.ticket)?(f=await t().forceClosePosition(s.ticket),h={retcode:f?10009:10004,comment:f?`Closed position ${s.ticket}`:`Failed to close position ${s.ticket}`}):(console.log(`⚠️ Position ${s.ticket} not found or already closed`),h={retcode:10009,comment:"Position already closed or not found"},f=!0);else{const g=t().positions.filter(y=>y.symbol===Dm(s.symbol,c));if(g.length===0)console.log(`No open positions found for ${s.symbol} to close`),h={retcode:10009,comment:"No positions to close"},f=!0;else{console.log(`Closing ${g.length} positions for ${s.symbol}`);let y=0;for(const p of g)await t().forceClosePosition(p.ticket,p.volume)&&y++;f=y>0,h={retcode:f?10009:10004,comment:f?`Closed ${y} of ${g.length} positions`:"Failed to close positions"}}}else{let x=Dm(s.symbol,c);x!==s.symbol&&console.log(`🔄 Symbol adjusted for ${c} account: "${s.symbol}" -> "${x}"`),h=await at.sendOrder({symbol:x,action:s.action,volume:s.volume,price:s.price,sl:s.stopLoss,tp:s.takeProfit}),f=h.retcode===10009}console.log("📥 Signal execution result:",h);const m={status:f?"executed":"failed",executed_at:f?new Date().toISOString():null};if(f&&h.profit!==void 0&&(m.profit_loss=h.profit,console.log(`✅ Adding profit_loss to signal: ${h.profit}`)),await D.from("trading_signals").update(m).eq("id",d.id),f){const x={id:d.id,symbol:s.symbol,action:s.action,volume:s.volume,price:s.price,stopLoss:s.stopLoss,takeProfit:s.takeProfit,timestamp:d.created_at,source:s.source||"manual",botToken:s.botToken,ticket:s.ticket,profitLoss:h.profit!==void 0?h.profit:void 0};if(t().addSignal(x),await t().refreshAfterTrade(),s.action==="CLOSE")s.ticket?R.success(`Close signal executed successfully for position #${s.ticket}`):R.success(`Close signal executed successfully for ${s.symbol}`);else{let g=Dm(s.symbol,c);const y=g!==s.symbol?`${s.symbol} (${g})`:s.symbol;R.success(`${s.action} order executed successfully for ${y}`)}return s.botToken&&t().robots.find(y=>y.botToken===s.botToken)&&await t().updateRobotPerformanceFromSignals(),!0}else{console.error("Signal execution failed:",h);const x=s.action==="CLOSE"?"close positions":`execute ${s.action} order`;return R.error(`Failed to ${x} for ${s.symbol}: ${h.comment||"Unknown error"}`),!1}}catch(o){return console.error("Error executing signal:",o),o instanceof Error?o.message.includes("Authentication failed")||o.message.includes("Session expired")?(R.error("Session expired. Please login again."),pe.getState().logout()):R.error(`Failed to execute signal: ${o.message}`):R.error("Failed to execute signal"),!1}},closePosition:async s=>{if(await pe.getState().isUserExpired())return R.error("Your account is expired. You cannot close positions."),!1;try{if(console.log("🔄 Closing position:",s),t().removeClosedPositionFromCache(s),!await t().verifyPositionExists(s))return console.log(`⚠️ Position ${s} not found on MT5 - already closed`),R.success(`Position ${s} is already closed`),await t().forceRefreshPositions(),!0;const a=await at.closePosition(s);console.log("📥 Close position result:",a);const o=a.retcode===10009;if(o){if(await t().refreshAfterTrade(),R.success(`Position ${s} closed successfully`),a.profit!==void 0){const{data:l}=await D.from("trading_signals").select("*").eq("ticket",s).order("created_at",{ascending:!1}).limit(1);l&&l.length>0&&(await D.from("trading_signals").update({profit_loss:a.profit}).eq("id",l[0].id),console.log(`✅ Updated signal ${l[0].id} with profit_loss: ${a.profit}`))}}else console.error("Close position failed:",a),R.error(`Failed to close position ${s}: ${a.comment||"Unknown error"}`),await t().forceRefreshPositions();return o}catch(i){if(i instanceof Error){if(i.message.includes("position not found")||i.message.includes("already closed")||i.message.includes("POSITION_NOT_EXISTS"))return console.log(`✅ Position ${s} was already closed`),R.success(`Position ${s} was already closed`),await t().forceRefreshPositions(),!0;i.message.includes("Authentication failed")||i.message.includes("Session expired")?(R.error("Session expired. Please login again."),pe.getState().logout()):R.error(`Failed to close position ${s}: ${i.message}`),await t().forceRefreshPositions()}else console.error("Failed to close position:",i),R.error(`Failed to close position ${s}`),await t().forceRefreshPositions();return!1}},forceClosePosition:async(s,r)=>{if(await pe.getState().isUserExpired())return R.error("Your account has expired. Please renew your subscription."),!1;const a=t().positions;e(o=>({positions:o.positions.filter(l=>l.ticket!==s)}));try{const o=await at.closePosition(s,r);return o.success?(R.success(`Position ${s} closed successfully`),await t().forceRefreshPositions(),!0):(e({positions:a}),R.error(`Failed to close position ${s}: ${o.message}`),!1)}catch(o){return e({positions:a}),o.message.includes("Authentication failed")||o.message.includes("Session expired")?(R.error("Session expired. Please login again."),pe.getState().logout()):R.error(`Failed to close position ${s}: ${o.message}`),await t().forceRefreshPositions(),!1}},closeAllPositions:async()=>{if(await pe.getState().isUserExpired())return R.error("Your account is expired. You cannot close positions."),!1;const{positions:r}=t();if(r.length===0)return R("No positions to close"),!1;let i=0;const a=r.length;for(const o of r)await t().forceClosePosition(o.ticket,o.volume)&&i++;return i>0?(R.success(`Closed ${i} of ${a} positions`),!0):(R.error("Failed to close any positions"),!1)},closeAllProfitablePositions:async()=>{if(await pe.getState().isUserExpired())return R.error("Your account is expired. You cannot close positions."),!1;const{positions:r}=t(),i=r.filter(l=>l.profit>0);if(i.length===0)return R("No profitable positions to close"),!1;let a=0;const o=i.length;for(const l of i)await t().forceClosePosition(l.ticket,l.volume)&&a++;return a>0?(R.success(`Closed ${a} of ${o} profitable positions`),!0):(R.error("Failed to close any profitable positions"),!1)},closeAllLosingPositions:async()=>{if(await pe.getState().isUserExpired())return R.error("Your account is expired. You cannot close positions."),!1;const{positions:r}=t(),i=r.filter(l=>l.profit<0);if(i.length===0)return R("No losing positions to close"),!1;let a=0;const o=i.length;for(const l of i)await t().forceClosePosition(l.ticket,l.volume)&&a++;return a>0?(R.success(`Closed ${a} of ${o} losing positions`),!0):(R.error("Failed to close any losing positions"),!1)},createRobot:async s=>{var i;if(await pe.getState().isUserExpired())return R.error("Your account is expired. You cannot create robots."),null;try{const{data:{session:a}}=await D.auth.getSession();if(!((i=a==null?void 0:a.user)!=null&&i.id))return R.error("You must be logged in to create a robot"),null;const{allowed:o,reason:l}=await To.getState().enforceUserLimits(a.user.id,"robot");if(!o)return R.error(l||"You are not allowed to create more robots."),null;const{credentials:c}=pe.getState(),d=c==null?void 0:c.mt5AccountId;if(!d)return console.warn("No active MT5 account ID found when creating robot"),R.error("No active MT5 account found. Please reconnect your broker."),null;const u=Pw(),h={user_id:a.user.id,mt5_account_id:d,name:s.name,symbol:s.symbol,strategy:s.strategy,risk_level:s.riskLevel,max_lot_size:s.maxLotSize,stop_loss:s.stopLoss,take_profit:s.takeProfit,is_active:s.isActive||!1,bot_token:u,total_trades:0,win_rate:0,profit:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("🤖 Creating new robot with data:",{...h,mt5_account_id:d});debugger;const{data:f,error:m}=await D.from("trading_robots").insert(h).select().single();if(m)return console.error("Error creating robot:",m),R.error("Failed to create robot: "+m.message),null;const x={id:f.id,name:f.name,symbol:f.symbol,isActive:f.is_active,isCopyable:!!f.is_copyable,isShared:!!f.is_shared,strategy:f.strategy,riskLevel:f.risk_level,maxLotSize:parseFloat(f.max_lot_size),stopLoss:f.stop_loss,takeProfit:f.take_profit,createdAt:f.created_at,botToken:f.bot_token,mt5AccountId:f.mt5_account_id,performance:{totalTrades:f.total_trades||0,winRate:parseFloat(f.win_rate)||0,profit:parseFloat(f.profit)||0},userId:f.userId};e(y=>({robots:[x,...y.robots]}));const g=x.symbol||"All Symbols";return R.success(`Robot "${x.name}" created successfully for ${g}`),x}catch(a){return console.error("Error creating robot:",a),R.error("Failed to create robot"),null}},toggleRobot:async s=>{try{if(await pe.getState().isUserExpired()){R.error("Your account is expired. Please renew your subscription to enable or start robots.");return}const i=t().robots.find(d=>d.id===s);if(!i){R.error("Robot not found");return}const{mt5AccountId:a,isActive:o}=i,l=!o,{error:c}=await D.from("trading_robots").update({is_active:l}).eq("id",s).eq("mt5_account_id",a);if(c){console.error("Error toggling robot:",c),R.error(`Failed to ${l?"enable":"disable"} robot`);return}e(d=>({robots:d.robots.map(u=>u.id===s?{...u,isActive:l}:u)})),R.success(`Robot successfully ${l?"enabled":"disabled"}`)}catch(r){console.error("Error toggling robot:",r),R.error("An unexpected error occurred while toggling the robot.")}},deleteRobot:async s=>{try{const{error:r}=await D.from("trading_robots").delete().eq("id",s);if(r){console.error("Error deleting robot:",r),R.error("Failed to delete robot.");return}e(i=>({robots:i.robots.filter(a=>a.id!==s)})),R.success("Robot deleted successfully.")}catch(r){console.error("Error deleting robot:",r),R.error("An unexpected error occurred while deleting the robot.")}},updateRobotPerformance:async(s,r)=>{try{const{error:i}=await D.from("trading_robots").update({total_trades:r.totalTrades,win_rate:r.winRate,profit:r.profit}).eq("id",s);if(i){console.error("Error updating robot performance:",i);return}e(a=>({robots:a.robots.map(o=>o.id===s?{...o,performance:{...o.performance,...r}}:o)})),console.log(`Updated performance for robot ${s}:`,r)}catch(i){console.error("Error updating robot performance:",i)}},getRobotSignalStats:async s=>{var r;try{const{data:{session:i}}=await D.auth.getSession();if(!((r=i==null?void 0:i.user)!=null&&r.id))return console.warn("No authenticated user found"),{totalTrades:0,winCount:0,lossCount:0,profit:0};const a=t().robots.find(m=>m.id===s);if(!a)return console.warn(`Robot with ID ${s} not found`),{totalTrades:0,winCount:0,lossCount:0,profit:0};const{data:o,error:l}=await D.from("trading_signals").select("*").eq("user_id",i.user.id).eq("bot_token",a.botToken).order("created_at",{ascending:!1});if(l)return console.error("Error fetching robot signals:",l),{totalTrades:0,winCount:0,lossCount:0,profit:0};if(!o||o.length===0)return{totalTrades:0,winCount:0,lossCount:0,profit:0};const c=o.filter(m=>m.action==="BUY"||m.action==="SELL");let d=0,u=0,h=0;const f=o.filter(m=>m.profit_loss!==null&&m.profit_loss!==void 0);for(const m of f){const x=parseFloat(m.profit_loss);d+=x,x>0?u++:x<0&&h++}return{totalTrades:c.length,winCount:u,lossCount:h,profit:d}}catch(i){return console.error("Error getting robot signal stats:",i),{totalTrades:0,winCount:0,lossCount:0,profit:0}}},updateRobotPerformanceFromSignals:async()=>{try{const s=t().robots;if(!s||s.length===0)return;await Promise.all(s.map(async r=>{const i=await t().getRobotSignalStats(r.id),a=i.winCount+i.lossCount,o=a>0?i.winCount/a*100:0;await t().updateRobotPerformance(r.id,{totalTrades:i.totalTrades,winRate:o,profit:i.profit})}))}catch(s){console.error("Error updating robot performance from signals:",s)}},startAutoRefresh:()=>{const{autoRefreshInterval:s}=t();s&&clearInterval(s);const r=setInterval(async()=>{try{await Promise.all([t().fetchPositions(),t().fetchOrdersHistory()])}catch{}},15e3);e({autoRefreshInterval:r})},stopAutoRefresh:()=>{const{autoRefreshInterval:s}=t();s&&(clearInterval(s),e({autoRefreshInterval:null}))},startSignalsAutoRefresh:()=>{const{autoRefreshIntervalSignals:s}=t();s&&clearInterval(s);const r=setInterval(async()=>{try{await t().fetchInitialSignals()}catch{}},15e3);e({autoRefreshIntervalSignals:r})},stopSignalsAutoRefresh:()=>{const{autoRefreshIntervalSignals:s}=t();s&&(clearInterval(s),e({autoRefreshIntervalSignals:null}))},refreshAfterTrade:async()=>{try{const s=pe.getState();await Promise.all([t().fetchPositions(),t().fetchOrdersHistory(),s.refreshAccountInfo()])}catch(s){console.error("Error refreshing after trade:",s)}}})),FL=()=>{const[e,t]=k.useState(!1),[s,r]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState("EURUSD"),[u,h]=k.useState("buy"),[f,m]=k.useState("0.10"),[x,g]=k.useState(""),[y,p]=k.useState(""),{strategies:b,userStrategySubscriptions:v,subscriptionsByStrategy:w,fetchStrategies:N,fetchUserStrategySubscriptions:S,subscribeToStrategy:T,renewStrategySubscription:j,cancelStrategySubscription:E,isLoading:_}=ws(),{userTokens:C}=pe();k.useEffect(()=>{N(),S()},[]),k.useEffect(()=>{!o&&b.length>0&&l(b[0])},[b,o]);const P=K=>v.includes(K),I=K=>{const M=w[K];if(!(M!=null&&M.ends_at))return null;const he=new Date(M.ends_at),be=new Date,me=he.getTime()-be.getTime();return Math.ceil(me/(1e3*60*60*24))},$=K=>(K.token_cost??0)===0?{status:"Free Access",color:"text-green-400",icon:Es}:P(K.id)?{status:"Active",color:"text-green-400",icon:Te}:{status:"Locked",color:"text-gray-400",icon:Cc},H=K=>{const M=w[K];return(M==null?void 0:M.ends_at)??null},B=K=>{l(K),r(!1)},L=async K=>{await T(K.id)&&(await S(),a(!1))},F=async K=>{await j(K.id)&&await S()},z=async K=>{await E(K.id)&&await S()},A=()=>{R.success(`${u.toUpperCase()} order placed for ${c} (${f} lots)`)},ie=e?"fixed inset-0 z-50 bg-[#1a1a1a] overflow-x-hidden":"bg-[#1a1a1a] w-full overflow-x-hidden";return k.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:ie,children:n.jsx("div",{className:e?"px-0":"px-[10px]",children:n.jsxs("div",{className:e?"flex h-[100dvh] w-full overflow-hidden":"flex h-[calc(100dvh-128px)] w-full overflow-hidden",children:[n.jsx("div",{className:"w-80 bg-[#1a1a1a] border-r border-gray-700 pl-[9px] pr-6 py-6 overflow-y-auto flex-shrink-0 h-full",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(bi,{className:"w-6 h-6 text-[#ffa31a]"}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Manual Trading"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Symbol"}),n.jsxs("select",{value:c,onChange:K=>d(K.target.value),className:"w-full bg-[#2a2a2a] border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-[#ffa31a] focus:outline-none",children:[n.jsx("option",{value:"EURUSD",children:"EUR/USD"}),n.jsx("option",{value:"GBPUSD",children:"GBP/USD"}),n.jsx("option",{value:"USDJPY",children:"USD/JPY"}),n.jsx("option",{value:"AUDUSD",children:"AUD/USD"}),n.jsx("option",{value:"USDCAD",children:"USD/CAD"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Order Type"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>h("buy"),className:`px-5 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${u==="buy"?"bg-green-600 text-white":"bg-[#2a2a2a] text-gray-300 hover:bg-green-600/20"}`,children:[n.jsx(we,{className:"w-4 h-4"}),"BUY"]}),n.jsxs("button",{onClick:()=>h("sell"),className:`px-5 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${u==="sell"?"bg-red-600 text-white":"bg-[#2a2a2a] text-gray-300 hover:bg-red-600/20"}`,children:[n.jsx(Ei,{className:"w-4 h-4"}),"SELL"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Lot Size"}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",value:f,onChange:K=>m(K.target.value),className:"w-full bg-[#2a2a2a] border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-[#ffa31a] focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stop Loss (optional)"}),n.jsx("input",{type:"number",step:"0.0001",value:x,onChange:K=>g(K.target.value),placeholder:"0.0000",className:"w-full bg-[#2a2a2a] border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-[#ffa31a] focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Take Profit (optional)"}),n.jsx("input",{type:"number",step:"0.0001",value:y,onChange:K=>p(K.target.value),placeholder:"0.0000",className:"w-full bg-[#2a2a2a] border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-[#ffa31a] focus:outline-none"})]}),n.jsxs("button",{onClick:A,className:`w-full py-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 ${u==="buy"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:[n.jsx(ph,{className:"w-4 h-4"}),"Place ",u.toUpperCase()," Order"]}),n.jsxs("div",{className:"bg-[#2a2a2a] rounded-lg p-6 mt-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Trading Info"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Account Balance:"}),n.jsx("span",{className:"text-white",children:"$10,000"})]}),n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Free Margin:"}),n.jsx("span",{className:"text-white",children:"$9,500"})]}),n.jsxs("div",{className:"flex justify-between text-gray-400",children:[n.jsx("span",{children:"Spread:"}),n.jsx("span",{className:"text-white",children:"1.2 pips"})]})]})]})]})}),n.jsxs("div",{className:"flex-1 bg-[#1a1a1a] relative min-h-0 h-full",children:[o&&o.tradingview_url&&((o.token_cost??0)===0||P(o.id))?n.jsx("iframe",{src:o.tradingview_url,width:"100%",height:"100%",frameBorder:0,allowFullScreen:!0,scrolling:"no",title:`${o.name} TradingView Chart`,className:"absolute inset-0 bg-[#1a1a1a]"},o.id):n.jsx("div",{className:"h-full flex items-center justify-center bg-[#1a1a1a]",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:o?"Strategy Access Required":"Select a Strategy"}),n.jsx("p",{className:"text-gray-500",children:o?"Subscribe to access this strategy's TradingView indicators":"Choose a trading strategy from the right sidebar to view indicators"})]})}),n.jsx("div",{className:"absolute top-3 right-3 z-20 flex gap-2",children:e?n.jsxs("button",{onClick:()=>t(!1),className:"px-3 py-2 bg-[#2a2a2a] border border-gray-600 text-white rounded-lg hover:bg-[#333] flex items-center gap-2",title:"Exit Fullscreen",children:[n.jsx(vL,{className:"w-4 h-4"}),"Exit"]}):n.jsxs("button",{onClick:()=>t(!0),className:"px-3 py-2 bg-[#2a2a2a] border border-gray-600 text-white rounded-lg hover:bg-[#333] flex items-center gap-2",title:"Enter Fullscreen",children:[n.jsx(yL,{className:"w-4 h-4"}),"Fullscreen"]})})]}),n.jsx("div",{className:"w-[24rem] bg-[#1a1a1a] border-l border-gray-700 pl-6 pr-[9px] py-6 overflow-y-auto flex-shrink-0 h-full",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Is,{className:"w-6 h-6 text-[#ffa31a]"}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Strategy Center"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Select Strategy (",b.length," available)"]}),n.jsxs("button",{onClick:()=>r(!s),className:"w-full bg-[#2a2a2a] border border-gray-600 rounded-lg px-4 py-3 flex items-center justify-between text-white hover:border-[#ffa31a] transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsx(we,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0"}),n.jsx("div",{className:"text-left flex-1 min-w-0",children:n.jsx("div",{className:"font-medium truncate",children:(o==null?void 0:o.name)||"Select Strategy"})})]}),n.jsx(q0,{className:`w-5 h-5 text-gray-400 transition-transform flex-shrink-0 ${s?"rotate-180":""}`})]}),s&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#2a2a2a] border border-gray-600 rounded-lg shadow-xl z-[100] max-h-60 overflow-y-auto",children:b.length===0?n.jsx("div",{className:"px-4 py-3 text-gray-400 text-center",children:"No strategies available"}):b.map(K=>{var M;return n.jsx("button",{onClick:()=>B(K),className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors border-b border-gray-600 last:border-b-0 flex items-center justify-between",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[n.jsx("span",{className:"truncate",children:K.name}),(K.token_cost??0)===0&&n.jsx(Es,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),(K.token_cost??0)>0&&!P(K.id)&&n.jsx(Cc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),P(K.id)&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Es,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),n.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:"SUBSCRIBED"}),(()=>{const he=I(K.id);return typeof he=="number"?n.jsxs("span",{className:"ml-1 text-[10px] text-white/90 bg-green-700/50 px-1.5 py-0.5 rounded",children:[he,"d"]}):null})()]})]}),n.jsxs("div",{className:"text-sm text-gray-400 mt-1 truncate",children:[((M=K.description)==null?void 0:M.substring(0,40))||"","..."]})]})},K.id)})})]}),b.some(K=>P(K.id))&&n.jsxs("div",{className:"mt-3",children:[n.jsx("h4",{className:"text-xs uppercase tracking-wide text-gray-400 mb-2",children:"My Subscribed Strategies"}),n.jsx("div",{className:"grid grid-cols-1 gap-2",children:b.filter(K=>P(K.id)).map(K=>{const M=(o==null?void 0:o.id)===K.id,he=I(K.id),be=H(K.id);return n.jsxs("button",{onClick:()=>B(K),className:`w-full text-left rounded-lg border px-3 py-2 transition-colors ${M?"border-green-500 bg-green-600/10":"border-gray-600 bg-[#262626] hover:border-green-500/50"}`,title:K.name,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(Es,{className:`w-3.5 h-3.5 ${M?"text-green-300":"text-green-500"}`}),n.jsx("span",{className:"text-sm text-white truncate",children:K.name})]}),n.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${M?"bg-green-700/60 text-white":"bg-gray-700/60 text-gray-200"}`,children:"Subscribed"})]}),n.jsx("div",{className:"mt-1 text-xs text-gray-300 flex items-center gap-2",children:typeof he=="number"?n.jsx("span",{children:he>0?`${he} days left`:"expires today"}):be?n.jsxs("span",{children:["Expires: ",new Date(be).toLocaleDateString()]}):null})]},K.id)})})]}),o&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[#2a2a2a] rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx(Ta,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-white",children:o.name}),P(o.id)&&n.jsxs("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium flex items-center gap-1",children:[n.jsx(Es,{className:"w-3 h-3"}),"ACTIVE"]})]}),n.jsx("p",{className:"text-sm text-gray-400",children:o.description})]})]}),n.jsx("div",{className:"flex items-center gap-2 mb-3",children:(()=>{const{status:K,color:M,icon:he}=$(o),be=P(o.id)?I(o.id):null;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(he,{className:`w-4 h-4 ${M}`}),n.jsx("span",{className:`text-sm font-medium ${M}`,children:K}),typeof be=="number"&&n.jsx("span",{className:"ml-2 text-xs text-gray-300 bg-gray-700/60 px-2 py-0.5 rounded-full",children:be>0?`${be} days left`:"expires today"})]})})()}),P(o.id)&&H(o.id)&&n.jsxs("div",{className:"flex items-center justify-between mb-3 text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Expires at:"}),n.jsx("span",{className:"text-white",children:new Date(H(o.id)).toLocaleString()})]}),(o.token_cost??0)>0&&n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Price:"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-4 h-4 text-[#ffa31a]"}),n.jsxs("span",{className:"font-semibold text-white",children:[o.token_cost," tokens"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Your Balance:"}),n.jsxs("span",{className:"font-semibold text-white",children:[(C==null?void 0:C.balance)||0," tokens"]})]}),(o.token_cost??0)>0&&!P(o.id)&&n.jsx("button",{onClick:()=>a(!0),disabled:_,className:`w-full ${_?"bg-gray-500 cursor-not-allowed":"bg-[#ffa31a] hover:bg-[#e8921a]"} text-black font-semibold py-2 px-4 rounded-lg transition-colors`,children:_?"Please wait...":"Subscribe Now"}),P(o.id)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"bg-green-600/20 border border-green-600/30 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Es,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{className:"text-sm font-medium text-green-400",children:"You have access to this strategy"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("button",{onClick:()=>F(o),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Renew"}),n.jsx("button",{onClick:()=>z(o),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]}),(o.token_cost??0)===0&&n.jsx("div",{className:"bg-green-600/20 border border-green-600/30 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Es,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{className:"text-sm font-medium text-green-400",children:"Free strategy - Full access"})]})})]}),n.jsxs("div",{className:"bg-[#2a2a2a] rounded-lg p-6",children:[n.jsxs("h4",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[n.jsx(Rn,{className:"w-4 h-4 text-[#ffa31a]"}),"Performance"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Win Rate:"}),n.jsx("span",{className:"text-green-400",children:"78%"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Avg. Return:"}),n.jsx("span",{className:"text-green-400",children:"+2.3%"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Total Trades:"}),n.jsx("span",{className:"text-white",children:"1,247"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Max Drawdown:"}),n.jsx("span",{className:"text-red-400",children:"-5.2%"})]})]})]})]})]})})]})})}),i&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:n.jsx("div",{className:"bg-[#1a1a1a] rounded-2xl p-8 max-w-lg w-full border border-gray-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Is,{className:"w-12 h-12 text-[#ffa31a] mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Subscribe to Strategy"}),n.jsxs("p",{className:"text-gray-400 mb-4",children:["Get access to ",n.jsx("strong",{children:o.name})," and its exclusive TradingView indicators."]}),n.jsxs("div",{className:"bg-[#2a2a2a] rounded-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Price:"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-4 h-4 text-[#ffa31a]"}),n.jsxs("span",{className:"font-semibold text-white",children:[o.token_cost," tokens"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-gray-400",children:"Your Balance:"}),n.jsxs("span",{className:"font-semibold text-white",children:[(C==null?void 0:C.balance)||0," tokens"]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>a(!1),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-semibold py-3 px-5 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>L(o),disabled:_||((C==null?void 0:C.balance)||0)<(o.token_cost??0),className:"flex-1 bg-[#ffa31a] hover:bg-[#e8921a] disabled:bg-gray-600 disabled:cursor-not-allowed text-black font-semibold py-3 px-5 rounded-lg transition-colors",children:_?"Subscribing...":((C==null?void 0:C.balance)||0)<(o.token_cost??0)?"Insufficient Balance":"Subscribe"})]})]})})})]})};function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function Dr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ss(e){Dr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||qx(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var UL={};function $L(){return UL}function Ew(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function wu(e,t){Dr(2,arguments);var s=ss(e),r=ss(t),i=s.getTime()-r.getTime();return i<0?-1:i>0?1:i}function BL(e,t){Dr(2,arguments);var s=ss(e),r=ss(t),i=s.getFullYear()-r.getFullYear(),a=s.getMonth()-r.getMonth();return i*12+a}function zL(e,t){return Dr(2,arguments),ss(e).getTime()-ss(t).getTime()}var VL={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},HL="trunc";function WL(e){return VL[HL]}function qL(e){Dr(1,arguments);var t=ss(e);return t.setHours(23,59,59,999),t}function YL(e){Dr(1,arguments);var t=ss(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function GL(e){Dr(1,arguments);var t=ss(e);return qL(t).getTime()===YL(t).getTime()}function JL(e,t){Dr(2,arguments);var s=ss(e),r=ss(t),i=wu(s,r),a=Math.abs(BL(s,r)),o;if(a<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);var l=wu(s,r)===-i;GL(ss(e))&&a===1&&wu(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function KL(e,t,s){Dr(2,arguments);var r=zL(e,t)/1e3;return WL()(r)}var XL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QL=function(t,s,r){var i,a=XL[t];return typeof a=="string"?i=a:s===1?i=a.one:i=a.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Im(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):e.defaultWidth,r=e.formats[s]||e.formats[e.defaultWidth];return r}}var ZL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sO={date:Im({formats:ZL,defaultWidth:"full"}),time:Im({formats:eO,defaultWidth:"full"}),dateTime:Im({formats:tO,defaultWidth:"full"})},rO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nO=function(t,s,r,i){return rO[t]};function dl(e){return function(t,s){var r=s!=null&&s.context?String(s.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,c=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return i[d]}}var iO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uO=function(t,s){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hO={ordinalNumber:uO,era:dl({values:iO,defaultWidth:"wide"}),quarter:dl({values:aO,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:dl({values:oO,defaultWidth:"wide"}),day:dl({values:lO,defaultWidth:"wide"}),dayPeriod:dl({values:cO,defaultWidth:"wide",formattingValues:dO,defaultFormattingWidth:"wide"})};function ul(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mO(l,function(h){return h.test(o)}):fO(l,function(h){return h.test(o)}),d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;var u=t.slice(o.length);return{value:d,rest:u}}}function fO(e,t){for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return s}function mO(e,t){for(var s=0;s<e.length;s++)if(t(e[s]))return s}function pO(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var xO=/^(\d+)(th|st|nd|rd)?/i,gO=/\d+/i,yO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bO={any:[/^b/i,/^(a|c)/i]},vO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wO={any:[/1/i,/2/i,/3/i,/4/i]},jO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_O={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CO={ordinalNumber:pO({matchPattern:xO,parsePattern:gO,valueCallback:function(t){return parseInt(t,10)}}),era:ul({matchPatterns:yO,defaultMatchWidth:"wide",parsePatterns:bO,defaultParseWidth:"any"}),quarter:ul({matchPatterns:vO,defaultMatchWidth:"wide",parsePatterns:wO,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ul({matchPatterns:jO,defaultMatchWidth:"wide",parsePatterns:NO,defaultParseWidth:"any"}),day:ul({matchPatterns:kO,defaultMatchWidth:"wide",parsePatterns:SO,defaultParseWidth:"any"}),dayPeriod:ul({matchPatterns:_O,defaultMatchWidth:"any",parsePatterns:TO,defaultParseWidth:"any"})},PO={code:"en-US",formatDistance:QL,formatLong:sO,formatRelative:nO,localize:hO,match:CO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mT(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}function EO(e){return mT({},e)}var Aw=1440,AO=2520,Lm=43200,RO=86400;function MO(e,t,s){var r,i;Dr(2,arguments);var a=$L(),o=(r=(i=s==null?void 0:s.locale)!==null&&i!==void 0?i:a.locale)!==null&&r!==void 0?r:PO;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=wu(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=mT(EO(s),{addSuffix:!!(s!=null&&s.addSuffix),comparison:l}),d,u;l>0?(d=ss(t),u=ss(e)):(d=ss(e),u=ss(t));var h=KL(u,d),f=(Ew(u)-Ew(d))/1e3,m=Math.round((h-f)/60),x;if(m<2)return s!=null&&s.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,c):h<10?o.formatDistance("lessThanXSeconds",10,c):h<20?o.formatDistance("lessThanXSeconds",20,c):h<40?o.formatDistance("halfAMinute",0,c):h<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):m===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",m,c);if(m<45)return o.formatDistance("xMinutes",m,c);if(m<90)return o.formatDistance("aboutXHours",1,c);if(m<Aw){var g=Math.round(m/60);return o.formatDistance("aboutXHours",g,c)}else{if(m<AO)return o.formatDistance("xDays",1,c);if(m<Lm){var y=Math.round(m/Aw);return o.formatDistance("xDays",y,c)}else if(m<RO)return x=Math.round(m/Lm),o.formatDistance("aboutXMonths",x,c)}if(x=JL(u,d),x<12){var p=Math.round(m/Lm);return o.formatDistance("xMonths",p,c)}else{var b=x%12,v=Math.floor(x/12);return b<3?o.formatDistance("aboutXYears",v,c):b<9?o.formatDistance("overXYears",v,c):o.formatDistance("almostXYears",v+1,c)}}function Jr(e,t){return Dr(1,arguments),MO(e,Date.now(),t)}const DO=({positions:e,onClose:t})=>{const[s,r]=k.useState(""),[i,a]=k.useState("profit"),[o,l]=k.useState("desc"),[c,d]=k.useState("all"),{closePosition:u}=ws(),h=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(N),f=async N=>{await u(N)},x=[...e.filter(N=>{const S=N.symbol.toLowerCase().includes(s.toLowerCase())||N.ticket.toString().includes(s),T=c==="all"||c==="buy"&&N.type==="Buy"||c==="sell"&&N.type==="Sell";return S&&T})].sort((N,S)=>{if(i==="profit")return o==="desc"?S.profit-N.profit:N.profit-S.profit;if(i==="symbol")return o==="desc"?S.symbol.localeCompare(N.symbol):N.symbol.localeCompare(S.symbol);if(i==="openTime"){const T=new Date(N.openTime).getTime(),j=new Date(S.openTime).getTime();return o==="desc"?j-T:T-j}return 0}),g=e.reduce((N,S)=>N+S.profit,0),y=e.filter(N=>N.profit>0),p=e.filter(N=>N.profit<0),b=y.length>0?y.reduce((N,S)=>N+S.profit,0)/y.length:0,v=p.length>0?p.reduce((N,S)=>N+S.profit,0)/p.length:0,w=N=>{i===N?l(o==="asc"?"desc":"asc"):(a(N),l("desc"))};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Open Positions"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," active positions with ",h(g)," total P&L"]})]})]}),n.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(Ht,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(we,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-600",children:"Total Positions"}),n.jsx("p",{className:"text-xl font-bold text-blue-800",children:e.length})]})]})}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(vs,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-600",children:"Total P&L"}),n.jsx("p",{className:`text-xl font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:h(g)})]})]})}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(we,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-600",children:"Profitable"}),n.jsxs("p",{className:"text-xl font-bold text-green-600",children:[y.length," (",b>0?h(b):"$0.00",")"]})]})]})}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ei,{className:"w-5 h-5 text-red-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-red-600",children:"Losing"}),n.jsxs("p",{className:"text-xl font-bold text-red-600",children:[p.length," (",v<0?h(v):"$0.00",")"]})]})]})})]})}),n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"relative w-full md:w-auto md:flex-1",children:[n.jsx(en,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by symbol or ticket...",value:s,onChange:N=>r(N.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sT,{className:"w-4 h-4 text-gray-500"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>d("all"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),n.jsx("button",{onClick:()=>d("buy"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c==="buy"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Buy"}),n.jsx("button",{onClick:()=>d("sell"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c==="sell"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Sell"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cL,{className:"w-4 h-4 text-gray-500"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsxs("button",{onClick:()=>w("profit"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i==="profit"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Profit ",i==="profit"&&(o==="desc"?"↓":"↑")]}),n.jsxs("button",{onClick:()=>w("symbol"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i==="symbol"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Symbol ",i==="symbol"&&(o==="desc"?"↓":"↑")]}),n.jsxs("button",{onClick:()=>w("openTime"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i==="openTime"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Time ",i==="openTime"&&(o==="desc"?"↓":"↑")]})]})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volume"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit/Loss"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(N=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:N.ticket}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"font-medium text-gray-900",children:N.symbol})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.type==="Buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.volume}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:N.openPrice}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:N.currentPrice||N.openPrice}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-semibold ${N.profit>=0?"text-green-600":"text-red-600"}`,children:h(N.profit)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.openTime?Jr(new Date(N.openTime),{addSuffix:!0}):"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{onClick:()=>f(N.ticket),className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:`Close position ${N.ticket}`,children:[n.jsx(Ht,{className:"w-4 h-4 mr-1"}),"Close"]})})]},N.ticket))})]})}),x.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(we,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No positions match your filters"})]}),n.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end",children:n.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})},IO=({positions:e})=>{const[t,s]=k.useState(!1),[r,i]=k.useState(0),a=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(c),o=e.reduce((c,d)=>c+d.profit,0);k.useEffect(()=>{if(e.length<=1)return;const c=setInterval(()=>{i(d=>(d+1)%Math.min(e.length,10))},3e3);return()=>clearInterval(c)},[e.length]);const l=e.slice(0,10);return e.length===0?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Open Positions"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(mo,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Live"})]})]}),n.jsxs("div",{className:"text-center py-6",children:[n.jsx(we,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No open positions"})]})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Open Positions"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total P&L"}),n.jsx("p",{className:`text-sm font-bold ${o>=0?"text-green-600":"text-red-600"}`,children:a(o)})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Live"})]})]})]})}),n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:l.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${l[r].type==="Buy"?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:l[r].type==="Buy"?n.jsx(we,{className:"w-5 h-5"}):n.jsx(Ei,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:l[r].symbol}),n.jsxs("p",{className:"text-sm text-gray-500",children:[l[r].type," ",l[r].volume," lots"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`font-semibold ${l[r].profit>=0?"text-green-600":"text-red-600"}`,children:a(l[r].profit)}),n.jsxs("p",{className:"text-sm text-gray-500",children:["@ ",l[r].currentPrice||l[r].openPrice]})]})]})}),n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50",children:[n.jsx("div",{className:"flex items-center space-x-1",children:l.map((c,d)=>n.jsx("div",{className:`w-2 h-2 rounded-full ${d===r?"bg-blue-500":"bg-gray-300"}`},d))}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",r+1," of ",Math.min(e.length,10)]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[n.jsx(Ta,{className:"w-4 h-4"}),n.jsx("span",{children:"See All"}),n.jsx(fo,{className:"w-4 h-4"})]})]})]})]})]}),t&&n.jsx(DO,{positions:e,onClose:()=>s(!1)})]})},LO=()=>{const{signals:e,lastSignalsUpdate:t}=ws(),s=t&&Date.now()-t.getTime()<1e3;return n.jsxs("div",{className:"bg-[#181818] rounded-xl shadow border border-[#ffa31a] relative overflow-hidden",children:[n.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{background:"linear-gradient(120deg, #ffa31a11 0%, #181818 60%)",zIndex:0}}),n.jsxs("div",{className:"p-4 border-b border-[#ffa31a] relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent border-b border-[#ffa31a] pb-1 inline-block tracking-wide",children:"Trading Signals"}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s?n.jsx(mo,{className:"w-4 h-4 text-green-400"}):n.jsx(mo,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{className:"text-[#ffa31a] font-medium",children:t?`Updated ${Jr(t,{addSuffix:!0})}`:"Never updated"}),n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-[#ffa31a] font-semibold",children:"Auto-executed"})]})]}),n.jsx("div",{className:"mt-2 h-0.5 rounded-full bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] opacity-60 w-1/3 mx-auto"})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto relative z-10",children:e.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ks,{className:"w-8 h-8 text-[#ffa31a] mx-auto mb-4"}),n.jsx("p",{className:"text-[#ffa31a] text-lg font-bold",children:"No signals received"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure your TradingView webhook to start receiving signals"})]}):n.jsx("div",{className:"divide-y divide-[#292929]",children:e.map(r=>n.jsxs("div",{className:"p-4 relative bg-transparent hover:bg-[#232323] transition-colors",children:[n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg border border-[#ffa31a] text-base ${r.action==="BUY"?"bg-[#181818] border-green-400 text-green-400":r.action==="SELL"?"bg-[#181818] border-red-400 text-red-400":"bg-[#181818] border-[#808080] text-[#ffa31a]"}`,children:r.action==="BUY"?n.jsx(we,{className:"w-5 h-5"}):r.action==="SELL"?n.jsx(Ei,{className:"w-5 h-5"}):n.jsx(yn,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold text-white text-base tracking-wide",children:[r.action," ",n.jsx("span",{className:"text-[#ffa31a]",children:r.symbol})]}),n.jsxs("p",{className:"text-sm text-gray-400 font-medium",children:["Volume: ",n.jsx("span",{className:"text-white font-semibold",children:r.volume})," | Source: ",n.jsx("span",{className:"text-white font-semibold",children:r.source})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-[#ffa31a] rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-[#ffa31a] font-bold tracking-wide",children:"Auto-executed"})]})]}),(r.price||r.stopLoss||r.takeProfit)&&n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3 text-sm",children:[r.price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400",children:"Price"}),n.jsx("p",{className:"font-bold text-white",children:r.price})]}),r.stopLoss&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400",children:"Stop Loss"}),n.jsx("p",{className:"font-bold text-white",children:r.stopLoss})]}),r.takeProfit&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400",children:"Take Profit"}),n.jsx("p",{className:"font-bold text-white",children:r.takeProfit})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mt-3 text-xs text-[#ffa31a]",children:[n.jsx(Yr,{className:"w-4 h-4"}),n.jsx("span",{children:Jr(new Date(r.timestamp),{addSuffix:!0})})]})]},r.id))})})]})};function Sf(e){return!e||typeof e!="string"?(console.warn("getPipValue: Invalid symbol provided, using default pip value"),1e-4):e.includes("XAU")||e.includes("XAG")||e.includes("JPY")||e.includes("US30")||e.includes("NAS100")||e.includes("SPX500")||e.includes("UK100")||e.includes("GER30")?.01:e.includes("BTC")?1:e.includes("ETH")?.1:e.includes("LTC")||e.includes("XRP")||e.includes("BCH")||e.includes("OIL")||e.includes("USOIL")||e.includes("UKOIL")?.01:1e-4}function OO(e){return!e||typeof e!="string"?(console.warn("getPipMultiplier: Invalid symbol provided, using default pip multiplier"),1e4):e.includes("XAU")||e.includes("XAG")||e.includes("JPY")||e.includes("US30")||e.includes("NAS100")||e.includes("SPX500")||e.includes("UK100")||e.includes("GER30")?100:e.includes("BTC")?1:e.includes("ETH")?10:e.includes("LTC")||e.includes("XRP")||e.includes("BCH")||e.includes("OIL")||e.includes("USOIL")||e.includes("UKOIL")?100:1e4}function FO(e,t,s,r,i){const a=Sf(s);let o,l;return o=e-r*a,l=e+i*a,{stopLoss:o,takeProfit:l}}function yh(e,t){return!t||typeof t!="string"?e.toFixed(5):t.includes("JPY")?e.toFixed(3):t.includes("XAU")||t.includes("XAG")?e.toFixed(2):t.includes("BTC")?e.toFixed(1):t.includes("ETH")||t.includes("US30")||t.includes("NAS100")||t.includes("SPX500")||t.includes("UK100")||t.includes("GER30")||t.includes("OIL")||t.includes("USOIL")||t.includes("UKOIL")?e.toFixed(2):e.toFixed(5)}function UO(e,t,s){const r=t-e,i=OO(s);return r*i}function $O(e,t,s,r){if(!t||e===t)return 0;const i=Sf(r),o=Math.abs(e-t)/i;let l;!r||typeof r!="string"?l=10:r.includes("XAU")?l=1:r.includes("XAG")?l=.5:r.includes("JPY")?l=.9:r.includes("US30")||r.includes("NAS100")?l=1:r.includes("SPX500")?l=.5:r.includes("BTC")||r.includes("ETH")||r.includes("OIL")||r.includes("USOIL")||r.includes("UKOIL")?l=1:l=10;const c=l*s;return o*c}function BO(e,t,s,r,i){if(!r||s===r)return .01;const a=e*(t/100),o=Sf(i),c=Math.abs(s-r)/o;let d;!i||typeof i!="string"?d=10:i.includes("XAU")?d=1:i.includes("XAG")?d=.5:i.includes("JPY")?d=.9:i.includes("US30")||i.includes("NAS100")?d=1:i.includes("SPX500")?d=.5:i.includes("BTC")||i.includes("ETH")||i.includes("OIL")||i.includes("USOIL")||i.includes("UKOIL")?d=1:d=10;const u=a/(c*d);return Math.max(.01,Math.round(u*100)/100)}function Md(e){return!e||typeof e!="string"?"":e.replace(/\.(raw|m|c|pro|ecn|stp)$/i,"")}const zO=({robot:e,onClose:t})=>{var x,g;const[s,r]=k.useState(new Set),[i,a]=k.useState(!1),o=async(y,p)=>{try{await navigator.clipboard.writeText(y),r(b=>new Set(b).add(p)),R.success(`${p} copied to clipboard`),setTimeout(()=>{r(b=>{const v=new Set(b);return v.delete(p),v})},2e3)}catch{R.error(`Failed to copy ${p}`)}},l=(x=e.symbol)!=null&&x.includes("JPY")?150.25:(g=e.symbol)!=null&&g.includes("XAU")?2050.5:1.085,c=FO(l,"BUY",e.symbol||"EURUSD",e.stopLoss,e.takeProfit),d={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},u={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},h={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},f={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},m={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",timestamp:"{{time}}",strategy:"Close specific position",userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken,ticket:12345678};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(ts,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"🎉 Robot Created Successfully!"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Your trading robot is ready with enhanced features"})]})]}),n.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(Ht,{className:"w-5 h-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"📋 Robot Configuration"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Name:"})," ",e.name]}),n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Symbol:"})," ",e.symbol]}),n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Strategy:"})," ",e.strategy]}),n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Risk Level:"})," ",e.riskLevel]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Max Lot Size:"})," ",e.maxLotSize]}),n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Stop Loss:"})," ",e.riskLevel==="STRATEGY"?"Strategy":e.stopLoss+" pips"," "]}),n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Take Profit:"})," ",e.riskLevel==="STRATEGY"?"Strategy":e.takeProfit+" pips"," "]}),n.jsxs("p",{className:"text-blue-700",children:[n.jsx("strong",{children:"Status:"})," ",e.isActive?"🟢 Active":"🔴 Inactive"]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Ks,{className:"w-5 h-5 mr-2 text-green-600"}),"🚀 Ready to Use - Copy This JSON"]}),n.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"Copy this JSON payload and paste it into your TradingView alert message. That's it!"}),n.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:n.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(e.riskLevel==="STRATEGY"?u:d,null,2)})}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsx("p",{className:"text-sm text-gray-600"}),n.jsxs("button",{onClick:()=>o(JSON.stringify(e.riskLevel==="STRATEGY"?u:d,null,2),"Quick Setup JSON"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.has("Quick Setup JSON")?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"}),n.jsx("span",{children:s.has("Quick Setup JSON")?"Copied!":"Copy JSON"})]})]})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"🔗 TradingView Webhook URL"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-white border border-purple-300 rounded-lg p-3 font-mono text-sm text-gray-800 break-all",children:"http://91.98.23.85/api/WebHook/hook"}),n.jsxs("button",{onClick:()=>o("http://91.98.23.85/api/WebHook/hook","Webhook URL"),className:"flex items-center space-x-1 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.has("Webhook URL")?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"}),n.jsx("span",{children:s.has("Webhook URL")?"Copied":"Copy"})]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[n.jsx(W0,{className:"w-4 h-4"}),n.jsxs("span",{children:[i?"Hide":"Show"," Advanced Options & Tutorials"]})]}),i&&n.jsxs("div",{className:"mt-6 space-y-6",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-yellow-900 font-medium mb-2",children:"🤖 Bot Token (Advanced)"}),n.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"For targeting this specific robot in complex setups"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-white border border-yellow-300 rounded-lg p-2 font-mono text-xs text-gray-800 break-all",children:e.botToken}),n.jsx("button",{onClick:()=>o(e.botToken,"Bot Token"),className:"px-2 py-1 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700 transition-colors",children:s.has("Bot Token")?"Copied":"Copy"})]})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"📊 BUY Example with Pre-calculated SL/TP"}),n.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:n.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(h,null,2)})}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Pre-calculated SL/TP: ",yh(c.stopLoss,e.symbol||"EURUSD")," / ",yh(c.takeProfit,e.symbol||"EURUSD")]}),n.jsx("button",{onClick:()=>o(JSON.stringify(h,null,2),"BUY Example"),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:s.has("BUY Example")?"Copied":"Copy"})]})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"📊 CLOSE All Positions Example"}),n.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:n.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(f,null,2)})}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Closes all positions for the specified symbol"}),n.jsx("button",{onClick:()=>o(JSON.stringify(f,null,2),"CLOSE Example"),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:s.has("CLOSE Example")?"Copied":"Copy"})]})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"📊 CLOSE Specific Position Example"}),n.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:n.jsx("pre",{className:"text-green-400 text-sm font-mono",children:JSON.stringify(m,null,2)})}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Closes only the position with the specified ticket number"}),n.jsx("button",{onClick:()=>o(JSON.stringify(m,null,2),"CLOSE Specific Example"),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:s.has("CLOSE Specific Example")?"Copied":"Copy"})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-blue-800 font-medium mb-2",children:"📚 Tutorials & Documentation"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx(yn,{className:"w-4 h-4"}),n.jsx("span",{children:"How to set up TradingView alerts (Coming Soon)"})]}),n.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx(yn,{className:"w-4 h-4"}),n.jsx("span",{children:"Advanced robot configuration (Coming Soon)"})]}),n.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx(yn,{className:"w-4 h-4"}),n.jsx("span",{children:"Risk management best practices (Coming Soon)"})]})]})]})]})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-green-800 font-medium mb-2",children:"🧪 Quick Test"}),n.jsx("p",{className:"text-green-700 text-sm mb-3",children:"Create a TradingView alert with the JSON above to test your setup. The system will use your robot's settings for Stop Loss and Take Profit."}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(yn,{className:"w-4 h-4 text-green-600"}),n.jsx("a",{href:"https://www.tradingview.com/chart/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800 underline",children:"Open TradingView to create your first alert"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>o(JSON.stringify(d,null,2),"Final JSON"),className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"📋 Copy JSON for TradingView"}),n.jsx("button",{onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Done"})]})]})]})})},Rw=[{id:"Scalping",name:"Scalping",description:"Quick trades capturing small price movements",icon:Ks,color:"yellow",characteristics:["High frequency","Small profits","Quick execution"]},{id:"Trend Following",name:"Trend Following",description:"Follow market trends for sustained moves",icon:we,color:"green",characteristics:["Medium frequency","Trend-based","Momentum driven"]},{id:"Mean Reversion",name:"Mean Reversion",description:"Trade when price deviates from average",icon:Rn,color:"blue",characteristics:["Counter-trend","Statistical edge","Range-bound"]},{id:"Breakout",name:"Breakout",description:"Trade when price breaks key levels",icon:we,color:"purple",characteristics:["Volatility-based","Level breaks","Momentum"]},{id:"Grid Trading",name:"Grid Trading",description:"Place orders at regular intervals",icon:hL,color:"indigo",characteristics:["Systematic","Range markets","Multiple orders"]}],VO=({data:e,onNext:t,availableSymbols:s})=>{const[r,i]=k.useState(""),[a,o]=k.useState(e.strategy||""),{register:l,handleSubmit:c,watch:d,formState:{errors:u}}=_a({defaultValues:e}),h=d("symbol"),f=s.filter(p=>p.toLowerCase().includes(r.toLowerCase())),m=f.slice(0,50),x=p=>{t({...p,strategy:a})},y=(p=>Rw.find(b=>b.id===p))(a);return n.jsxs("form",{onSubmit:c(x),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Robot Name"}),n.jsx("input",{...l("name",{required:"Robot name is required"}),type:"text",placeholder:"e.g., EURUSD Scalper Pro",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose a descriptive name that helps you identify this robot"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Trading Symbol",s.length>0&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",s.length," available from your broker)"]})]}),s.length>10&&n.jsxs("div",{className:"relative mb-2",children:[n.jsx(en,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search symbols...",value:r,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),n.jsxs("select",{...l("symbol",{required:"Symbol is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a symbol"}),m.map(p=>n.jsx("option",{value:p,children:p},p)),f.length>50&&n.jsxs("option",{disabled:!0,children:["... and ",f.length-50," more (refine search)"]})]}),u.symbol&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.symbol.message}),r&&f.length===0&&n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['No symbols found matching "',r,'"']}),s.length===0&&n.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Symbols are being loaded from your broker..."}),h&&n.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(xh,{className:"w-4 h-4 text-green-600"}),n.jsxs("p",{className:"text-green-800 text-sm",children:[n.jsx("strong",{children:"Selected:"})," ",h]})]}),n.jsxs("p",{className:"text-green-700 text-xs mt-1",children:["This robot will trade exclusively on ",h," using your chosen strategy"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trading Strategy"}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:Rw.map(p=>{const b=p.icon,v=a===p.id;return n.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${v?`border-${p.color}-500 bg-${p.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"}`,children:[n.jsx("input",{type:"radio",value:p.id,checked:a===p.id,onChange:()=>o(p.id),className:"sr-only"}),n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${v?`bg-${p.color}-100`:"bg-gray-100"}`,children:n.jsx(b,{className:`w-5 h-5 ${v?`text-${p.color}-600`:"text-gray-500"}`})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("p",{className:`text-sm font-medium ${v?"text-gray-900":"text-gray-700"}`,children:p.name}),n.jsx("p",{className:`text-xs ${v?"text-gray-600":"text-gray-500"}`,children:p.description}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.characteristics.map((w,N)=>n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v?`bg-${p.color}-100 text-${p.color}-700`:"bg-gray-100 text-gray-600"}`,children:w},N))})]}),v&&n.jsx("div",{className:`w-5 h-5 rounded-full bg-${p.color}-500 flex items-center justify-center`,children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},p.id)})}),!a&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please select a trading strategy"})]}),y&&n.jsx("div",{className:`p-4 rounded-lg border border-${y.color}-200 bg-${y.color}-50`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(y.icon,{className:`w-5 h-5 text-${y.color}-600 flex-shrink-0 mt-0.5`}),n.jsxs("div",{children:[n.jsxs("p",{className:`text-${y.color}-800 text-sm font-medium`,children:[y.name," Strategy Selected"]}),n.jsx("p",{className:`text-${y.color}-700 text-xs mt-1`,children:y.description})]})]})}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx("button",{type:"submit",disabled:!a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next: Risk Settings"})})]})},Mw=[{id:"LOW",name:"Conservative",description:"Minimal risk with steady growth",icon:It,color:"green",characteristics:["Low drawdown","Steady returns","Capital preservation"],recommendedLot:.01,recommendedSL:30,recommendedTP:60},{id:"MEDIUM",name:"Balanced",description:"Moderate risk for balanced returns",icon:we,color:"blue",characteristics:["Balanced approach","Moderate volatility","Growth focused"],recommendedLot:.05,recommendedSL:50,recommendedTP:100},{id:"HIGH",name:"Aggressive",description:"Higher risk for maximum returns",icon:xh,color:"red",characteristics:["High returns","Higher volatility","Growth aggressive"],recommendedLot:.1,recommendedSL:80,recommendedTP:150},{id:"STRATEGY",name:"Trading View Strategy",description:"Strategy based risk management",icon:xh,color:"yellow",characteristics:["Follows your strategy rules","Dynamic risk management","Optimized for strategy"],recommendedLot:.01,recommendedSL:0,recommendedTP:0}],HO={Scalping:{defaultSL:15,defaultTP:25,description:"Tight stops for quick scalping trades"},"Trend Following":{defaultSL:50,defaultTP:100,description:"Wider stops to ride trends"},"Mean Reversion":{defaultSL:40,defaultTP:60,description:"Moderate stops for reversion trades"},Breakout:{defaultSL:60,defaultTP:120,description:"Wider stops for breakout momentum"},"Grid Trading":{defaultSL:100,defaultTP:50,description:"Large stops with smaller targets"}},WO=({data:e,onNext:t,onBack:s,strategy:r,symbol:i})=>{const[a,o]=De.useState(e.riskLevel||"MEDIUM"),{register:l,handleSubmit:c,watch:d,setValue:u,formState:{errors:h}}=_a({defaultValues:e}),f=d(),m=HO[r];De.useEffect(()=>{if(a){const p=Mw.find(b=>b.id===a);p&&(u("maxLotSize",p.recommendedLot),u("stopLoss",(m==null?void 0:m.defaultSL)||p.recommendedSL),u("takeProfit",(m==null?void 0:m.defaultTP)||p.recommendedTP))}},[a,u,m]);const x=p=>{t({...p,riskLevel:a})},y=(()=>{if(!f.maxLotSize||!f.stopLoss)return null;const p=i.includes("JPY")||i.includes("XAU")||i.includes("XAG")?.01:1e-4,b=f.stopLoss*p*1e5,v=f.maxLotSize*b;return{riskPerLot:b,totalRisk:v,riskRewardRatio:f.takeProfit/f.stopLoss}})();return n.jsxs("form",{onSubmit:c(x),className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-blue-800 font-medium mb-2",children:["Strategy: ",r]}),n.jsx("p",{className:"text-blue-700 text-sm",children:(m==null?void 0:m.description)||"Configure risk parameters for your trading strategy"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Risk Profile"}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:Mw.map(p=>{const b=p.icon,v=a===p.id;return n.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${v?`border-${p.color}-500 bg-${p.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"}`,children:[n.jsx("input",{type:"radio",value:p.id,checked:a===p.id,onChange:()=>o(p.id),className:"sr-only"}),n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${v?`bg-${p.color}-100`:"bg-gray-100"}`,children:n.jsx(b,{className:`w-5 h-5 ${v?`text-${p.color}-600`:"text-gray-500"}`})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("p",{className:`text-sm font-medium ${v?"text-gray-900":"text-gray-700"}`,children:p.name}),n.jsx("p",{className:`text-xs ${v?"text-gray-600":"text-gray-500"}`,children:p.description}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.characteristics.map((w,N)=>n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v?`bg-${p.color}-100 text-${p.color}-700`:"bg-gray-100 text-gray-600"}`,children:w},N))})]}),v&&n.jsx("div",{className:`w-5 h-5 rounded-full bg-${p.color}-500 flex items-center justify-center`,children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},p.id)})}),!a&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please select a risk profile"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Lot Size"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{...l("maxLotSize",{required:"Max lot size is required",min:{value:.01,message:"Minimum 0.01"},max:{value:100,message:"Maximum 100"}}),type:"number",step:"0.01",placeholder:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx(Q_,{className:"w-4 h-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),h.maxLotSize&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.maxLotSize.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum position size per trade"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stop Loss (pips)"}),n.jsx("input",{...l("stopLoss",{required:"Stop loss is required",min:{value:1,message:"Minimum 1 pip"}}),type:"number",placeholder:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),h.stopLoss&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.stopLoss.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum loss per trade"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Take Profit (pips)"}),n.jsx("input",{...l("takeProfit",{required:"Take profit is required",min:{value:1,message:"Minimum 1 pip"}}),type:"number",placeholder:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),h.takeProfit&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.takeProfit.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Target profit per trade"})]})]}),y&&n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-gray-800 font-medium mb-3 flex items-center",children:[n.jsx(vs,{className:"w-4 h-4 mr-2"}),"Risk Analysis"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Risk/Reward Ratio"}),n.jsxs("p",{className:`font-semibold ${y.riskRewardRatio>=2?"text-green-600":y.riskRewardRatio>=1.5?"text-yellow-600":"text-red-600"}`,children:["1:",y.riskRewardRatio.toFixed(1)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Max Risk per Trade"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",y.totalRisk.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Strategy Fit"}),n.jsx("p",{className:"font-semibold text-blue-600",children:r})]})]}),y.riskRewardRatio<1.5&&n.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(bs,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"Risk/Reward Warning"}),n.jsx("p",{className:"text-yellow-700 text-xs",children:"Consider increasing take profit or decreasing stop loss for better risk/reward ratio"})]})]})})]}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsx("button",{type:"button",onClick:s,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),n.jsx("button",{type:"submit",disabled:!a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next: Review & Create"})]})]})},qO=e=>{switch(e){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-blue-600 bg-blue-100";case"HIGH":return"text-red-600 bg-red-100";case"STRATEGY":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},YO=({data:e,onSubmit:t,onBack:s,formData:r,isCreating:i,extraContent:a})=>{const[o,l]=De.useState(e.isActive||!1),[c]=De.useState(e.applyForCopyTrading||!1),d=()=>{t({isActive:o,applyForCopyTrading:c})},u=r.symbol.includes("JPY")||r.symbol.includes("XAU")||r.symbol.includes("XAG")?.01:1e-4,h=r.maxLotSize*r.stopLoss*u*1e5,f=r.takeProfit/r.stopLoss;return n.jsxs("div",{className:"space-y-6",children:[a,n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Te,{className:"w-8 h-8 text-green-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Review Your Robot"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Verify all settings before creating your trading robot"})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(ts,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:r.name}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(xh,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:r.symbol})]}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("span",{className:"text-gray-700",children:r.strategy})}),n.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${qO(r.riskLevel)}`,children:[r.riskLevel," RISK"]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[n.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Trading Parameters"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Max Lot Size:"}),n.jsx("span",{className:"font-medium",children:r.maxLotSize})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Stop Loss:"}),n.jsx("span",{className:"font-medium",children:r.riskLevel==="STRATEGY"?"Strategy":r.stopLoss+" pips"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Take Profit:"}),n.jsx("span",{className:"font-medium",children:r.riskLevel==="STRATEGY"?"Strategy":r.takeProfit+" pips"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Risk/Reward:"}),n.jsx("span",{className:`font-medium ${r.riskLevel==="STRATEGY"||f>=2?"text-green-600":f>=1.5?"text-yellow-600":"text-red-600"}`,children:r.riskLevel==="STRATEGY"?"Strategy":"1:"+f.toFixed(1)})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[n.jsx(It,{className:"w-4 h-4 mr-2"}),"Risk Analysis"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Risk Profile:"}),n.jsx("span",{className:`font-medium ${r.riskLevel==="STRATEGY"||r.riskLevel==="LOW"?"text-green-600":r.riskLevel==="MEDIUM"?"text-blue-600":"text-red-600"}`,children:r.riskLevel==="STRATEGY"?"Strategy":r.riskLevel==="LOW"?"Conservative":r.riskLevel==="MEDIUM"?"Balanced":"Aggressive"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Max Risk/Trade:"}),n.jsxs("span",{className:"font-medium",children:["$",h.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Strategy:"}),n.jsx("span",{className:"font-medium",children:r.strategy})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Symbol Type:"}),n.jsx("span",{className:"font-medium",children:r.symbol.includes("JPY")?"JPY Pair":r.symbol.includes("XAU")?"Gold":r.symbol.includes("XAG")?"Silver":"Major Pair"})]})]})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bs,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"text-yellow-800 font-medium",children:"Robot Activation"}),n.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Choose whether to activate your robot immediately after creation. You can always change this later from the dashboard."}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:m=>l(m.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-yellow-800",children:"Start robot immediately after creation"})]})})]})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h5",{className:"text-blue-800 font-medium mb-2",children:"📋 What happens next?"}),n.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[n.jsx("li",{children:"• Your robot will be created with a unique bot token for TradingView integration"}),n.jsx("li",{children:"• You'll receive the exact JSON payload for your TradingView alerts"}),n.jsx("li",{children:"• The robot will use enhanced pip calculation for accurate SL/TP"}),n.jsx("li",{children:"• All trades will be executed automatically when signals are received"}),o&&n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Robot will be ACTIVE and ready to trade immediately"})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsx("button",{type:"button",onClick:s,disabled:i,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Back"}),n.jsx("button",{onClick:d,disabled:i,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:i?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Creating Robot..."})]}):"Create Robot"})]})]})},Dw=[{id:1,name:"Basic Info",description:"Name, symbol & strategy"},{id:2,name:"Risk Settings",description:"Risk management & parameters"},{id:3,name:"Review",description:"Confirm & create"}],GO=({onClose:e})=>{const[t,s]=k.useState(1),[r,i]=k.useState(!1),[a,o]=k.useState(!1),[l,c]=k.useState(null),[d,u]=k.useState(null);k.useEffect(()=>{r&&b(C=>({...C,step3:{...C.step3,applyForCopyTrading:!1}}))},[r]);const{createRobot:h,availableSymbols:f,fetchAvailableSymbols:m,robots:x}=ws(),[g,y]=k.useState(null),[p,b]=k.useState({step1:{name:"",symbol:"",strategy:""},step2:{riskLevel:"MEDIUM",maxLotSize:.01,stopLoss:50,takeProfit:100},step3:{isActive:!1,applyForCopyTrading:!1}}),[v,w]=k.useState(!1);De.useEffect(()=>{f.length===0&&m()},[f.length,m]),De.useEffect(()=>{(async()=>{var P;try{const{supabase:I}=await An(async()=>{const{supabase:H}=await Promise.resolve().then(()=>Ax);return{supabase:H}},void 0),{data:{session:$}}=await I.auth.getSession();(P=$==null?void 0:$.user)!=null&&P.id&&u($.user.id)}catch(I){console.error("Error getting user ID:",I)}})()},[]);const N=C=>{if(x.some(I=>I.symbol===C.symbol&&I.strategy===C.strategy)){y("A robot with this symbol and strategy already exists.");return}else y(null);b(I=>({...I,step1:C})),s(2)},S=C=>{b(P=>({...P,step2:C})),s(3)},T=async C=>{debugger;b(P=>({...P,step3:C})),i(!0);try{const P={name:p.step1.name,symbol:p.step1.symbol,strategy:p.step1.strategy,riskLevel:p.step2.riskLevel,maxLotSize:p.step2.maxLotSize,stopLoss:p.step2.stopLoss,takeProfit:p.step2.takeProfit,isActive:C.isActive,isCopyable:v,isShared:v,userId:d||""},I=await h(P);if(!I)return;c(I),o(!0)}catch(P){console.error("Error creating robot:",P)}finally{i(!1)}},j=()=>{t>1&&s(t-1)},E=()=>{o(!1),c(null),e()},_=`${Js}/functions/v1/tradingview-webhook`;return a&&l&&d?n.jsx(zO,{robot:l,userId:d,webhookUrl:_,onClose:E}):n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(ts,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Trading Robot"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Set up your automated trading robot in 3 easy steps"})]})]}),n.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(Ht,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"mt-6",children:n.jsx("div",{className:"flex items-center justify-between",children:Dw.map((C,P)=>n.jsxs(De.Fragment,{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${t>=C.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:C.id}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:`text-sm font-medium ${t>=C.id?"text-blue-600":"text-gray-500"}`,children:C.name}),n.jsx("p",{className:"text-xs text-gray-500",children:C.description})]})]}),P<Dw.length-1&&n.jsx(fo,{className:`w-5 h-5 ${t>C.id?"text-blue-600":"text-gray-300"}`})]},C.id))})})]}),n.jsxs("div",{className:"p-6",children:[g&&n.jsx("div",{className:"mb-4 text-red-600 font-semibold bg-red-50 border border-red-200 rounded p-2",children:g}),t===1&&n.jsx(VO,{data:p.step1,onNext:N,availableSymbols:f}),t===2&&n.jsx(WO,{data:p.step2,onNext:S,onBack:j,strategy:p.step1.strategy,symbol:p.step1.symbol}),t===3&&n.jsx(n.Fragment,{children:n.jsx(YO,{data:p.step3,onSubmit:T,onBack:j,formData:{...p.step1,...p.step2},isCreating:r,extraContent:n.jsx("div",{className:"mt-4 mb-4",children:n.jsxs("label",{className:"inline-flex items-center",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:C=>w(C.target.checked),className:"form-checkbox h-5 w-5 text-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-700",children:"Allow Copy Trading (Marketplace)"})]})})})})]})]})})};var pT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iw=De.createContext&&De.createContext(pT),JO=["attr","size","title"];function KO(e,t){if(e==null)return{};var s=XO(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function XO(e,t){if(e==null)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},bh.apply(this,arguments)}function Lw(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function vh(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(s),!0).forEach(function(r){QO(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lw(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function QO(e,t,s){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ZO(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xT(e){return e&&e.map((t,s)=>De.createElement(t.tag,vh({key:s},t.attr),xT(t.child)))}function Q0(e){return t=>De.createElement(t8,bh({attr:vh({},e.attr)},t),xT(e.child))}function t8(e){var t=s=>{var{attr:r,size:i,title:a}=e,o=KO(e,JO),l=i||s.size||"1em",c;return s.className&&(c=s.className),e.className&&(c=(c?c+" ":"")+e.className),De.createElement("svg",bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:c,style:vh(vh({color:e.color||s.color},s.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&De.createElement("title",null,a),e.children)};return Iw!==void 0?De.createElement(Iw.Consumer,null,s=>t(s)):t(pT)}function s8(e){return Q0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"},child:[]}]})(e)}function r8(e){return Q0({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function n8(e){return Q0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const Dd=5,i8=({robot:e,onClose:t,userId:s})=>{const[r,i]=k.useState([]),[a,o]=k.useState(null),[l,c]=k.useState(0),[d,u]=k.useState(e),[h,f]=k.useState(null),[m,x]=k.useState([]),[g,y]=k.useState(null),p=k.useRef(null),[b,v]=k.useState(null);function w(_,C="success"){v({message:_,type:C}),setTimeout(()=>v(null),3e3)}k.useEffect(()=>{async function _(){let C=await at.getAccountSummary();y(C||null)}_()},[d]),k.useEffect(()=>{s&&D.from("trading_robots").select("*").eq("user_id",s).order("created_at",{ascending:!1}).then(({data:_})=>{if(e&&_){const C=_.find(P=>P.id===e.id);C&&u(C)}})},[s,e]),k.useEffect(()=>{d!=null&&d.id&&D.from("trading_robots").select("*").eq("id",d.id).single().then(({data:_})=>{f(_||null)})},[d]),k.useEffect(()=>{if(!(d!=null&&d.user_id)||!(d!=null&&d.bot_token))return;o(null),console.log("selectedRobot.user_id:",d.user_id),console.log("selectedRobot.bot_token:",d.bot_token);async function _(){let C=new Date,P=new Date(C.getFullYear(),C.getMonth(),1),$=(await at.orderHistory(P.toISOString(),C.toISOString())).orders||[];if($&&$.length>0){let H=$.filter(B=>B.comment===d.strategy&&B.symbol===d.symbol);i(H||[])}else $=[]}_()},[d]),k.useEffect(()=>{let _=!1;async function C(){try{let $=await at.getPositions()||[];d!=null&&d.strategy&&($=$.filter(H=>typeof H.comment=="string"&&H.comment.includes(d.strategy))),_||x($)}catch{_||x([])}}C();const P=setInterval(C,2e3);return()=>{_=!0,clearInterval(P)}},[d]),k.useEffect(()=>{let _=!1;async function C(){if(!(d!=null&&d.strategy)||!(d!=null&&d.symbol)||!(d!=null&&d.account_id))return;o(null);let I=D.from("trading_signals").select("*").eq("strategy",d.strategy).eq("symbol",d.symbol).eq("account_id",d.account_id).not("profit_loss","is",null).order("executed_at",{ascending:!1});d.botToken&&(I=I.or(`botToken.eq.${d.botToken},bot_token.eq.${d.botToken}`));const{data:$,error:H}=await I;_||(H&&o("Failed to fetch trading_signals table"),$&&$.length>0&&(p.current=$[0].id))}C();const P=setInterval(async()=>{if(!(d!=null&&d.strategy)||!(d!=null&&d.symbol)||!(d!=null&&d.account_id))return;let I=D.from("trading_signals").select("id").eq("strategy",d.strategy).eq("symbol",d.symbol).eq("account_id",d.account_id).not("profit_loss","is",null).order("executed_at",{ascending:!1}).limit(1);d.botToken&&(I=I.or(`botToken.eq.${d.botToken},bot_token.eq.${d.botToken}`));const{data:$}=await I;$&&$[0]&&$[0].id!==p.current&&C()},2e3);return()=>{_=!0,clearInterval(P)}},[d]);const N=r.slice(l*Dd,(l+1)*Dd);k.useEffect(()=>{if(!(d!=null&&d.strategy)||!(d!=null&&d.symbol))return;async function _(){}_()},[d]);const S=async()=>{if(!(d!=null&&d.id)||!window.confirm("Are you sure you want to delete this robot? This will close all open trades and remove all data. This action cannot be undone."))return;try{const P=(await at.getPositions()).filter(I=>typeof I.comment=="string"&&I.comment.includes(d.strategy));for(const I of P)try{await at.closePosition(I.ticket)}catch{}}catch{}const{error:_}=await D.from("trading_robots").delete().eq("id",d.id);_?w("Failed to delete robot: "+_.message,"error"):(u(null),t(),w("Robot deleted and all open trades closed.","success"))},T=async()=>{if(!(d!=null&&d.id))return;const _=!d.is_active,{error:C}=await D.from("trading_robots").update({is_active:_}).eq("id",d.id);C?w("Failed to update robot status: "+C.message,"error"):(u({...d,is_active:_}),f({...h,is_active:_}),w(_?"Robot activated. All new trades will be managed by this robot.":"Robot deactivated. Existing open trades remain open, but no new trades will be managed until re-activation.","success"))};if(k.useEffect(()=>{if(!(d!=null&&d.strategy)||!(d!=null&&d.symbol)||!(d!=null&&d.account_id))return;const _=D.channel("realtime:trading_signals").on("postgres_changes",{event:"*",schema:"public",table:"trading_signals",filter:`strategy=eq.${d.strategy},symbol=eq.${d.symbol},account_id=eq.${d.account_id}`},C=>{C.new&&C.new==="open"&&D.from("trading_signals").select("*").eq("strategy",d.strategy).eq("symbol",d.symbol).eq("account_id",d.account_id).eq("status","open").then(({data:P})=>{P&&P.length>0?x(P):x([])})}).subscribe();return D.from("trading_signals").select("*").eq("strategy",d.strategy).eq("symbol",d.symbol).eq("account_id",d.account_id).eq("status","open").then(({data:C})=>{C&&C.length>0?x(C):x([])}),()=>{D.removeChannel(_)}},[d]),k.useEffect(()=>{let _=!1;async function C(){if(!(d!=null&&d.strategy)||!(d!=null&&d.symbol)||!(d!=null&&d.account_id))return;o(null);let I=D.from("trading_signals").select("*").eq("strategy",d.strategy).eq("symbol",d.symbol).eq("account_id",d.account_id).not("profit_loss","is",null).order("executed_at",{ascending:!1});d.botToken&&(I=I.or(`botToken.eq.${d.botToken},bot_token.eq.${d.botToken}`));const{data:$,error:H}=await I;_||(H&&o("Failed to fetch trading_signals table"),$&&$.length>0&&(p.current=$[0].id))}C();const P=D.channel("realtime:trading_signals_history").on("postgres_changes",{event:"*",schema:"public",table:"trading_signals",filter:`strategy=eq.${d.strategy},symbol=eq.${d.symbol},account_id=eq.${d.account_id}`},I=>{I.new&&I.new!=="open"&&I.new!==null&&C()}).subscribe();return()=>{_=!0,D.removeChannel(P)}},[d]),k.useEffect(()=>{if(!(d!=null&&d.symbol)||!(d!=null&&d.strategy))return;const P=ws.getState().positions.filter(I=>I.symbol===d.symbol).filter(I=>typeof I.comment=="string"&&I.comment.includes(d.strategy));x(P)},[d,ws.getState().positions]),k.useEffect(()=>{if(!(d!=null&&d.symbol)||!(d!=null&&d.strategy))return;async function _(){let C=new Date,P=new Date(C.getFullYear(),C.getMonth(),1),$=(await at.orderHistory(P.toISOString(),C.toISOString())).orders||[];if($&&$.length>0){let H=$.filter(B=>B.comment===d.strategy&&B.symbol===d.symbol&&B.profit!==0);i(H.sort((B,L)=>L.ticket-B.ticket)||[])}else $=[]}_()},[d]),k.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),!d)return null;const j=async _=>{try{await navigator.clipboard.writeText("http://91.98.23.85/api/WebHook/hook"),w(`${_} copied to clipboard`,"success")}catch{w(`Failed to copy ${_}`,"error")}},E=async(_,C)=>{try{const P={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken},I={symbol:e.symbol||"EURUSD",action:"{{strategy.order.action}}",comment:"{{strategy.order.comment}}",volume:e.maxLotSize,strategy:e.strategy,stopLossDollars:0,takeProfitDollars:0,userId:localStorage.getItem("mt5_UserId"),botToken:e.botToken};let $=JSON.stringify(_==="STRATEGY"?I:P,null,2);await navigator.clipboard.writeText($),w(`${C} copied to clipboard`,"success")}catch{w(`Failed to copy ${C}`,"error")}};return n.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-black via-[#181818] to-[#232323] w-screen h-screen min-h-screen flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between w-full px-10 py-6 bg-[#181818] border-b-2 border-[#bfa14a]/30 shadow-lg z-20",children:[n.jsxs("div",{className:"flex items-center gap-4 w-full",children:[n.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Logo",className:"h-12 w-auto"}),h&&n.jsxs("div",{className:"flex flex-wrap gap-3 items-center ml-6",children:[n.jsx("span",{className:"px-4 py-2 rounded-full bg-[#bfa14a]/20 text-[#bfa14a] font-bold text-base",children:h.name}),n.jsx("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:h.strategy}),n.jsx("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:h.symbol}),n.jsxs("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:["Risk: ",n.jsx("b",{children:h.risk_level||"-"})]}),n.jsxs("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:["Max Lot: ",n.jsx("b",{children:h.max_lot_size||"-"})]}),n.jsxs("span",{className:"px-4 py-2 rounded-full bg-[#232323] border border-[#bfa14a]/40 text-[#bfa14a] text-base",children:["Active: ",n.jsx("b",{children:h.is_active?"Yes":"No"})]})]})]}),n.jsxs("div",{className:"flex gap-4 items-center ml-8",children:[n.jsx("button",{onClick:T,title:h!=null&&h.is_active?"Deactivate Robot":"Activate Robot",className:`p-3 rounded-full border-2 transition flex items-center justify-center text-xl ${h!=null&&h.is_active?"border-yellow-400 bg-yellow-600 text-white hover:bg-yellow-700":"border-green-400 bg-green-600 text-white hover:bg-green-700"}`,"aria-pressed":h==null?void 0:h.is_active,children:n.jsx(s8,{})}),n.jsx("button",{onClick:S,className:"p-3 rounded-full border-2 border-red-400 bg-red-600 text-white hover:bg-red-700 transition flex items-center justify-center text-xl",title:"Delete Robot",children:n.jsx(n8,{})}),n.jsx("button",{onClick:t,className:"p-3 rounded-full border-2 border-gray-400 bg-[#232323] text-white hover:bg-gray-700 transition flex items-center justify-center text-xl",title:"Close",children:n.jsx(r8,{})})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row w-full h-full gap-8 px-10 py-8",children:[n.jsx("div",{className:"w-full md:w-[28%] flex flex-col gap-8",children:n.jsxs("div",{className:"w-full bg-[#232323]/80 border border-[#bfa14a]/40 rounded-2xl p-8 flex flex-col gap-6 shadow-lg",children:[n.jsx("h4",{className:"text-lg font-bold text-[#bfa14a] mb-2 text-center",children:"Live Robot Performance"}),n.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Balance"}),n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:m&&m.length>0?((g?g.balance:0)+m.reduce((_,C)=>_+C.profit,0)).toFixed(2):(g?g.balance:0).toFixed(2)})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Robot Total P/L"}),n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:r&&r.length>0?(r.reduce((_,C)=>_+C.profit,0)+(m&&m.length>0?m.reduce((_,C)=>_+C.profit,0):0)).toFixed(2):0})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Equity"}),n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:g?g.equity.toFixed(2):0})]})]}),n.jsx("div",{className:"flex gap-4 items-center",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:m.length}),n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Open Trades"})]})}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Win"}),n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:r&&r.length>0?r.filter(_=>_.profit>0).reduce((_,C)=>_+C.profit,0).toFixed(2):0})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Loss"}),n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:r&&r.length>0?r.filter(_=>_.profit<0).reduce((_,C)=>_+C.profit,0).toFixed(2):0})]})]}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Margin"}),n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:g?g.margin.toFixed(2):0})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Free Margin"}),n.jsx("span",{className:"text-2xl font-bold text-[#fffbe6]",children:g?g.freeMargin.toFixed(2):0})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a]",children:"Margin level (%)"}),n.jsxs("span",{className:"text-2xl font-bold text-[#fffbe6]",children:[(g?g.marginLevel:0).toFixed(2),"%"]})]})]}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("div",{className:"flex flex-col items-center",children:n.jsx("button",{onClick:()=>E(e.riskLevel,"JSON Alert Signal"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:n.jsx("span",{children:"Copy JSON"})})}),n.jsx("div",{className:"flex flex-col items-center",children:n.jsx("button",{onClick:()=>j("WebHook URL"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:n.jsx("span",{children:"Copy WebHook"})})}),n.jsx("div",{className:"flex flex-col items-center",children:n.jsx("a",{href:e.name==="TradingHub"?"https://www.tradingview.com/script/KWExb6wY-Trading-Hub-MultiStrategy-Gold-Trading-System/":"https://tradingview.com/chart",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Trading View"})})]}),performance&&n.jsxs("div",{className:"w-full flex flex-col items-center mt-4",children:[n.jsx("span",{className:"text-xs text-[#bfa14a] mb-1",children:"Win/Loss Ratio"}),n.jsx("div",{className:"w-full h-4 bg-[#232323] rounded-full border border-[#bfa14a]/30 flex overflow-hidden",children:n.jsx("div",{})}),n.jsx("div",{className:"flex justify-between w-full text-xs mt-1"})]})]})]})}),n.jsx("div",{className:"w-full md:w-[72%] flex flex-col gap-8",children:n.jsxs("div",{className:"bg-[#232323]/80 border border-[#bfa14a]/40 rounded-2xl p-6 shadow-lg overflow-x-auto",children:[n.jsx("h4",{className:"text-lg font-bold text-[#bfa14a] mb-4",children:"Open Positions"}),m.length===0?n.jsx("div",{className:"text-center text-gray-400",children:"No open positions for this robot."}):n.jsxs("table",{className:"min-w-full text-xs md:text-sm text-left text-gray-400 mb-6",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[#bfa14a]/30",children:[n.jsx("th",{className:"py-2 px-2",children:"Ticket"}),n.jsx("th",{className:"py-2 px-2",children:"Symbol"}),n.jsx("th",{className:"py-2 px-2",children:"Comment"}),n.jsx("th",{className:"py-2 px-2",children:"Type"}),n.jsx("th",{className:"py-2 px-2",children:"Volume"}),n.jsx("th",{className:"py-2 px-2",children:"Open Price"}),n.jsx("th",{className:"py-2 px-2",children:"Profit"}),n.jsx("th",{className:"py-2 px-2",children:"Opened"})]})}),n.jsx("tbody",{children:m.filter(_=>_.symbol===d.symbol&&typeof _.comment=="string"&&_.comment.includes(d.strategy)).map((_,C)=>n.jsxs("tr",{className:"border-b border-[#bfa14a]/10 hover:bg-[#181818]/40",children:[n.jsx("td",{className:"py-2 px-2",children:_.ticket??"-"}),n.jsx("td",{className:"py-2 px-2",children:_.symbol??"-"}),n.jsx("td",{className:"py-2 px-2",children:_.comment??"-"}),n.jsx("td",{className:"py-2 px-2",children:typeof _.type=="string"?_.type.toLowerCase()==="buy"?"Buy":"Sell":_.type===0?"Buy":_.type===1?"Sell":"-"}),n.jsx("td",{className:"py-2 px-2",children:_.volume??"-"}),n.jsx("td",{className:"py-2 px-2",children:_.openPrice??"-"}),n.jsx("td",{className:`py-2 px-2 font-bold ${parseFloat(_.profit)>=0?"text-green-400":"text-red-400"}`,children:typeof _.profit=="number"?_.profit.toFixed(2):"0.00"}),n.jsx("td",{className:"py-2 px-2",children:_.openTime?new Date(_.openTime).toLocaleString():"-"})]},_.ticket||C))})]}),n.jsx("h4",{className:"text-lg font-bold text-[#bfa14a] mb-4 mt-8",children:"Trade History"}),a?n.jsx("div",{className:"text-center text-red-400 py-8",children:a}):r.length===0?n.jsx("div",{className:"text-center text-gray-400",children:"No trade history for this robot."}):n.jsxs("table",{className:"min-w-full text-xs md:text-sm text-left text-gray-400 mb-4",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[#bfa14a]/30",children:[n.jsx("th",{className:"py-2 px-2",children:"Ticket"}),n.jsx("th",{className:"py-2 px-2",children:"Symbol"}),n.jsx("th",{className:"py-2 px-2",children:"Action"}),n.jsx("th",{className:"py-2 px-2",children:"Volume"}),n.jsx("th",{className:"py-2 px-2",children:"Price"}),n.jsx("th",{className:"py-2 px-2",children:"Profit/Loss"}),n.jsx("th",{className:"py-2 px-2",children:"Created"}),n.jsx("th",{className:"py-2 px-2",children:"Win/Loss"})]})}),n.jsx("tbody",{children:N.map(_=>n.jsxs("tr",{className:"border-b border-[#bfa14a]/10 hover:bg-[#181818]/40",children:[n.jsx("td",{className:"py-2 px-2",children:_.ticket}),n.jsx("td",{className:"py-2 px-2",children:_.symbol}),n.jsx("td",{className:"py-2 px-2",children:_.orderType}),n.jsx("td",{className:"py-2 px-2",children:_.lots}),n.jsx("td",{className:"py-2 px-2",children:_.openPrice.toFixed(2)??"-"}),n.jsx("td",{className:"py-2 px-2",children:_.profit.toFixed(2)??"-"}),n.jsx("td",{className:"py-2 px-2",children:_.openTime?new Date(_.openTime).toLocaleString():"-"}),n.jsx("td",{className:`py-2 px-2 font-bold ${parseFloat(_.profit)>=0?"text-green-400":"text-red-400"}`,children:_.profit>0?"Win":"Loss"})]},_.id))})]}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsx("button",{className:"px-3 py-1 rounded bg-[#bfa14a]/20 text-[#bfa14a] font-bold disabled:opacity-40",onClick:()=>c(l-1),disabled:l===0,children:"Previous"}),n.jsxs("span",{className:"text-gray-400",children:["Page ",l+1," of ",Math.ceil(r.length/Dd)||1]}),n.jsx("button",{className:"px-3 py-1 rounded bg-[#bfa14a]/20 text-[#bfa14a] font-bold disabled:opacity-40",onClick:()=>c(l+1),disabled:(l+1)*Dd>=r.length,children:"Next"})]})]})})]}),b&&n.jsx("div",{className:`fixed top-6 right-6 z-[9999] px-6 py-3 rounded-lg shadow-lg font-bold text-base ${b.type==="success"?"bg-green-700 text-white":"bg-red-700 text-white"}`,children:b.message})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function sd(e){return e+.5|0}const ri=(e,t,s)=>Math.max(Math.min(e,s),t);function _l(e){return ri(sd(e*2.55),0,255)}function pi(e){return ri(sd(e*255),0,255)}function pn(e){return ri(sd(e/2.55)/100,0,1)}function Ow(e){return ri(sd(e*100),0,100)}const ar={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yx=[..."0123456789ABCDEF"],a8=e=>Yx[e&15],o8=e=>Yx[(e&240)>>4]+Yx[e&15],Id=e=>(e&240)>>4===(e&15),l8=e=>Id(e.r)&&Id(e.g)&&Id(e.b)&&Id(e.a);function c8(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&ar[e[1]]*17,g:255&ar[e[2]]*17,b:255&ar[e[3]]*17,a:t===5?ar[e[4]]*17:255}:(t===7||t===9)&&(s={r:ar[e[1]]<<4|ar[e[2]],g:ar[e[3]]<<4|ar[e[4]],b:ar[e[5]]<<4|ar[e[6]],a:t===9?ar[e[7]]<<4|ar[e[8]]:255})),s}const d8=(e,t)=>e<255?t(e):"";function u8(e){var t=l8(e)?a8:o8;return e?"#"+t(e.r)+t(e.g)+t(e.b)+d8(e.a,t):void 0}const h8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gT(e,t,s){const r=t*Math.min(s,1-s),i=(a,o=(a+e/30)%12)=>s-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function f8(e,t,s){const r=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function m8(e,t,s){const r=gT(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)r[i]*=1-t-s,r[i]+=t;return r}function p8(e,t,s,r,i){return e===i?(t-s)/r+(t<s?6:0):t===i?(s-e)/r+2:(e-t)/r+4}function Z0(e){const s=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(s,r,i),o=Math.min(s,r,i),l=(a+o)/2;let c,d,u;return a!==o&&(u=a-o,d=l>.5?u/(2-a-o):u/(a+o),c=p8(s,r,i,u,a),c=c*60+.5),[c|0,d||0,l]}function ey(e,t,s,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,r)).map(pi)}function ty(e,t,s){return ey(gT,e,t,s)}function x8(e,t,s){return ey(m8,e,t,s)}function g8(e,t,s){return ey(f8,e,t,s)}function yT(e){return(e%360+360)%360}function y8(e){const t=h8.exec(e);let s=255,r;if(!t)return;t[5]!==r&&(s=t[6]?_l(+t[5]):pi(+t[5]));const i=yT(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=x8(i,a,o):t[1]==="hsv"?r=g8(i,a,o):r=ty(i,a,o),{r:r[0],g:r[1],b:r[2],a:s}}function b8(e,t){var s=Z0(e);s[0]=yT(s[0]+t),s=ty(s),e.r=s[0],e.g=s[1],e.b=s[2]}function v8(e){if(!e)return;const t=Z0(e),s=t[0],r=Ow(t[1]),i=Ow(t[2]);return e.a<255?`hsla(${s}, ${r}%, ${i}%, ${pn(e.a)})`:`hsl(${s}, ${r}%, ${i}%)`}const Fw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Uw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function w8(){const e={},t=Object.keys(Uw),s=Object.keys(Fw);let r,i,a,o,l;for(r=0;r<t.length;r++){for(o=l=t[r],i=0;i<s.length;i++)a=s[i],l=l.replace(a,Fw[a]);a=parseInt(Uw[o],16),e[l]=[a>>16&255,a>>8&255,a&255]}return e}let Ld;function j8(e){Ld||(Ld=w8(),Ld.transparent=[0,0,0,0]);const t=Ld[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const N8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k8(e){const t=N8.exec(e);let s=255,r,i,a;if(t){if(t[7]!==r){const o=+t[7];s=t[8]?_l(o):ri(o*255,0,255)}return r=+t[1],i=+t[3],a=+t[5],r=255&(t[2]?_l(r):ri(r,0,255)),i=255&(t[4]?_l(i):ri(i,0,255)),a=255&(t[6]?_l(a):ri(a,0,255)),{r,g:i,b:a,a:s}}}function S8(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${pn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Om=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Oa=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function _8(e,t,s){const r=Oa(pn(e.r)),i=Oa(pn(e.g)),a=Oa(pn(e.b));return{r:pi(Om(r+s*(Oa(pn(t.r))-r))),g:pi(Om(i+s*(Oa(pn(t.g))-i))),b:pi(Om(a+s*(Oa(pn(t.b))-a))),a:e.a+s*(t.a-e.a)}}function Od(e,t,s){if(e){let r=Z0(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*s,t===0?360:1)),r=ty(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function bT(e,t){return e&&Object.assign(t||{},e)}function $w(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=pi(e[3]))):(t=bT(e,{r:0,g:0,b:0,a:1}),t.a=pi(t.a)),t}function T8(e){return e.charAt(0)==="r"?k8(e):y8(e)}class Ec{constructor(t){if(t instanceof Ec)return t;const s=typeof t;let r;s==="object"?r=$w(t):s==="string"&&(r=c8(t)||j8(t)||T8(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=bT(this._rgb);return t&&(t.a=pn(t.a)),t}set rgb(t){this._rgb=$w(t)}rgbString(){return this._valid?S8(this._rgb):void 0}hexString(){return this._valid?u8(this._rgb):void 0}hslString(){return this._valid?v8(this._rgb):void 0}mix(t,s){if(t){const r=this.rgb,i=t.rgb;let a;const o=s===a?.5:s,l=2*o-1,c=r.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-d,r.r=255&d*r.r+a*i.r+.5,r.g=255&d*r.g+a*i.g+.5,r.b=255&d*r.b+a*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,s){return t&&(this._rgb=_8(this._rgb,t._rgb,s)),this}clone(){return new Ec(this.rgb)}alpha(t){return this._rgb.a=pi(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=sd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Od(this._rgb,2,t),this}darken(t){return Od(this._rgb,2,-t),this}saturate(t){return Od(this._rgb,1,t),this}desaturate(t){return Od(this._rgb,1,-t),this}rotate(t){return b8(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ln(){}const C8=(()=>{let e=0;return()=>e++})();function Fe(e){return e==null}function Nt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ae(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function cs(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Or(e,t){return cs(e)?e:t}function ve(e,t){return typeof e>"u"?t:e}const P8=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,vT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ke(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Ue(e,t,s,r){let i,a,o;if(Nt(e))for(a=e.length,i=0;i<a;i++)t.call(s,e[i],i);else if(Ae(e))for(o=Object.keys(e),a=o.length,i=0;i<a;i++)t.call(s,e[o[i]],o[i])}function wh(e,t){let s,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,r=e.length;s<r;++s)if(i=e[s],a=t[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function jh(e){if(Nt(e))return e.map(jh);if(Ae(e)){const t=Object.create(null),s=Object.keys(e),r=s.length;let i=0;for(;i<r;++i)t[s[i]]=jh(e[s[i]]);return t}return e}function wT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function E8(e,t,s,r){if(!wT(e))return;const i=t[e],a=s[e];Ae(i)&&Ae(a)?Ac(i,a,r):t[e]=jh(a)}function Ac(e,t,s){const r=Nt(t)?t:[t],i=r.length;if(!Ae(e))return e;s=s||{};const a=s.merger||E8;let o;for(let l=0;l<i;++l){if(o=r[l],!Ae(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)a(c[d],e,o,s)}return e}function Kl(e,t){return Ac(e,t,{merger:A8})}function A8(e,t,s){if(!wT(e))return;const r=t[e],i=s[e];Ae(r)&&Ae(i)?Kl(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=jh(i))}const Bw={"":e=>e,x:e=>e.x,y:e=>e.y};function R8(e){const t=e.split("."),s=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(s.push(r),r="");return s}function M8(e){const t=R8(e);return s=>{for(const r of t){if(r==="")break;s=s&&s[r]}return s}}function ba(e,t){return(Bw[t]||(Bw[t]=M8(t)))(e)}function sy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Rc=e=>typeof e<"u",vi=e=>typeof e=="function",zw=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function D8(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const $e=Math.PI,lt=2*$e,I8=lt+$e,Nh=Number.POSITIVE_INFINITY,L8=$e/180,Ct=$e/2,Ii=$e/4,Vw=$e*2/3,jT=Math.log10,Kr=Math.sign;function Xl(e,t,s){return Math.abs(e-t)<s}function Hw(e){const t=Math.round(e);e=Xl(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(jT(e))),r=e/s;return(r<=1?1:r<=2?2:r<=5?5:10)*s}function O8(e){const t=[],s=Math.sqrt(e);let r;for(r=1;r<s;r++)e%r===0&&(t.push(r),t.push(e/r));return s===(s|0)&&t.push(s),t.sort((i,a)=>i-a).pop(),t}function F8(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Mc(e){return!F8(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function U8(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function $8(e,t,s){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function bn(e){return e*($e/180)}function B8(e){return e*(180/$e)}function Ww(e){if(!cs(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function NT(e,t){const s=t.x-e.x,r=t.y-e.y,i=Math.sqrt(s*s+r*r);let a=Math.atan2(r,s);return a<-.5*$e&&(a+=lt),{angle:a,distance:i}}function Gx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function z8(e,t){return(e-t+I8)%lt-$e}function qs(e){return(e%lt+lt)%lt}function Dc(e,t,s,r){const i=qs(e),a=qs(t),o=qs(s),l=qs(a-i),c=qs(o-i),d=qs(i-a),u=qs(i-o);return i===a||i===o||r&&a===o||l>c&&d<u}function rs(e,t,s){return Math.max(t,Math.min(s,e))}function V8(e){return rs(e,-32768,32767)}function vn(e,t,s,r=1e-6){return e>=Math.min(t,s)-r&&e<=Math.max(t,s)+r}function ry(e,t,s){s=s||(o=>e[o]<t);let r=e.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,s(a)?i=a:r=a;return{lo:i,hi:r}}const ta=(e,t,s,r)=>ry(e,s,r?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),H8=(e,t,s)=>ry(e,s,r=>e[r][t]>=s);function W8(e,t,s){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>s;)i--;return r>0||i<e.length?e.slice(r,i):e}const kT=["push","pop","shift","splice","unshift"];function q8(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),kT.forEach(s=>{const r="_onData"+sy(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...a)}),o}})})}function qw(e,t){const s=e._chartjs;if(!s)return;const r=s.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(kT.forEach(a=>{delete e[a]}),delete e._chartjs)}function ST(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const _T=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function TT(e,t){let s=[],r=!1;return function(...i){s=i,r||(r=!0,_T.call(window,()=>{r=!1,e.apply(t,s)}))}}function Y8(e,t){let s;return function(...r){return t?(clearTimeout(s),s=setTimeout(e,t,r)):e.apply(this,r),t}}const ny=e=>e==="start"?"left":e==="end"?"right":"center",Kt=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,G8=(e,t,s,r)=>e===(r?"left":"right")?s:e==="center"?(t+s)/2:t;function J8(e,t,s){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:m,maxDefined:x}=o.getUserBounds();if(m){if(i=Math.min(ta(c,u,h).lo,s?r:ta(t,u,o.getPixelForValue(h)).lo),d){const g=c.slice(0,i+1).reverse().findIndex(y=>!Fe(y[l.axis]));i-=Math.max(0,g)}i=rs(i,0,r-1)}if(x){let g=Math.max(ta(c,o.axis,f,!0).hi+1,s?0:ta(t,u,o.getPixelForValue(f),!0).hi+1);if(d){const y=c.slice(g-1).findIndex(p=>!Fe(p[l.axis]));g+=Math.max(0,y)}a=rs(g,i,r)-i}else a=r-i}return{start:i,count:a}}function K8(e){const{xScale:t,yScale:s,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==s.min||r.ymax!==s.max;return Object.assign(r,i),a}const Fd=e=>e===0||e===1,Yw=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*lt/s)),Gw=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*lt/s)+1,Ql={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ct)+1,easeOutSine:e=>Math.sin(e*Ct),easeInOutSine:e=>-.5*(Math.cos($e*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Fd(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Fd(e)?e:Yw(e,.075,.3),easeOutElastic:e=>Fd(e)?e:Gw(e,.075,.3),easeInOutElastic(e){return Fd(e)?e:e<.5?.5*Yw(e*2,.1125,.45):.5+.5*Gw(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ql.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ql.easeInBounce(e*2)*.5:Ql.easeOutBounce(e*2-1)*.5+.5};function iy(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Jw(e){return iy(e)?e:new Ec(e)}function Fm(e){return iy(e)?e:new Ec(e).saturate(.5).darken(.1).hexString()}const X8=["x","y","borderWidth","radius","tension"],Q8=["color","borderColor","backgroundColor"];function Z8(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Q8},numbers:{type:"number",properties:X8}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function eF(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Kw=new Map;function tF(e,t){t=t||{};const s=e+JSON.stringify(t);let r=Kw.get(s);return r||(r=new Intl.NumberFormat(e,t),Kw.set(s,r)),r}function ay(e,t,s){return tF(t,s).format(e)}const sF={values(e){return Nt(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const r=this.chart.options.locale;let i,a=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=rF(e,s)}const o=jT(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),ay(e,r,c)}};function rF(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var CT={formatters:sF};function nF(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:CT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const va=Object.create(null),Jx=Object.create(null);function Zl(e,t){if(!t)return e;const s=t.split(".");for(let r=0,i=s.length;r<i;++r){const a=s[r];e=e[a]||(e[a]=Object.create(null))}return e}function Um(e,t,s){return typeof t=="string"?Ac(Zl(e,t),s):Ac(Zl(e,""),t)}class iF{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Fm(i.backgroundColor),this.hoverBorderColor=(r,i)=>Fm(i.borderColor),this.hoverColor=(r,i)=>Fm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return Um(this,t,s)}get(t){return Zl(this,t)}describe(t,s){return Um(Jx,t,s)}override(t,s){return Um(va,t,s)}route(t,s,r,i){const a=Zl(this,t),o=Zl(this,r),l="_"+s;Object.defineProperties(a,{[l]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[i];return Ae(c)?Object.assign({},d,c):ve(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(s=>s(this))}}var pt=new iF({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Z8,eF,nF]);function aF(e){return!e||Fe(e.size)||Fe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Xw(e,t,s,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,s.push(i)),a>r&&(r=a),r}function Li(e,t,s){const r=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*r)/r+i}function Qw(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Kx(e,t,s,r){PT(e,t,s,r,null)}function PT(e,t,s,r,i){let a,o,l,c,d,u,h,f;const m=t.pointStyle,x=t.rotation,g=t.radius;let y=(x||0)*L8;if(m&&typeof m=="object"&&(a=m.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,r),e.rotate(y),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:i?e.ellipse(s,r,i/2,g,0,0,lt):e.arc(s,r,g,0,lt),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(s+Math.sin(y)*u,r-Math.cos(y)*g),y+=Vw,e.lineTo(s+Math.sin(y)*u,r-Math.cos(y)*g),y+=Vw,e.lineTo(s+Math.sin(y)*u,r-Math.cos(y)*g),e.closePath();break;case"rectRounded":d=g*.516,c=g-d,o=Math.cos(y+Ii)*c,h=Math.cos(y+Ii)*(i?i/2-d:c),l=Math.sin(y+Ii)*c,f=Math.sin(y+Ii)*(i?i/2-d:c),e.arc(s-h,r-l,d,y-$e,y-Ct),e.arc(s+f,r-o,d,y-Ct,y),e.arc(s+h,r+l,d,y,y+Ct),e.arc(s-f,r+o,d,y+Ct,y+$e),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*g,u=i?i/2:c,e.rect(s-u,r-c,2*u,2*c);break}y+=Ii;case"rectRot":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,r-l),e.lineTo(s+f,r-o),e.lineTo(s+h,r+l),e.lineTo(s-f,r+o),e.closePath();break;case"crossRot":y+=Ii;case"cross":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,r-l),e.lineTo(s+h,r+l),e.moveTo(s+f,r-o),e.lineTo(s-f,r+o);break;case"star":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,r-l),e.lineTo(s+h,r+l),e.moveTo(s+f,r-o),e.lineTo(s-f,r+o),y+=Ii,h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),e.moveTo(s-h,r-l),e.lineTo(s+h,r+l),e.moveTo(s+f,r-o),e.lineTo(s-f,r+o);break;case"line":o=i?i/2:Math.cos(y)*g,l=Math.sin(y)*g,e.moveTo(s-o,r-l),e.lineTo(s+o,r+l);break;case"dash":e.moveTo(s,r),e.lineTo(s+Math.cos(y)*(i?i/2:g),r+Math.sin(y)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ic(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function _f(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Tf(e){e.restore()}function oF(e,t,s,r,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else i==="after"!=!!r?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function lF(e,t,s,r){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?s.cp2x:s.cp1x,r?s.cp2y:s.cp1y,s.x,s.y)}function cF(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Fe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function dF(e,t,s,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),o=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function uF(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Lc(e,t,s,r,i,a={}){const o=Nt(t)?t:[t],l=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,cF(e,a),c=0;c<o.length;++c)d=o[c],a.backdrop&&uF(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Fe(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,s,r,a.maxWidth)),e.fillText(d,s,r,a.maxWidth),dF(e,s,r,d,a),r+=Number(i.lineHeight);e.restore()}function kh(e,t){const{x:s,y:r,w:i,h:a,radius:o}=t;e.arc(s+o.topLeft,r+o.topLeft,o.topLeft,1.5*$e,$e,!0),e.lineTo(s,r+a-o.bottomLeft),e.arc(s+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,$e,Ct,!0),e.lineTo(s+i-o.bottomRight,r+a),e.arc(s+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,Ct,0,!0),e.lineTo(s+i,r+o.topRight),e.arc(s+i-o.topRight,r+o.topRight,o.topRight,0,-Ct,!0),e.lineTo(s+o.topLeft,r)}const hF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mF(e,t){const s=(""+e).match(hF);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const pF=e=>+e||0;function oy(e,t){const s={},r=Ae(t),i=r?Object.keys(t):t,a=Ae(e)?r?o=>ve(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)s[o]=pF(a(o));return s}function ET(e){return oy(e,{top:"y",right:"x",bottom:"y",left:"x"})}function po(e){return oy(e,["topLeft","topRight","bottomLeft","bottomRight"])}function gr(e){const t=ET(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ns(e,t){e=e||{},t=t||pt.font;let s=ve(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let r=ve(e.style,t.style);r&&!(""+r).match(fF)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ve(e.family,t.family),lineHeight:mF(ve(e.lineHeight,t.lineHeight),s),size:s,style:r,weight:ve(e.weight,t.weight),string:""};return i.string=aF(i),i}function Ud(e,t,s,r){let i,a,o;for(i=0,a=e.length;i<a;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function xF(e,t,s){const{min:r,max:i}=e,a=vT(t,(i-r)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(r,-Math.abs(a)),max:o(i,a)}}function Ca(e,t){return Object.assign(Object.create(e),t)}function ly(e,t=[""],s,r,i=()=>e[0]){const a=s||e;typeof r>"u"&&(r=DT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:i,override:l=>ly([l,...e],t,a,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return RT(l,c,()=>kF(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return ej(l).includes(c)},ownKeys(l){return ej(l)},set(l,c,d){const u=l._storage||(l._storage=i());return l[c]=u[c]=d,delete l._keys,!0}})}function Eo(e,t,s,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:AT(e,r),setContext:a=>Eo(e,a,s,r),override:a=>Eo(e.override(a),t,s,r)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,l){return RT(a,o,()=>yF(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,l){return e[o]=l,delete a[o],!0}})}function AT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:r,isScriptable:vi(s)?s:()=>s,isIndexable:vi(r)?r:()=>r}}const gF=(e,t)=>e?e+sy(t):t,cy=(e,t)=>Ae(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function RT(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=s();return e[t]=r,r}function yF(e,t,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:o}=e;let l=r[t];return vi(l)&&o.isScriptable(t)&&(l=bF(t,l,e,s)),Nt(l)&&l.length&&(l=vF(t,l,e,o.isIndexable)),cy(t,l)&&(l=Eo(l,i,a&&a[t],o)),l}function bF(e,t,s,r){const{_proxy:i,_context:a,_subProxy:o,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(a,o||r);return l.delete(e),cy(e,c)&&(c=dy(i._scopes,i,e,c)),c}function vF(e,t,s,r){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=s;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(Ae(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=dy(d,i,e,u);t.push(Eo(h,a,o&&o[e],l))}}return t}function MT(e,t,s){return vi(e)?e(t,s):e}const wF=(e,t)=>e===!0?t:typeof e=="string"?ba(t,e):void 0;function jF(e,t,s,r,i){for(const a of t){const o=wF(s,a);if(o){e.add(o);const l=MT(o._fallback,s,i);if(typeof l<"u"&&l!==s&&l!==r)return l}else if(o===!1&&typeof r<"u"&&s!==r)return null}return!1}function dy(e,t,s,r){const i=t._rootScopes,a=MT(t._fallback,s,r),o=[...e,...i],l=new Set;l.add(r);let c=Zw(l,o,s,a||s,r);return c===null||typeof a<"u"&&a!==s&&(c=Zw(l,o,a,c,r),c===null)?!1:ly(Array.from(l),[""],i,a,()=>NF(t,s,r))}function Zw(e,t,s,r,i){for(;s;)s=jF(e,t,s,r,i);return s}function NF(e,t,s){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Nt(i)&&Ae(s)?s:i||{}}function kF(e,t,s,r){let i;for(const a of t)if(i=DT(gF(a,e),s),typeof i<"u")return cy(e,i)?dy(s,r,e,i):i}function DT(e,t){for(const s of t){if(!s)continue;const r=s[e];if(typeof r<"u")return r}}function ej(e){let t=e._keys;return t||(t=e._keys=SF(e._scopes)),t}function SF(e){const t=new Set;for(const s of e)for(const r of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const _F=Number.EPSILON||1e-14,Ao=(e,t)=>t<e.length&&!e[t].skip&&e[t],IT=e=>e==="x"?"y":"x";function TF(e,t,s,r){const i=e.skip?t:e,a=t,o=s.skip?t:s,l=Gx(a,i),c=Gx(o,a);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=r*d,f=r*u;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+f*(o.x-i.x),y:a.y+f*(o.y-i.y)}}}function CF(e,t,s){const r=e.length;let i,a,o,l,c,d=Ao(e,0);for(let u=0;u<r-1;++u)if(c=d,d=Ao(e,u+1),!(!c||!d)){if(Xl(t[u],0,_F)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],a=s[u+1]/t[u],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),s[u]=i*o*t[u],s[u+1]=a*o*t[u])}}function PF(e,t,s="x"){const r=IT(s),i=e.length;let a,o,l,c=Ao(e,0);for(let d=0;d<i;++d){if(o=l,l=c,c=Ao(e,d+1),!l)continue;const u=l[s],h=l[r];o&&(a=(u-o[s])/3,l[`cp1${s}`]=u-a,l[`cp1${r}`]=h-a*t[d]),c&&(a=(c[s]-u)/3,l[`cp2${s}`]=u+a,l[`cp2${r}`]=h+a*t[d])}}function EF(e,t="x"){const s=IT(t),r=e.length,i=Array(r).fill(0),a=Array(r);let o,l,c,d=Ao(e,0);for(o=0;o<r;++o)if(l=c,c=d,d=Ao(e,o+1),!!c){if(d){const u=d[t]-c[t];i[o]=u!==0?(d[s]-c[s])/u:0}a[o]=l?d?Kr(i[o-1])!==Kr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}CF(e,i,a),PF(e,a,t)}function $d(e,t,s){return Math.max(Math.min(e,s),t)}function AF(e,t){let s,r,i,a,o,l=Ic(e[0],t);for(s=0,r=e.length;s<r;++s)o=a,a=l,l=s<r-1&&Ic(e[s+1],t),a&&(i=e[s],o&&(i.cp1x=$d(i.cp1x,t.left,t.right),i.cp1y=$d(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=$d(i.cp2x,t.left,t.right),i.cp2y=$d(i.cp2y,t.top,t.bottom)))}function RF(e,t,s,r,i){let a,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")EF(e,i);else{let d=r?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)l=e[a],c=TF(d,l,e[Math.min(a+1,o-(r?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&AF(e,s)}function uy(){return typeof window<"u"&&typeof document<"u"}function hy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Sh(e,t,s){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[s])):r=e,r}const Cf=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function MF(e,t){return Cf(e).getPropertyValue(t)}const DF=["top","right","bottom","left"];function la(e,t,s){const r={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=DF[i];r[a]=parseFloat(e[t+"-"+a+s])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const IF=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function LF(e,t){const s=e.touches,r=s&&s.length?s[0]:e,{offsetX:i,offsetY:a}=r;let o=!1,l,c;if(IF(i,a,e.target))l=i,c=a;else{const d=t.getBoundingClientRect();l=r.clientX-d.left,c=r.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Vi(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:r}=t,i=Cf(s),a=i.boxSizing==="border-box",o=la(i,"padding"),l=la(i,"border","width"),{x:c,y:d,box:u}=LF(e,s),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:m,height:x}=t;return a&&(m-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/m*s.width/r),y:Math.round((d-f)/x*s.height/r)}}function OF(e,t,s){let r,i;if(t===void 0||s===void 0){const a=e&&hy(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const o=a.getBoundingClientRect(),l=Cf(a),c=la(l,"border","width"),d=la(l,"padding");t=o.width-d.width-c.width,s=o.height-d.height-c.height,r=Sh(l.maxWidth,a,"clientWidth"),i=Sh(l.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:r||Nh,maxHeight:i||Nh}}const Bd=e=>Math.round(e*10)/10;function FF(e,t,s,r){const i=Cf(e),a=la(i,"margin"),o=Sh(i.maxWidth,e,"clientWidth")||Nh,l=Sh(i.maxHeight,e,"clientHeight")||Nh,c=OF(e,t,s);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const f=la(i,"border","width"),m=la(i,"padding");d-=m.width+f.width,u-=m.height+f.height}return d=Math.max(0,d-a.width),u=Math.max(0,r?d/r:u-a.height),d=Bd(Math.min(d,o,c.maxWidth)),u=Bd(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Bd(d/2)),(t!==void 0||s!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=Bd(Math.floor(u*r))),{width:d,height:u}}function tj(e,t,s){const r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==a?(e.currentDevicePixelRatio=r,o.height=i,o.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const UF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};uy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function sj(e,t){const s=MF(e,t),r=s&&s.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Hi(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function $F(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:r==="middle"?s<.5?e.y:t.y:r==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function BF(e,t,s,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=Hi(e,i,s),l=Hi(i,a,s),c=Hi(a,t,s),d=Hi(o,l,s),u=Hi(l,c,s);return Hi(d,u,s)}const zF=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,r){return s-r},leftForLtr(s,r){return s-r}}},VF=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function xo(e,t,s){return e?zF(t,s):VF()}function LT(e,t){let s,r;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,r=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=r)}function OT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function FT(e){return e==="angle"?{between:Dc,compare:z8,normalize:qs}:{between:vn,compare:(t,s)=>t-s,normalize:t=>t}}function rj({start:e,end:t,count:s,loop:r,style:i}){return{start:e%s,end:t%s,loop:r&&(t-e+1)%s===0,style:i}}function HF(e,t,s){const{property:r,start:i,end:a}=s,{between:o,normalize:l}=FT(r),c=t.length;let{start:d,end:u,loop:h}=e,f,m;if(h){for(d+=c,u+=c,f=0,m=c;f<m&&o(l(t[d%c][r]),i,a);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function UT(e,t,s){if(!s)return[e];const{property:r,start:i,end:a}=s,o=t.length,{compare:l,between:c,normalize:d}=FT(r),{start:u,end:h,loop:f,style:m}=HF(e,t,s),x=[];let g=!1,y=null,p,b,v;const w=()=>c(i,v,p)&&l(i,v)!==0,N=()=>l(a,p)===0||c(a,v,p),S=()=>g||w(),T=()=>!g||N();for(let j=u,E=u;j<=h;++j)b=t[j%o],!b.skip&&(p=d(b[r]),p!==v&&(g=c(p,i,a),y===null&&S()&&(y=l(p,i)===0?j:E),y!==null&&T()&&(x.push(rj({start:y,end:j,loop:f,count:o,style:m})),y=null),E=j,v=p));return y!==null&&x.push(rj({start:y,end:h,loop:f,count:o,style:m})),x}function $T(e,t){const s=[],r=e.segments;for(let i=0;i<r.length;i++){const a=UT(r[i],e.points,t);a.length&&s.push(...a)}return s}function WF(e,t,s,r){let i=0,a=t-1;if(s&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function qF(e,t,s,r){const i=e.length,a=[];let o=t,l=e[t],c;for(c=t+1;c<=s;++c){const d=e[c%i];d.skip||d.stop?l.skip||(r=!1,a.push({start:t%i,end:(c-1)%i,loop:r}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&a.push({start:t%i,end:o%i,loop:r}),a}function YF(e,t){const s=e.points,r=e.options.spanGaps,i=s.length;if(!i)return[];const a=!!e._loop,{start:o,end:l}=WF(s,i,a,r);if(r===!0)return nj(e,[{start:o,end:l,loop:a}],s,t);const c=l<o?l+i:l,d=!!e._fullLoop&&o===0&&l===i-1;return nj(e,qF(s,o,c,d),s,t)}function nj(e,t,s,r){return!r||!r.setContext||!s?t:GF(e,t,s,r)}function GF(e,t,s,r){const i=e._chart.getContext(),a=ij(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=s.length,d=[];let u=a,h=t[0].start,f=h;function m(x,g,y,p){const b=l?-1:1;if(x!==g){for(x+=c;s[x%c].skip;)x-=b;for(;s[g%c].skip;)g+=b;x%c!==g%c&&(d.push({start:x%c,end:g%c,loop:y,style:p}),u=p,h=g%c)}}for(const x of t){h=l?h:x.start;let g=s[h%c],y;for(f=h+1;f<=x.end;f++){const p=s[f%c];y=ij(r.setContext(Ca(i,{type:"segment",p0:g,p1:p,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),JF(y,u)&&m(h,f-1,x.loop,u),g=p,u=y}h<f-1&&m(h,f-1,x.loop,u)}return d}function ij(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function JF(e,t){if(!t)return!1;const s=[],r=function(i,a){return iy(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function zd(e,t,s){return e.options.clip?e[s]:t[s]}function KF(e,t){const{xScale:s,yScale:r}=e;return s&&r?{left:zd(s,t,"left"),right:zd(s,t,"right"),top:zd(r,t,"top"),bottom:zd(r,t,"bottom")}:t}function BT(e,t){const s=t._clip;if(s.disabled)return!1;const r=KF(t,e.chartArea);return{left:s.left===!1?0:r.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:r.right+(s.right===!0?0:s.right),top:s.top===!1?0:r.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:r.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class XF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,r,i){const a=s.listeners[i],o=s.duration;a.forEach(l=>l({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(r-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=_T.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),l=!0):(a[o]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,r,t,"progress")),a.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let r=s.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,r)),r}listen(t,s,r){this._getAnims(t).listeners[s].push(r)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const r=s.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var dn=new XF;const aj="transparent",QF={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const r=Jw(e||aj),i=r.valid&&Jw(t||aj);return i&&i.valid?i.mix(r,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class ZF{constructor(t,s,r,i){const a=s[r];i=Ud([t.to,i,a,t.from]);const o=Ud([t.from,a,i]);this._active=!0,this._fn=t.fn||QF[t.type||typeof o],this._easing=Ql[t.easing]||Ql.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,o=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Ud([t.to,s,i,t.from]),this._from=Ud([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,r=this._duration,i=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||s<r),!this._active){this._target[i]=l,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,r)=>{t.push({res:s,rej:r})})}_notify(t){const s=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][s]()}}class zT{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!Ae(t))return;const s=Object.keys(pt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!Ae(a))return;const o={};for(const l of s)o[l]=a[l];(Nt(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,o)})})}_animateOptions(t,s){const r=s.options,i=tU(t,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&eU(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,s){const r=this._properties,i=[],a=t.$animations||(t.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[d];let h=a[d];const f=r.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){t[d]=u;continue}a[d]=h=new ZF(f,t,d,u),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const r=this._createAnimations(t,s);if(r.length)return dn.add(this._chart,r),!0}}function eU(e,t){const s=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const a=e[r[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function tU(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function oj(e,t){const s=e&&e.options||{},r=s.reverse,i=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:r?a:i,end:r?i:a}}function sU(e,t,s){if(s===!1)return!1;const r=oj(e,s),i=oj(t,s);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function rU(e){let t,s,r,i;return Ae(e)?(t=e.top,s=e.right,r=e.bottom,i=e.left):t=s=r=i=e,{top:t,right:s,bottom:r,left:i,disabled:e===!1}}function VT(e,t){const s=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)s.push(r[i].index);return s}function lj(e,t,s,r={}){const i=e.keys,a=r.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===s){if(u=!0,r.all)continue;break}d=e.values[c],cs(d)&&(a||t===0||Kr(t)===Kr(d))&&(t+=d)}return!u&&!r.all?0:t}function nU(e,t){const{iScale:s,vScale:r}=t,i=s.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[i]:u,[a]:e[u]};return l}function $m(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function iU(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function aU(e){const{min:t,max:s,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function oU(e,t,s){const r=e[t]||(e[t]={});return r[s]||(r[s]={})}function cj(e,t,s,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const a=e[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function dj(e,t){const{chart:s,_cachedMeta:r}=e,i=s._stacks||(s._stacks={}),{iScale:a,vScale:o,index:l}=r,c=a.axis,d=o.axis,u=iU(a,o,r),h=t.length;let f;for(let m=0;m<h;++m){const x=t[m],{[c]:g,[d]:y}=x,p=x._stacks||(x._stacks={});f=p[d]=oU(i,u,g),f[l]=y,f._top=cj(f,o,!0,r.type),f._bottom=cj(f,o,!1,r.type);const b=f._visualValues||(f._visualValues={});b[l]=y}}function Bm(e,t){const s=e.scales;return Object.keys(s).filter(r=>s[r].axis===t).shift()}function lU(e,t){return Ca(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function cU(e,t,s){return Ca(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function hl(e,t){const s=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[r]===void 0||a[r][s]===void 0)return;delete a[r][s],a[r]._visualValues!==void 0&&a[r]._visualValues[s]!==void 0&&delete a[r]._visualValues[s]}}}const zm=e=>e==="reset"||e==="none",uj=(e,t)=>t?e:Object.assign({},e),dU=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:VT(s,!0),values:null};class ca{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$m(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,r=this.getDataset(),i=(h,f,m,x)=>h==="x"?f:h==="r"?x:m,a=s.xAxisID=ve(r.xAxisID,Bm(t,"x")),o=s.yAxisID=ve(r.yAxisID,Bm(t,"y")),l=s.rAxisID=ve(r.rAxisID,Bm(t,"r")),c=s.indexAxis,d=s.iAxisID=i(c,a,o,l),u=s.vAxisID=i(c,o,a,l);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&qw(this._data,this),t._stacked&&hl(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),r=this._data;if(Ae(s)){const i=this._cachedMeta;this._data=nU(s,i)}else if(r!==s){if(r){qw(r,this);const i=this._cachedMeta;hl(i),i._parsed=[]}s&&Object.isExtensible(s)&&q8(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=$m(s.vScale,s),s.stack!==r.stack&&(i=!0,hl(s),s.stack=r.stack),this._resyncElements(t),(i||a!==s._stacked)&&(dj(this,s._parsed),s._stacked=$m(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:o}=r,l=a.axis;let c=t===0&&s===i.length?!0:r._sorted,d=t>0&&r._parsed[t-1],u,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Nt(i[t])?f=this.parseArrayData(r,i,t,s):Ae(i[t])?f=this.parseObjectData(r,i,t,s):f=this.parsePrimitiveData(r,i,t,s);const m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)r._parsed[u+t]=h=f[u],c&&(m()&&(c=!1),d=h);r._sorted=c}o&&dj(this,f)}parsePrimitiveData(t,s,r,i){const{iScale:a,vScale:o}=t,l=a.axis,c=o.axis,d=a.getLabels(),u=a===o,h=new Array(i);let f,m,x;for(f=0,m=i;f<m;++f)x=f+r,h[f]={[l]:u||a.parse(d[x],x),[c]:o.parse(s[x],x)};return h}parseArrayData(t,s,r,i){const{xScale:a,yScale:o}=t,l=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+r,h=s[u],l[c]={x:a.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(t,s,r,i){const{xScale:a,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,f,m;for(u=0,h=i;u<h;++u)f=u+r,m=s[f],d[u]={x:a.parse(ba(m,l),f),y:o.parse(ba(m,c),f)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,r){const i=this.chart,a=this._cachedMeta,o=s[t.axis],l={keys:VT(i,!0),values:s._stacks[t.axis]._visualValues};return lj(l,o,a.index,{mode:r})}updateRangeFromParsed(t,s,r,i){const a=r[s.axis];let o=a===null?NaN:a;const l=i&&r._stacks[s.axis];i&&l&&(i.values=l,o=lj(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&t===r.iScale,o=i.length,l=this._getOtherScale(t),c=dU(s,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=aU(l);let f,m;function x(){m=i[f];const g=m[l.axis];return!cs(m[t.axis])||u>g||h<g}for(f=0;f<o&&!(!x()&&(this.updateRangeFromParsed(d,t,m,c),a));++f);if(a){for(f=o-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(d,t,m,c);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,r=[];let i,a,o;for(i=0,a=s.length;i<a;++i)o=s[i][t.axis],cs(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,r=s.iScale,i=s.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=rU(ve(this.options.clip,sU(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,r=this._cachedMeta,i=r.data||[],a=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,a,l,c),u=l;u<l+c;++u){const h=i[u];h.hidden||(h.active&&d?o.push(h):h.draw(t,a))}for(u=0;u<o.length;++u)o[u].draw(t,a)}getStyle(t,s){const r=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,s,r){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=cU(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=lU(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",r){const i=s==="active",a=this._cachedDataOpts,o=t+"-"+s,l=a[o],c=this.enableOptionSharing&&Rc(r);if(l)return uj(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(pt.elements[t]),x=()=>this.getContext(r,i,s),g=d.resolveNamedOptions(f,m,x,h);return g.$shared&&(g.$shared=c,a[o]=Object.freeze(uj(g,c))),g}_resolveAnimations(t,s,r){const i=this.chart,a=this._cachedDataOpts,o=`animation-${s}`,l=a[o];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(t,r,s))}const d=new zT(i,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||zm(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const r=this.resolveDataElementOptions(t,s),i=this._sharedOptions,a=this.getSharedOptions(r),o=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,r),{sharedOptions:a,includeOptions:o}}updateElement(t,s,r,i){zm(i)?Object.assign(t,r):this._resolveAnimations(s,i).update(t,r)}updateSharedOptions(t,s,r){t&&!zm(s)&&this._resolveAnimations(void 0,s).update(t,r)}_setStyle(t,s,r,i){t.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,r,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,s,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,r=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=r.length,a=s.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,s,r=!0){const i=this._cachedMeta,a=i.data,o=t+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(a),l=t;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,s),r&&this.updateElements(a,t,s,"reset")}updateElements(t,s,r,i){}_removeElements(t,s){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,s);r._stacked&&hl(r,i)}r.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,r,i]=t;this[s](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}le(ca,"defaults",{}),le(ca,"datasetElementType",null),le(ca,"dataElementType",null);function uU(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,a=s.length;i<a;i++)r=r.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=ST(r.sort((i,a)=>i-a))}return e._cache.$bar}function hU(e){const t=e.iScale,s=uU(t,e.type);let r=t._length,i,a,o,l;const c=()=>{o===32767||o===-32768||(Rc(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(i=0,a=s.length;i<a;++i)o=t.getPixelForValue(s[i]),c();for(l=void 0,i=0,a=t.ticks.length;i<a;++i)o=t.getPixelForTick(i),c();return r}function fU(e,t,s,r){const i=s.barThickness;let a,o;return Fe(i)?(a=t.min*s.categoryPercentage,o=s.barPercentage):(a=i*r,o=1),{chunk:a/r,ratio:o,start:t.pixels[e]-a/2}}function mU(e,t,s,r){const i=t.pixels,a=i[e];let o=e>0?i[e-1]:null,l=e<i.length-1?i[e+1]:null;const c=s.categoryPercentage;o===null&&(o=a-(l===null?t.end-t.start:l-a)),l===null&&(l=a+a-o);const d=a-(a-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/r,ratio:s.barPercentage,start:d}}function pU(e,t,s,r){const i=s.parse(e[0],r),a=s.parse(e[1],r),o=Math.min(i,a),l=Math.max(i,a);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),t[s.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:a,min:o,max:l}}function HT(e,t,s,r){return Nt(e)?pU(e,t,s,r):t[s.axis]=s.parse(e,r),t}function hj(e,t,s,r){const i=e.iScale,a=e.vScale,o=i.getLabels(),l=i===a,c=[];let d,u,h,f;for(d=s,u=s+r;d<u;++d)f=t[d],h={},h[i.axis]=l||i.parse(o[d],d),c.push(HT(f,h,a,d));return c}function Vm(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function xU(e,t,s){return e!==0?Kr(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function gU(e){let t,s,r,i,a;return e.horizontal?(t=e.base>e.x,s="left",r="right"):(t=e.base<e.y,s="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:s,end:r,reverse:t,top:i,bottom:a}}function yU(e,t,s,r){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=gU(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===r?i=d:(s._bottom||0)===r?i=u:(a[fj(u,o,l,c)]=!0,i=d)),a[fj(i,o,l,c)]=!0,e.borderSkipped=a}function fj(e,t,s,r){return r?(e=bU(e,t,s),e=mj(e,s,t)):e=mj(e,t,s),e}function bU(e,t,s){return e===t?s:e===s?t:e}function mj(e,t,s){return e==="start"?t:e==="end"?s:e}function vU(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class ju extends ca{parsePrimitiveData(t,s,r,i){return hj(t,s,r,i)}parseArrayData(t,s,r,i){return hj(t,s,r,i)}parseObjectData(t,s,r,i){const{iScale:a,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,m,x,g;for(f=r,m=r+i;f<m;++f)g=s[f],x={},x[a.axis]=a.parse(ba(g,d),f),h.push(HT(ba(g,u),x,o,f));return h}updateRangeFromParsed(t,s,r,i){super.updateRangeFromParsed(t,s,r,i);const a=r._custom;a&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:r,vScale:i}=s,a=this.getParsed(t),o=a._custom,l=Vm(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,r,i){const a=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let m=s;m<s+r;m++){const x=this.getParsed(m),g=a||Fe(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,u),p=(x._stacks||{})[l.axis],b={horizontal:d,base:g.base,enableBorderRadius:!p||Vm(x._custom)||o===p._top||o===p._bottom,x:d?g.head:y.center,y:d?y.center:g.head,height:d?y.size:Math.abs(g.size),width:d?Math.abs(g.size):y.size};f&&(b.options=h||this.resolveDataElementOptions(m,t[m].active?"active":i));const v=b.options||t[m].options;yU(b,v,p,o),vU(b,v,u.ratio),this.updateElement(t[m],m,b,i)}}_getStacks(t,s){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[r.axis],d=u=>{const h=u._parsed.find(m=>m[r.axis]===c),f=h&&h[u.vScale.axis];if(Fe(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&d(u))&&((a===!1||o.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[ve(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,r){const i=this._getStacks(t,r),a=s!==void 0?i.indexOf(s):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,s=this._cachedMeta,r=s.iScale,i=[];let a,o;for(a=0,o=s.data.length;a<o;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const l=t.barThickness;return{min:l||hU(s),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:r,index:i},options:{base:a,minBarLength:o}}=this,l=a||0,c=this.getParsed(t),d=c._custom,u=Vm(d);let h=c[s.axis],f=0,m=r?this.applyStack(s,c,r):h,x,g;m!==h&&(f=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&Kr(h)!==Kr(d.barEnd)&&(f=0),f+=h);const y=!Fe(a)&&!u?a:f;let p=s.getPixelForValue(y);if(this.chart.getDataVisibility(t)?x=s.getPixelForValue(f+m):x=p,g=x-p,Math.abs(g)<o){g=xU(g,s,l)*o,h===l&&(p-=g/2);const b=s.getPixelForDecimal(0),v=s.getPixelForDecimal(1),w=Math.min(b,v),N=Math.max(b,v);p=Math.max(Math.min(p,N),w),x=p+g,r&&!u&&(c._stacks[s.axis]._visualValues[i]=s.getValueForPixel(x)-s.getValueForPixel(p))}if(p===s.getPixelForValue(l)){const b=Kr(g)*s.getLineWidthForValue(l)/2;p+=b,g-=b}return{size:g,base:p,head:x,center:x+g/2}}_calculateBarIndexPixels(t,s){const r=s.scale,i=this.options,a=i.skipNull,o=ve(i.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(s.grouped){const u=a?this._getStackCount(t):s.stackCount,h=i.barThickness==="flex"?mU(t,s,i,u*d):fU(t,s,i,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(ve(f,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+m;l=h.start+h.chunk*x+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(o,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,s=t.vScale,r=t.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[s.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}le(ju,"id","bar"),le(ju,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),le(ju,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function wU(e,t,s){let r=1,i=1,a=0,o=0;if(t<lt){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),m=(v,w,N)=>Dc(v,l,c,!0)?1:Math.max(w,w*s,N,N*s),x=(v,w,N)=>Dc(v,l,c,!0)?-1:Math.min(w,w*s,N,N*s),g=m(0,d,h),y=m(Ct,u,f),p=x($e,d,h),b=x($e+Ct,u,f);r=(g-p)/2,i=(y-b)/2,a=-(g+p)/2,o=-(y+b)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}class eo extends ca{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=c=>+r[c];if(Ae(r[t])){const{key:c="value"}=this._parsing;a=d=>+ba(r[d],c)}let o,l;for(o=t,l=t+s;o<l;++o)i._parsed[o]=a(o)}}_getRotation(){return bn(this.options.rotation-90)}_getCircumference(){return bn(this.options.circumference)}_getRotationExtents(){let t=lt,s=-lt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),o=i._getCircumference();t=Math.min(t,a),s=Math.max(s,a+o)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:r}=s,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(P8(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:x,offsetY:g}=wU(h,u,c),y=(r.width-o)/f,p=(r.height-o)/m,b=Math.max(Math.min(y,p)/2,0),v=vT(this.options.radius,b),w=Math.max(v*c,0),N=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=g*v,i.total=this.calculateTotal(),this.outerRadius=v-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return s&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/lt)}updateElements(t,s,r,i){const a=i==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=a&&d.animateScale,m=f?0:this.innerRadius,x=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(s,i);let p=this._getRotation(),b;for(b=0;b<s;++b)p+=this._circumference(b,a);for(b=s;b<s+r;++b){const v=this._circumference(b,a),w=t[b],N={x:u+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+v,circumference:v,outerRadius:x,innerRadius:m};y&&(N.options=g||this.resolveDataElementOptions(b,w.active?"active":i)),p+=v,this.updateElement(w,b,N,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let r=0,i;for(i=0;i<s.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?lt*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=ay(s._parsed[t],r.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const r=this.chart;let i,a,o,l,c;if(!t){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,l=o.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let r=0,i=t.length;r<i;++r){const a=this.resolveDataElementOptions(r);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(s+=this._getRingWeight(r));return s}_getRingWeight(t){return Math.max(ve(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}le(eo,"id","doughnut"),le(eo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),le(eo,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),le(eo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return s.labels.map((a,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,s,r){r.chart.toggleDataVisibility(s.index),r.chart.update()}}}});class Nu extends ca{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=s,o=this.chart._animationsDisabled;let{start:l,count:c}=J8(s,i,o);this._drawStart=l,this._drawCount=c,K8(s)&&(l=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},t),this.updateElements(i,l,c,t)}updateElements(t,s,r,i){const a=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),f=o.axis,m=l.axis,{spanGaps:x,segment:g}=this.options,y=Mc(x)?x:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||a||i==="none",b=s+r,v=t.length;let w=s>0&&this.getParsed(s-1);for(let N=0;N<v;++N){const S=t[N],T=p?S:{};if(N<s||N>=b){T.skip=!0;continue}const j=this.getParsed(N),E=Fe(j[m]),_=T[f]=o.getPixelForValue(j[f],N),C=T[m]=a||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,j,c):j[m],N);T.skip=isNaN(_)||isNaN(C)||E,T.stop=N>0&&Math.abs(j[f]-w[f])>y,g&&(T.parsed=j,T.raw=d.data[N]),h&&(T.options=u||this.resolveDataElementOptions(N,S.active?"active":i)),p||this.updateElement(S,N,T,i),w=j}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,r=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}le(Nu,"id","line"),le(Nu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),le(Nu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Xx extends eo{}le(Xx,"id","pie"),le(Xx,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Oi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fy{constructor(t){le(this,"options");this.options=t||{}}static override(t){Object.assign(fy.prototype,t)}init(){}formats(){return Oi()}parse(){return Oi()}format(){return Oi()}add(){return Oi()}diff(){return Oi()}startOf(){return Oi()}endOf(){return Oi()}}var jU={_date:fy};function NU(e,t,s,r){const{controller:i,data:a,_sorted:o}=e,l=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&a.length){const d=l._reversePixels?H8:ta;if(r){if(i._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=d(a,t,s-h),m=d(a,t,s+h);return{lo:f.lo,hi:m.hi}}}}else{const u=d(a,t,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,m=f.slice(0,u.lo+1).reverse().findIndex(g=>!Fe(g[h.axis]));u.lo-=Math.max(0,m);const x=f.slice(u.hi).findIndex(g=>!Fe(g[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:a.length-1}}function Pf(e,t,s,r,i){const a=e.getSortedVisibleDatasetMetas(),o=s[t];for(let l=0,c=a.length;l<c;++l){const{index:d,data:u}=a[l],{lo:h,hi:f}=NU(a[l],t,o,i);for(let m=h;m<=f;++m){const x=u[m];x.skip||r(x,d,m)}}}function kU(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(r,i){const a=t?Math.abs(r.x-i.x):0,o=s?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Hm(e,t,s,r,i){const a=[];return!i&&!e.isPointInArea(t)||Pf(e,s,t,function(l,c,d){!i&&!Ic(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&a.push({element:l,datasetIndex:c,index:d})},!0),a}function SU(e,t,s,r){let i=[];function a(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=NT(o,{x:t.x,y:t.y});Dc(h,d,u)&&i.push({element:o,datasetIndex:l,index:c})}return Pf(e,s,t,a),i}function _U(e,t,s,r,i,a){let o=[];const l=kU(s);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const m=u.inRange(t.x,t.y,i);if(r&&!m)return;const x=u.getCenterPoint(i);if(!(!!a||e.isPointInArea(x))&&!m)return;const y=l(t,x);y<c?(o=[{element:u,datasetIndex:h,index:f}],c=y):y===c&&o.push({element:u,datasetIndex:h,index:f})}return Pf(e,s,t,d),o}function Wm(e,t,s,r,i,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!r?SU(e,t,s,i):_U(e,t,s,r,i,a)}function pj(e,t,s,r,i){const a=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return Pf(e,s,t,(c,d,u)=>{c[o]&&c[o](t[s],i)&&(a.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,i))}),r&&!l?[]:a}var TU={modes:{index(e,t,s,r){const i=Vi(t,e),a=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?Hm(e,i,a,r,o):Wm(e,i,a,!1,r,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,s,r){const i=Vi(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?Hm(e,i,a,r,o):Wm(e,i,a,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,s,r){const i=Vi(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return Hm(e,i,a,r,o)},nearest(e,t,s,r){const i=Vi(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return Wm(e,i,a,s.intersect,r,o)},x(e,t,s,r){const i=Vi(t,e);return pj(e,i,"x",s.intersect,r)},y(e,t,s,r){const i=Vi(t,e);return pj(e,i,"y",s.intersect,r)}}};const WT=["left","top","right","bottom"];function fl(e,t){return e.filter(s=>s.pos===t)}function xj(e,t){return e.filter(s=>WT.indexOf(s.pos)===-1&&s.box.axis===t)}function ml(e,t){return e.sort((s,r)=>{const i=t?r:s,a=t?s:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function CU(e){const t=[];let s,r,i,a,o,l;for(s=0,r=(e||[]).length;s<r;++s)i=e[s],{position:a,options:{stack:o,stackWeight:l=1}}=i,t.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:l});return t}function PU(e){const t={};for(const s of e){const{stack:r,pos:i,stackWeight:a}=s;if(!r||!WT.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function EU(e,t){const s=PU(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,o,l;for(a=0,o=e.length;a<o;++a){l=e[a];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*r:c&&t.availableWidth,l.height=i):(l.width=r,l.height=u?u*i:c&&t.availableHeight)}return s}function AU(e){const t=CU(e),s=ml(t.filter(d=>d.box.fullSize),!0),r=ml(fl(t,"left"),!0),i=ml(fl(t,"right")),a=ml(fl(t,"top"),!0),o=ml(fl(t,"bottom")),l=xj(t,"x"),c=xj(t,"y");return{fullSize:s,leftAndTop:r.concat(a),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:fl(t,"chartArea"),vertical:r.concat(i).concat(c),horizontal:a.concat(o).concat(l)}}function gj(e,t,s,r){return Math.max(e[s],t[s])+Math.max(e[r],t[r])}function qT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function RU(e,t,s,r){const{pos:i,box:a}=s,o=e.maxPadding;if(!Ae(i)){s.size&&(e[i]-=s.size);const h=r[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,e[i]+=s.size}a.getPadding&&qT(o,a.getPadding());const l=Math.max(0,t.outerWidth-gj(o,e,"left","right")),c=Math.max(0,t.outerHeight-gj(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function MU(e){const t=e.maxPadding;function s(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function DU(e,t){const s=t.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(t[o],s[o])}),a}return r(e?["left","right"]:["top","bottom"])}function Tl(e,t,s,r){const i=[];let a,o,l,c,d,u;for(a=0,o=e.length,d=0;a<o;++a){l=e[a],c=l.box,c.update(l.width||t.w,l.height||t.h,DU(l.horizontal,t));const{same:h,other:f}=RU(t,s,l,r);d|=h&&i.length,u=u||f,c.fullSize||i.push(l)}return d&&Tl(i,t,s,r)||u}function Vd(e,t,s,r,i){e.top=s,e.left=t,e.right=t+r,e.bottom=s+i,e.width=r,e.height=i}function yj(e,t,s,r){const i=s.padding;let{x:a,y:o}=t;for(const l of e){const c=l.box,d=r[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=t.w*u,f=d.size||c.height;Rc(d.start)&&(o=d.start),c.fullSize?Vd(c,i.left,o,s.outerWidth-i.right-i.left,f):Vd(c,t.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=t.h*u,f=d.size||c.width;Rc(d.start)&&(a=d.start),c.fullSize?Vd(c,a,i.top,f,s.outerHeight-i.bottom-i.top):Vd(c,a,t.top+d.placed,f,h),d.start=a,d.placed+=h,a=c.right}}t.x=a,t.y=o}var fr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,r){if(!e)return;const i=gr(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(s-i.height,0),l=AU(e.boxes),c=l.vertical,d=l.horizontal;Ue(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);qT(f,gr(r));const m=Object.assign({maxPadding:f,w:a,h:o,x:i.left,y:i.top},i),x=EU(c.concat(d),h);Tl(l.fullSize,m,h,x),Tl(c,m,h,x),Tl(d,m,h,x)&&Tl(c,m,h,x),MU(m),yj(l.leftAndTop,m,h,x),m.x+=m.w,m.y+=m.h,yj(l.rightAndBottom,m,h,x),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ue(l.chartArea,g=>{const y=g.box;Object.assign(y,e.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class YT{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,r){}removeEventListener(t,s,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,r,i){return s=Math.max(0,s||t.width),r=r||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):r)}}isAttached(t){return!0}updateConfig(t){}}class IU extends YT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ku="$chartjs",LU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bj=e=>e===null||e==="";function OU(e,t){const s=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[ku]={initial:{height:r,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",bj(i)){const a=sj(e,"width");a!==void 0&&(e.width=a)}if(bj(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=sj(e,"height");a!==void 0&&(e.height=a)}return e}const GT=UF?{passive:!0}:!1;function FU(e,t,s){e&&e.addEventListener(t,s,GT)}function UU(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,GT)}function $U(e,t){const s=LU[e.type]||e.type,{x:r,y:i}=Vi(e,t);return{type:s,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function _h(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function BU(e,t,s){const r=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||_h(l.addedNodes,r),o=o&&!_h(l.removedNodes,r);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function zU(e,t,s){const r=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||_h(l.removedNodes,r),o=o&&!_h(l.addedNodes,r);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Oc=new Map;let vj=0;function JT(){const e=window.devicePixelRatio;e!==vj&&(vj=e,Oc.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function VU(e,t){Oc.size||window.addEventListener("resize",JT),Oc.set(e,t)}function HU(e){Oc.delete(e),Oc.size||window.removeEventListener("resize",JT)}function WU(e,t,s){const r=e.canvas,i=r&&hy(r);if(!i)return;const a=TT((l,c)=>{const d=i.clientWidth;s(l,c),d<i.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return o.observe(i),VU(e,a),o}function qm(e,t,s){s&&s.disconnect(),t==="resize"&&HU(e)}function qU(e,t,s){const r=e.canvas,i=TT(a=>{e.ctx!==null&&s($U(a,e))},e);return FU(r,t,i),i}class YU extends YT{acquireContext(t,s){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(OU(t,s),r):null}releaseContext(t){const s=t.canvas;if(!s[ku])return!1;const r=s[ku].initial;["height","width"].forEach(a=>{const o=r[a];Fe(o)?s.removeAttribute(a):s.setAttribute(a,o)});const i=r.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[ku],!0}addEventListener(t,s,r){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),o={attach:BU,detach:zU,resize:WU}[s]||qU;i[s]=o(t,s,r)}removeEventListener(t,s){const r=t.$proxies||(t.$proxies={}),i=r[s];if(!i)return;({attach:qm,detach:qm,resize:qm}[s]||UU)(t,s,i),r[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,r,i){return FF(t,s,r,i)}isAttached(t){const s=t&&hy(t);return!!(s&&s.isConnected)}}function GU(e){return!uy()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?IU:YU}var su;let Ln=(su=class{constructor(){le(this,"x");le(this,"y");le(this,"active",!1);le(this,"options");le(this,"$animations")}tooltipPosition(t){const{x:s,y:r}=this.getProps(["x","y"],t);return{x:s,y:r}}hasValue(){return Mc(this.x)&&Mc(this.y)}getProps(t,s){const r=this.$animations;if(!s||!r)return this;const i={};return t.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}},le(su,"defaults",{}),le(su,"defaultRoutes"),su);function JU(e,t){const s=e.options.ticks,r=KU(e),i=Math.min(s.maxTicksLimit||r,r),a=s.major.enabled?QU(t):[],o=a.length,l=a[0],c=a[o-1],d=[];if(o>i)return ZU(t,d,a,o/i),d;const u=XU(a,t,i);if(o>0){let h,f;const m=o>1?Math.round((c-l)/(o-1)):null;for(Hd(t,d,u,Fe(m)?0:l-m,l),h=0,f=o-1;h<f;h++)Hd(t,d,u,a[h],a[h+1]);return Hd(t,d,u,c,Fe(m)?t.length:c+m),d}return Hd(t,d,u),d}function KU(e){const t=e.options.offset,s=e._tickSize(),r=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(r,i))}function XU(e,t,s){const r=e$(e),i=t.length/s;if(!r)return Math.max(i,1);const a=O8(r);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>i)return c}return Math.max(i,1)}function QU(e){const t=[];let s,r;for(s=0,r=e.length;s<r;s++)e[s].major&&t.push(s);return t}function ZU(e,t,s,r){let i=0,a=s[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===a&&(t.push(e[o]),i++,a=s[i*r])}function Hd(e,t,s,r,i){const a=ve(r,0),o=Math.min(ve(i,e.length),e.length);let l=0,c,d,u;for(s=Math.ceil(s),i&&(c=i-r,s=c/Math.floor(c/s)),u=a;u<0;)l++,u=Math.round(a+l*s);for(d=Math.max(a,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(a+l*s))}function e$(e){const t=e.length;let s,r;if(t<2)return!1;for(r=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==r)return!1;return r}const t$=e=>e==="left"?"right":e==="right"?"left":e,wj=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,jj=(e,t)=>Math.min(t||e,e);function Nj(e,t){const s=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)s.push(e[Math.floor(a)]);return s}function s$(e,t,s){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(i),d;if(!(s&&(r===1?d=Math.max(c-a,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<a-l||c>o+l)))return c}function r$(e,t){Ue(e,s=>{const r=s.gc,i=r.length/2;let a;if(i>t){for(a=0;a<i;++a)delete s.data[r[a]];r.splice(0,i)}})}function pl(e){return e.drawTicks?e.tickLength:0}function kj(e,t){if(!e.display)return 0;const s=ns(e.font,t),r=gr(e.padding);return(Nt(e.text)?e.text.length:1)*s.lineHeight+r.height}function n$(e,t){return Ca(e,{scale:t,type:"scale"})}function i$(e,t,s){return Ca(e,{tick:s,index:t,type:"tick"})}function a$(e,t,s){let r=ny(e);return(s&&t!=="right"||!s&&t==="right")&&(r=t$(r)),r}function o$(e,t,s,r){const{top:i,left:a,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,f,m,x;const g=o-i,y=l-a;if(e.isHorizontal()){if(m=Kt(r,a,l),Ae(s)){const p=Object.keys(s)[0],b=s[p];x=u[p].getPixelForValue(b)+g-t}else s==="center"?x=(d.bottom+d.top)/2+g-t:x=wj(e,s,t);f=l-a}else{if(Ae(s)){const p=Object.keys(s)[0],b=s[p];m=u[p].getPixelForValue(b)-y+t}else s==="center"?m=(d.left+d.right)/2-y+t:m=wj(e,s,t);x=Kt(r,o,i),h=s==="left"?-Ct:Ct}return{titleX:m,titleY:x,maxWidth:f,rotation:h}}class qo extends Ln{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:r,_suggestedMax:i}=this;return t=Or(t,Number.POSITIVE_INFINITY),s=Or(s,Number.NEGATIVE_INFINITY),r=Or(r,Number.POSITIVE_INFINITY),i=Or(i,Number.NEGATIVE_INFINITY),{min:Or(t,r),max:Or(s,i),minDefined:cs(t),maxDefined:cs(s)}}getMinMax(t){let{min:s,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:s,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),i||(s=Math.min(s,o.min)),a||(r=Math.max(r,o.max));return s=a&&s>r?r:s,r=i&&s>r?s:r,{min:Or(s,Or(r,s)),max:Or(r,Or(s,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ke(this.options.beforeUpdate,[this])}update(t,s,r){const{beginAtZero:i,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xF(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Nj(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=JU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,r;this.isHorizontal()?(s=this.left,r=this.right):(s=this.top,r=this.bottom,t=!t),this._startPixel=s,this._endPixel=r,this._reversePixels=t,this._length=r-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ke(this.options.afterUpdate,[this])}beforeSetDimensions(){Ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ke(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ke(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r],a.label=Ke(s.callback,[a.value,r,t],this)}afterTickToLabelConversion(){Ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,r=jj(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!s.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=rs(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/r:m/(r-1),h+6>l&&(l=m/(r-(t.offset?.5:1)),c=this.maxHeight-pl(t.grid)-s.padding-kj(t.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=B8(Math.min(Math.asin(rs((u.highest.height+6)/l,-1,1)),Math.asin(rs(c/d,-1,1))-Math.asin(rs(f/d,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ke(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:r,title:i,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=kj(i,s.options.font);if(l?(t.width=this.maxWidth,t.height=pl(a)+c):(t.height=this.maxHeight,t.width=pl(a)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),m=r.padding*2,x=bn(this.labelRotation),g=Math.cos(x),y=Math.sin(x);if(l){const p=r.mirror?0:y*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+p+m)}else{const p=r.mirror?0:g*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+p+m)}this._calculatePadding(d,u,y,g)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,r,i){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?d?(f=i*t.width,m=r*s.height):(f=r*t.height,m=i*s.width):a==="start"?m=s.width:a==="end"?f=t.width:a!=="inner"&&(f=t.width/2,m=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;a==="start"?(u=0,h=t.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ke(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,r;for(s=0,r=t.length;s<r;s++)Fe(t[s].label)&&(t.splice(s,1),r--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let r=this.ticks;s<r.length&&(r=Nj(r,s)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,r){const{ctx:i,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(s/jj(s,r));let d=0,u=0,h,f,m,x,g,y,p,b,v,w,N;for(h=0;h<s;h+=c){if(x=t[h].label,g=this._resolveTickFontOptions(h),i.font=y=g.string,p=a[y]=a[y]||{data:{},gc:[]},b=g.lineHeight,v=w=0,!Fe(x)&&!Nt(x))v=Xw(i,p.data,p.gc,v,x),w=b;else if(Nt(x))for(f=0,m=x.length;f<m;++f)N=x[f],!Fe(N)&&!Nt(N)&&(v=Xw(i,p.data,p.gc,v,N),w+=b);o.push(v),l.push(w),d=Math.max(v,d),u=Math.max(w,u)}r$(a,s);const S=o.indexOf(d),T=l.indexOf(u),j=E=>({width:o[E]||0,height:l[E]||0});return{first:j(0),last:j(s-1),widest:j(S),highest:j(T),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return V8(this._alignToPixels?Li(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const r=s[t];return r.$context||(r.$context=i$(this.getContext(),t,r))}return this.$context||(this.$context=n$(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=bn(this.labelRotation),r=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*r>l*i?l/r:c/i:c*i<l*r?c/r:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,r=this.chart,i=this.options,{grid:a,position:o,border:l}=i,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=pl(a),m=[],x=l.setContext(this.getContext()),g=x.display?x.width:0,y=g/2,p=function(B){return Li(r,B,g)};let b,v,w,N,S,T,j,E,_,C,P,I;if(o==="top")b=p(this.bottom),T=this.bottom-f,E=b-y,C=p(t.top)+y,I=t.bottom;else if(o==="bottom")b=p(this.top),C=t.top,I=p(t.bottom)-y,T=b+y,E=this.top+f;else if(o==="left")b=p(this.right),S=this.right-f,j=b-y,_=p(t.left)+y,P=t.right;else if(o==="right")b=p(this.left),_=t.left,P=p(t.right)-y,S=b+y,j=this.left+f;else if(s==="x"){if(o==="center")b=p((t.top+t.bottom)/2+.5);else if(Ae(o)){const B=Object.keys(o)[0],L=o[B];b=p(this.chart.scales[B].getPixelForValue(L))}C=t.top,I=t.bottom,T=b+y,E=T+f}else if(s==="y"){if(o==="center")b=p((t.left+t.right)/2);else if(Ae(o)){const B=Object.keys(o)[0],L=o[B];b=p(this.chart.scales[B].getPixelForValue(L))}S=b-y,j=S-f,_=t.left,P=t.right}const $=ve(i.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/$));for(v=0;v<h;v+=H){const B=this.getContext(v),L=a.setContext(B),F=l.setContext(B),z=L.lineWidth,A=L.color,ie=F.dash||[],K=F.dashOffset,M=L.tickWidth,he=L.tickColor,be=L.tickBorderDash||[],me=L.tickBorderDashOffset;w=s$(this,v,c),w!==void 0&&(N=Li(r,w,z),d?S=j=_=P=N:T=E=C=I=N,m.push({tx1:S,ty1:T,tx2:j,ty2:E,x1:_,y1:C,x2:P,y2:I,width:z,color:A,borderDash:ie,borderDashOffset:K,tickWidth:M,tickColor:he,tickBorderDash:be,tickBorderDashOffset:me}))}return this._ticksLength=h,this._borderValue=b,m}_computeLabelItems(t){const s=this.axis,r=this.options,{position:i,ticks:a}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,f=pl(r.grid),m=f+u,x=h?-u:m,g=-bn(this.labelRotation),y=[];let p,b,v,w,N,S,T,j,E,_,C,P,I="middle";if(i==="top")S=this.bottom-x,T=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+x,T=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(f);T=H.textAlign,N=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(f);T=H.textAlign,N=H.x}else if(s==="x"){if(i==="center")S=(t.top+t.bottom)/2+m;else if(Ae(i)){const H=Object.keys(i)[0],B=i[H];S=this.chart.scales[H].getPixelForValue(B)+m}T=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")N=(t.left+t.right)/2-m;else if(Ae(i)){const H=Object.keys(i)[0],B=i[H];N=this.chart.scales[H].getPixelForValue(B)}T=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?I="top":c==="end"&&(I="bottom"));const $=this._getLabelSizes();for(p=0,b=l.length;p<b;++p){v=l[p],w=v.label;const H=a.setContext(this.getContext(p));j=this.getPixelForTick(p)+a.labelOffset,E=this._resolveTickFontOptions(p),_=E.lineHeight,C=Nt(w)?w.length:1;const B=C/2,L=H.color,F=H.textStrokeColor,z=H.textStrokeWidth;let A=T;o?(N=j,T==="inner"&&(p===b-1?A=this.options.reverse?"left":"right":p===0?A=this.options.reverse?"right":"left":A="center"),i==="top"?d==="near"||g!==0?P=-C*_+_/2:d==="center"?P=-$.highest.height/2-B*_+_:P=-$.highest.height+_/2:d==="near"||g!==0?P=_/2:d==="center"?P=$.highest.height/2-B*_:P=$.highest.height-C*_,h&&(P*=-1),g!==0&&!H.showLabelBackdrop&&(N+=_/2*Math.sin(g))):(S=j,P=(1-C)*_/2);let ie;if(H.showLabelBackdrop){const K=gr(H.backdropPadding),M=$.heights[p],he=$.widths[p];let be=P-K.top,me=0-K.left;switch(I){case"middle":be-=M/2;break;case"bottom":be-=M;break}switch(T){case"center":me-=he/2;break;case"right":me-=he;break;case"inner":p===b-1?me-=he:p>0&&(me-=he/2);break}ie={left:me,top:be,width:he+K.width,height:M+K.height,color:H.backdropColor}}y.push({label:w,font:E,textOffset:P,options:{rotation:g,color:L,strokeColor:F,strokeWidth:z,textAlign:A,textBaseline:I,translation:[N,S],backdrop:ie}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-bn(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),l=t+a,c=o.widest.width;let d,u;return s==="left"?i?(u=this.right+a,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?i?(u=this.left+a,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:r,top:i,width:a,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(r,i,a,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const l=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(s.display)for(a=0,o=i.length;a<o;++a){const c=i[a];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),o=r.display?a.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Li(t,this.left,o)-o/2,u=Li(t,this.right,l)+l/2,h=f=c):(h=Li(t,this.top,o)-o/2,f=Li(t,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&_f(r,i);const a=this.getLabelItems(t);for(const o of a){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Lc(r,d,0,u,c,l)}i&&Tf(r)}drawTitle(){const{ctx:t,options:{position:s,title:r,reverse:i}}=this;if(!r.display)return;const a=ns(r.font),o=gr(r.padding),l=r.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||Ae(s)?(c+=o.bottom,Nt(r.text)&&(c+=a.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=o$(this,c,s,l);Lc(t,r.text,0,0,a,{color:r.color,maxWidth:h,rotation:f,textAlign:a$(l,s,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,r=ve(t.grid&&t.grid.z,-1),i=ve(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==qo.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,o;for(a=0,o=s.length;a<o;++a){const l=s[a];l[r]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return ns(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Wd{constructor(t,s,r){this.type=t,this.scope=s,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let r;d$(s)&&(r=this.register(s));const i=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,l$(t,o,r),this.override&&pt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,r=t.id,i=this.scope;r in s&&delete s[r],i&&r in pt[i]&&(delete pt[i][r],this.override&&delete va[r])}}function l$(e,t,s){const r=Ac(Object.create(null),[s?pt.get(s):{},pt.get(t),e.defaults]);pt.set(t,r),e.defaultRoutes&&c$(t,e.defaultRoutes),e.descriptors&&pt.describe(t,e.descriptors)}function c$(e,t){Object.keys(t).forEach(s=>{const r=s.split("."),i=r.pop(),a=[e].concat(r).join("."),o=t[s].split("."),l=o.pop(),c=o.join(".");pt.route(a,i,c,l)})}function d$(e){return"id"in e&&"defaults"in e}class u${constructor(){this.controllers=new Wd(ca,"datasets",!0),this.elements=new Wd(Ln,"elements"),this.plugins=new Wd(Object,"plugins"),this.scales=new Wd(qo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,r){[...s].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):Ue(i,o=>{const l=r||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,s,r){const i=sy(t);Ke(r["before"+i],[],r),s[t](r),Ke(r["after"+i],[],r)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const r=this._typedRegistries[s];if(r.isForType(t))return r}return this.plugins}_get(t,s,r){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var $r=new u$;class h${constructor(){this._init=[]}notify(t,s,r,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(a,t,s,r);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,s,r,i){i=i||{};for(const a of t){const o=a.plugin,l=o[r],c=[s,i,a.options];if(Ke(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const r=t&&t.config,i=ve(r.options&&r.options.plugins,{}),a=f$(r);return i===!1&&!s?[]:p$(t,a,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],r=this._cache,i=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(s,r),t,"stop"),this._notify(i(r,s),t,"start")}}function f$(e){const t={},s=[],r=Object.keys($r.plugins.items);for(let a=0;a<r.length;a++)s.push($r.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function m$(e,t){return!t&&e===!1?null:e===!0?{}:e}function p$(e,{plugins:t,localIds:s},r,i){const a=[],o=e.getContext();for(const l of t){const c=l.id,d=m$(r[c],i);d!==null&&a.push({plugin:l,options:x$(e.config,{plugin:l,local:s[c]},d,o)})}return a}function x$(e,{plugin:t,local:s},r,i){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(r,a);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qx(e,t){const s=pt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function g$(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function y$(e,t){return e===t?"_index_":"_value_"}function Sj(e){if(e==="x"||e==="y"||e==="r")return e}function b$(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Zx(e,...t){if(Sj(e))return e;for(const s of t){const r=s.axis||b$(s.position)||e.length>1&&Sj(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function _j(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function v$(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(s.length)return _j(e,"x",s[0])||_j(e,"y",s[0])}return{}}function w$(e,t){const s=va[e.type]||{scales:{}},r=t.scales||{},i=Qx(e.type,t),a=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!Ae(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Zx(o,l,v$(o,e),pt.scales[l.type]),d=y$(c,i),u=s.scales||{};a[o]=Kl(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||Qx(l,t),u=(va[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=g$(h,c),m=o[f+"AxisID"]||f;a[m]=a[m]||Object.create(null),Kl(a[m],[{axis:f},r[m],u[h]])})}),Object.keys(a).forEach(o=>{const l=a[o];Kl(l,[pt.scales[l.type],pt.scale])}),a}function KT(e){const t=e.options||(e.options={});t.plugins=ve(t.plugins,{}),t.scales=w$(e,t)}function XT(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function j$(e){return e=e||{},e.data=XT(e.data),KT(e),e}const Tj=new Map,QT=new Set;function qd(e,t){let s=Tj.get(e);return s||(s=t(),Tj.set(e,s),QT.add(s)),s}const xl=(e,t,s)=>{const r=ba(t,s);r!==void 0&&e.add(r)};class N${constructor(t){this._config=j$(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=XT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),KT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return qd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return qd(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return qd(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,r=this.type;return qd(`${r}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const r=this._scopeCache;let i=r.get(t);return(!i||s)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,s,r){const{options:i,type:a}=this,o=this._cachedScopes(t,r),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{t&&(c.add(t),u.forEach(h=>xl(c,t,h))),u.forEach(h=>xl(c,i,h)),u.forEach(h=>xl(c,va[a]||{},h)),u.forEach(h=>xl(c,pt,h)),u.forEach(h=>xl(c,Jx,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),QT.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,va[s]||{},pt.datasets[s]||{},{type:s},pt,Jx]}resolveNamedOptions(t,s,r,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=Cj(this._resolverCache,t,i);let c=o;if(S$(o,s)){a.$shared=!1,r=vi(r)?r():r;const d=this.createResolver(t,r,l);c=Eo(o,r,d)}for(const d of s)a[d]=c[d];return a}createResolver(t,s,r=[""],i){const{resolver:a}=Cj(this._resolverCache,t,r);return Ae(s)?Eo(a,s,void 0,i):a}}function Cj(e,t,s){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=s.join();let a=r.get(i);return a||(a={resolver:ly(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,a)),a}const k$=e=>Ae(e)&&Object.getOwnPropertyNames(e).some(t=>vi(e[t]));function S$(e,t){const{isScriptable:s,isIndexable:r}=AT(e);for(const i of t){const a=s(i),o=r(i),l=(o||a)&&e[i];if(a&&(vi(l)||k$(l))||o&&Nt(l))return!0}return!1}var _$="4.5.0";const T$=["top","bottom","left","right","chartArea"];function Pj(e,t){return e==="top"||e==="bottom"||T$.indexOf(e)===-1&&t==="x"}function Ej(e,t){return function(s,r){return s[e]===r[e]?s[t]-r[t]:s[e]-r[e]}}function Aj(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Ke(s&&s.onComplete,[e],t)}function C$(e){const t=e.chart,s=t.options.animation;Ke(s&&s.onProgress,[e],t)}function ZT(e){return uy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Su={},Rj=e=>{const t=ZT(e);return Object.values(Su).filter(s=>s.canvas===t).pop()};function P$(e,t,s){const r=Object.keys(e);for(const i of r){const a=+i;if(a>=t){const o=e[i];delete e[i],(s>0||a>t)&&(e[a+s]=o)}}}function E$(e,t,s,r){return!s||e.type==="mouseout"?null:r?t:e}var $n;let Ef=($n=class{static register(...t){$r.add(...t),Mj()}static unregister(...t){$r.remove(...t),Mj()}constructor(t,s){const r=this.config=new N$(s),i=ZT(t),a=Rj(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||GU(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=C8(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new h$,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Y8(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Su[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}dn.listen(this,"complete",Aj),dn.listen(this,"progress",C$),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:r,height:i,_aspectRatio:a}=this;return Fe(t)?s&&a?a:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $r}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tj(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qw(this.canvas,this.ctx),this}stop(){return dn.stop(this),this}resize(t,s){dn.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,s,a),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tj(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Ke(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Ue(s,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,r=this.scales,i=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let a=[];s&&(a=a.concat(Object.keys(s).map(o=>{const l=s[o],c=Zx(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Ue(a,o=>{const l=o.options,c=l.id,d=Zx(c,l),u=ve(l.type,o.dtype);(l.position===void 0||Pj(l.position,d)!==Pj(o.dposition))&&(l.position=o.dposition),i[c]=!0;let h=null;if(c in r&&r[c].type===u)h=r[c];else{const f=$r.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,t)}),Ue(i,(o,l)=>{o||delete r[l]}),Ue(r,o=>{fr.configure(this,o,o.options),fr.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,r=t.length;if(t.sort((i,a)=>i.index-a.index),r>s){for(let i=s;i<r;++i)this._destroyDatasetMeta(i);t.splice(s,r-s)}this._sortedMetasets=t.slice(0).sort(Ej("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((r,i)=>{s.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=s.length;r<i;r++){const a=s[r];let o=this.getDatasetMeta(r);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=a.indexAxis||Qx(l,this.options),o.order=a.order||0,o.index=r,o.label=""+a.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=$r.getController(l),{datasetElementType:d,dataElementType:u}=pt.datasets[l];Object.assign(c,{dataElementType:$r.getElement(u),datasetElementType:d&&$r.getElement(d)}),o.controller=new c(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ue(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const r=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Ue(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ej("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ue(this.scales,t=>{fr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!zw(s,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of s){const o=r==="_removeElements"?-a:a;P$(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,r=a=>new Set(t.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),i=r(0);for(let a=1;a<s;a++)if(!zw(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fr.update(this,this.width,this.height,t);const s=this.chartArea,r=s.width<=0||s.height<=0;this._layers=[],Ue(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,r=this.data.datasets.length;s<r;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,r=this.data.datasets.length;s<r;++s)this._updateDataset(s,vi(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dn.has(this)?this.attached&&!dn.running(this)&&dn.start(this):(this.draw(),Aj({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,r=[];let i,a;for(i=0,a=s.length;i<a;++i){const o=s[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=BT(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&_f(s,i),t.controller.draw(),i&&Tf(s),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Ic(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,r,i){const a=TU.modes[s];return typeof a=="function"?a(this,t,r,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],r=this._metasets;let i=r.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ca(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!s.hidden}setDatasetVisibility(t,s){const r=this.getDatasetMeta(t);r.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,r){const i=r?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,i);Rc(s)?(a.data[s].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(a,{visible:r}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),dn.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qw(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Su[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,r=(a,o)=>{s.addEventListener(this,a,o),t[a]=o},i=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};Ue(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,r=(c,d)=>{s.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(s.removeEventListener(this,c,d),delete t[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",a),r("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){Ue(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Ue(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,r){const i=r?"set":"remove";let a,o,l,c;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],r=t.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!wh(r,s)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,s))}notifyPlugins(t,s,r){return this._plugins.notify(this,t,s,r)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,r){const i=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=a(s,t),l=r?t:a(t,s);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,s){const r={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(t,s,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(t,s,r){const{_active:i=[],options:a}=this,o=s,l=this._getActiveElements(t,i,r,o),c=D8(t),d=E$(t,this._lastEvent,r,c);r&&(this._lastEvent=null,Ke(a.onHover,[t,l,this],this),c&&Ke(a.onClick,[t,l,this],this));const u=!wh(l,i);return(u||s)&&(this._active=l,this._updateHoverStyles(l,i,s)),this._lastEvent=d,u}_getActiveElements(t,s,r,i){if(t.type==="mouseout")return[];if(!r)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},le($n,"defaults",pt),le($n,"instances",Su),le($n,"overrides",va),le($n,"registry",$r),le($n,"version",_$),le($n,"getChart",Rj),$n);function Mj(){return Ue(Ef.instances,e=>e._plugins.invalidate())}function A$(e,t,s){const{startAngle:r,x:i,y:a,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,qs(r-s));if(e.beginPath(),e.arc(i,a,o-d/2,r+h/2,s-h/2),l>0){const f=Math.min(d/l,qs(r-s));e.arc(i,a,l+d/2,s-f/2,r+f/2,!0)}else{const f=Math.min(d/2,o*qs(r-s));if(u==="round")e.arc(i,a,f,s-$e/2,r+$e/2,!0);else if(u==="bevel"){const m=2*f*f,x=-m*Math.cos(s+$e/2)+i,g=-m*Math.sin(s+$e/2)+a,y=m*Math.cos(r+$e/2)+i,p=m*Math.sin(r+$e/2)+a;e.lineTo(x,g),e.lineTo(y,p)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function R$(e,t,s){const{startAngle:r,pixelMargin:i,x:a,y:o,outerRadius:l,innerRadius:c}=t;let d=i/l;e.beginPath(),e.arc(a,o,l,r-d,s+d),c>i?(d=i/c,e.arc(a,o,c,s+d,r-d,!0)):e.arc(a,o,i,s+Ct,r-Ct),e.closePath(),e.clip()}function M$(e){return oy(e,["outerStart","outerEnd","innerStart","innerEnd"])}function D$(e,t,s,r){const i=M$(e.options.borderRadius),a=(s-t)/2,o=Math.min(a,r*t/2),l=c=>{const d=(s-Math.min(a,c))*r/2;return rs(c,0,Math.min(a,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:rs(i.innerStart,0,o),innerEnd:rs(i.innerEnd,0,o)}}function Fa(e,t,s,r){return{x:s+e*Math.cos(t),y:r+e*Math.sin(t)}}function Th(e,t,s,r,i,a){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+r+s-d,0),f=u>0?u+r+s+d:0;let m=0;const x=i-c;if(r){const H=u>0?u-r:0,B=h>0?h-r:0,L=(H+B)/2,F=L!==0?x*L/(L+r):x;m=(x-F)/2}const g=Math.max(.001,x*h-s/$e)/h,y=(x-g)/2,p=c+y+m,b=i-y-m,{outerStart:v,outerEnd:w,innerStart:N,innerEnd:S}=D$(t,f,h,b-p),T=h-v,j=h-w,E=p+v/T,_=b-w/j,C=f+N,P=f+S,I=p+N/C,$=b-S/P;if(e.beginPath(),a){const H=(E+_)/2;if(e.arc(o,l,h,E,H),e.arc(o,l,h,H,_),w>0){const z=Fa(j,_,o,l);e.arc(z.x,z.y,w,_,b+Ct)}const B=Fa(P,b,o,l);if(e.lineTo(B.x,B.y),S>0){const z=Fa(P,$,o,l);e.arc(z.x,z.y,S,b+Ct,$+Math.PI)}const L=(b-S/f+(p+N/f))/2;if(e.arc(o,l,f,b-S/f,L,!0),e.arc(o,l,f,L,p+N/f,!0),N>0){const z=Fa(C,I,o,l);e.arc(z.x,z.y,N,I+Math.PI,p-Ct)}const F=Fa(T,p,o,l);if(e.lineTo(F.x,F.y),v>0){const z=Fa(T,E,o,l);e.arc(z.x,z.y,v,p-Ct,E)}}else{e.moveTo(o,l);const H=Math.cos(E)*h+o,B=Math.sin(E)*h+l;e.lineTo(H,B);const L=Math.cos(_)*h+o,F=Math.sin(_)*h+l;e.lineTo(L,F)}e.closePath()}function I$(e,t,s,r,i){const{fullCircles:a,startAngle:o,circumference:l}=t;let c=t.endAngle;if(a){Th(e,t,s,r,c,i);for(let d=0;d<a;++d)e.fill();isNaN(l)||(c=o+(l%lt||lt))}return Th(e,t,s,r,c,i),e.fill(),c}function L$(e,t,s,r,i){const{fullCircles:a,startAngle:o,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:m}=c,x=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=f,x?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let g=t.endAngle;if(a){Th(e,t,s,r,g,i);for(let y=0;y<a;++y)e.stroke();isNaN(l)||(g=o+(l%lt||lt))}x&&R$(e,t,g),c.selfJoin&&g-o>=$e&&m===0&&u!=="miter"&&A$(e,t,g),a||(Th(e,t,s,r,g,i),e.stroke())}class Cl extends Ln{constructor(s){super();le(this,"circumference");le(this,"endAngle");le(this,"fullCircles");le(this,"innerRadius");le(this,"outerRadius");le(this,"pixelMargin");le(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,r,i){const a=this.getProps(["x","y"],i),{angle:o,distance:l}=NT(a,{x:s,y:r}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,x=ve(f,d-c),g=Dc(o,c,d)&&c!==d,y=x>=lt||g,p=vn(l,u+m,h+m);return y&&p}getCenterPoint(s){const{x:r,y:i,startAngle:a,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(a+o)/2,f=(l+c+u+d)/2;return{x:r+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:r,circumference:i}=this,a=(r.offset||0)/4,o=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>lt?Math.floor(i/lt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min($e,i||0)),u=a*d;s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,I$(s,this,u,o,l),L$(s,this,u,o,l),s.restore()}}le(Cl,"id","arc"),le(Cl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),le(Cl,"defaultRoutes",{backgroundColor:"backgroundColor"}),le(Cl,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function eC(e,t,s=t){e.lineCap=ve(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ve(s.borderDash,t.borderDash)),e.lineDashOffset=ve(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ve(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ve(s.borderWidth,t.borderWidth),e.strokeStyle=ve(s.borderColor,t.borderColor)}function O$(e,t,s){e.lineTo(s.x,s.y)}function F$(e){return e.stepped?oF:e.tension||e.cubicInterpolationMode==="monotone"?lF:O$}function tC(e,t,s={}){const r=e.length,{start:i=0,end:a=r-1}=s,{start:o,end:l}=t,c=Math.max(i,o),d=Math.min(a,l),u=i<o&&a<o||i>l&&a>l;return{count:r,start:c,loop:t.loop,ilen:d<c&&!u?r+d-c:d-c}}function U$(e,t,s,r){const{points:i,options:a}=t,{count:o,start:l,loop:c,ilen:d}=tC(i,s,r),u=F$(a);let{move:h=!0,reverse:f}=r||{},m,x,g;for(m=0;m<=d;++m)x=i[(l+(f?d-m:m))%o],!x.skip&&(h?(e.moveTo(x.x,x.y),h=!1):u(e,g,x,f,a.stepped),g=x);return c&&(x=i[(l+(f?d:0))%o],u(e,g,x,f,a.stepped)),!!c}function $$(e,t,s,r){const i=t.points,{count:a,start:o,ilen:l}=tC(i,s,r),{move:c=!0,reverse:d}=r||{};let u=0,h=0,f,m,x,g,y,p;const b=w=>(o+(d?l-w:w))%a,v=()=>{g!==y&&(e.lineTo(u,y),e.lineTo(u,g),e.lineTo(u,p))};for(c&&(m=i[b(0)],e.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=i[b(f)],m.skip)continue;const w=m.x,N=m.y,S=w|0;S===x?(N<g?g=N:N>y&&(y=N),u=(h*u+w)/++h):(v(),e.lineTo(w,N),x=S,h=0,g=y=N),p=N}v()}function eg(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?$$:U$}function B$(e){return e.stepped?$F:e.tension||e.cubicInterpolationMode==="monotone"?BF:Hi}function z$(e,t,s,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,r)&&i.closePath()),eC(e,t.options),e.stroke(i)}function V$(e,t,s,r){const{segments:i,options:a}=t,o=eg(t);for(const l of i)eC(e,a,l.style),e.beginPath(),o(e,t,l,{start:s,end:s+r-1})&&e.closePath(),e.stroke()}const H$=typeof Path2D=="function";function W$(e,t,s,r){H$&&!t.options.segment?z$(e,t,s,r):V$(e,t,s,r)}class ni extends Ln{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;RF(this._points,r,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=YF(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,r=t.length;return r&&s[t[r-1].end]}interpolate(t,s){const r=this.options,i=t[s],a=this.points,o=$T(this,{property:s,start:i,end:i});if(!o.length)return;const l=[],c=B$(r);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],m=a[h],x=a[f];if(m===x){l.push(m);continue}const g=Math.abs((i-m[s])/(x[s]-m[s])),y=c(m,x,g,r.stepped);y[s]=t[s],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,s,r){return eg(this)(t,this,s,r)}path(t,s,r){const i=this.segments,a=eg(this);let o=this._loop;s=s||0,r=r||this.points.length-s;for(const l of i)o&=a(t,this,l,{start:s,end:s+r-1});return!!o}draw(t,s,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),W$(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}le(ni,"id","line"),le(ni,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),le(ni,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),le(ni,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Dj(e,t,s,r){const i=e.options,{[s]:a}=e.getProps([s],r);return Math.abs(t-a)<i.radius+i.hitRadius}class _u extends Ln{constructor(s){super();le(this,"parsed");le(this,"skip");le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,r,i){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(r-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,r){return Dj(this,s,"x",r)}inYRange(s,r){return Dj(this,s,"y",r)}getCenterPoint(s){const{x:r,y:i}=this.getProps(["x","y"],s);return{x:r,y:i}}size(s){s=s||this.options||{};let r=s.radius||0;r=Math.max(r,r&&s.hoverRadius||0);const i=r&&s.borderWidth||0;return(r+i)*2}draw(s,r){const i=this.options;this.skip||i.radius<.1||!Ic(this,r,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Kx(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}le(_u,"id","point"),le(_u,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),le(_u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function sC(e,t){const{x:s,y:r,base:i,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,h;return e.horizontal?(h=o/2,l=Math.min(s,i),c=Math.max(s,i),d=r-h,u=r+h):(h=a/2,l=s-h,c=s+h,d=Math.min(r,i),u=Math.max(r,i)),{left:l,top:d,right:c,bottom:u}}function ii(e,t,s,r){return e?0:rs(t,s,r)}function q$(e,t,s){const r=e.options.borderWidth,i=e.borderSkipped,a=ET(r);return{t:ii(i.top,a.top,0,s),r:ii(i.right,a.right,0,t),b:ii(i.bottom,a.bottom,0,s),l:ii(i.left,a.left,0,t)}}function Y$(e,t,s){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=po(i),o=Math.min(t,s),l=e.borderSkipped,c=r||Ae(i);return{topLeft:ii(!c||l.top||l.left,a.topLeft,0,o),topRight:ii(!c||l.top||l.right,a.topRight,0,o),bottomLeft:ii(!c||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:ii(!c||l.bottom||l.right,a.bottomRight,0,o)}}function G$(e){const t=sC(e),s=t.right-t.left,r=t.bottom-t.top,i=q$(e,s/2,r/2),a=Y$(e,s/2,r/2);return{outer:{x:t.left,y:t.top,w:s,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Ym(e,t,s,r){const i=t===null,a=s===null,l=e&&!(i&&a)&&sC(e,r);return l&&(i||vn(t,l.left,l.right))&&(a||vn(s,l.top,l.bottom))}function J$(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function K$(e,t){e.rect(t.x,t.y,t.w,t.h)}function Gm(e,t,s={}){const r=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-r,o=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}class Tu extends Ln{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:o}=G$(this),l=J$(o.radius)?kh:K$;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),l(t,Gm(o,s,a)),t.clip(),l(t,Gm(a,-s,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,Gm(a,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,r){return Ym(this,t,s,r)}inXRange(t,s){return Ym(this,t,null,s)}inYRange(t,s){return Ym(this,null,t,s)}getCenterPoint(t){const{x:s,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(s+i)/2:s,y:a?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}le(Tu,"id","bar"),le(Tu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),le(Tu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function X$(e,t,s){const r=e.segments,i=e.points,a=t.points,o=[];for(const l of r){let{start:c,end:d}=l;d=Af(c,d,i);const u=tg(s,i[c],i[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:i[c],end:i[d]});continue}const h=$T(t,u);for(const f of h){const m=tg(s,a[f.start],a[f.end],f.loop),x=UT(l,i,m);for(const g of x)o.push({source:g,target:f,start:{[s]:Ij(u,m,"start",Math.max)},end:{[s]:Ij(u,m,"end",Math.min)}})}}return o}function tg(e,t,s,r){if(r)return;let i=t[e],a=s[e];return e==="angle"&&(i=qs(i),a=qs(a)),{property:e,start:i,end:a}}function Q$(e,t){const{x:s=null,y:r=null}=e||{},i=t.points,a=[];return t.segments.forEach(({start:o,end:l})=>{l=Af(o,l,i);const c=i[o],d=i[l];r!==null?(a.push({x:c.x,y:r}),a.push({x:d.x,y:r})):s!==null&&(a.push({x:s,y:c.y}),a.push({x:s,y:d.y}))}),a}function Af(e,t,s){for(;t>e;t--){const r=s[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function Ij(e,t,s,r){return e&&t?r(e[s],t[s]):e?e[s]:t?t[s]:0}function rC(e,t){let s=[],r=!1;return Nt(e)?(r=!0,s=e):s=Q$(e,t),s.length?new ni({points:s,options:{tension:0},_loop:r,_fullLoop:r}):null}function Lj(e){return e&&e.fill!==!1}function Z$(e,t,s){let i=e[t].fill;const a=[t];let o;if(!s)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!cs(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function e9(e,t,s){const r=n9(e);if(Ae(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return cs(i)&&Math.floor(i)===i?t9(r[0],t,i,s):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function t9(e,t,s,r){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=r?!1:s}function s9(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:Ae(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function r9(e,t,s){let r;return e==="start"?r=s:e==="end"?r=t.options.reverse?t.min:t.max:Ae(e)?r=e.value:r=t.getBaseValue(),r}function n9(e){const t=e.options,s=t.fill;let r=ve(s&&s.target,s);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function i9(e){const{scale:t,index:s,line:r}=e,i=[],a=r.segments,o=r.points,l=a9(t,s);l.push(rC({x:null,y:t.bottom},r));for(let c=0;c<a.length;c++){const d=a[c];for(let u=d.start;u<=d.end;u++)o9(i,o[u],l)}return new ni({points:i,options:{}})}function a9(e,t){const s=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const a=r[i];if(a.index===t)break;a.hidden||s.unshift(a.dataset)}return s}function o9(e,t,s){const r=[];for(let i=0;i<s.length;i++){const a=s[i],{first:o,last:l,point:c}=l9(a,t,"x");if(!(!c||o&&l)){if(o)r.unshift(c);else if(e.push(c),!l)break}}e.push(...r)}function l9(e,t,s){const r=e.interpolate(t,s);if(!r)return{};const i=r[s],a=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<a.length;d++){const u=a[d],h=o[u.start][s],f=o[u.end][s];if(vn(i,h,f)){l=i===h,c=i===f;break}}return{first:l,last:c,point:r}}class nC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,r){const{x:i,y:a,radius:o}=this;return s=s||{start:0,end:lt},t.arc(i,a,o,s.end,s.start,!0),!r.bounds}interpolate(t){const{x:s,y:r,radius:i}=this,a=t.angle;return{x:s+Math.cos(a)*i,y:r+Math.sin(a)*i,angle:a}}}function c9(e){const{chart:t,fill:s,line:r}=e;if(cs(s))return d9(t,s);if(s==="stack")return i9(e);if(s==="shape")return!0;const i=u9(e);return i instanceof nC?i:rC(i,r)}function d9(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function u9(e){return(e.scale||{}).getPointPositionForValue?f9(e):h9(e)}function h9(e){const{scale:t={},fill:s}=e,r=s9(s,t);if(cs(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function f9(e){const{scale:t,fill:s}=e,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,o=r9(s,t,a),l=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,a);return new nC({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(t.getPointPositionForValue(c,o));return l}function Jm(e,t,s){const r=c9(t),{chart:i,index:a,line:o,scale:l,axis:c}=t,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:m=h}=u||{},x=i.getDatasetMeta(a),g=BT(i,x);r&&o.points.length&&(_f(e,s),m9(e,{line:o,target:r,above:f,below:m,area:s,scale:l,axis:c,clip:g}),Tf(e))}function m9(e,t){const{line:s,target:r,above:i,below:a,area:o,scale:l,clip:c}=t,d=s._loop?"angle":t.axis;e.save();let u=a;a!==i&&(d==="x"?(Oj(e,r,o.top),Km(e,{line:s,target:r,color:i,scale:l,property:d,clip:c}),e.restore(),e.save(),Oj(e,r,o.bottom)):d==="y"&&(Fj(e,r,o.left),Km(e,{line:s,target:r,color:a,scale:l,property:d,clip:c}),e.restore(),e.save(),Fj(e,r,o.right),u=i)),Km(e,{line:s,target:r,color:u,scale:l,property:d,clip:c}),e.restore()}function Oj(e,t,s){const{segments:r,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of r){const{start:c,end:d}=l,u=i[c],h=i[Af(c,d,i)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(h.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function Fj(e,t,s){const{segments:r,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of r){const{start:c,end:d}=l,u=i[c],h=i[Af(c,d,i)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(s,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(s,h.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function Km(e,t){const{line:s,target:r,property:i,color:a,scale:o,clip:l}=t,c=X$(s,r,i);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:m=a}={}}=d,x=r!==!0;e.save(),e.fillStyle=m,p9(e,o,l,x&&tg(i,h,f)),e.beginPath();const g=!!s.pathSegment(e,d);let y;if(x){g?e.closePath():Uj(e,r,f,i);const p=!!r.pathSegment(e,u,{move:g,reverse:!0});y=g&&p,y||Uj(e,r,h,i)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function p9(e,t,s,r){const i=t.chart.chartArea,{property:a,start:o,end:l}=r||{};if(a==="x"||a==="y"){let c,d,u,h;a==="x"?(c=o,d=i.top,u=l,h=i.bottom):(c=i.left,d=o,u=i.right,h=l),e.beginPath(),s&&(c=Math.max(c,s.left),u=Math.min(u,s.right),d=Math.max(d,s.top),h=Math.min(h,s.bottom)),e.rect(c,d,u-c,h-d),e.clip()}}function Uj(e,t,s,r){const i=t.interpolate(s,r);i&&e.lineTo(i.x,i.y)}var x9={id:"filler",afterDatasetsUpdate(e,t,s){const r=(e.data.datasets||[]).length,i=[];let a,o,l,c;for(o=0;o<r;++o)a=e.getDatasetMeta(o),l=a.dataset,c=null,l&&l.options&&l instanceof ni&&(c={visible:e.isDatasetVisible(o),index:o,fill:e9(l,o,r),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=Z$(i,o,s.propagate))},beforeDraw(e,t,s){const r=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(a,l.axis),r&&l.fill&&Jm(e.ctx,l,a))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const a=r[i].$filler;Lj(a)&&Jm(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,s){const r=t.meta.$filler;!Lj(r)||s.drawTime!=="beforeDatasetDraw"||Jm(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $j=(e,t)=>{let{boxHeight:s=t,boxWidth:r=t}=e;return e.usePointStyle&&(s=Math.min(s,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:s,itemHeight:Math.max(t,s)}},g9=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Bj extends Ln{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,r){this.maxWidth=t,this.maxHeight=s,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Ke(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(r=>t.filter(r,this.chart.data))),t.sort&&(s=s.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=ns(r.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=$j(r,a);let d,u;s.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,a,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,r,i){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+l;let h=t;a.textAlign="left",a.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((x,g)=>{const y=r+s/2+a.measureText(x.text).width;(g===0||d[d.length-1]+y+2*l>o)&&(h+=u,d[d.length-(g>0?0:1)]=0,m+=u,f++),c[g]={left:0,top:m,row:f,width:y,height:i},d[d.length-1]+=y+l}),h}_fitCols(t,s,r,i){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let h=l,f=0,m=0,x=0,g=0;return this.legendItems.forEach((y,p)=>{const{itemWidth:b,itemHeight:v}=y9(r,s,a,y,i);p>0&&m+v+2*l>u&&(h+=f+l,d.push({width:f,height:m}),x+=f+l,g++,f=m=0),c[p]={left:x,top:m,col:g,width:b,height:v},f=Math.max(f,b),m+=v+l}),h+=f,d.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:r,labels:{padding:i},rtl:a}}=this,o=xo(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=Kt(r,this.left+i,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=Kt(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+t+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=Kt(r,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=Kt(r,this.top+t+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;_f(t,this),this._draw(),Tf(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:r,ctx:i}=this,{align:a,labels:o}=t,l=pt.color,c=xo(t.rtl,this.left,this.width),d=ns(o.font),{padding:u}=o,h=d.size,f=h/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:x,boxHeight:g,itemHeight:y}=$j(o,h),p=function(S,T,j){if(isNaN(x)||x<=0||isNaN(g)||g<0)return;i.save();const E=ve(j.lineWidth,1);if(i.fillStyle=ve(j.fillStyle,l),i.lineCap=ve(j.lineCap,"butt"),i.lineDashOffset=ve(j.lineDashOffset,0),i.lineJoin=ve(j.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=ve(j.strokeStyle,l),i.setLineDash(ve(j.lineDash,[])),o.usePointStyle){const _={radius:g*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:E},C=c.xPlus(S,x/2),P=T+f;PT(i,_,C,P,o.pointStyleWidth&&x)}else{const _=T+Math.max((h-g)/2,0),C=c.leftForLtr(S,x),P=po(j.borderRadius);i.beginPath(),Object.values(P).some(I=>I!==0)?kh(i,{x:C,y:_,w:x,h:g,radius:P}):i.rect(C,_,x,g),i.fill(),E!==0&&i.stroke()}i.restore()},b=function(S,T,j){Lc(i,j.text,S,T+y/2,d,{strikethrough:j.hidden,textAlign:c.textAlign(j.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?m={x:Kt(a,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:m={x:this.left+u,y:Kt(a,this.top+w+u,this.bottom-s[0].height),line:0},LT(this.ctx,t.textDirection);const N=y+u;this.legendItems.forEach((S,T)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const j=i.measureText(S.text).width,E=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),_=x+f+j;let C=m.x,P=m.y;c.setWidth(this.width),v?T>0&&C+_+u>this.right&&(P=m.y+=N,m.line++,C=m.x=Kt(a,this.left+u,this.right-r[m.line])):T>0&&P+N>this.bottom&&(C=m.x=C+s[m.line].width+u,m.line++,P=m.y=Kt(a,this.top+w+u,this.bottom-s[m.line].height));const I=c.x(C);if(p(I,P,S),C=G8(E,C+x+f,v?C+_:this.right,t.rtl),b(c.x(C),P,S),v)m.x+=_+u;else if(typeof S.text!="string"){const $=d.lineHeight;m.y+=iC(S,$)+u}else m.y+=N}),OT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,r=ns(s.font),i=gr(s.padding);if(!s.display)return;const a=xo(t.rtl,this.left,this.width),o=this.ctx,l=s.position,c=r.size/2,d=i.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=Kt(t.align,h,this.right-f);else{const x=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=d+Kt(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const m=Kt(l,h,h+f);o.textAlign=a.textAlign(ny(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=r.string,Lc(o,s.text,m,u,r)}_computeTitleHeight(){const t=this.options.title,s=ns(t.font),r=gr(t.padding);return t.display?s.lineHeight+r.height:0}_getLegendItemAt(t,s){let r,i,a;if(vn(t,this.left,this.right)&&vn(s,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],vn(t,i.left,i.left+i.width)&&vn(s,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const s=this.options;if(!w9(t.type,s))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=g9(i,r);i&&!a&&Ke(s.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!a&&Ke(s.onHover,[t,r,this],this)}else r&&Ke(s.onClick,[t,r,this],this)}}function y9(e,t,s,r,i){const a=b9(r,e,t,s),o=v9(i,r,t.lineHeight);return{itemWidth:a,itemHeight:o}}function b9(e,t,s,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),t+s.size/2+r.measureText(i).width}function v9(e,t,s){let r=e;return typeof t.text!="string"&&(r=iC(t,s)),r}function iC(e,t){const s=e.text?e.text.length:0;return t*s}function w9(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var j9={id:"legend",_element:Bj,start(e,t,s){const r=e.legend=new Bj({ctx:e.ctx,options:s,chart:e});fr.configure(e,r,s),fr.addBox(e,r)},stop(e){fr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const r=e.legend;fr.configure(e,r,s),r.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const r=t.datasetIndex,i=s.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:r,textAlign:i,color:a,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=gr(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class aC extends Ln{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=Nt(r.text)?r.text.length:1;this._padding=gr(r.padding);const a=i*ns(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:r,bottom:i,right:a,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Kt(l,r,a),h=s+t,d=a-r):(o.position==="left"?(u=r+t,h=Kt(l,i,s),c=$e*-.5):(u=a-t,h=Kt(l,s,i),c=$e*.5),d=i-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const r=ns(s.font),a=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(a);Lc(t,s.text,0,0,r,{color:s.color,maxWidth:c,rotation:d,textAlign:ny(s.align),textBaseline:"middle",translation:[o,l]})}}function N9(e,t){const s=new aC({ctx:e.ctx,options:t,chart:e});fr.configure(e,s,t),fr.addBox(e,s),e.titleBlock=s}var k9={id:"title",_element:aC,start(e,t,s){N9(e,s)},stop(e){const t=e.titleBlock;fr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const r=e.titleBlock;fr.configure(e,r,s),r.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pl={average(e){if(!e.length)return!1;let t,s,r=new Set,i=0,a=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),i+=c.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,r=t.y,i=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=e.length;a<o;++a){const c=e[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Gx(t,d);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,r=c.y}return{x:s,y:r}}};function Fr(e,t){return t&&(Nt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function un(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function S9(e,t){const{element:s,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:o,value:l}=a.getLabelAndValue(i);return{chart:e,label:o,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:s}}function zj(e,t){const s=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:o,boxHeight:l}=t,c=ns(t.bodyFont),d=ns(t.titleFont),u=ns(t.footerFont),h=a.length,f=i.length,m=r.length,x=gr(t.padding);let g=x.height,y=0,p=r.reduce((w,N)=>w+N.before.length+N.lines.length+N.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),p){const w=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=m*w+(p-m)*c.lineHeight+(p-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0;const v=function(w){y=Math.max(y,s.measureText(w).width+b)};return s.save(),s.font=d.string,Ue(e.title,v),s.font=c.string,Ue(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?o+2+t.boxPadding:0,Ue(r,w=>{Ue(w.before,v),Ue(w.lines,v),Ue(w.after,v)}),b=0,s.font=u.string,Ue(e.footer,v),s.restore(),y+=x.width,{width:y,height:g}}function _9(e,t){const{y:s,height:r}=t;return s<r/2?"top":s>e.height-r/2?"bottom":"center"}function T9(e,t,s,r){const{x:i,width:a}=r,o=s.caretSize+s.caretPadding;if(e==="left"&&i+a+o>t.width||e==="right"&&i-a-o<0)return!0}function C9(e,t,s,r){const{x:i,width:a}=s,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return r==="center"?d=i<=(l+c)/2?"left":"right":i<=a/2?d="left":i>=o-a/2&&(d="right"),T9(d,e,t,s)&&(d="center"),d}function Vj(e,t,s){const r=s.yAlign||t.yAlign||_9(e,s);return{xAlign:s.xAlign||t.xAlign||C9(e,t,s,r),yAlign:r}}function P9(e,t){let{x:s,width:r}=e;return t==="right"?s-=r:t==="center"&&(s-=r/2),s}function E9(e,t,s){let{y:r,height:i}=e;return t==="top"?r+=s:t==="bottom"?r-=i+s:r-=i/2,r}function Hj(e,t,s,r){const{caretSize:i,caretPadding:a,cornerRadius:o}=e,{xAlign:l,yAlign:c}=s,d=i+a,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=po(o);let x=P9(t,l);const g=E9(t,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,f)+i:l==="right"&&(x+=Math.max(h,m)+i),{x:rs(x,0,r.width-t.width),y:rs(g,0,r.height-t.height)}}function Yd(e,t,s){const r=gr(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Wj(e){return Fr([],un(e))}function A9(e,t,s){return Ca(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function qj(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const oC={beforeTitle:ln,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,r=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return s[t.dataIndex]}return""},afterTitle:ln,beforeBody:ln,beforeLabel:ln,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Fe(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:ln,afterBody:ln,beforeFooter:ln,footer:ln,afterFooter:ln};function Ts(e,t,s,r){const i=e[t].call(s,r);return typeof i>"u"?oC[t].call(s,r):i}class sg extends Ln{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&s.options.animation&&r.animations,a=new zT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=A9(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:r}=s,i=Ts(r,"beforeTitle",this,t),a=Ts(r,"title",this,t),o=Ts(r,"afterTitle",this,t);let l=[];return l=Fr(l,un(i)),l=Fr(l,un(a)),l=Fr(l,un(o)),l}getBeforeBody(t,s){return Wj(Ts(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:r}=s,i=[];return Ue(t,a=>{const o={before:[],lines:[],after:[]},l=qj(r,a);Fr(o.before,un(Ts(l,"beforeLabel",this,a))),Fr(o.lines,Ts(l,"label",this,a)),Fr(o.after,un(Ts(l,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(t,s){return Wj(Ts(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:r}=s,i=Ts(r,"beforeFooter",this,t),a=Ts(r,"footer",this,t),o=Ts(r,"afterFooter",this,t);let l=[];return l=Fr(l,un(i)),l=Fr(l,un(a)),l=Fr(l,un(o)),l}_createItems(t){const s=this._active,r=this.chart.data,i=[],a=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(S9(this.chart,s[c]));return t.filter&&(l=l.filter((u,h,f)=>t.filter(u,h,f,r))),t.itemSort&&(l=l.sort((u,h)=>t.itemSort(u,h,r))),Ue(l,u=>{const h=qj(t.callbacks,u);i.push(Ts(h,"labelColor",this,u)),a.push(Ts(h,"labelPointStyle",this,u)),o.push(Ts(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(t,s){const r=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=Pl[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=zj(this,r),d=Object.assign({},l,c),u=Vj(this.chart,r,d),h=Hj(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,r,i){const a=this.getCaretPosition(t,r,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,r){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=po(l),{x:f,y:m}=t,{width:x,height:g}=s;let y,p,b,v,w,N;return a==="center"?(w=m+g/2,i==="left"?(y=f,p=y-o,v=w+o,N=w-o):(y=f+x,p=y+o,v=w-o,N=w+o),b=y):(i==="left"?p=f+Math.max(c,u)+o:i==="right"?p=f+x-Math.max(d,h)-o:p=this.caretX,a==="top"?(v=m,w=v-o,y=p-o,b=p+o):(v=m+g,w=v+o,y=p+o,b=p-o),N=v),{x1:y,x2:p,x3:b,y1:v,y2:w,y3:N}}drawTitle(t,s,r){const i=this.title,a=i.length;let o,l,c;if(a){const d=xo(r.rtl,this.x,this.width);for(t.x=Yd(this,r.titleAlign,r),s.textAlign=d.textAlign(r.titleAlign),s.textBaseline="middle",o=ns(r.titleFont),l=r.titleSpacing,s.fillStyle=r.titleColor,s.font=o.string,c=0;c<a;++c)s.fillText(i[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===a&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,s,r,i,a){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=a,u=ns(a.bodyFont),h=Yd(this,"left",a),f=i.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,x=s.y+m;if(a.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=i.leftForLtr(f,d)+d/2,p=x+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Kx(t,g,y,p),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Kx(t,g,y,p)}else{t.lineWidth=Ae(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(f,d),y=i.leftForLtr(i.xPlus(f,1),d-2),p=po(o.borderRadius);Object.values(p).some(b=>b!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,kh(t,{x:g,y:x,w:d,h:c,radius:p}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),kh(t,{x:y,y:x+1,w:d-2,h:c-2,radius:p}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(g,x,d,c),t.strokeRect(g,x,d,c),t.fillStyle=o.backgroundColor,t.fillRect(y,x+1,d-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,s,r){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=r,h=ns(r.bodyFont);let f=h.lineHeight,m=0;const x=xo(r.rtl,this.x,this.width),g=function(j){s.fillText(j,x.x(t.x+m),t.y+f/2),t.y+=f+a},y=x.textAlign(o);let p,b,v,w,N,S,T;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,t.x=Yd(this,y,r),s.fillStyle=r.bodyColor,Ue(this.beforeBody,g),m=l&&y!=="right"?o==="center"?d/2+u:d+2+u:0,w=0,S=i.length;w<S;++w){for(p=i[w],b=this.labelTextColors[w],s.fillStyle=b,Ue(p.before,g),v=p.lines,l&&v.length&&(this._drawColorBox(s,t,w,x,r),f=Math.max(h.lineHeight,c)),N=0,T=v.length;N<T;++N)g(v[N]),f=h.lineHeight;Ue(p.after,g)}m=0,f=h.lineHeight,Ue(this.afterBody,g),t.y-=a}drawFooter(t,s,r){const i=this.footer,a=i.length;let o,l;if(a){const c=xo(r.rtl,this.x,this.width);for(t.x=Yd(this,r.footerAlign,r),t.y+=r.footerMarginTop,s.textAlign=c.textAlign(r.footerAlign),s.textBaseline="middle",o=ns(r.footerFont),s.fillStyle=r.footerColor,s.font=o.string,l=0;l<a;++l)s.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,s,r,i){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:x}=po(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(t,s,r,i),s.lineTo(l+d-f,c),s.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&a==="right"&&this.drawCaret(t,s,r,i),s.lineTo(l+d,c+u-x),s.quadraticCurveTo(l+d,c+u,l+d-x,c+u),o==="bottom"&&this.drawCaret(t,s,r,i),s.lineTo(l+m,c+u),s.quadraticCurveTo(l,c+u,l,c+u-m),o==="center"&&a==="left"&&this.drawCaret(t,s,r,i),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const o=Pl[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=zj(this,t),c=Object.assign({},o,this._size),d=Vj(s,t,c),u=Hj(t,c,d,s);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=gr(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,i,s),LT(t,s.textDirection),a.y+=o.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),OT(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const r=this._active,i=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),a=!wh(r,i),o=this._positionChanged(i,s);(a||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(t,a,s,r),l=this._positionChanged(o,t),c=s||!wh(o,a)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,r,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:r,caretY:i,options:a}=this,o=Pl[a.position].call(this,t,s);return o!==!1&&(r!==o.x||i!==o.y)}}le(sg,"positioners",Pl);var R9={id:"tooltip",_element:sg,positioners:Pl,afterInit(e,t,s){s&&(e.tooltip=new sg({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const M9=(e,t,s,r)=>(typeof t=="string"?(s=e.push(t)-1,r.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function D9(e,t,s,r){const i=e.indexOf(t);if(i===-1)return M9(e,t,s,r);const a=e.lastIndexOf(t);return i!==a?s:i}const I9=(e,t)=>e===null?null:rs(Math.round(e),0,t);function Yj(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class rg extends qo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const r=this.getLabels();for(const{index:i,label:a}of s)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Fe(t))return null;const r=this.getLabels();return s=isFinite(s)&&r[s]===t?s:D9(r,t,ve(s,t),this._addedLabels),I9(s,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),s||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,s=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=s;o++)i.push({value:o});return i}getLabelForValue(t){return Yj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}le(rg,"id","category"),le(rg,"defaults",{ticks:{callback:Yj}});function L9(e,t){const s=[],{bounds:i,step:a,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=e,m=a||1,x=u-1,{min:g,max:y}=t,p=!Fe(o),b=!Fe(l),v=!Fe(d),w=(y-g)/(h+1);let N=Hw((y-g)/x/m)*m,S,T,j,E;if(N<1e-14&&!p&&!b)return[{value:g},{value:y}];E=Math.ceil(y/N)-Math.floor(g/N),E>x&&(N=Hw(E*N/x/m)*m),Fe(c)||(S=Math.pow(10,c),N=Math.ceil(N*S)/S),i==="ticks"?(T=Math.floor(g/N)*N,j=Math.ceil(y/N)*N):(T=g,j=y),p&&b&&a&&U8((l-o)/a,N/1e3)?(E=Math.round(Math.min((l-o)/N,u)),N=(l-o)/E,T=o,j=l):v?(T=p?o:T,j=b?l:j,E=d-1,N=(j-T)/E):(E=(j-T)/N,Xl(E,Math.round(E),N/1e3)?E=Math.round(E):E=Math.ceil(E));const _=Math.max(Ww(N),Ww(T));S=Math.pow(10,Fe(c)?_:c),T=Math.round(T*S)/S,j=Math.round(j*S)/S;let C=0;for(p&&(f&&T!==o?(s.push({value:o}),T<o&&C++,Xl(Math.round((T+C*N)*S)/S,o,Gj(o,w,e))&&C++):T<o&&C++);C<E;++C){const P=Math.round((T+C*N)*S)/S;if(b&&P>l)break;s.push({value:P})}return b&&f&&j!==l?s.length&&Xl(s[s.length-1].value,l,Gj(l,w,e))?s[s.length-1].value=l:s.push({value:l}):(!b||j===l)&&s.push({value:j}),s}function Gj(e,t,{horizontal:s,minRotation:r}){const i=bn(r),a=(s?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class O9 extends qo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Fe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const o=c=>i=s?i:c,l=c=>a=r?a:c;if(t){const c=Kr(i),d=Kr(a);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);l(a+c),t||o(i-c)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,o=L9(i,a);return t.bounds==="ticks"&&$8(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-s)/Math.max(t.length-1,1)/2;s-=i,r+=i}this._startValue=s,this._endValue=r,this._valueRange=r-s}getLabelForValue(t){return ay(t,this.chart.options.locale,this.options.ticks.format)}}class ng extends O9{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=cs(t)?t:0,this.max=cs(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,r=bn(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}le(ng,"id","linear"),le(ng,"defaults",{ticks:{callback:CT.formatters.numeric}});const Rf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ms=Object.keys(Rf);function Jj(e,t){return e-t}function Kj(e,t){if(Fe(t))return null;const s=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),cs(o)||(o=typeof r=="string"?s.parse(o,r):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(Mc(a)||a===!0)?s.startOf(o,"isoWeek",a):s.startOf(o,i)),+o)}function Xj(e,t,s,r){const i=Ms.length;for(let a=Ms.indexOf(e);a<i-1;++a){const o=Rf[Ms[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(l*o.size))<=r)return Ms[a]}return Ms[i-1]}function F9(e,t,s,r,i){for(let a=Ms.length-1;a>=Ms.indexOf(s);a--){const o=Ms[a];if(Rf[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Ms[s?Ms.indexOf(s):0]}function U9(e){for(let t=Ms.indexOf(e)+1,s=Ms.length;t<s;++t)if(Rf[Ms[t]].common)return Ms[t]}function Qj(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:r,hi:i}=ry(s,t),a=s[r]>=t?s[r]:s[i];e[a]=!0}}function $9(e,t,s,r){const i=e._adapter,a=+i.startOf(t[0].value,r),o=t[t.length-1].value;let l,c;for(l=a;l<=o;l=+i.add(l,1,r))c=s[l],c>=0&&(t[c].major=!0);return t}function Zj(e,t,s){const r=[],i={},a=t.length;let o,l;for(o=0;o<a;++o)l=t[o],i[l]=o,r.push({value:l,major:!1});return a===0||!s?r:$9(e,r,i,s)}class Ch extends qo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const r=t.time||(t.time={}),i=this._adapter=new jU._date(t.adapters.date);i.init(s),Kl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Kj(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,r=t.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=cs(i)&&!isNaN(i)?i:+s.startOf(Date.now(),r),a=cs(a)&&!isNaN(a)?a:+s.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],r=t[t.length-1]),{min:s,max:r}}buildTicks(){const t=this.options,s=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,l=W8(i,a,o);return this._unit=s.unit||(r.autoSkip?Xj(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):F9(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:U9(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),Zj(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,r=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=rs(s,0,o),r=rs(r,0,o),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const t=this._adapter,s=this.min,r=this.max,i=this.options,a=i.time,o=a.unit||Xj(a.minUnit,s,r,this._getLabelCapacity(s)),l=ve(i.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,d=Mc(c)||c===!0,u={};let h=s,f,m;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":o),t.diff(r,s,o)>1e5*l)throw new Error(s+" and "+r+" are too far apart with stepSize of "+l+" "+o);const x=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<r;f=+t.add(f,l,o),m++)Qj(u,f,x);return(f===r||i.bounds==="ticks"||m===1)&&Qj(u,f,x),Object.keys(u).sort(Jj).map(g=>+g)}getLabelForValue(t){const s=this._adapter,r=this.options.time;return r.tooltipFormat?s.format(t,r.tooltipFormat):s.format(t,r.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,a=this._unit,o=s||i[a];return this._adapter.format(t,o)}_tickFormatFunction(t,s,r,i){const a=this.options,o=a.ticks.callback;if(o)return Ke(o,[t,s,r],this);const l=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=r[s],m=d&&h&&f&&f.major;return this._adapter.format(t,i||(m?h:u))}generateTickLabels(t){let s,r,i;for(s=0,r=t.length;s<r;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,r=this.ctx.measureText(t).width,i=bn(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*a+l*o,h:r*o+l*a}}_getLabelCapacity(t){const s=this.options.time,r=s.displayFormats,i=r[s.unit]||r.millisecond,a=this._tickFormatFunction(t,0,Zj(this,[t],this._majorUnit),i),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,r=i.length;s<r;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,r;if(t.length)return t;const i=this.getLabels();for(s=0,r=i.length;s<r;++s)t.push(Kj(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ST(t.sort(Jj))}}le(Ch,"id","time"),le(Ch,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gd(e,t,s){let r=0,i=e.length-1,a,o,l,c;s?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=ta(e,"pos",t)),{pos:a,time:l}=e[r],{pos:o,time:c}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=ta(e,"time",t)),{time:a,pos:l}=e[r],{time:o,pos:c}=e[i]);const d=o-a;return d?l+(c-l)*(t-a)/d:l}class e1 extends Ch{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Gd(s,this.min),this._tableRange=Gd(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:r}=this,i=[],a=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=s&&d<=r&&i.push(d);if(i.length<2)return[{time:s,pos:0},{time:r,pos:1}];for(o=0,l=i.length;o<l;++o)u=i[o+1],c=i[o-1],d=i[o],Math.round((u+c)/2)!==d&&a.push({time:d,pos:o/(l-1)});return a}_generate(){const t=this.min,s=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(s)||r.length===1)&&r.push(s),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),r=this.getLabelTimestamps();return s.length&&r.length?t=this.normalize(s.concat(r)):t=s.length?s:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Gd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return Gd(this._table,r*this._tableRange+this._minPos,!0)}}le(e1,"id","timeseries"),le(e1,"defaults",Ch.defaults);const lC="label";function t1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function B9(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function cC(e,t){e.labels=t}function dC(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lC;const r=[];e.datasets=t.map(i=>{const a=e.datasets.find(o=>o[s]===i[s]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function z9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lC;const s={labels:[],datasets:[]};return cC(s,e.labels),dC(s,e.datasets,t),s}function V9(e,t){const{height:s=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=e,m=k.useRef(null),x=k.useRef(null),g=()=>{m.current&&(x.current=new Ef(m.current,{type:o,data:z9(l,a),options:c&&{...c},plugins:d}),t1(t,x.current))},y=()=>{t1(t,null),x.current&&(x.current.destroy(),x.current=null)};return k.useEffect(()=>{!i&&x.current&&c&&B9(x.current,c)},[i,c]),k.useEffect(()=>{!i&&x.current&&cC(x.current.config.data,l.labels)},[i,l.labels]),k.useEffect(()=>{!i&&x.current&&l.datasets&&dC(x.current.config.data,l.datasets,a)},[i,l.datasets]),k.useEffect(()=>{x.current&&(i?(y(),setTimeout(g)):x.current.update(h))},[i,c,l.labels,l.datasets,h]),k.useEffect(()=>{x.current&&(y(),setTimeout(g))},[o]),k.useEffect(()=>(g(),()=>y()),[]),De.createElement("canvas",{ref:m,role:"img",height:s,width:r,...f},u)}const H9=k.forwardRef(V9);function Mf(e,t){return Ef.register(t),k.forwardRef((s,r)=>De.createElement(H9,{...s,ref:r,type:e}))}const W9=Mf("line",Nu),q9=Mf("bar",ju),Y9=Mf("doughnut",eo),G9=Mf("pie",Xx),J9=()=>{const{ordersHistory:e,robots:t,positions:s,fetchRobots:r,updateRobotPerformanceFromSignals:i}=ws(),[a,o]=k.useState(!1),[l,c]=k.useState(null),[d,u]=k.useState(1200),[h,f]=k.useState({});k.useEffect(()=>{const b=D.channel("positions-changes").on("postgres_changes",{event:"*",schema:"public",table:"positions"},()=>{r(),i(),m(),u(1200)}).subscribe();return console.log("robotPerformance",h),()=>{D.removeChannel(b)}},[r,i]),k.useEffect(()=>{r();const b=setInterval(()=>{r(),i(),m()},d);return()=>clearInterval(b)},[r,d,i]),k.useEffect(()=>{const b=()=>{o(!0)};return window.addEventListener("openCreateRobotModal",b),()=>{window.removeEventListener("openCreateRobotModal",b)}},[]);const m=()=>{const b={};t.forEach(v=>{const w=s.filter(T=>{var j,E,_,C;if(v.symbol){const P=Md(T.symbol)===Md(v.symbol),I=((j=T.comment)==null?void 0:j.includes(v.botToken))||v.strategy&&((E=T.comment)==null?void 0:E.includes(v.strategy));return P&&I}return((_=T.comment)==null?void 0:_.includes(v.botToken))||v.strategy&&((C=T.comment)==null?void 0:C.includes(v.strategy))}),N=w.reduce((T,j)=>T+j.profit,0),S=w.length;b[v.id]={floatingPnL:N,openPositions:S}}),f(b)},x=async()=>{try{const b=await at.getPositions(),v={};t.forEach(w=>{const N=b.filter(j=>{var E,_,C,P;if(w.symbol){const I=Md(j.symbol)===Md(w.symbol),$=((E=j.comment)==null?void 0:E.includes(w.botToken))||w.strategy&&((_=j.comment)==null?void 0:_.includes(w.strategy));return I&&$}return((C=j.comment)==null?void 0:C.includes(w.botToken))||w.strategy&&((P=j.comment)==null?void 0:P.includes(w.strategy))}),S=N.reduce((j,E)=>j+E.profit,0),T=N.length;v[w.id]={floatingPnL:S,openPositions:T}}),f(w=>Object.keys(v).some(S=>{var T,j;return((T=w[S])==null?void 0:T.floatingPnL)!==v[S].floatingPnL||((j=w[S])==null?void 0:j.openPositions)!==v[S].openPositions})?v:w)}catch(b){console.error("Failed to fetch MT5 positions:",b)}};k.useEffect(()=>{x();const b=setInterval(x,d);return()=>clearInterval(b)},[t,d]),k.useEffect(()=>{m()},[s,t]),k.useEffect(()=>{async function b(){for(const v of t){const w=v.userId,N=v.botToken;if(!w||!N)continue;const{data:S}=await D.from("trading_signals").select("*").eq("user_id",w).eq("bot_token",N).eq("strategy",v.strategy).eq("symbol",v.symbol).eq("status","pending");if(S&&S.length>0)for(const T of S)try{await D.from("trading_signals").update({status:"executed"}).eq("id",T.id)}catch(j){console.error("Failed to auto-execute trade for signal",T,j)}}}t.length>0&&b()},[t]);const g=b=>{switch(b){case"LOW":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"MEDIUM":return"bg-amber-50 text-amber-700 border-amber-200";case"HIGH":return"bg-rose-50 text-rose-700 border-rose-200"}},y=b=>`${b.userId}_${b.botToken}_${b.symbol||"ALL"}_${b.strategy}`,p=async()=>{try{const{data:{session:b}}=await D.auth.getSession(),v=b?b.user.id:"";let w=localStorage.getItem("mt5_username"),N=localStorage.getItem("mt5_nickname"),S=localStorage.getItem("mt5_server");localStorage.setItem("userId",v);let T=await D.from("user_accounts").select("*").eq("user_id",v).eq("mt5_username",w).eq("mt5_server",S).eq("account_name",N).single();debugger;if(!v){R.error("User not authenticated");return}const j={user_id:v,mt5_account_id:T.data.id,name:"TradingHub",symbol:"XAUUSD",strategy:"Scalping",risk_level:"STRATEGY",max_lot_size:.01,stop_loss:0,take_profit:0,is_active:!0,bot_token:`tradinghub-${v}-${Date.now()}`,total_trades:0,win_rate:0,profit:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:E}=await D.from("trading_robots").insert([j]);E?R.error("Failed to create default robot: "+E.message):(R.success("Default robot created!"),r())}catch(b){R.error("Error creating robot"),console.error("Error creating robot:",b)}};return n.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-[#181818] via-[#232323] to-[#0a0a0a] py-10 px-0 overflow-hidden",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-10",children:[n.jsxs("div",{className:"rounded-3xl shadow-2xl border-4 border-[#bfa14a] bg-gradient-to-br from-[#232323] via-[#181818] to-[#0a0a0a] p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-3xl font-extrabold text-[#fffbe6] tracking-wide drop-shadow-lg",children:"Trading Robots"}),t.length>0&&n.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-8 py-3 rounded-2xl font-bold text-lg bg-gradient-to-r from-[#bfa14a] to-[#fffbe6] text-[#181818] border-2 border-[#bfa14a] shadow-lg hover:from-[#fffbe6] hover:to-[#bfa14a] hover:text-black transition-all duration-200",children:[n.jsx(Gr,{className:"w-6 h-6"})," Create Robot"]})]}),n.jsx("div",{className:"text-center",children:t.length===0?n.jsxs("div",{className:"text-center py-24",children:[n.jsx(ts,{className:"w-20 h-20 text-[#bfa14a] mx-auto mb-6"}),n.jsx("button",{onClick:()=>p(),className:"flex items-center gap-2 px-8 py-3 rounded-2xl font-bold text-lg bg-gradient-to-r from-[#bfa14a] to-[#fffbe6] text-[#181818] border-2 border-[#bfa14a] shadow-lg hover:from-[#fffbe6] hover:to-[#bfa14a] hover:text-black transition-all duration-200",children:"Create Default Robot"}),n.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-8 py-3 rounded-2xl font-bold text-lg bg-gradient-to-r from-[#bfa14a] to-[#fffbe6] text-[#181818] border-2 border-[#bfa14a] shadow-lg hover:from-[#fffbe6] hover:to-[#bfa14a] hover:text-black transition-all duration-200",children:[n.jsx(Gr,{className:"w-6 h-6"})," Create Robot"]}),n.jsx("p",{className:"text-[#fffbe6] text-2xl font-bold",children:"No trading robots created"}),n.jsx("p",{className:"text-lg text-[#bfa14a] mt-2",children:"Create automated trading robots to execute strategies"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:t.map(b=>{const v=y(b),w=b.isActive,N=b.performance.winRate,S=100-N,T={labels:["Win","Loss"],datasets:[{data:[N,S],backgroundColor:["#bfa14a","#232323"],borderWidth:0}]};return n.jsxs("div",{className:`relative rounded-2xl border-4 border-[#bfa14a] bg-gradient-to-br from-[#232323] via-[#181818] to-[#000000] p-0 shadow-2xl transition-all duration-200 cursor-pointer flex flex-col group hover:scale-[1.03] ${w?"":"opacity-40 grayscale"}`,onClick:()=>c(b),style:{boxShadow:"0 8px 32px 0 rgba(191,161,74,0.22), 0 1.5px 0 0 #bfa14a",minBlockSize:180,overflow:"hidden"},children:[n.jsx("span",{className:"absolute right-8 top-1/2 -translate-y-1/2 z-20 px-3 py-1 rounded text-sm font-extrabold tracking-widest border border-[#bfa14a] shadow-lg",style:{background:"linear-gradient(90deg, #fffbe6 0%, #bfa14a 100%)",color:"#ffffff",letterSpacing:2},children:n.jsx("div",{className:"flex flex-col items-left",children:n.jsx("span",{className:"text-m font-bold text-[#000000]",children:e&&e.length>0?e==null?void 0:e.filter(j=>j.comment===b.strategy&&j.symbol===b.symbol).reduce((j,E)=>j+E.profit,0).toFixed(2):0})})}),n.jsxs("div",{className:"flex flex-row items-center justify-between px-8 pt-4 pb-2",children:[n.jsxs("div",{className:"flex flex-col gap-2 min-w-[180px] w-full",children:[n.jsx("div",{className:"flex-1 flex flex-row justify-evenly items-center gap-2",children:n.jsx("div",{className:"flex flex-col items-left",children:n.jsx("span",{className:"text-2xl font-extrabold text-[#fffbe6] tracking-wide drop-shadow-lg whitespace-nowrap",children:b.name})})}),n.jsxs("div",{className:"flex flex-row items-center gap-3 mt-1 w-full",children:[n.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold tracking-widest ${w?"text-[#bfa14a] bg-[#181818]/80 border border-[#bfa14a]":"text-red-400 bg-[#181818]/40 border border-red-400"} w-fit`,children:w?"ACTIVE":"INACTIVE"}),n.jsxs("span",{className:"text-xs text-[#bfa14a] font-normal",children:["Risk: ",n.jsx("span",{className:`font-semibold ${g(b.riskLevel)}`,children:b.riskLevel})]}),n.jsxs("span",{className:"text-xs text-[#bfa14a] font-normal",children:["Symbol: ",n.jsx("span",{className:"font-semibold text-[#fffbe6]",children:b.symbol||"All Symbols"})]})]})]}),n.jsx("div",{className:"min-w-[100px]"})]}),n.jsxs("div",{className:"flex flex-row items-center justify-between px-8 pb-5 pt-2 border-t border-[#bfa14a]/30 bg-gradient-to-r from-[#181818]/80 to-[#232323]/80",children:[n.jsxs("div",{className:"w-14 h-14 relative",children:[n.jsx(G9,{data:T,options:{plugins:{legend:{display:!1}},cutout:"70%"}}),n.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-base font-bold text-[#bfa14a]",children:[e&&e.length>0?(e.filter(j=>j.comment===b.strategy&&j.symbol===b.symbol&&j.profit>=0).length/e.length*100).toFixed(0):0,"%"]})]}),n.jsxs("div",{className:"flex-1 flex flex-row justify-evenly items-center gap-2",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a] font-semibold",children:"Open Pos"}),n.jsx("span",{className:"text-lg font-bold text-[#fffbe6]",children:s.length>0?s.filter(j=>j.comment===b.strategy&&j.symbol===b.symbol).length:"0"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a] font-semibold",children:"Total Win"}),n.jsx("span",{className:"text-lg font-bold text-[#fffbe6]",children:e&&e.length>0?e==null?void 0:e.filter(j=>j.comment===b.strategy&&j.symbol===b.symbol&&j.profit>=0).reduce((j,E)=>j+E.profit,0).toFixed(2):0})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-[#bfa14a] font-semibold",children:"Total Loss"}),n.jsx("span",{className:"text-lg font-bold text-[#fffbe6]",children:e&&e.length>0?e==null?void 0:e.filter(j=>j.comment===b.strategy&&j.symbol===b.symbol&&j.profit<0).reduce((j,E)=>j+E.profit,0).toFixed(2):0})]})]})]})]},v)})})})]}),a&&n.jsx(GO,{onClose:()=>o(!1)}),l&&n.jsx(i8,{robot:l,onClose:()=>{c(null),r()},userId:""})]})})},K9=()=>{const[e,t]=k.useState(!1),[s,r]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState(null),{robots:c}=ws(),d="http://91.98.23.85/api/WebHook/hook";k.useEffect(()=>{(async()=>{var y;try{const{data:{session:p}}=await D.auth.getSession();(y=p==null?void 0:p.user)!=null&&y.id&&l(p.user.id)}catch(p){console.error("Error getting user ID:",p)}})()},[]);const u=async()=>{try{await navigator.clipboard.writeText(d),t(!0),R.success("Webhook URL copied to clipboard"),setTimeout(()=>t(!1),2e3)}catch{R.error("Failed to copy URL")}},h=async()=>{if(!o){R.error("User ID not available");return}try{await navigator.clipboard.writeText(o),r(!0),R.success("User ID copied to clipboard"),setTimeout(()=>r(!1),2e3)}catch{R.error("Failed to copy User ID")}},f=c.length>0?{symbol:"EURUSD",action:"BUY",volume:.1,price:"{{close}}",stopLoss:1.08,takeProfit:1.09,timestamp:"{{time}}",strategy:"Your Strategy Name",botToken:c[0].botToken,userId:o}:null,m={symbol:"EURUSD",action:"BUY",volume:.1,price:"{{close}}",stopLoss:1.08,takeProfit:1.09,timestamp:"{{time}}",strategy:"Your Strategy Name",userId:o},x={symbol:"EURUSD",action:"CLOSE",price:"{{close}}",timestamp:"{{time}}",strategy:"Close All EURUSD",userId:o};return n.jsx("div",{className:"bg-[#181818] min-h-screen flex items-center justify-center py-12 px-4",children:n.jsxs("div",{className:"w-full max-w-2xl bg-[#292929] border border-[#ffa31a] rounded-xl shadow p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[n.jsx("div",{className:"bg-[#ffa31a] p-2 rounded-lg",children:n.jsx(cT,{className:"w-5 h-5 text-[#1b1b1b]"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent",children:"TradingView Webhook"}),n.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Configure your TradingView alerts for automatic signal execution"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#ffa31a] mb-2",children:"Webhook URL"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-[#1b1b1b] border border-[#808080] rounded-lg p-3 font-mono text-sm text-[#ffa31a] break-all",children:d}),n.jsxs("button",{onClick:u,className:"flex items-center space-x-1 px-3 py-2 bg-[#ffa31a] text-[#1b1b1b] rounded-lg hover:bg-[#ffb84d] transition-colors font-bold",children:[e?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:e?"Copied":"Copy"})]})]})]}),n.jsx("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(es,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-[#ffa31a] text-sm font-bold mb-2",children:"Your User ID (Required)"}),n.jsx("p",{className:"text-[#ffa31a] text-xs mb-3",children:"You must include this User ID in your TradingView JSON payload for signals to appear in your dashboard and for automatic execution."}),o?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-[#1b1b1b] border border-[#808080] rounded-lg p-2 font-mono text-sm text-[#ffa31a] break-all",children:o}),n.jsxs("button",{onClick:h,className:"flex items-center space-x-1 px-3 py-2 bg-[#ffa31a] text-[#1b1b1b] rounded-lg hover:bg-[#ffb84d] transition-colors font-bold",children:[s?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:s?"Copied":"Copy"})]})]}):n.jsx("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-2 text-sm text-[#ffa31a]",children:"Loading user ID..."})]})]})}),c.length>0&&n.jsx("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ts,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[#ffa31a] text-sm font-bold mb-2",children:"Bot Token Targeting (Optional)"}),n.jsxs("p",{className:"text-[#ffa31a] text-xs mb-3",children:["Include a specific robot's ",n.jsx("code",{className:"bg-[#ffa31a] text-[#1b1b1b] px-1 rounded",children:"botToken"})," in your webhook payload to target that robot specifically. Without a botToken, any active robot matching the symbol will execute the signal."]}),n.jsxs("div",{className:"text-xs text-[#ffa31a]",children:[n.jsx("p",{className:"font-bold",children:"Your Active Robots:"}),n.jsx("ul",{className:"mt-1 space-y-1",children:c.filter(g=>g.isActive).map(g=>n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsxs("span",{children:["• ",g.name]}),n.jsxs("span",{className:"text-[#ffa31a]",children:["(",g.symbol||"All Symbols",")"]}),n.jsxs("code",{className:"bg-[#ffa31a] text-[#1b1b1b] px-1 rounded text-xs",children:[g.botToken.substring(0,12),"..."]})]},g.id))})]})]})]})}),n.jsx("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bs,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[#ffa31a] text-sm font-bold mb-2",children:"Automatic Execution"}),n.jsx("p",{className:"text-[#ffa31a] text-xs",children:"When you have active trading robots and your MT5 account is connected, signals will be automatically executed. The system will use your robot's settings for volume, stop loss, and take profit calculations."})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:[n.jsx("h3",{className:"font-bold text-[#ffa31a] mb-2",children:"Setup Instructions"}),n.jsxs("ol",{className:"text-xs text-[#ffa31a] space-y-1 list-decimal list-inside",children:[n.jsx("li",{children:"Create and activate trading robots"}),n.jsx("li",{children:"Open your TradingView alert"}),n.jsx("li",{children:'Set "Webhook URL" to the URL above'}),n.jsx("li",{children:n.jsx("strong",{children:"Include your User ID in the JSON payload"})}),n.jsx("li",{children:"Optionally include botToken for specific robot targeting"}),n.jsx("li",{children:"Configure the JSON payload (see examples below)"}),n.jsx("li",{children:"Test your alert"})]})]}),n.jsxs("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:[n.jsx("h3",{className:"font-bold text-[#ffa31a] mb-2",children:"Supported Actions"}),n.jsxs("ul",{className:"text-xs text-[#ffa31a] space-y-1",children:[n.jsxs("li",{children:["• ",n.jsx("strong",{children:"BUY"})," - Open long position (auto-executed if robot active)"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"SELL"})," - Open short position (auto-executed if robot active)"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"CLOSE"})," - Close all positions for symbol"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 text-[#ffa31a] hover:text-white transition-colors font-bold mt-2",children:[n.jsx(Y0,{className:"w-4 h-4"}),n.jsxs("span",{children:[i?"Hide":"Show"," JSON Payload Examples"]})]}),i&&n.jsxs("div",{className:"mt-4 space-y-4",children:[f&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"Targeted Robot Signal (with botToken):"}),n.jsx("div",{className:"bg-[#1b1b1b] rounded-lg p-4 overflow-x-auto border border-[#808080]",children:n.jsx("pre",{className:"text-[#ffa31a] text-xs font-mono",children:JSON.stringify(f,null,2)})}),n.jsx("p",{className:"text-xs text-[#ffa31a] mt-2",children:"This will target the specific robot with the provided botToken."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"General Signal (any active robot):"}),n.jsx("div",{className:"bg-[#1b1b1b] rounded-lg p-4 overflow-x-auto border border-[#808080]",children:n.jsx("pre",{className:"text-[#ffa31a] text-xs font-mono",children:JSON.stringify(m,null,2)})}),n.jsx("p",{className:"text-xs text-[#ffa31a] mt-2",children:"This will use any active robot that matches the symbol (or all-symbol robots)."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"CLOSE Signal Example:"}),n.jsx("div",{className:"bg-[#1b1b1b] rounded-lg p-4 overflow-x-auto border border-[#808080]",children:n.jsx("pre",{className:"text-[#ffa31a] text-xs font-mono",children:JSON.stringify(x,null,2)})})]}),o&&n.jsx("div",{className:"p-3 bg-[#292929] border border-[#ffa31a] rounded-lg",children:n.jsxs("p",{className:"text-[#ffa31a] text-xs",children:[n.jsx("strong",{children:"✓ Your User ID is included in these examples."})," Copy these exact JSON structures and paste them into your TradingView alert message."]})}),n.jsxs("div",{className:"bg-[#1b1b1b] border border-[#808080] rounded-lg p-4",children:[n.jsx("h4",{className:"text-xs font-bold text-[#ffa31a] mb-2",children:"Enhanced Features:"}),n.jsxs("ul",{className:"text-xs text-[#ffa31a] space-y-1",children:[n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Bot Token Targeting:"})," Use botToken to target specific robots"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Symbol Normalization:"})," Automatically handles symbol variations (e.g., EURUSD.raw → EURUSD)"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Market Price Fallback:"})," If no price provided, system fetches current market price"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Robot Priority:"}),' Symbol-specific robots take priority over "All Symbols" robots']}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Pre-calculated SL/TP:"})," Include exact SL/TP prices in your webhook"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Volume Control:"})," Respects robot's maximum lot size settings"]})]})]})]})]}),n.jsx("div",{className:"bg-[#292929] border border-[#ffa31a] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(yn,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[#ffa31a] text-sm font-bold",children:"Important: User ID Required"}),n.jsxs("p",{className:"text-[#ffa31a] text-xs mt-1",children:["Without the ",n.jsx("code",{className:"bg-[#ffa31a] text-[#1b1b1b] px-1 rounded",children:"userId"})," field in your JSON payload, signals will not appear in your dashboard and automatic execution will not work. Make sure to copy your User ID from above and include it in every TradingView alert."]})]})]})})]})]})})},X9=()=>{const{userPlugins:e,userTokens:t,fetchUserPlugins:s,purchasePlugin:r}=pe(),[i,a]=k.useState(!0),[o,l]=k.useState(!1),[c,d]=k.useState(null);k.useEffect(()=>{(async()=>{a(!0),await s(),a(!1)})()},[s]);const u=g=>{d(g),l(!0)},h=()=>{d(null),l(!1)},f=async()=>{if(c)try{await r(c)&&h()}catch(g){console.error("Purchase failed:",g),R.error("Failed to purchase plugin")}},m=g=>g?Jr(new Date(g),{addSuffix:!0}):"Never",x=Fx.filter(g=>!e.some(y=>y.id===g.id));return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-[#1b1b1b] rounded-xl shadow-xl border-2 border-[#ffa31a]",children:[n.jsx("div",{className:"p-6 border-b border-[#ffa31a]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent tracking-wide drop-shadow",children:"My Plugins"}),n.jsxs("div",{className:"text-sm text-[#ffa31a] font-semibold",children:[e.length," active plugins"]})]})}),i?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#ffa31a] mx-auto mb-4"}),n.jsx("p",{className:"text-[#ffa31a]",children:"Loading your plugins..."})]}):e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Is,{className:"w-8 h-8 text-[#ffa31a] mx-auto mb-4"}),n.jsx("p",{className:"text-[#ffa31a] font-bold",children:"You don't have any plugins yet"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Purchase plugins to enhance your trading experience"})]}):n.jsx("div",{className:"divide-y divide-[#292929]",children:e.map(g=>n.jsx("div",{className:"p-4 hover:bg-[#232323] transition-colors",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-[#232323] p-3 rounded-lg border-2 border-[#ffa31a]",children:n.jsx(Is,{className:"w-5 h-5 text-[#ffa31a]"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-base font-bold text-white",children:g.name}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.isActive?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:g.isActive?"Active":"Inactive"})})]}),n.jsx("p",{className:"text-gray-300 mt-1",children:g.description}),n.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-[#ffa31a]",children:[n.jsx(vs,{className:"w-4 h-4"}),n.jsxs("span",{children:[g.tokenCost," tokens"]})]}),g.expiresAt&&n.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[n.jsx(Co,{className:"w-4 h-4"}),n.jsxs("span",{children:["Expires: ",m(g.expiresAt)]})]})]})]})]})},g.id))})]}),x.length>0&&n.jsxs("div",{className:"bg-[#1b1b1b] rounded-xl shadow-xl border-2 border-[#ffa31a]",children:[n.jsx("div",{className:"p-6 border-b border-[#ffa31a]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent tracking-wide drop-shadow",children:"Available Plugins"}),n.jsxs("div",{className:"text-sm text-[#ffa31a] font-semibold",children:[x.length," plugins available"]})]})}),n.jsx("div",{className:"divide-y divide-[#292929]",children:x.map(g=>{const y=t&&t.balance>=g.tokenCost;return n.jsx("div",{className:"p-4 hover:bg-[#232323] transition-colors",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-[#232323] p-3 rounded-lg border-2 border-[#ffa31a]",children:n.jsx(Is,{className:"w-5 h-5 text-[#ffa31a]"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-base font-bold text-white",children:g.name}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#232323] text-[#ffa31a] border border-[#ffa31a]",children:[g.tokenCost," tokens"]})})]}),n.jsx("p",{className:"text-gray-300 mt-1",children:g.description}),g.features&&g.features.length>0&&n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-[#ffa31a]",children:"Features:"}),n.jsx("ul",{className:"space-y-1",children:g.features.map((p,b)=>n.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[n.jsx(ms,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-gray-300",children:p})]},b))})]}),n.jsx("div",{className:"mt-4",children:n.jsxs("button",{onClick:()=>u(g.id),disabled:!y,className:`inline-flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors font-semibold ${y?"bg-[#ffa31a] text-[#1b1b1b] hover:bg-[#ffb84d]":"bg-[#232323] text-gray-500 border border-[#ffa31a] cursor-not-allowed"}`,children:[n.jsx(Gr,{className:"w-4 h-4"}),n.jsx("span",{children:y?`Purchase for ${g.tokenCost} tokens`:`Need ${g.tokenCost-((t==null?void 0:t.balance)||0)} more tokens`})]})})]})]})},g.id)})})]}),o&&c&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-[#1b1b1b] rounded-xl shadow-2xl max-w-md w-full p-6 border-2 border-[#ffa31a]",children:[n.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-[#ffa31a] via-[#ffcc80] to-[#ffa31a] bg-clip-text text-transparent mb-4",children:"Confirm Purchase"}),(()=>{const g=Fx.find(p=>p.id===c);if(!g)return null;const y=t&&t.balance>=g.tokenCost;return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-[#232323] border border-[#ffa31a] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Is,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[#ffa31a] font-medium",children:g.name}),n.jsx("p",{className:"text-gray-300 text-sm mt-1",children:g.description})]})]})}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-[#232323] rounded-lg border border-[#ffa31a]",children:[n.jsx("div",{className:"text-[#ffa31a]",children:"Cost:"}),n.jsxs("div",{className:"font-semibold text-white",children:[g.tokenCost," tokens"]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-[#232323] rounded-lg border border-[#ffa31a]",children:[n.jsx("div",{className:"text-[#ffa31a]",children:"Your balance:"}),n.jsxs("div",{className:"font-semibold text-white",children:[(t==null?void 0:t.balance)||0," tokens"]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-[#232323] rounded-lg border border-[#ffa31a]",children:[n.jsx("div",{className:"text-[#ffa31a]",children:"Balance after purchase:"}),n.jsx("div",{className:`font-semibold ${y?"text-white":"text-red-400"}`,children:y?t.balance-g.tokenCost:`Insufficient (need ${g.tokenCost-((t==null?void 0:t.balance)||0)} more)`})]}),!y&&n.jsx("div",{className:"bg-red-900 border border-red-400 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-200 font-medium",children:"Insufficient Tokens"}),n.jsxs("p",{className:"text-red-300 text-sm mt-1",children:["You need ",g.tokenCost-((t==null?void 0:t.balance)||0)," more tokens to purchase this plugin."]})]})]})}),n.jsx("div",{className:"bg-[#232323] border border-[#ffa31a] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(rT,{className:"w-5 h-5 text-[#ffa31a] flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[#ffa31a] font-medium",children:"Plugin Information"}),n.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"This plugin will be active for 1 year from the date of purchase."})]})]})}),n.jsxs("div",{className:"flex space-x-3 pt-2",children:[n.jsx("button",{onClick:f,disabled:!y,className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${y?"bg-[#ffa31a] text-[#1b1b1b] hover:bg-[#ffb84d]":"bg-[#232323] text-gray-500 border border-[#ffa31a] cursor-not-allowed"}`,children:"Confirm Purchase"}),n.jsx("button",{onClick:h,className:"flex-1 py-2 px-4 bg-[#232323] text-[#ffa31a] rounded-lg hover:bg-[#292929] transition-colors font-medium border border-[#ffa31a]",children:"Cancel"})]})]})})()]})})]})};class Q9{async getMarketplaceRobots(t={}){try{let s=D.from("trading_robots").select(`
          *,
          robot_marketplace_stats(*)
        `).eq("is_public",!0).eq("is_shareable",!0);switch(t.maxCost&&(s=s.lte("subscription_cost_tokens",t.maxCost)),t.subscriptionType&&(s=s.eq("subscription_type",t.subscriptionType)),t.featured!==void 0&&(s=s.eq("featured",t.featured)),t.tags&&t.tags.length>0&&(s=s.overlaps("tags",t.tags)),t.sortBy){case"popularity":s=s.order("total_subscribers",{ascending:!1});break;case"performance":s=s.order("win_rate",{ascending:!1});break;case"cost":s=s.order("subscription_cost_tokens",{ascending:!0});break;case"newest":default:s=s.order("created_at",{ascending:!1});break}const{data:r,error:i}=await s.limit(50);if(i)throw console.error("Error fetching marketplace robots:",i),i;return console.log("🤖 Marketplace robots loaded:",(r==null?void 0:r.length)||0,"robots"),console.log("🔍 Robot details:",r==null?void 0:r.map(o=>({name:o.name,isPublic:o.is_public,isShareable:o.is_shareable,isActive:o.is_active}))),(r||[]).map(o=>this.mapToSharedRobot(o))}catch(s){throw console.error("Error in getMarketplaceRobots:",s),s}}async subscribeToRobot(t,s){var r;try{const{data:{session:i}}=await D.auth.getSession();if(!((r=i==null?void 0:i.user)!=null&&r.id))throw new Error("User not authenticated");const{data:a,error:o}=await D.from("trading_robots").select("*").eq("id",t).eq("is_public",!0).eq("is_shareable",!0).single();if(o||!a)throw new Error(`Robot not found or not available for subscription. Error: ${(o==null?void 0:o.message)||"No robot data"}`);if(a.user_id===i.user.id)throw new Error("You cannot subscribe to your own robot");const{data:l,error:c}=await D.from("robot_subscriptions").select("*").eq("subscriber_user_id",i.user.id).eq("robot_id",t).eq("status","active").maybeSingle();if(c&&console.error("Error checking for existing active subscription:",c),l)return R.success("You already have an active subscription to this robot."),l;const{data:d,error:u}=await D.from("user_accounts").select("*").eq("user_id",a.user_id).eq("is_active",!0).single();if(u||!d)throw new Error("Master account not found or not active");const{data:h,error:f}=await D.from("user_accounts").select("*").eq("user_id",i.user.id).eq("is_active",!0).single();if(f||!h)throw new Error("Your (slave) account not found or not active. Please connect your broker in the settings.");if(!d.mt5_username||!d.mt5_password||!d.mt5_server)throw new Error("The robot owner's account is missing required credentials for subscription.");if(!h.mt5_username||!h.mt5_password||!h.mt5_server)throw new Error("Your account is missing required credentials for subscription. Please check your broker setup.");const m=await X0({masterUser:d.mt5_username,masterPassword:d.mt5_password,masterServer:d.mt5_server,masterName:d.account_name||`master-${d.mt5_username}`,masterApiId:d.id,slaveUser:h.mt5_username,slavePassword:h.mt5_password,slaveServer:h.mt5_server,slaveName:h.account_name||`slave-${h.mt5_username}`,slaveApiId:h.id,riskType:"FixedLot",riskValue:.01,copySL:!0,copyTP:!0,copyPendingOrders:!0,forceMinLot:!0,forceMaxLot:!0,contractAlignment:!0});let x=m.copierId;if(m.copierAlreadyExists)console.log("Copy already exists on remote, proceeding to create local subscription record for sync."),R.success("Re-syncing existing subscription.");else if(!x)throw new Error("Failed to initiate copy trading. The copier ID was not returned.");console.log("🧹 Cleaning up any previous subscriptions for this robot before creating new one.");const{error:g}=await D.from("robot_subscriptions").delete().eq("subscriber_user_id",i.user.id).eq("robot_id",t);g&&console.warn("⚠️ Warning: Could not clean up old subscriptions:",g);const y=a.subscription_cost_tokens,p=await ti.getUserTokens(i.user.id);if(!p||p.balance<y)throw new Error(`Insufficient tokens. You need ${y} tokens but only have ${(p==null?void 0:p.balance)||0}`);if(!await ti.spendTokens(i.user.id,y,`Robot subscription: ${a.name}`,"robot_marketplace"))throw new Error("Payment processing failed");const v=s==="monthly"?new Date(Date.now()+30*24*60*60*1e3).toISOString():null,{data:w,error:N}=await D.from("robot_subscriptions").insert({subscriber_user_id:i.user.id,robot_id:t,master_robot_owner_id:a.user_id,tokens_paid:y,subscription_type:s,status:"active",expires_at:v,auto_renewal:s==="monthly",copier_id:x}).select().single();if(N)throw console.error("❌ Subscription creation error:",N),await ti.addTokens(i.user.id,y,`Rollback: Failed subscription to ${a.name}`,"robot_marketplace"),new Error(`Failed to create subscription record: ${N.message}`);const S=Math.floor(y*.7);return await ti.addTokensToUser(a.user_id,S,`Robot subscription revenue from ${a.name}`,"robot_marketplace"),R.success(`Successfully subscribed to ${a.name}!`),w}catch(i){const a=i;throw console.error("Error subscribing to robot:",a.message,a.stack),R.error(`Error: ${a.message}`),a}}async copyRobotToAccount(t,s){var r;try{const{data:{session:i}}=await D.auth.getSession();if(!((r=i==null?void 0:i.user)!=null&&r.id))throw new Error("User not authenticated");const{data:a,error:o}=await D.from("robot_subscriptions").select(`
          *,
          trading_robots(*)
        `).eq("id",t).eq("subscriber_user_id",i.user.id).eq("status","active").single();if(o||!a)throw new Error("Active subscription not found");const l=a.trading_robots,{data:c,error:d}=await D.from("user_accounts").select("*").eq("user_id",i.user.id).eq("is_active",!0).maybeSingle();if(d||!c)throw new Error("No active MT5 account found. Please connect your broker first.");const u={user_id:i.user.id,mt5_account_id:c.id,name:`Copy of ${l.name}`,symbol:l.symbol,strategy:l.strategy,risk_level:l.risk_level,max_lot_size:l.max_lot_size,stop_loss:l.stop_loss,take_profit:l.take_profit,is_active:!1,bot_token:`copy_${Date.now()}_${Math.random().toString(36).substring(7)}`,total_trades:0,win_rate:0,profit:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:h,error:f}=await D.from("trading_robots").insert(u).select().single();if(f)throw new Error("Failed to create copied robot");const m={copySignals:!0,copyRiskSettings:!0,copyTakeProfit:!0,copyStopLoss:!0,positionSizeMultiplier:1,maxConcurrentTrades:5,...s},{data:x,error:g}=await D.from("robot_copies").insert({original_robot_id:l.id,copied_robot_id:h.id,subscriber_user_id:i.user.id,subscription_id:t,copy_settings:m,is_active:!0}).select().single();if(g)throw await D.from("trading_robots").delete().eq("id",h.id),new Error("Failed to create robot copy record");return R.success(`Robot copied successfully! You can now activate "${h.name}" in your robots list.`),x}catch(i){throw console.error("Error copying robot:",i),R.error(i instanceof Error?i.message:"Failed to copy robot"),i}}async getUserSubscriptions(){var t;try{const{data:{session:s}}=await D.auth.getSession();if(!((t=s==null?void 0:s.user)!=null&&t.id))return[];const{data:r,error:i}=await D.from("robot_subscriptions").select(`
          *,
          trading_robots(name, strategy, total_subscribers)
        `).eq("subscriber_user_id",s.user.id).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching user subscriptions:",i),i;const a=(r||[]).filter(o=>{const l=o.trading_robots!==null;return l||(console.log(`🗑️ Filtering out subscription for deleted robot ID: ${o.robot_id}`),this.cleanupOrphanedSubscription(o.id,o.robot_id)),l});return console.log(`📊 Loaded ${a.length} valid subscriptions out of ${(r||[]).length} total`),a}catch(s){throw console.error("Error in getUserSubscriptions:",s),s}}async cleanupOrphanedSubscription(t,s){try{console.log(`🧹 Cleaning up orphaned subscription ${t} for deleted robot ${s}`);const{error:r}=await D.from("robot_subscriptions").delete().eq("id",t);r?console.error("Failed to cleanup orphaned subscription:",r):console.log(`✅ Successfully cleaned up orphaned subscription ${t}`)}catch(r){console.error("Error cleaning up orphaned subscription:",r)}}async cleanUnsubscribeFromRobot(t){var s,r;try{const{data:{session:i}}=await D.auth.getSession();if((s=i==null?void 0:i.user)!=null&&s.id)try{await An(()=>Promise.resolve().then(()=>II),void 0).then(f=>f.default.stopCopyTrading(i.user.id,t))?console.log("✅ MT5 copy trading stopped for user:",i.user.id,"robot:",t):console.warn("⚠️ MT5 copy trading did not stop successfully")}catch(h){console.error("❌ Error stopping MT5 copy trading:",h)}if(!((r=i==null?void 0:i.user)!=null&&r.id))throw new Error("User not authenticated");console.log("🧹 Clean unsubscribe: Removing ALL subscription data for robot:",t,"user:",i.user.id),console.log("🔍 Robot ID type:",typeof t,"User ID type:",typeof i.user.id);const{data:a,error:o}=await D.from("robot_subscriptions").select("*").eq("robot_id",t).eq("subscriber_user_id",i.user.id);if(o)return console.error("❌ Error checking existing subscriptions:",o),console.error("❌ Check error details:",JSON.stringify(o,null,2)),!1;if(console.log("📋 Found existing subscriptions to delete:",(a==null?void 0:a.length)||0,a),!a||a.length===0)return console.log("ℹ️ No subscriptions found to delete"),!0;a.forEach((h,f)=>{console.log(`📝 Subscription ${f+1}:`,{id:h.id,robot_id:h.robot_id,subscriber_user_id:h.subscriber_user_id,status:h.status,created_at:h.created_at})}),console.log("🗑️ Attempting to delete subscriptions with conditions:"),console.log("   - robot_id =",t),console.log("   - subscriber_user_id =",i.user.id);const{data:l,error:c}=await D.from("robot_subscriptions").delete().eq("robot_id",t).eq("subscriber_user_id",i.user.id).select();if(console.log("🔄 Delete operation result:"),console.log("   - Error:",c),console.log("   - Data returned:",l),console.log("   - Records deleted count:",(l==null?void 0:l.length)||0),c)return console.error("❌ Error in clean unsubscribe:",c),console.error("❌ Delete error details:",JSON.stringify(c,null,2)),console.error("❌ Error code:",c.code),console.error("❌ Error message:",c.message),console.error("❌ Error hint:",c.hint),!1;console.log("✅ Clean unsubscribe operation completed. Deleted records:",(l==null?void 0:l.length)||0,l),await new Promise(h=>setTimeout(h,200)),console.log("🔍 Verifying deletion...");const{data:d,error:u}=await D.from("robot_subscriptions").select("*").eq("robot_id",t).eq("subscriber_user_id",i.user.id);if(u)console.error("❌ Error verifying deletion:",u),console.error("❌ Verification error details:",JSON.stringify(u,null,2));else{if(console.log("🔍 Verification query result:"),console.log("   - Remaining subscriptions count:",(d==null?void 0:d.length)||0),console.log("   - Remaining subscriptions:",d),d&&d.length>0)return console.warn("⚠️ CRITICAL: Subscriptions still exist after deletion!"),d.forEach((h,f)=>{console.warn(`   Remaining subscription ${f+1}:`,{id:h.id,robot_id:h.robot_id,subscriber_user_id:h.subscriber_user_id,status:h.status})}),!1;console.log("✅ Verification successful: All subscriptions deleted")}return!0}catch(i){return console.error("❌ Exception in cleanUnsubscribeFromRobot:",i),console.error("❌ Exception details:",JSON.stringify(i,null,2)),!1}}async unsubscribeFromRobot(t){var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))throw new Error("User not authenticated");console.log("🔍 Attempting to delete subscription:",t,"for user:",r.user.id),console.log("🔍 Subscription ID type:",typeof t),console.log("🔍 Subscription ID value:",JSON.stringify(t));const{data:i,error:a}=await D.from("robot_subscriptions").select("*").eq("id",t).eq("subscriber_user_id",r.user.id).single();if(a)return console.error("Error checking subscription:",a),!1;if(!i)return console.log("❌ Subscription not found or not owned by user"),!1;console.log("📋 Found subscription to delete:",i);const{data:o,error:l}=await D.from("robot_subscriptions").delete().eq("id",t).eq("subscriber_user_id",r.user.id).select();return l?(console.error("Error deleting subscription:",l),!1):(console.log("✅ Successfully deleted subscription:",o),!0)}catch(r){return console.error("Error in unsubscribeFromRobot:",r),!1}}async forceCleanupAllUserRobotSubscriptions(t){var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))throw new Error("User not authenticated");console.log("🧹 Force cleaning up ALL subscriptions for robot:",t,"user:",r.user.id);const{data:i,error:a}=await D.from("robot_subscriptions").delete().eq("subscriber_user_id",r.user.id).eq("robot_id",t).select();return console.log("🗑️ Deleted subscriptions:",i),console.log("❓ Delete error:",a),!a}catch(r){return console.error("Error in forceCleanupAllUserRobotSubscriptions:",r),!1}}async cleanupUserRobotSubscriptions(t){var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))throw new Error("User not authenticated");console.log("🧹 Cleaning up all subscriptions for user to robot:",t);const{error:i}=await D.from("robot_subscriptions").delete().eq("subscriber_user_id",r.user.id).eq("robot_id",t);return i?(console.error("Error cleaning up subscriptions:",i),!1):!0}catch(r){return console.error("Error in cleanupUserRobotSubscriptions:",r),!1}}async deleteRobot(t){var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))throw new Error("User not authenticated");const{error:i}=await D.from("robot_subscriptions").delete().eq("robot_id",t);i&&console.error("Error deleting robot subscriptions:",i);const{error:a}=await D.from("robot_marketplace_stats").delete().eq("robot_id",t);a&&console.error("Error deleting robot stats:",a);const{error:o}=await D.from("trading_robots").delete().eq("id",t).eq("user_id",r.user.id);return o?(console.error("Error deleting robot:",o),!1):(console.log("✅ Successfully deleted robot completely"),!0)}catch(r){return console.error("Error in deleteRobot:",r),!1}}async updateRobotSharingSettings(t,s){var r;try{const{data:{session:i}}=await D.auth.getSession();if(!((r=i==null?void 0:i.user)!=null&&r.id))throw new Error("User not authenticated");const{error:a}=await D.from("trading_robots").update({is_public:s.isPublic,is_shareable:s.isShareable,subscription_cost_tokens:s.subscriptionCostTokens,subscription_type:s.subscriptionType,description:s.description,tags:s.tags,updated_at:new Date().toISOString()}).eq("id",t).eq("user_id",i.user.id);if(a)throw a;R.success("Robot sharing settings updated successfully!")}catch(i){throw console.error("Error updating robot sharing settings:",i),R.error(i instanceof Error?i.message:"Failed to update settings"),i}}async cancelSubscription(t){var s;try{const{data:{session:r}}=await D.auth.getSession();if(!((s=r==null?void 0:r.user)!=null&&s.id))throw new Error("User not authenticated");const{error:i}=await D.from("robot_subscriptions").update({status:"cancelled",auto_renewal:!1,updated_at:new Date().toISOString()}).eq("id",t).eq("subscriber_user_id",r.user.id);if(i)throw i;await D.from("robot_copies").update({is_active:!1,updated_at:new Date().toISOString()}).eq("subscription_id",t),R.success("Subscription cancelled successfully")}catch(r){throw console.error("Error cancelling subscription:",r),R.error(r instanceof Error?r.message:"Failed to cancel subscription"),r}}async getPopularTags(){try{const{data:t,error:s}=await D.rpc("get_popular_robot_tags",{limit_count:20});return s?(console.error("Error fetching popular tags:",s),["forex","crypto","scalping","swing","conservative","aggressive"]):t||[]}catch(t){return console.error("Error in getPopularTags:",t),["forex","crypto","scalping","swing","conservative","aggressive"]}}mapToSharedRobot(t){var s;return{...t,isPublic:t.is_public??!1,isShareable:t.is_shareable??!1,subscriptionCostTokens:t.subscription_cost_tokens??0,subscriptionCost:t.subscription_cost_tokens??0,subscriptionType:t.subscription_type??"free",totalSubscribers:t.total_subscribers??0,subscriberCount:t.total_subscribers??0,monthlyRevenue:t.monthly_revenue??0,creatorEarnings:t.creator_earnings??0,featured:t.featured??!1,rating:t.rating??4,category:t.category??((s=t.tags)==null?void 0:s[0])??"General",ownerName:t.owner_name??t.user_name??"Unknown",lastActiveAt:t.last_active_at??t.updated_at??t.created_at??new Date().toISOString(),description:t.description??"",tags:t.tags??[],subscriptionPeriod:t.subscription_type==="monthly"?"month":void 0,id:t.id,name:t.name??"Unnamed Robot",userId:t.user_id,createdAt:t.created_at,updatedAt:t.updated_at,isActive:t.is_active??!0,configuration:t.configuration??{},totalTrades:t.total_trades??0,profitableTrades:t.profitable_trades??0,totalProfit:t.total_profit??0,winRate:t.win_rate??0,maxDrawdown:t.max_drawdown??0,totalLoss:t.total_loss??0,avgTradeDuration:t.avg_trade_duration??0}}}const xi=new Q9,Z9=({userId:e,onViewDetails:t,onSubscribe:s,onUnsubscribe:r,refreshTrigger:i})=>{const[a,o]=k.useState([]),[l,c]=k.useState(new Set),[d,u]=k.useState(!0),[h,f]=k.useState(""),[m,x]=k.useState("popularity"),{userTokens:g,fetchUserTokens:y}=pe(),p=(g==null?void 0:g.balance)||0,b=k.useCallback(async()=>{u(!0);try{const T=await xi.getMarketplaceRobots();o(T)}catch{R.error("Failed to load marketplace robots")}finally{u(!1)}},[]),v=k.useCallback(async()=>{if(!e){c(new Set);return}try{const{data:T,error:j}=await D.from("robot_subscriptions").select("robot_id").eq("subscriber_user_id",e).eq("status","active");if(j)return;const E=(T==null?void 0:T.map(_=>_.robot_id))||[];c(new Set(E))}catch{c(new Set)}},[e]);k.useEffect(()=>{b()},[b]),k.useEffect(()=>{v(),y()},[v,y]),k.useEffect(()=>{i&&i>0&&setTimeout(()=>{v(),b(),y()},700)},[i,v,b,y]);const w=async T=>{if(!e)return R.error("Please log in to subscribe");const j=T.subscriptionCost||T.subscriptionCostTokens||0;if(p<j)return R.error("Insufficient tokens");try{const E=T.subscriptionType==="free"?"monthly":T.subscriptionType||"monthly";await xi.subscribeToRobot(T.id,E)?(R.success("Subscribed!"),await y(),s==null||s(T.id),await v()):R.error("Failed to subscribe")}catch{R.error("Subscription failed")}},N=async T=>{if(!e)return R.error("Please log in to unsubscribe");try{await xi.cleanUnsubscribeFromRobot(T)?(R.success("Unsubscribed!"),r==null||r(T),await v()):R.error("Failed to unsubscribe")}catch{R.error("Unsubscribe failed")}},S=De.useMemo(()=>a.filter(j=>{var E;return j.name.toLowerCase().includes(h.toLowerCase())||j.description.toLowerCase().includes(h.toLowerCase())||((E=j.tags)==null?void 0:E.some(_=>_.toLowerCase().includes(h.toLowerCase())))}).sort((j,E)=>{var _,C;switch(m){case"popularity":return(E.subscriberCount||0)-(j.subscriberCount||0);case"performance":return(((_=E.marketplaceStats)==null?void 0:_.winRate30d)||0)-(((C=j.marketplaceStats)==null?void 0:C.winRate30d)||0);case"newest":return new Date(E.createdAt||0).getTime()-new Date(j.createdAt||0).getTime();case"cost":return(j.subscriptionCost||j.subscriptionCostTokens||0)-(E.subscriptionCost||E.subscriptionCostTokens||0);default:return 0}}),[a,h,m]);return d?n.jsx("div",{className:"pt-4 pb-12 min-h-[600px]",children:n.jsx("div",{className:"flex flex-col items-center justify-start",children:n.jsx(gh,{size:"ultra"})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Robot Marketplace"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Discover and subscribe to profitable trading robots"})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-orange-100 dark:bg-orange-900 px-4 py-2 rounded-lg",children:[n.jsx(hh,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),n.jsxs("span",{className:"font-semibold text-orange-800 dark:text-orange-200",children:[p.toLocaleString()," tokens"]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(en,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search robots by name, description, or tags...",value:h,onChange:T=>f(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("select",{value:m,onChange:T=>x(T.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"popularity",children:"Most Popular"}),n.jsx("option",{value:"performance",children:"Best Performance"}),n.jsx("option",{value:"newest",children:"Newest"}),n.jsx("option",{value:"cost",children:"Lowest Cost"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(we,{className:"w-5 h-5 text-blue-600 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:S.length}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Available Robots"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Es,{className:"w-5 h-5 text-yellow-600 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l.size}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Your Subscriptions"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(gs,{className:"w-5 h-5 text-green-600 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:S.reduce((T,j)=>T+(j.subscriberCount||0),0)}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Subscriptions"})]})]})})]}),S.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx(en,{className:"w-12 h-12 mx-auto mb-4"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No robots found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:h?"Try adjusting your search terms":"No robots available in the marketplace"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(T=>{var P,I,$,H,B,L;const j=l.has(T.id),E=e&&T.userId===e,_=T.subscriptionCost||T.subscriptionCostTokens||0,C=p>=_;return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"p-6 pb-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:T.name}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:T.description})]}),j&&n.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-3 py-1 rounded-full text-xs font-medium",children:"Subscribed"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-green-500",children:[((((P=T.marketplaceStats)==null?void 0:P.winRate30d)||0)*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Win Rate"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:((I=T.marketplaceStats)==null?void 0:I.totalTrades30d)||0}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Trades"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:T.subscriberCount||0}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Subscribers"})]})]}),(($=T.marketplaceStats)==null?void 0:$.profit30d)!==0&&n.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"30-Day Profit"}),n.jsxs("span",{className:`font-bold ${(((H=T.marketplaceStats)==null?void 0:H.profit30d)??0)>0?"text-green-600":"text-red-600"}`,children:[(((B=T.marketplaceStats)==null?void 0:B.profit30d)??0)>0?"+":"",(((L=T.marketplaceStats)==null?void 0:L.profit30d)??0).toFixed(2),"%"]})]})}),T.tags&&T.tags.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[T.tags.slice(0,3).map((F,z)=>n.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:F},z)),T.tags.length>3&&n.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:["+",T.tags.length-3," more"]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center text-orange-600 dark:text-orange-400",children:[n.jsx(hh,{className:"w-4 h-4 mr-1"}),n.jsxs("span",{className:"font-bold",children:[_," tokens"]})]}),n.jsxs("button",{onClick:()=>t==null?void 0:t(T),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium flex items-center",children:[n.jsx(Ta,{className:"w-4 h-4 mr-1"})," Details"]})]}),n.jsx("div",{className:"flex space-x-2",children:E?n.jsx("div",{className:"flex-1 py-2 px-4 rounded-lg font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-center border-2 border-green-300 dark:border-green-700",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Es,{className:"w-4 h-4 mr-1"})," Your Robot"]})}):j?n.jsx("button",{onClick:()=>N(T.id),className:"flex-1 py-2 px-4 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white",children:"Unsubscribe"}):n.jsx("button",{onClick:()=>w(T),disabled:!C,className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${C?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:"Subscribe"})}),e&&!C&&!j&&n.jsxs("p",{className:"text-xs text-red-500 mt-2 text-center",children:["Need ",_-p," more tokens"]})]})]},T.id)})})]})};class eB{async getCopyPerformanceStats(t,s=30){try{const{data:r,error:i}=await D.rpc("get_copy_performance_stats",{original_robot_id:t,days_back:s});if(i)return console.error("Error getting copy performance stats:",i),ae.error("Failed to load copy performance statistics"),null;if(!r||r.length===0)return{totalOriginalSignals:0,totalCopiedSignals:0,successfulCopies:0,avgCopyDelaySeconds:0,copySuccessRate:0};const a=r[0];return{totalOriginalSignals:a.total_original_signals||0,totalCopiedSignals:a.total_copied_signals||0,successfulCopies:a.successful_copies||0,avgCopyDelaySeconds:parseFloat(a.avg_copy_delay_seconds||"0"),copySuccessRate:parseFloat(a.copy_success_rate||"0")}}catch(r){return console.error("Error in getCopyPerformanceStats:",r),ae.error("Error loading copy performance statistics"),null}}async testSignalCopying(t){try{const{data:s,error:r}=await D.rpc("test_signal_copying",{robot_id:t});return r?(console.error("Error testing signal copying:",r),ae.error("Failed to test signal copying"),null):(ae.success("Signal copying test completed successfully"),s)}catch(s){return console.error("Error in testSignalCopying:",s),ae.error("Error testing signal copying"),null}}async getCopiedSignals(t){try{const{data:s,error:r}=await D.from("trading_signals").select(`
          id,
          copied_from_signal_id,
          copy_relationship_id,
          user_id,
          robot_id,
          timestamp,
          status,
          symbol,
          action,
          volume
        `).eq("copied_from_signal_id",t).eq("is_copied_signal",!0);return r?(console.error("Error getting copied signals:",r),ae.error("Failed to load copied signals"),[]):(s||[]).map(i=>({id:i.id,originalSignalId:i.copied_from_signal_id,copyRelationshipId:i.copy_relationship_id,subscriberUserId:i.user_id,copiedRobotId:i.robot_id,timestamp:i.timestamp,status:i.status,symbol:i.symbol,action:i.action,volume:i.volume}))}catch(s){return console.error("Error in getCopiedSignals:",s),ae.error("Error loading copied signals"),[]}}async getUserCopyHistory(t,s=50){try{const{data:r,error:i}=await D.from("trading_signals").select(`
          id,
          copied_from_signal_id,
          copy_relationship_id,
          user_id,
          robot_id,
          timestamp,
          status,
          symbol,
          action,
          volume,
          profit_loss,
          comment
        `).eq("user_id",t).eq("is_copied_signal",!0).order("timestamp",{ascending:!1}).limit(s);return i?(console.error("Error getting user copy history:",i),ae.error("Failed to load copy history"),[]):(r||[]).map(a=>({id:a.id,originalSignalId:a.copied_from_signal_id,copyRelationshipId:a.copy_relationship_id,subscriberUserId:a.user_id,copiedRobotId:a.robot_id,timestamp:a.timestamp,status:a.status,symbol:a.symbol,action:a.action,volume:a.volume}))}catch(r){return console.error("Error in getUserCopyHistory:",r),ae.error("Error loading user copy history"),[]}}async getMasterRobotSignalsWithCopies(t,s=20){try{const{data:r,error:i}=await D.from("trading_signals").select("*").eq("robot_id",t).eq("is_copied_signal",!1).order("timestamp",{ascending:!1}).limit(s);return i?(console.error("Error getting master signals:",i),ae.error("Failed to load master signals"),[]):!r||r.length===0?[]:await Promise.all(r.map(async o=>{const l=await this.getCopiedSignals(o.id);return{signal:o,copiedCount:l.length,copiedSignals:l}}))}catch(r){return console.error("Error in getMasterRobotSignalsWithCopies:",r),ae.error("Error loading master robot signals"),[]}}async updateCopySettings(t,s){try{const{error:r}=await D.from("robot_copies").update({copy_settings:s,updated_at:new Date().toISOString()}).eq("subscription_id",t);return r?(console.error("Error updating copy settings:",r),ae.error("Failed to update copy settings"),!1):(ae.success("Copy settings updated successfully"),!0)}catch(r){return console.error("Error in updateCopySettings:",r),ae.error("Error updating copy settings"),!1}}async toggleCopyStatus(t,s){try{const{error:r}=await D.from("robot_copies").update({is_active:s,updated_at:new Date().toISOString()}).eq("id",t);return r?(console.error("Error toggling copy status:",r),ae.error("Failed to update copy status"),!1):(ae.success(`Signal copying ${s?"enabled":"disabled"} successfully`),!0)}catch(r){return console.error("Error in toggleCopyStatus:",r),ae.error("Error updating copy status"),!1}}subscribeToSignalCopying(t,s){return D.channel("signal_copying").on("postgres_changes",{event:"INSERT",schema:"public",table:"trading_signals",filter:`user_id=eq.${t},is_copied_signal=eq.true`},s).subscribe()}async getCopyRelationship(t){try{const{data:s,error:r}=await D.from("robot_copies").select(`
          *,
          subscription:robot_subscriptions(*),
          original_robot:trading_robots!original_robot_id(*),
          copied_robot:trading_robots!copied_robot_id(*)
        `).eq("id",t).single();return r?(console.error("Error getting copy relationship:",r),null):s}catch(s){return console.error("Error in getCopyRelationship:",s),null}}}const tB=new eB,sB=({robot:e,isOpen:t,onClose:s,onSubscribe:r,refreshTrigger:i=0})=>{const[a,o]=k.useState(null),[l,c]=k.useState(!1),[d,u]=k.useState(0),[h,f]=k.useState(null),{fetchUserTokens:m}=pe(),[x,g]=k.useState(null),y=h&&e.userId===h;k.useEffect(()=>{t&&(p(),b())},[t]),k.useEffect(()=>{h&&e.id&&(w(),v())},[h,e.id,i]);const p=async()=>{var P;const{data:{session:C}}=await D.auth.getSession();(P=C==null?void 0:C.user)!=null&&P.id&&f(C.user.id)},b=async()=>{const C=await tB.getCopyPerformanceStats(e.id);o(C)},v=async()=>{if(h)try{const C=await ti.getUserTokens(h);u((C==null?void 0:C.balance)||0)}catch(C){console.error("Error loading user tokens:",C),u(0)}},w=async()=>{if(h)try{console.log("🔍 MarketplaceRobotModal: Checking subscription status for robot:",e.id);const{data:C,error:P}=await D.from("robot_subscriptions").select("*").eq("subscriber_user_id",h).eq("robot_id",e.id).eq("status","active").single();!P&&C?(console.log("✅ MarketplaceRobotModal: Found active subscription:",C),g(C)):(console.log("ℹ️ MarketplaceRobotModal: No active subscription found"),g(null))}catch(C){console.error("Error checking subscription status:",C),g(null)}},N=async()=>{if(!h){ae.error("Please log in to subscribe to robots");return}if(d<e.subscriptionCost){ae.error("Insufficient tokens for subscription");return}c(!0);try{await xi.subscribeToRobot(e.id,e.subscriptionType)&&(ae.success("Successfully subscribed to robot!"),await v(),await m(),await w(),r(e.id))}catch(C){console.error("Subscription error:",C),ae.error("Failed to subscribe to robot")}finally{c(!1)}},S=async()=>{if(!h){ae.error("Please log in to unsubscribe from robots");return}c(!0);try{await xi.cleanUnsubscribeFromRobot(e.id)&&(ae.success("Successfully unsubscribed from robot!"),await v(),await m(),await w(),r(e.id))}catch(C){console.error("Unsubscribe error:",C),ae.error("Failed to unsubscribe from robot")}finally{c(!1)}},T=()=>{const C=`${window.location.origin}/marketplace/${e.id}`;navigator.clipboard.writeText(C),ae.success("Robot link copied to clipboard!")};if(!t)return null;const j=a?a.copySuccessRate:0,E=a?a.totalOriginalSignals:0,_=a?a.avgCopyDelaySeconds:0;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.name}),y&&n.jsxs("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-sm font-medium rounded-full border border-green-300 dark:border-green-700 flex items-center",children:[n.jsx(Es,{className:"w-4 h-4 mr-1"}),"Your Robot"]})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["by ",e.ownerName," • ",e.category]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:T,className:"flex items-center px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[n.jsx(Jl,{className:"w-4 h-4 mr-1"}),"Share"]}),n.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(Ht,{className:"w-6 h-6"})})]})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Description"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:e.description||"No description available for this robot."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Performance Metrics"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg text-center",children:[n.jsxs("div",{className:"flex items-center justify-center text-green-600 dark:text-green-400 mb-2",children:[n.jsx(we,{className:"w-5 h-5 mr-1"}),n.jsxs("span",{className:"text-lg font-semibold",children:[j.toFixed(1),"%"]})]}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Win Rate"})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg text-center",children:[n.jsxs("div",{className:"flex items-center justify-center text-blue-600 dark:text-blue-400 mb-2",children:[n.jsx(gs,{className:"w-5 h-5 mr-1"}),n.jsx("span",{className:"text-lg font-semibold",children:e.subscriberCount})]}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Subscribers"})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg text-center",children:[n.jsxs("div",{className:"flex items-center justify-center text-purple-600 dark:text-purple-400 mb-2",children:[n.jsx(Yr,{className:"w-5 h-5 mr-1"}),n.jsx("span",{className:"text-lg font-semibold",children:E})]}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Trades"})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg text-center",children:[n.jsxs("div",{className:"flex items-center justify-center text-orange-600 dark:text-orange-400 mb-2",children:[n.jsx(Bt,{className:"w-5 h-5 mr-1"}),n.jsxs("span",{className:"text-lg font-semibold",children:[_.toFixed(1),"s"]})]}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg. Copy Delay"})]})]})]}),e.tags&&e.tags.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((C,P)=>n.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:C},P))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Trading Information"}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Strategy:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:e.strategy||"Custom"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Active:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(e.lastActiveAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleDateString()})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 border border-blue-200 dark:border-gray-700 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center text-yellow-500",children:[n.jsx(Es,{className:"w-5 h-5 fill-current mr-1"}),n.jsx("span",{className:"font-semibold",children:e.rating.toFixed(1)})]}),n.jsx("div",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full",children:e.subscriptionType})]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"flex items-center justify-center text-2xl font-bold text-gray-900 dark:text-white mb-2",children:[n.jsx(hh,{className:"w-6 h-6 text-orange-500 mr-2"}),e.subscriptionCost," tokens"]}),e.subscriptionPeriod&&n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["per ",e.subscriptionPeriod]})]}),y?n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center text-green-600 dark:text-green-400 mb-3",children:[n.jsx(Te,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-medium",children:"Subscribed"})]}),(x==null?void 0:x.expiresAt)&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Expires: ",new Date(x.expiresAt).toLocaleDateString()]}),n.jsx("button",{onClick:S,disabled:l,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Unsubscribing...":"Unsubscribe"}),n.jsx("button",{onClick:async()=>{if(!(x!=null&&x.id)){ae.error("Subscription not found.");return}try{c(!0),await xi.copyRobotToAccount(x.id),ae.success("Copy trading started!")}catch(C){const P=C instanceof Error?C.message:String(C);ae.error(P||"Failed to start copy trading")}finally{c(!1)}},disabled:l,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Starting...":"Start Copy Trading"})]}):n.jsxs("div",{className:"space-y-4",children:[h&&d<e.subscriptionCost&&n.jsxs("div",{className:"flex items-center text-amber-600 dark:text-amber-400 text-sm",children:[n.jsx(Zr,{className:"w-4 h-4 mr-1"}),n.jsx("span",{children:"Insufficient tokens"})]}),n.jsx("button",{onClick:N,disabled:l||!!h&&d<e.subscriptionCost,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Subscribing...":"Subscribe Now"}),h&&n.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Your balance: ",d," tokens"]}),!h&&n.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Please log in to subscribe"})]})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"What's Included"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx(Te,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),"Real-time signal copying"]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Te,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),"Customizable copy settings"]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Te,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),"Performance tracking"]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Te,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),"Risk management tools"]})]})]})]})]})})]})})},rB=({robot:e,isOpen:t,onClose:s,onSharingUpdated:r})=>{const[i,a]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState({isPublic:!1,isShareable:!1,subscriptionType:"free",subscriptionCostTokens:0,description:"",tags:[]}),[u,h]=k.useState(""),[f,m]=k.useState({totalTrades:0,winRate:0,subscribers:0,monthlyRevenue:0});k.useEffect(()=>{t&&(x(),g(),y())},[t,e.id]);const x=async()=>{var N;const{data:{session:w}}=await D.auth.getSession();(N=w==null?void 0:w.user)!=null&&N.id&&l(w.user.id)},g=async()=>{try{const{data:w,error:N}=await D.from("trading_robots").select("is_public, is_shareable, subscription_type, subscription_cost_tokens, description, tags").eq("id",e.id).single();if(N){console.error("Error loading robot settings:",N);return}w&&d({isPublic:w.is_public||!1,isShareable:w.is_shareable||!1,subscriptionType:w.subscription_type||"free",subscriptionCostTokens:w.subscription_cost_tokens||0,description:w.description||"",tags:w.tags||[]})}catch(w){console.error("Error in loadCurrentSettings:",w)}},y=async()=>{try{const{data:w}=await D.from("trading_signals").select("status, profit_loss").eq("robot_id",e.id),N=(w==null?void 0:w.length)||0,S=(w==null?void 0:w.filter(P=>P.status==="closed"&&P.profit_loss>0).length)||0,T=N>0?S/N*100:0,{data:j}=await D.from("robot_subscriptions").select("id").eq("robot_id",e.id).eq("status","active"),E=(j==null?void 0:j.length)||0,{data:_}=await D.from("robot_subscriptions").select("tokens_paid").eq("robot_id",e.id).gte("created_at",new Date(Date.now()-30*24*60*60*1e3).toISOString()),C=(_==null?void 0:_.reduce((P,I)=>P+(I.tokens_paid||0),0))||0;m({totalTrades:N,winRate:T,subscribers:E,monthlyRevenue:C})}catch(w){console.error("Error loading robot stats:",w)}},p=async()=>{if(!o){ae.error("Please log in to update sharing settings");return}a(!0);try{await xi.updateRobotSharingSettings(e.id,c),ae.success("Robot sharing settings updated successfully"),r==null||r(),s()}catch(w){console.error("Error updating sharing settings:",w),ae.error("Failed to update sharing settings")}finally{a(!1)}},b=()=>{u.trim()&&!c.tags.includes(u.trim())&&(d(w=>({...w,tags:[...w.tags,u.trim()]})),h(""))},v=w=>{d(N=>({...N,tags:N.tags.filter(S=>S!==w)}))};return t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Robot Sharing Settings"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.name})]})]}),n.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(Ht,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:f.totalTrades}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Trades"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:[f.winRate.toFixed(1),"%"]}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Win Rate"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:f.subscribers}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Subscribers"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:f.monthlyRevenue}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monthly Revenue"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Visibility & Sharing"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(G0,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Make Public"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show this robot in the marketplace"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.isPublic,onChange:w=>d(N=>({...N,isPublic:w.target.checked})),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Jl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Allow Sharing"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Let others subscribe to copy your robot's signals"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.isShareable,onChange:w=>d(N=>({...N,isShareable:w.target.checked})),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),c.isShareable&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Subscription Settings"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subscription Type"}),n.jsxs("select",{value:c.subscriptionType,onChange:w=>d(N=>({...N,subscriptionType:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"free",children:"Free"}),n.jsx("option",{value:"monthly",children:"Monthly Subscription"}),n.jsx("option",{value:"one_time",children:"One-time Payment"})]})]}),c.subscriptionType!=="free"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cost (Tokens)"}),n.jsxs("div",{className:"relative",children:[n.jsx(hh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500 w-5 h-5"}),n.jsx("input",{type:"number",min:"1",max:"10000",value:c.subscriptionCostTokens,onChange:w=>d(N=>({...N,subscriptionCostTokens:parseInt(w.target.value)||0})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Enter token cost"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),n.jsx("textarea",{value:c.description,onChange:w=>d(N=>({...N,description:w.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Describe your trading robot's strategy and features..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:u,onChange:w=>h(w.target.value),onKeyPress:w=>w.key==="Enter"&&b(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Add a tag (e.g., scalping, news, forex)"}),n.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map((w,N)=>n.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:[n.jsx(aa,{className:"w-3 h-3 mr-1"}),w,n.jsx("button",{onClick:()=>v(w),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:n.jsx(Ht,{className:"w-3 h-3"})})]},N))})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:"Cancel"}),n.jsx("button",{onClick:p,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:i?"Saving...":"Save Settings"})]})]})}):null},nB=({userRobots:e=[]})=>{const[t,s]=k.useState("marketplace"),[r,i]=k.useState(null),[a,o]=k.useState(null),[l,c]=k.useState([]),[d,u]=k.useState(!1),[h,f]=k.useState(null),[m,x]=k.useState(new Set),[g,y]=k.useState(null),[p,b]=k.useState(null),[v,w]=k.useState(0),[N,S]=k.useState(null);k.useEffect(()=>{(async()=>{var F;u(!0);const{data:L}=await D.auth.getUser();if((F=L==null?void 0:L.user)!=null&&F.id){y(L.user.id);try{const z=await xi.getUserSubscriptions();c(z)}catch{c([])}}else y(null),c([]);u(!1)})()},[t,v]);const T=[{id:"marketplace",label:"Marketplace",icon:kL,description:"Browse & Subscribe"},{id:"subscriptions",label:"My Subscriptions",icon:es,description:"Copy Trading"},{id:"myrobots",label:"My Robots",icon:Jl,description:"Share & Manage"}],j=async B=>{u(!0),await new Promise(L=>setTimeout(L,1e3)),c(L=>[...L,{id:Date.now().toString(),robotId:B,status:"active",subscriptionType:"monthly",createdAt:new Date().toISOString(),tokensPaid:10}]),x(L=>new Set([...L,B])),u(!1),w(L=>L+1),R.success("Subscribed and copy trading started!")},E=async B=>{u(!0),await new Promise(L=>setTimeout(L,1e3)),c(L=>L.filter(F=>F.robotId!==B)),x(L=>{const F=new Set(L);return F.delete(B),F}),u(!1),w(L=>L+1),R.success("Unsubscribed and copy trading stopped!")},_=async B=>{f(B),await new Promise(L=>setTimeout(L,1e3)),x(L=>new Set([...L,B])),f(null),R.success("Started copy trading!")},C=async B=>{f(B),await new Promise(L=>setTimeout(L,1e3)),x(L=>{const F=new Set(L);return F.delete(B),F}),f(null),R.success("Stopped copy trading!")},P=async B=>{u(!0),await new Promise(F=>setTimeout(F,1e3));let L="";c(F=>{const z=F.find(A=>A.id===B);return z&&(L=z.robotId),F.filter(A=>A.id!==B)}),x(F=>{const z=new Set(F);return L&&z.delete(L),z}),u(!1),w(F=>F+1),R.success("Unsubscribed and copy trading stopped!")},I=()=>{o(null),R.success("Sharing updated!")},$=B=>{b(B.id),setTimeout(()=>{B.isActive=!B.isActive,b(null),R.success(B.isActive?"Robot resumed!":"Robot paused!")},1e3)},H=B=>{b(B.id),setTimeout(()=>{S(null),b(null),R.success("Robot deleted!")},1e3)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0a0a] via-[#1b1b1b] to-[#2a2a2a]",children:[n.jsx("div",{className:"bg-gradient-to-r from-[#1a1a1a] via-[#292929] to-[#1a1a1a] border-b border-[#ffa31a]/30 shadow-xl backdrop-blur-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"py-6 border-b border-[#ffa31a]/20 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"bg-gradient-to-r from-[#ffa31a] to-[#ff8c00] p-3 rounded-xl shadow-lg",children:n.jsx(Bt,{className:"w-8 h-8 text-black font-bold"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#ffa31a] to-[#ffb84d] bg-clip-text text-transparent",children:"CopyFX Trading Hub"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Professional Copy Trading Platform"})]})]})}),n.jsx("div",{className:"flex space-x-1",children:T.map(B=>{const L=B.icon,F=t===B.id;return n.jsxs("button",{onClick:()=>s(B.id),className:`relative flex items-center space-x-3 py-4 px-6 font-medium text-sm transition-all duration-300 rounded-t-xl ${F?"bg-gradient-to-b from-[#ffa31a]/20 to-[#ffa31a]/5 text-[#ffa31a] border-b-2 border-[#ffa31a] shadow-lg":"text-gray-400 hover:text-gray-200 hover:bg-[#333]/30"}`,children:[n.jsx("div",{className:`p-2 rounded-lg ${F?"bg-[#ffa31a]/20":"bg-gray-700/30"}`,children:n.jsx(L,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:B.label}),n.jsx("div",{className:"text-xs opacity-70",children:B.description})]}),F&&n.jsx("div",{className:"absolute -bottom-0.5 left-1/2 transform -translate-x-1/2 w-full h-0.5 bg-gradient-to-r from-transparent via-[#ffa31a] to-transparent"})]},B.id)})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[t==="marketplace"&&n.jsx(Z9,{userId:g,onViewDetails:i,onSubscribe:j,onUnsubscribe:E,refreshTrigger:v}),t==="subscriptions"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"My Subscriptions"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Manage your subscribed robots and start copy trading"}),d?n.jsx("div",{className:"pt-4 pb-12 min-h-[600px] flex flex-col items-center justify-start",children:n.jsx(gh,{size:"ultra"})}):n.jsx("div",{children:l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(es,{className:"w-16 h-16 text-[#ffa31a] mx-auto mb-4 opacity-50"}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Subscriptions Yet"}),n.jsx("p",{className:"text-[#808080] mb-6 max-w-md mx-auto",children:"Subscribe to robots from the marketplace to start copy trading and see them here."}),n.jsx("button",{onClick:()=>s("marketplace"),className:"bg-[#ffa31a] text-[#1b1b1b] px-6 py-3 rounded-lg font-semibold hover:bg-[#cc8214] transition-colors",children:"Browse Marketplace"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:l.map(B=>n.jsx("div",{className:"bg-[#292929] rounded-xl border border-[#ffa31a]/20 p-6 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Robot ID: ",B.robotId]}),n.jsxs("p",{className:"text-sm text-[#808080]",children:["Status: ",B.status]})]}),n.jsxs("div",{className:"flex space-x-2",children:[m.has(B.robotId)?n.jsx("button",{onClick:()=>C(B.robotId),disabled:h===B.robotId,className:"px-4 py-2 bg-orange-500 text-white rounded-lg",children:"Stop Copy"}):n.jsx("button",{onClick:()=>_(B.robotId),disabled:h===B.robotId,className:"px-4 py-2 bg-green-500 text-white rounded-lg",children:"Start Copy"}),n.jsx("button",{onClick:()=>P(B.id),className:"px-4 py-2 border border-red-400 text-red-400 rounded-lg",children:"Unsubscribe"})]})]})},B.id))})})]}),t==="myrobots"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"My Robots"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Share & manage your trading robots"}),d?n.jsx("div",{className:"pt-4 pb-12 min-h-[600px] flex flex-col items-center justify-start",children:n.jsx(gh,{size:"ultra"})}):n.jsx("div",{children:!e||e.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"p-4 bg-[#292929] rounded-lg border border-[#3d3d3d] inline-block mb-4",children:n.jsx(Jl,{className:"w-12 h-12 text-[#ffa31a] mx-auto"})}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Robots to Share"}),n.jsx("p",{className:"text-[#808080] mb-6",children:"You don't have any robots to share with the community yet."}),n.jsx("p",{className:"text-sm text-[#808080]",children:"Create robots in the main dashboard to share them here."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(B=>n.jsx("div",{className:"bg-[#292929] rounded-lg border border-[#3d3d3d] overflow-hidden hover:border-[#ffa31a]/50 transition-colors",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:B.name}),n.jsxs("p",{className:"text-sm text-[#808080]",children:["Symbol: ",B.symbol]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>o(B),className:"p-2 bg-[#ffa31a] text-[#1b1b1b] rounded-lg",title:"Share Robot",children:n.jsx(Jl,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(B),className:"p-2 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg",title:"Delete Robot",children:n.jsx(ya,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[#808080]",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${B.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:B.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[#808080]",children:"Created:"}),n.jsx("span",{className:"text-white",children:B.createdAt?new Date(B.createdAt).toLocaleDateString():"N/A"})]})]}),n.jsxs("div",{className:"flex space-x-2 mt-4",children:[n.jsx("button",{onClick:()=>$(B),disabled:p===B.id,className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-colors ${B.isActive?"bg-orange-500 text-white":"bg-green-500 text-white"}`,children:B.isActive?"Pause":"Resume"}),n.jsx("button",{onClick:()=>S(B),disabled:p===B.id,className:"px-4 py-2 border border-red-400 text-red-400 rounded-lg",children:"Delete"})]})]})},B.id))})})]})]}),r&&n.jsx(sB,{robot:r,isOpen:!!r,onClose:()=>i(null),onSubscribe:j,refreshTrigger:v}),a&&n.jsx(rB,{robot:a,isOpen:!!a,onClose:()=>o(null),onSharingUpdated:I}),N&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#292929] rounded-xl border border-red-400/20 p-6 max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 bg-red-500/20 rounded-full",children:n.jsx(bs,{className:"w-6 h-6 text-red-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Delete Robot"}),n.jsx("p",{className:"text-sm text-[#808080]",children:"This action cannot be undone"})]})]}),n.jsxs("p",{className:"text-white mb-6",children:["Are you sure you want to delete ",n.jsxs("strong",{children:['"',N.name,'"']}),"? This will permanently remove the robot and all its data."]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>S(null),disabled:p===N.id,className:"flex-1 px-4 py-2 border border-[#ffa31a] text-[#ffa31a] rounded-lg hover:bg-[#ffa31a]/10 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:()=>H(N),disabled:p===N.id,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:p===N.id?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Deleting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(ya,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete"})]})})]})]})})]})},iB=e=>{let t=e;return t=t.replace(/(\d+[\)\.]\s+)([^\n]+)/g,"$1 $2"),t=t.replace(/(^|\n)([^:\n]+):\s*(\n|$)/g,"$1**$2:**$3"),["trading robots","TradingView","webhook","signals","risk management","tokens","VPS","bot token","User ID","JSON payload"].forEach(r=>{const i=new RegExp(`\\b${r}\\b`,"gi");t=t.replace(i,`**${r}**`)}),t},aB=of((e,t)=>({messages:[{id:"1",role:"system",content:"Hi there! I'm your MT5 Trading Platform assistant. How can I help you today?",timestamp:new Date,relatedQuestions:["How do I create a trading robot?","How do I set up TradingView webhooks?","What are tokens used for?"]}],isLoading:!1,error:null,addMessage:s=>{const r={id:Date.now().toString(),timestamp:new Date,...s};e(i=>({messages:[...i.messages,r]}))},sendMessage:async s=>{if(!s.trim())return;t().addMessage({role:"user",content:s.trim()});const r=(Date.now()+1).toString();e(i=>({messages:[...i.messages,{id:r,role:"assistant",content:"",timestamp:new Date,isLoading:!0}],isLoading:!0}));try{const i=t().messages.filter(c=>c.role!=="system").map(c=>({role:c.role,content:c.content})),a=await fetch(`${Js}/functions/v1/chatbot-api`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jn}`},body:JSON.stringify({query:s.trim(),previousMessages:i})});if(!a.ok)throw new Error(`Error: ${a.status}`);const o=await a.json();e(c=>({messages:c.messages.filter(d=>d.id!==r),isLoading:!1}));const l=iB(o.answer);t().addMessage({role:"assistant",content:l,relatedQuestions:o.relatedQuestions,relatedDocuments:o.category?[`${o.category} Documentation`]:void 0})}catch(i){console.error("Error fetching chatbot response:",i),e(a=>({messages:a.messages.filter(o=>o.id!==r),isLoading:!1,error:i instanceof Error?i.message:"Failed to get response"})),t().addMessage({role:"assistant",content:"I'm having trouble connecting to the server. Please try again later."}),R.error("Failed to get chatbot response")}},clearMessages:()=>{e({messages:[{id:"1",role:"system",content:"Hi there! I'm your MT5 Trading Platform assistant. How can I help you today?",timestamp:new Date,relatedQuestions:["How do I create a trading robot?","How do I set up TradingView webhooks?","What are tokens used for?"]}]})},setError:s=>{e({error:s})}}));function oB(e,t){const s={};return(e[e.length-1]===""?[...e,""]:e).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const lB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cB=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dB={};function s1(e,t){return(dB.jsx?cB:lB).test(e)}const uB=/[ \t\n\f\r]/g;function hB(e){return typeof e=="object"?e.type==="text"?r1(e.value):!1:r1(e)}function r1(e){return e.replace(uB,"")===""}class rd{constructor(t,s,r){this.normal=s,this.property=t,r&&(this.space=r)}}rd.prototype.normal={};rd.prototype.property={};rd.prototype.space=void 0;function uC(e,t){const s={},r={};for(const i of e)Object.assign(s,i.property),Object.assign(r,i.normal);return new rd(s,r,t)}function ig(e){return e.toLowerCase()}class Bs{constructor(t,s){this.attribute=s,this.property=t}}Bs.prototype.attribute="";Bs.prototype.booleanish=!1;Bs.prototype.boolean=!1;Bs.prototype.commaOrSpaceSeparated=!1;Bs.prototype.commaSeparated=!1;Bs.prototype.defined=!1;Bs.prototype.mustUseProperty=!1;Bs.prototype.number=!1;Bs.prototype.overloadedBoolean=!1;Bs.prototype.property="";Bs.prototype.spaceSeparated=!1;Bs.prototype.space=void 0;let fB=0;const ye=Pa(),vt=Pa(),ag=Pa(),te=Pa(),He=Pa(),go=Pa(),Hs=Pa();function Pa(){return 2**++fB}const og=Object.freeze(Object.defineProperty({__proto__:null,boolean:ye,booleanish:vt,commaOrSpaceSeparated:Hs,commaSeparated:go,number:te,overloadedBoolean:ag,spaceSeparated:He},Symbol.toStringTag,{value:"Module"})),Xm=Object.keys(og);class my extends Bs{constructor(t,s,r,i){let a=-1;if(super(t,s),n1(this,"space",i),typeof r=="number")for(;++a<Xm.length;){const o=Xm[a];n1(this,Xm[a],(r&og[o])===og[o])}}}my.prototype.defined=!0;function n1(e,t,s){s&&(e[t]=s)}function Yo(e){const t={},s={};for(const[r,i]of Object.entries(e.properties)){const a=new my(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,s[ig(r)]=r,s[ig(a.attribute)]=r}return new rd(t,s,e.space)}const hC=Yo({properties:{ariaActiveDescendant:null,ariaAtomic:vt,ariaAutoComplete:null,ariaBusy:vt,ariaChecked:vt,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:He,ariaCurrent:null,ariaDescribedBy:He,ariaDetails:null,ariaDisabled:vt,ariaDropEffect:He,ariaErrorMessage:null,ariaExpanded:vt,ariaFlowTo:He,ariaGrabbed:vt,ariaHasPopup:null,ariaHidden:vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:He,ariaLevel:te,ariaLive:null,ariaModal:vt,ariaMultiLine:vt,ariaMultiSelectable:vt,ariaOrientation:null,ariaOwns:He,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:vt,ariaReadOnly:vt,ariaRelevant:null,ariaRequired:vt,ariaRoleDescription:He,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:vt,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function fC(e,t){return t in e?e[t]:t}function mC(e,t){return fC(e,t.toLowerCase())}const mB=Yo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:go,acceptCharset:He,accessKey:He,action:null,allow:null,allowFullScreen:ye,allowPaymentRequest:ye,allowUserMedia:ye,alt:null,as:null,async:ye,autoCapitalize:null,autoComplete:He,autoFocus:ye,autoPlay:ye,blocking:He,capture:null,charSet:null,checked:ye,cite:null,className:He,cols:te,colSpan:null,content:null,contentEditable:vt,controls:ye,controlsList:He,coords:te|go,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ye,defer:ye,dir:null,dirName:null,disabled:ye,download:ag,draggable:vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ye,formTarget:null,headers:He,height:te,hidden:ag,high:te,href:null,hrefLang:null,htmlFor:He,httpEquiv:He,id:null,imageSizes:null,imageSrcSet:null,inert:ye,inputMode:null,integrity:null,is:null,isMap:ye,itemId:null,itemProp:He,itemRef:He,itemScope:ye,itemType:He,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ye,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:ye,muted:ye,name:null,nonce:null,noModule:ye,noValidate:ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ye,optimum:te,pattern:null,ping:He,placeholder:null,playsInline:ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ye,referrerPolicy:null,rel:He,required:ye,reversed:ye,rows:te,rowSpan:te,sandbox:He,scope:null,scoped:ye,seamless:ye,selected:ye,shadowRootClonable:ye,shadowRootDelegatesFocus:ye,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:ye,useMap:null,value:vt,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:He,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ye,declare:ye,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:ye,noHref:ye,noShade:ye,noWrap:ye,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:vt,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ye,disableRemotePlayback:ye,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:mC}),pB=Yo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hs,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:He,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:go,g2:go,glyphName:go,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:Hs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:He,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hs,rev:Hs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hs,requiredFeatures:Hs,requiredFonts:Hs,requiredFormats:Hs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:Hs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hs,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fC}),pC=Yo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xC=Yo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mC}),gC=Yo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),xB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gB=/[A-Z]/g,i1=/-[a-z]/g,yB=/^data[-\w.:]+$/i;function bB(e,t){const s=ig(t);let r=t,i=Bs;if(s in e.normal)return e.property[e.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&yB.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(i1,wB);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!i1.test(a)){let o=a.replace(gB,vB);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=my}return new i(r,t)}function vB(e){return"-"+e.toLowerCase()}function wB(e){return e.charAt(1).toUpperCase()}const jB=uC([hC,mB,pC,xC,gC],"html"),py=uC([hC,pB,pC,xC,gC],"svg");function NB(e){return e.join(" ").trim()}var xy={},a1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kB=/\n/g,SB=/^\s*/,_B=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,TB=/^:\s*/,CB=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,PB=/^[;\s]*/,EB=/^\s+|\s+$/g,AB=`
`,o1="/",l1="*",Gi="",RB="comment",MB="declaration",DB=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var s=1,r=1;function i(x){var g=x.match(kB);g&&(s+=g.length);var y=x.lastIndexOf(AB);r=~y?x.length-y:r+x.length}function a(){var x={line:s,column:r};return function(g){return g.position=new o(x),d(),g}}function o(x){this.start=x,this.end={line:s,column:r},this.source=t.source}o.prototype.content=e;function l(x){var g=new Error(t.source+":"+s+":"+r+": "+x);if(g.reason=x,g.filename=t.source,g.line=s,g.column=r,g.source=e,!t.silent)throw g}function c(x){var g=x.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function d(){c(SB)}function u(x){var g;for(x=x||[];g=h();)g!==!1&&x.push(g);return x}function h(){var x=a();if(!(o1!=e.charAt(0)||l1!=e.charAt(1))){for(var g=2;Gi!=e.charAt(g)&&(l1!=e.charAt(g)||o1!=e.charAt(g+1));)++g;if(g+=2,Gi===e.charAt(g-1))return l("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,x({type:RB,comment:y})}}function f(){var x=a(),g=c(_B);if(g){if(h(),!c(TB))return l("property missing ':'");var y=c(CB),p=x({type:MB,property:c1(g[0].replace(a1,Gi)),value:y?c1(y[0].replace(a1,Gi)):Gi});return c(PB),p}}function m(){var x=[];u(x);for(var g;g=f();)g!==!1&&(x.push(g),u(x));return x}return d(),m()};function c1(e){return e?e.replace(EB,Gi):Gi}var IB=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xy,"__esModule",{value:!0});xy.default=OB;var LB=IB(DB);function OB(e,t){var s=null;if(!e||typeof e!="string")return s;var r=(0,LB.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,l=a.value;i?t(o,l,a):l&&(s=s||{},s[o]=l)}}),s}var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.camelCase=void 0;var FB=/^--[a-zA-Z0-9_-]+$/,UB=/-([a-z])/g,$B=/^[^-]+$/,BB=/^-(webkit|moz|ms|o|khtml)-/,zB=/^-(ms)-/,VB=function(e){return!e||$B.test(e)||FB.test(e)},HB=function(e,t){return t.toUpperCase()},d1=function(e,t){return"".concat(t,"-")},WB=function(e,t){return t===void 0&&(t={}),VB(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(zB,d1):e=e.replace(BB,d1),e.replace(UB,HB))};Df.camelCase=WB;var qB=os&&os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},YB=qB(xy),GB=Df;function lg(e,t){var s={};return!e||typeof e!="string"||(0,YB.default)(e,function(r,i){r&&i&&(s[(0,GB.camelCase)(r,t)]=i)}),s}lg.default=lg;var JB=lg;const KB=$h(JB),yC=bC("end"),gy=bC("start");function bC(e){return t;function t(s){const r=s&&s.position&&s.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function XB(e){const t=gy(e),s=yC(e);if(t&&s)return{start:t,end:s}}function ec(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?u1(e.position):"start"in e||"end"in e?u1(e):"line"in e||"column"in e?cg(e):""}function cg(e){return h1(e&&e.line)+":"+h1(e&&e.column)}function u1(e){return cg(e&&e.start)+"-"+cg(e&&e.end)}function h1(e){return e&&typeof e=="number"?e:1}class ds extends Error{constructor(t,s,r){super(),typeof s=="string"&&(r=s,s=void 0);let i="",a={},o=!1;if(s&&("line"in s&&"column"in s?a={place:s}:"start"in s&&"end"in s?a={place:s}:"type"in s?a={ancestors:[s],place:s.position}:a={...s}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=ec(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ds.prototype.file="";ds.prototype.name="";ds.prototype.reason="";ds.prototype.message="";ds.prototype.stack="";ds.prototype.column=void 0;ds.prototype.line=void 0;ds.prototype.ancestors=void 0;ds.prototype.cause=void 0;ds.prototype.fatal=void 0;ds.prototype.place=void 0;ds.prototype.ruleId=void 0;ds.prototype.source=void 0;const yy={}.hasOwnProperty,QB=new Map,ZB=/[A-Z]/g,ez=new Set(["table","tbody","thead","tfoot","tr"]),tz=new Set(["td","th"]),vC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dz(s,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cz(s,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?py:jB,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=wC(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function wC(e,t,s){if(t.type==="element")return rz(e,t,s);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return nz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return az(e,t,s);if(t.type==="mdxjsEsm")return iz(e,t);if(t.type==="root")return oz(e,t,s);if(t.type==="text")return lz(e,t)}function rz(e,t,s){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=py,e.schema=i),e.ancestors.push(t);const a=NC(e,t.tagName,!1),o=uz(e,t);let l=vy(e,t);return ez.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!hB(c):!0})),jC(e,o,a,t),by(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,s)}function nz(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Fc(e,t.position)}function iz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Fc(e,t.position)}function az(e,t,s){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=py,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:NC(e,t.name,!0),o=hz(e,t),l=vy(e,t);return jC(e,o,a,t),by(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,s)}function oz(e,t,s){const r={};return by(r,vy(e,t)),e.create(t,e.Fragment,r,s)}function lz(e,t){return t.value}function jC(e,t,s,r){typeof s!="string"&&s!==e.Fragment&&e.passNode&&(t.node=r)}function by(e,t){if(t.length>0){const s=t.length>1?t:t[0];s&&(e.children=s)}}function cz(e,t,s){return r;function r(i,a,o,l){const d=Array.isArray(o.children)?s:t;return l?d(a,o,l):d(a,o)}}function dz(e,t){return s;function s(r,i,a,o){const l=Array.isArray(a.children),c=gy(r);return t(i,a,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function uz(e,t){const s={};let r,i;for(i in t.properties)if(i!=="children"&&yy.call(t.properties,i)){const a=fz(e,i,t.properties[i]);if(a){const[o,l]=a;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&tz.has(t.tagName)?r=l:s[o]=l}}if(r){const a=s.style||(s.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return s}function hz(e,t){const s={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(s,e.evaluater.evaluateExpression(l.argument))}else Fc(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else Fc(e,t.position);else a=r.value===null?!0:r.value;s[i]=a}return s}function vy(e,t){const s=[];let r=-1;const i=e.passKeys?new Map:QB;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const d=i.get(c)||0;o=c+"-"+d,i.set(c,d+1)}}const l=wC(e,a,o);l!==void 0&&s.push(l)}return s}function fz(e,t,s){const r=bB(e.schema,t);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=r.commaSeparated?oB(s):NB(s)),r.property==="style"){let i=typeof s=="object"?s:mz(e,String(s));return e.stylePropertyNameCase==="css"&&(i=pz(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?xB[r.property]||r.property:r.attribute,s]}}function mz(e,t){try{return KB(t,{reactCompat:!0})}catch(s){if(e.ignoreInvalidStyle)return{};const r=s,i=new ds("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=vC+"#cannot-parse-style-attribute",i}}function NC(e,t,s){let r;if(!s)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const l=s1(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=s1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return yy.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Fc(e)}function Fc(e,t){const s=new ds("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=vC+"#cannot-handle-mdx-estrees-without-createevaluater",s}function pz(e){const t={};let s;for(s in e)yy.call(e,s)&&(t[xz(s)]=e[s]);return t}function xz(e){let t=e.replace(ZB,gz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function gz(e){return"-"+e.toLowerCase()}const Qm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yz={};function wy(e,t){const s=yz,r=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,i=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return kC(e,r,i)}function kC(e,t,s){if(bz(e)){if("value"in e)return e.type==="html"&&!s?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return f1(e.children,t,s)}return Array.isArray(e)?f1(e,t,s):""}function f1(e,t,s){const r=[];let i=-1;for(;++i<e.length;)r[i]=kC(e[i],t,s);return r.join("")}function bz(e){return!!(e&&typeof e=="object")}const m1=document.createElement("i");function jy(e){const t="&"+e+";";m1.innerHTML=t;const s=m1.textContent;return s.charCodeAt(s.length-1)===59&&e!=="semi"||s===t?!1:s}function Xs(e,t,s,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,s=s>0?s:0,r.length<1e4)o=Array.from(r),o.unshift(t,s),e.splice(...o);else for(s&&e.splice(t,s);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function ur(e,t){return e.length>0?(Xs(e,e.length,0,t),e):t}const p1={}.hasOwnProperty;function SC(e){const t={};let s=-1;for(;++s<e.length;)vz(t,e[s]);return t}function vz(e,t){let s;for(s in t){const i=(p1.call(e,s)?e[s]:void 0)||(e[s]={}),a=t[s];let o;if(a)for(o in a){p1.call(i,o)||(i[o]=[]);const l=a[o];wz(i[o],Array.isArray(l)?l:l?[l]:[])}}}function wz(e,t){let s=-1;const r=[];for(;++s<t.length;)(t[s].add==="after"?e:r).push(t[s]);Xs(e,0,0,r)}function _C(e,t){const s=Number.parseInt(e,t);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"�":String.fromCodePoint(s)}function Ar(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xs=Ai(/[A-Za-z]/),is=Ai(/[\dA-Za-z]/),jz=Ai(/[#-'*+\--9=?A-Z^-~]/);function Ph(e){return e!==null&&(e<32||e===127)}const dg=Ai(/\d/),Nz=Ai(/[\dA-Fa-f]/),kz=Ai(/[!-/:-@[-`{-~]/);function ue(e){return e!==null&&e<-2}function ze(e){return e!==null&&(e<0||e===32)}function Ce(e){return e===-2||e===-1||e===32}const If=Ai(new RegExp("\\p{P}|\\p{S}","u")),wa=Ai(/\s/);function Ai(e){return t;function t(s){return s!==null&&s>-1&&e.test(String.fromCharCode(s))}}function Go(e){const t=[];let s=-1,r=0,i=0;for(;++s<e.length;){const a=e.charCodeAt(s);let o="";if(a===37&&is(e.charCodeAt(s+1))&&is(e.charCodeAt(s+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(s+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,s),encodeURIComponent(o)),r=s+i+1,o=""),i&&(s+=i,i=0)}return t.join("")+e.slice(r)}function Re(e,t,s,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return Ce(c)?(e.enter(s),l(c)):t(c)}function l(c){return Ce(c)&&a++<i?(e.consume(c),l):(e.exit(s),t(c))}}const Sz={tokenize:_z};function _z(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let s;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Re(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=c),s=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ue(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const Tz={tokenize:Cz},x1={tokenize:Pz};function Cz(e){const t=this,s=[];let r=0,i,a,o;return l;function l(v){if(r<s.length){const w=s[r];return t.containerState=w[1],e.attempt(w[0].continuation,c,d)(v)}return d(v)}function c(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const w=t.events.length;let N=w,S;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){S=t.events[N][1].end;break}p(r);let T=w;for(;T<t.events.length;)t.events[T][1].end={...S},T++;return Xs(t.events,N+1,0,t.events.slice(w)),t.events.length=T,d(v)}return l(v)}function d(v){if(r===s.length){if(!i)return f(v);if(i.currentConstruct&&i.currentConstruct.concrete)return x(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(x1,u,h)(v)}function u(v){return i&&b(),p(r),f(v)}function h(v){return t.parser.lazy[t.now().line]=r!==s.length,o=t.now().offset,x(v)}function f(v){return t.containerState={},e.attempt(x1,m,x)(v)}function m(v){return r++,s.push([t.currentConstruct,t.containerState]),f(v)}function x(v){if(v===null){i&&b(),p(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(v)}function g(v){if(v===null){y(e.exit("chunkFlow"),!0),p(0),e.consume(v);return}return ue(v)?(e.consume(v),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(v),g)}function y(v,w){const N=t.sliceStream(v);if(w&&N.push(null),v.previous=a,a&&(a.next=v),a=v,i.defineSkip(v.start),i.write(N),t.parser.lazy[v.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const T=t.events.length;let j=T,E,_;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(E){_=t.events[j][1].end;break}E=!0}for(p(r),S=T;S<t.events.length;)t.events[S][1].end={..._},S++;Xs(t.events,j+1,0,t.events.slice(T)),t.events.length=S}}function p(v){let w=s.length;for(;w-- >v;){const N=s[w];t.containerState=N[1],N[0].exit.call(t,e)}s.length=v}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Pz(e,t,s){return Re(e,e.attempt(this.parser.constructs.document,t,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ro(e){if(e===null||ze(e)||wa(e))return 1;if(If(e))return 2}function Lf(e,t,s){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,s),r.push(a))}return t}const ug={name:"attention",resolveAll:Ez,tokenize:Az};function Ez(e,t){let s=-1,r,i,a,o,l,c,d,u;for(;++s<e.length;)if(e[s][0]==="enter"&&e[s][1].type==="attentionSequence"&&e[s][1]._close){for(r=s;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[s][1]).charCodeAt(0)){if((e[r][1]._close||e[s][1]._open)&&(e[s][1].end.offset-e[s][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[s][1].end.offset-e[s][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[s][1].end.offset-e[s][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[s][1].start};g1(h,-c),g1(f,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[s][1].start},end:f},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[s][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[s][1].start={...l.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=ur(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=ur(d,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),d=ur(d,Lf(t.parser.constructs.insideSpan.null,e.slice(r+1,s),t)),d=ur(d,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[s][1].end.offset-e[s][1].start.offset?(u=2,d=ur(d,[["enter",e[s][1],t],["exit",e[s][1],t]])):u=0,Xs(e,r-1,s-r+3,d),s=r+d.length-u-2;break}}for(s=-1;++s<e.length;)e[s][1].type==="attentionSequence"&&(e[s][1].type="data");return e}function Az(e,t){const s=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ro(r);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const d=e.exit("attentionSequence"),u=Ro(c),h=!u||u===2&&i||s.includes(c),f=!i||i===2&&u||s.includes(r);return d._open=!!(a===42?h:h&&(i||!f)),d._close=!!(a===42?f:f&&(u||!h)),t(c)}}function g1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Rz={name:"autolink",tokenize:Mz};function Mz(e,t,s){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return xs(m)?(e.consume(m),o):m===64?s(m):d(m)}function o(m){return m===43||m===45||m===46||is(m)?(r=1,l(m)):d(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||is(m))&&r++<32?(e.consume(m),l):(r=0,d(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Ph(m)?s(m):(e.consume(m),c)}function d(m){return m===64?(e.consume(m),u):jz(m)?(e.consume(m),d):s(m)}function u(m){return is(m)?h(m):s(m)}function h(m){return m===46?(e.consume(m),r=0,u):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||is(m))&&r++<63){const x=m===45?f:h;return e.consume(m),x}return s(m)}}const nd={partial:!0,tokenize:Dz};function Dz(e,t,s){return r;function r(a){return Ce(a)?Re(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||ue(a)?t(a):s(a)}}const TC={continuation:{tokenize:Lz},exit:Oz,name:"blockQuote",tokenize:Iz};function Iz(e,t,s){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return s(o)}function a(o){return Ce(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Lz(e,t,s){const r=this;return i;function i(o){return Ce(o)?Re(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(TC,t,s)(o)}}function Oz(e){e.exit("blockQuote")}const CC={name:"characterEscape",tokenize:Fz};function Fz(e,t,s){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return kz(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):s(a)}}const PC={name:"characterReference",tokenize:Uz};function Uz(e,t,s){const r=this;let i=0,a,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,o=is,u(h))}function d(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=Nz,u):(e.enter("characterReferenceValue"),a=7,o=dg,u(h))}function u(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return o===is&&!jy(r.sliceSerialize(f))?s(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),u):s(h)}}const y1={partial:!0,tokenize:Bz},b1={concrete:!0,name:"codeFenced",tokenize:$z};function $z(e,t,s){const r=this,i={partial:!0,tokenize:N};let a=0,o=0,l;return c;function c(S){return d(S)}function d(S){const T=r.events[r.events.length-1];return a=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(S)}function u(S){return S===l?(o++,e.consume(S),u):o<3?s(S):(e.exit("codeFencedFenceSequence"),Ce(S)?Re(e,h,"whitespace")(S):h(S))}function h(S){return S===null||ue(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(y1,g,w)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||ue(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(S)):Ce(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Re(e,m,"whitespace")(S)):S===96&&S===l?s(S):(e.consume(S),f)}function m(S){return S===null||ue(S)?h(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===null||ue(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(S)):S===96&&S===l?s(S):(e.consume(S),x)}function g(S){return e.attempt(i,w,y)(S)}function y(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),p}function p(S){return a>0&&Ce(S)?Re(e,b,"linePrefix",a+1)(S):b(S)}function b(S){return S===null||ue(S)?e.check(y1,g,w)(S):(e.enter("codeFlowValue"),v(S))}function v(S){return S===null||ue(S)?(e.exit("codeFlowValue"),b(S)):(e.consume(S),v)}function w(S){return e.exit("codeFenced"),t(S)}function N(S,T,j){let E=0;return _;function _(H){return S.enter("lineEnding"),S.consume(H),S.exit("lineEnding"),C}function C(H){return S.enter("codeFencedFence"),Ce(H)?Re(S,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):P(H)}function P(H){return H===l?(S.enter("codeFencedFenceSequence"),I(H)):j(H)}function I(H){return H===l?(E++,S.consume(H),I):E>=o?(S.exit("codeFencedFenceSequence"),Ce(H)?Re(S,$,"whitespace")(H):$(H)):j(H)}function $(H){return H===null||ue(H)?(S.exit("codeFencedFence"),T(H)):j(H)}}}function Bz(e,t,s){const r=this;return i;function i(o){return o===null?s(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?s(o):t(o)}}const Zm={name:"codeIndented",tokenize:Vz},zz={partial:!0,tokenize:Hz};function Vz(e,t,s){const r=this;return i;function i(d){return e.enter("codeIndented"),Re(e,a,"linePrefix",5)(d)}function a(d){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(d):s(d)}function o(d){return d===null?c(d):ue(d)?e.attempt(zz,o,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||ue(d)?(e.exit("codeFlowValue"),o(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),t(d)}}function Hz(e,t,s){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?s(o):ue(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Re(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):ue(o)?i(o):s(o)}}const Wz={name:"codeText",previous:Yz,resolve:qz,tokenize:Gz};function qz(e){let t=e.length-4,s=3,r,i;if((e[s][1].type==="lineEnding"||e[s][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=s;++r<t;)if(e[r][1].type==="codeTextData"){e[s][1].type="codeTextPadding",e[t][1].type="codeTextPadding",s+=2,t-=2;break}}for(r=s-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Yz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Gz(e,t,s){let r=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?s(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(a=e.enter("codeTextSequence"),i=0,u(h)):ue(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||ue(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),d)}function u(h){return h===96?(e.consume(h),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",d(h))}}class Jz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,s){const r=s??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,s,r){const i=s||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&gl(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),gl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),gl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const s=this.left.splice(t,Number.POSITIVE_INFINITY);gl(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);gl(this.left,s.reverse())}}}function gl(e,t){let s=0;if(t.length<1e4)e.push(...t);else for(;s<t.length;)e.push(...t.slice(s,s+1e4)),s+=1e4}function EC(e){const t={};let s=-1,r,i,a,o,l,c,d;const u=new Jz(e);for(;++s<u.length;){for(;s in t;)s=t[s];if(r=u.get(s),s&&r[1].type==="chunkFlow"&&u.get(s-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Kz(u,s)),s=t[s],d=!0);else if(r[1]._container){for(a=s,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},l=u.slice(i,s),l.unshift(r),u.splice(i,s-i+1,l))}}return Xs(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!d}function Kz(e,t){const s=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=s._tokenizer;o||(o=r.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],d={};let u,h,f=-1,m=s,x=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(u=r.sliceStream(m),m.next||u.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=s;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(g=f+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),f=y.length;f--;){const p=l.slice(y[f],y[f+1]),b=a.pop();c.push([b,b+p.length-1]),e.splice(b,2,p)}for(c.reverse(),f=-1;++f<c.length;)d[x+c[f][0]]=x+c[f][1],x+=c[f][1]-c[f][0]-1;return d}const Xz={resolve:Zz,tokenize:eV},Qz={partial:!0,tokenize:tV};function Zz(e){return EC(e),e}function eV(e,t){let s;return r;function r(l){return e.enter("content"),s=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):ue(l)?e.check(Qz,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),s.next=e.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,i}}function tV(e,t,s){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Re(e,a,"linePrefix")}function a(o){if(o===null||ue(o))return s(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,s,t)(o)}}function AC(e,t,s,r,i,a,o,l,c){const d=c||Number.POSITIVE_INFINITY;let u=0;return h;function h(p){return p===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(p),e.exit(a),f):p===null||p===32||p===41||Ph(p)?s(p):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(p))}function f(p){return p===62?(e.enter(a),e.consume(p),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(p))}function m(p){return p===62?(e.exit("chunkString"),e.exit(l),f(p)):p===null||p===60||ue(p)?s(p):(e.consume(p),p===92?x:m)}function x(p){return p===60||p===62||p===92?(e.consume(p),m):m(p)}function g(p){return!u&&(p===null||p===41||ze(p))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(p)):u<d&&p===40?(e.consume(p),u++,g):p===41?(e.consume(p),u--,g):p===null||p===32||p===40||Ph(p)?s(p):(e.consume(p),p===92?y:g)}function y(p){return p===40||p===41||p===92?(e.consume(p),g):g(p)}}function RC(e,t,s,r,i,a){const o=this;let l=0,c;return d;function d(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),u}function u(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?s(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):ue(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||ue(m)||l++>999?(e.exit("chunkString"),u(m)):(e.consume(m),c||(c=!Ce(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(e.consume(m),l++,h):h(m)}}function MC(e,t,s,r,i,a){let o;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,c):s(f)}function c(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(a),d(f))}function d(f){return f===o?(e.exit(a),c(o)):f===null?s(f):ue(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Re(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||ue(f)?(e.exit("chunkString"),d(f)):(e.consume(f),f===92?h:u)}function h(f){return f===o||f===92?(e.consume(f),u):u(f)}}function tc(e,t){let s;return r;function r(i){return ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s=!0,r):Ce(i)?Re(e,r,s?"linePrefix":"lineSuffix")(i):t(i)}}const sV={name:"definition",tokenize:nV},rV={partial:!0,tokenize:iV};function nV(e,t,s){const r=this;let i;return a;function a(m){return e.enter("definition"),o(m)}function o(m){return RC.call(r,e,l,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=Ar(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):s(m)}function c(m){return ze(m)?tc(e,d)(m):d(m)}function d(m){return AC(e,u,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function u(m){return e.attempt(rV,h,h)(m)}function h(m){return Ce(m)?Re(e,f,"whitespace")(m):f(m)}function f(m){return m===null||ue(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):s(m)}}function iV(e,t,s){return r;function r(l){return ze(l)?tc(e,i)(l):s(l)}function i(l){return MC(e,a,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Ce(l)?Re(e,o,"whitespace")(l):o(l)}function o(l){return l===null||ue(l)?t(l):s(l)}}const aV={name:"hardBreakEscape",tokenize:oV};function oV(e,t,s){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return ue(a)?(e.exit("hardBreakEscape"),t(a)):s(a)}}const lV={name:"headingAtx",resolve:cV,tokenize:dV};function cV(e,t){let s=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),s-2>r&&e[s][1].type==="whitespace"&&(s-=2),e[s][1].type==="atxHeadingSequence"&&(r===s-1||s-4>r&&e[s-2][1].type==="whitespace")&&(s-=r+1===s?2:4),s>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[s][1].end},a={type:"chunkText",start:e[r][1].start,end:e[s][1].end,contentType:"text"},Xs(e,r,s-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function dV(e,t,s){let r=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||ze(u)?(e.exit("atxHeadingSequence"),l(u)):s(u)}function l(u){return u===35?(e.enter("atxHeadingSequence"),c(u)):u===null||ue(u)?(e.exit("atxHeading"),t(u)):Ce(u)?Re(e,l,"whitespace")(u):(e.enter("atxHeadingText"),d(u))}function c(u){return u===35?(e.consume(u),c):(e.exit("atxHeadingSequence"),l(u))}function d(u){return u===null||u===35||ze(u)?(e.exit("atxHeadingText"),l(u)):(e.consume(u),d)}}const uV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],v1=["pre","script","style","textarea"],hV={concrete:!0,name:"htmlFlow",resolveTo:pV,tokenize:xV},fV={partial:!0,tokenize:yV},mV={partial:!0,tokenize:gV};function pV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function xV(e,t,s){const r=this;let i,a,o,l,c;return d;function d(M){return u(M)}function u(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),h}function h(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),a=!0,g):M===63?(e.consume(M),i=3,r.interrupt?t:A):xs(M)?(e.consume(M),o=String.fromCharCode(M),y):s(M)}function f(M){return M===45?(e.consume(M),i=2,m):M===91?(e.consume(M),i=5,l=0,x):xs(M)?(e.consume(M),i=4,r.interrupt?t:A):s(M)}function m(M){return M===45?(e.consume(M),r.interrupt?t:A):s(M)}function x(M){const he="CDATA[";return M===he.charCodeAt(l++)?(e.consume(M),l===he.length?r.interrupt?t:P:x):s(M)}function g(M){return xs(M)?(e.consume(M),o=String.fromCharCode(M),y):s(M)}function y(M){if(M===null||M===47||M===62||ze(M)){const he=M===47,be=o.toLowerCase();return!he&&!a&&v1.includes(be)?(i=1,r.interrupt?t(M):P(M)):uV.includes(o.toLowerCase())?(i=6,he?(e.consume(M),p):r.interrupt?t(M):P(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?s(M):a?b(M):v(M))}return M===45||is(M)?(e.consume(M),o+=String.fromCharCode(M),y):s(M)}function p(M){return M===62?(e.consume(M),r.interrupt?t:P):s(M)}function b(M){return Ce(M)?(e.consume(M),b):_(M)}function v(M){return M===47?(e.consume(M),_):M===58||M===95||xs(M)?(e.consume(M),w):Ce(M)?(e.consume(M),v):_(M)}function w(M){return M===45||M===46||M===58||M===95||is(M)?(e.consume(M),w):N(M)}function N(M){return M===61?(e.consume(M),S):Ce(M)?(e.consume(M),N):v(M)}function S(M){return M===null||M===60||M===61||M===62||M===96?s(M):M===34||M===39?(e.consume(M),c=M,T):Ce(M)?(e.consume(M),S):j(M)}function T(M){return M===c?(e.consume(M),c=null,E):M===null||ue(M)?s(M):(e.consume(M),T)}function j(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||ze(M)?N(M):(e.consume(M),j)}function E(M){return M===47||M===62||Ce(M)?v(M):s(M)}function _(M){return M===62?(e.consume(M),C):s(M)}function C(M){return M===null||ue(M)?P(M):Ce(M)?(e.consume(M),C):s(M)}function P(M){return M===45&&i===2?(e.consume(M),B):M===60&&i===1?(e.consume(M),L):M===62&&i===4?(e.consume(M),ie):M===63&&i===3?(e.consume(M),A):M===93&&i===5?(e.consume(M),z):ue(M)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(fV,K,I)(M)):M===null||ue(M)?(e.exit("htmlFlowData"),I(M)):(e.consume(M),P)}function I(M){return e.check(mV,$,K)(M)}function $(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),H}function H(M){return M===null||ue(M)?I(M):(e.enter("htmlFlowData"),P(M))}function B(M){return M===45?(e.consume(M),A):P(M)}function L(M){return M===47?(e.consume(M),o="",F):P(M)}function F(M){if(M===62){const he=o.toLowerCase();return v1.includes(he)?(e.consume(M),ie):P(M)}return xs(M)&&o.length<8?(e.consume(M),o+=String.fromCharCode(M),F):P(M)}function z(M){return M===93?(e.consume(M),A):P(M)}function A(M){return M===62?(e.consume(M),ie):M===45&&i===2?(e.consume(M),A):P(M)}function ie(M){return M===null||ue(M)?(e.exit("htmlFlowData"),K(M)):(e.consume(M),ie)}function K(M){return e.exit("htmlFlow"),t(M)}}function gV(e,t,s){const r=this;return i;function i(o){return ue(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):s(o)}function a(o){return r.parser.lazy[r.now().line]?s(o):t(o)}}function yV(e,t,s){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(nd,t,s)}}const bV={name:"htmlText",tokenize:vV};function vV(e,t,s){const r=this;let i,a,o;return l;function l(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),c}function c(A){return A===33?(e.consume(A),d):A===47?(e.consume(A),N):A===63?(e.consume(A),v):xs(A)?(e.consume(A),j):s(A)}function d(A){return A===45?(e.consume(A),u):A===91?(e.consume(A),a=0,x):xs(A)?(e.consume(A),b):s(A)}function u(A){return A===45?(e.consume(A),m):s(A)}function h(A){return A===null?s(A):A===45?(e.consume(A),f):ue(A)?(o=h,L(A)):(e.consume(A),h)}function f(A){return A===45?(e.consume(A),m):h(A)}function m(A){return A===62?B(A):A===45?f(A):h(A)}function x(A){const ie="CDATA[";return A===ie.charCodeAt(a++)?(e.consume(A),a===ie.length?g:x):s(A)}function g(A){return A===null?s(A):A===93?(e.consume(A),y):ue(A)?(o=g,L(A)):(e.consume(A),g)}function y(A){return A===93?(e.consume(A),p):g(A)}function p(A){return A===62?B(A):A===93?(e.consume(A),p):g(A)}function b(A){return A===null||A===62?B(A):ue(A)?(o=b,L(A)):(e.consume(A),b)}function v(A){return A===null?s(A):A===63?(e.consume(A),w):ue(A)?(o=v,L(A)):(e.consume(A),v)}function w(A){return A===62?B(A):v(A)}function N(A){return xs(A)?(e.consume(A),S):s(A)}function S(A){return A===45||is(A)?(e.consume(A),S):T(A)}function T(A){return ue(A)?(o=T,L(A)):Ce(A)?(e.consume(A),T):B(A)}function j(A){return A===45||is(A)?(e.consume(A),j):A===47||A===62||ze(A)?E(A):s(A)}function E(A){return A===47?(e.consume(A),B):A===58||A===95||xs(A)?(e.consume(A),_):ue(A)?(o=E,L(A)):Ce(A)?(e.consume(A),E):B(A)}function _(A){return A===45||A===46||A===58||A===95||is(A)?(e.consume(A),_):C(A)}function C(A){return A===61?(e.consume(A),P):ue(A)?(o=C,L(A)):Ce(A)?(e.consume(A),C):E(A)}function P(A){return A===null||A===60||A===61||A===62||A===96?s(A):A===34||A===39?(e.consume(A),i=A,I):ue(A)?(o=P,L(A)):Ce(A)?(e.consume(A),P):(e.consume(A),$)}function I(A){return A===i?(e.consume(A),i=void 0,H):A===null?s(A):ue(A)?(o=I,L(A)):(e.consume(A),I)}function $(A){return A===null||A===34||A===39||A===60||A===61||A===96?s(A):A===47||A===62||ze(A)?E(A):(e.consume(A),$)}function H(A){return A===47||A===62||ze(A)?E(A):s(A)}function B(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):s(A)}function L(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),F}function F(A){return Ce(A)?Re(e,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):z(A)}function z(A){return e.enter("htmlTextData"),o(A)}}const Ny={name:"labelEnd",resolveAll:kV,resolveTo:SV,tokenize:_V},wV={tokenize:TV},jV={tokenize:CV},NV={tokenize:PV};function kV(e){let t=-1;const s=[];for(;++t<e.length;){const r=e[t][1];if(s.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==s.length&&Xs(e,0,e.length,s),e}function SV(e,t){let s=e.length,r=0,i,a,o,l;for(;s--;)if(i=e[s][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[s][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[s][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=s,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=s);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",d,t]],l=ur(l,e.slice(a+1,a+r+3)),l=ur(l,[["enter",u,t]]),l=ur(l,Lf(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=ur(l,[["exit",u,t],e[o-2],e[o-1],["exit",d,t]]),l=ur(l,e.slice(o+1)),l=ur(l,[["exit",c,t]]),Xs(e,a,e.length,l),e}function _V(e,t,s){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(f){return a?a._inactive?h(f):(o=r.parser.defined.includes(Ar(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):s(f)}function c(f){return f===40?e.attempt(wV,u,o?u:h)(f):f===91?e.attempt(jV,u,o?d:h)(f):o?u(f):h(f)}function d(f){return e.attempt(NV,u,h)(f)}function u(f){return t(f)}function h(f){return a._balanced=!0,s(f)}}function TV(e,t,s){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return ze(h)?tc(e,a)(h):a(h)}function a(h){return h===41?u(h):AC(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return ze(h)?tc(e,c)(h):u(h)}function l(h){return s(h)}function c(h){return h===34||h===39||h===40?MC(e,d,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function d(h){return ze(h)?tc(e,u)(h):u(h)}function u(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):s(h)}}function CV(e,t,s){const r=this;return i;function i(l){return RC.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Ar(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):s(l)}function o(l){return s(l)}}function PV(e,t,s){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):s(a)}}const EV={name:"labelStartImage",resolveAll:Ny.resolveAll,tokenize:AV};function AV(e,t,s){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):s(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?s(l):t(l)}}const RV={name:"labelStartLink",resolveAll:Ny.resolveAll,tokenize:MV};function MV(e,t,s){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?s(o):t(o)}}const ep={name:"lineEnding",tokenize:DV};function DV(e,t){return s;function s(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Re(e,t,"linePrefix")}}const Cu={name:"thematicBreak",tokenize:IV};function IV(e,t,s){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),o(d)}function o(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||ue(d))?(e.exit("thematicBreak"),t(d)):s(d)}function c(d){return d===i?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),Ce(d)?Re(e,l,"whitespace")(d):l(d))}}const Cs={continuation:{tokenize:UV},exit:BV,name:"list",tokenize:FV},LV={partial:!0,tokenize:zV},OV={partial:!0,tokenize:$V};function FV(e,t,s){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:dg(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Cu,s,d)(m):d(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return s(m)}function c(m){return dg(m)&&++o<10?(e.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),d(m)):s(m)}function d(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(nd,r.interrupt?s:u,e.attempt(LV,f,h))}function u(m){return r.containerState.initialBlankLine=!0,a++,f(m)}function h(m){return Ce(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):s(m)}function f(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function UV(e,t,s){const r=this;return r.containerState._closeFlow=void 0,e.check(nd,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Re(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Ce(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(OV,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Re(e,e.attempt(Cs,t,s),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function $V(e,t,s){const r=this;return Re(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):s(a)}}function BV(e){e.exit(this.containerState.type)}function zV(e,t,s){const r=this;return Re(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Ce(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):s(a)}}const w1={name:"setextUnderline",resolveTo:VV,tokenize:HV};function VV(e,t){let s=e.length,r,i,a;for(;s--;)if(e[s][0]==="enter"){if(e[s][1].type==="content"){r=s;break}e[s][1].type==="paragraph"&&(i=s)}else e[s][1].type==="content"&&e.splice(s,1),!a&&e[s][1].type==="definition"&&(a=s);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function HV(e,t,s){const r=this;let i;return a;function a(d){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=d,o(d)):s(d)}function o(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),Ce(d)?Re(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||ue(d)?(e.exit("setextHeadingLine"),t(d)):s(d)}}const WV={tokenize:qV};function qV(e){const t=this,s=e.attempt(nd,r,e.attempt(this.parser.constructs.flowInitial,i,Re(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Xz,i)),"linePrefix")));return s;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,s}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,s}}const YV={resolveAll:IC()},GV=DC("string"),JV=DC("text");function DC(e){return{resolveAll:IC(e==="text"?KV:void 0),tokenize:t};function t(s){const r=this,i=this.parser.constructs[e],a=s.attempt(i,o,l);return o;function o(u){return d(u)?a(u):l(u)}function l(u){if(u===null){s.consume(u);return}return s.enter("data"),s.consume(u),c}function c(u){return d(u)?(s.exit("data"),a(u)):(s.consume(u),c)}function d(u){if(u===null)return!0;const h=i[u];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function IC(e){return t;function t(s,r){let i=-1,a;for(;++i<=s.length;)a===void 0?s[i]&&s[i][1].type==="data"&&(a=i,i++):(!s[i]||s[i][1].type!=="data")&&(i!==a+2&&(s[a][1].end=s[i-1][1].end,s.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(s,r):s}}function KV(e,t){let s=0;for(;++s<=e.length;)if((s===e.length||e[s][1].type==="lineEnding")&&e[s-1][1].type==="data"){const r=e[s-1][1],i=t.sliceStream(r);let a=i.length,o=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(t._contentTypeTextTrailing&&s===e.length&&(l=0),l){const d={type:s===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(s,0,["enter",d,t],["exit",d,t]),s+=2)}s++}return e}const XV={42:Cs,43:Cs,45:Cs,48:Cs,49:Cs,50:Cs,51:Cs,52:Cs,53:Cs,54:Cs,55:Cs,56:Cs,57:Cs,62:TC},QV={91:sV},ZV={[-2]:Zm,[-1]:Zm,32:Zm},e7={35:lV,42:Cu,45:[w1,Cu],60:hV,61:w1,95:Cu,96:b1,126:b1},t7={38:PC,92:CC},s7={[-5]:ep,[-4]:ep,[-3]:ep,33:EV,38:PC,42:ug,60:[Rz,bV],91:RV,92:[aV,CC],93:Ny,95:ug,96:Wz},r7={null:[ug,YV]},n7={null:[42,95]},i7={null:[]},a7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:n7,contentInitial:QV,disable:i7,document:XV,flow:e7,flowInitial:ZV,insideSpan:r7,string:t7,text:s7},Symbol.toStringTag,{value:"Module"}));function o7(e,t,s){let r={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const i={},a=[];let o=[],l=[];const c={attempt:T(N),check:T(S),consume:b,enter:v,exit:w,interrupt:T(S,{interrupt:!0})},d={code:null,containerState:{},defineSkip:g,events:[],now:x,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:h};let u=t.tokenize.call(d,c);return t.resolveAll&&a.push(t),d;function h(C){return o=ur(o,C),y(),o[o.length-1]!==null?[]:(j(t,0),d.events=Lf(a,d.events,d),d.events)}function f(C,P){return c7(m(C),P)}function m(C){return l7(o,C)}function x(){const{_bufferIndex:C,_index:P,line:I,column:$,offset:H}=r;return{_bufferIndex:C,_index:P,line:I,column:$,offset:H}}function g(C){i[C.line]=C.column,_()}function y(){let C;for(;r._index<o.length;){const P=o[r._index];if(typeof P=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<P.length;)p(P.charCodeAt(r._bufferIndex));else p(P)}}function p(C){u=u(C)}function b(C){ue(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,_()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=C}function v(C,P){const I=P||{};return I.type=C,I.start=x(),d.events.push(["enter",I,d]),l.push(I),I}function w(C){const P=l.pop();return P.end=x(),d.events.push(["exit",P,d]),P}function N(C,P){j(C,P.from)}function S(C,P){P.restore()}function T(C,P){return I;function I($,H,B){let L,F,z,A;return Array.isArray($)?K($):"tokenize"in $?K([$]):ie($);function ie(me){return qe;function qe(Ze){const je=Ze!==null&&me[Ze],Le=Ze!==null&&me.null,Ye=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return K(Ye)(Ze)}}function K(me){return L=me,F=0,me.length===0?B:M(me[F])}function M(me){return qe;function qe(Ze){return A=E(),z=me,me.partial||(d.currentConstruct=me),me.name&&d.parser.constructs.disable.null.includes(me.name)?be():me.tokenize.call(P?Object.assign(Object.create(d),P):d,c,he,be)(Ze)}}function he(me){return C(z,A),H}function be(me){return A.restore(),++F<L.length?M(L[F]):B}}}function j(C,P){C.resolveAll&&!a.includes(C)&&a.push(C),C.resolve&&Xs(d.events,P,d.events.length-P,C.resolve(d.events.slice(P),d)),C.resolveTo&&(d.events=C.resolveTo(d.events,d))}function E(){const C=x(),P=d.previous,I=d.currentConstruct,$=d.events.length,H=Array.from(l);return{from:$,restore:B};function B(){r=C,d.previous=P,d.currentConstruct=I,d.events.length=$,l=H,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function l7(e,t){const s=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(s===i)o=[e[s].slice(r,a)];else{if(o=e.slice(s,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function c7(e,t){let s=-1;const r=[];let i;for(;++s<e.length;){const a=e[s];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function d7(e){const r={constructs:SC([a7,...(e||{}).extensions||[]]),content:i(Sz),defined:[],document:i(Tz),flow:i(WV),lazy:{},string:i(GV),text:i(JV)};return r;function i(a){return o;function o(l){return o7(r,a,l)}}}function u7(e){for(;!EC(e););return e}const j1=/[\0\t\n\r]/g;function h7(){let e=1,t="",s=!0,r;return i;function i(a,o,l){const c=[];let d,u,h,f,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",s&&(a.charCodeAt(0)===65279&&h++,s=void 0);h<a.length;){if(j1.lastIndex=h,d=j1.exec(a),f=d&&d.index!==void 0?d.index:a.length,m=a.charCodeAt(f),!d){t=a.slice(h);break}if(m===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(a.slice(h,f)),e+=f-h),m){case 0:{c.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,c.push(-2);e++<u;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const f7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function m7(e){return e.replace(f7,p7)}function p7(e,t,s){if(t)return t;if(s.charCodeAt(0)===35){const i=s.charCodeAt(1),a=i===120||i===88;return _C(s.slice(a?2:1),a?16:10)}return jy(s)||e}const LC={}.hasOwnProperty;function x7(e,t,s){return typeof t!="string"&&(s=t,t=void 0),g7(s)(u7(d7(s).document().write(h7()(e,t,!0))))}function g7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zs),autolinkProtocol:E,autolinkEmail:E,atxHeading:a(At),blockQuote:a(Le),characterEscape:E,characterReference:E,codeFenced:a(Ye),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Ye,o),codeText:a(Et,o),codeTextData:E,data:E,codeFlowValue:E,definition:a(Wt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(rr),hardBreakEscape:a(rn),hardBreakTrailing:a(rn),htmlFlow:a(yr,o),htmlFlowData:E,htmlText:a(yr,o),htmlTextData:E,image:a(nn),label:o,link:a(zs),listItem:a(V),listItemValue:f,listOrdered:a(O,h),listUnordered:a(O),paragraph:a(Y),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(At),strong:a(re),thematicBreak:a(ee)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:je,autolinkProtocol:Ze,blockQuote:c(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:me,characterReference:qe,codeFenced:c(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:x,codeFlowValue:_,codeIndented:c(p),codeText:c(H),codeTextData:_,data:_,definition:c(),definitionDestinationString:w,definitionLabelString:b,definitionTitleString:v,emphasis:c(),hardBreakEscape:c(P),hardBreakTrailing:c(P),htmlFlow:c(I),htmlFlowData:_,htmlText:c($),htmlTextData:_,image:c(L),label:z,labelText:F,lineEnding:C,link:c(B),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:he,resourceDestinationString:A,resourceTitleString:ie,resource:K,setextHeading:c(j),setextHeadingLineSequence:T,setextHeadingText:S,strong:c(),thematicBreak:c()}};OC(t,(e||{}).mdastExtensions||[]);const s={};return r;function r(U){let J={type:"root",children:[]};const ne={stack:[J],tokenStack:[],config:t,enter:l,exit:d,buffer:o,resume:u,data:s},de=[];let Ee=-1;for(;++Ee<U.length;)if(U[Ee][1].type==="listOrdered"||U[Ee][1].type==="listUnordered")if(U[Ee][0]==="enter")de.push(Ee);else{const et=de.pop();Ee=i(U,et,Ee)}for(Ee=-1;++Ee<U.length;){const et=t[U[Ee][0]];LC.call(et,U[Ee][1].type)&&et[U[Ee][1].type].call(Object.assign({sliceSerialize:U[Ee][2].sliceSerialize},ne),U[Ee][1])}if(ne.tokenStack.length>0){const et=ne.tokenStack[ne.tokenStack.length-1];(et[1]||N1).call(ne,void 0,et[0])}for(J.position={start:Un(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:Un(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},Ee=-1;++Ee<t.transforms.length;)J=t.transforms[Ee](J)||J;return J}function i(U,J,ne){let de=J-1,Ee=-1,et=!1,ks,Lt,Ss,br;for(;++de<=ne;){const st=U[de];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?Ee++:Ee--,br=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(ks&&!br&&!Ee&&!Ss&&(Ss=de),br=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:br=void 0}if(!Ee&&st[0]==="enter"&&st[1].type==="listItemPrefix"||Ee===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(ks){let Vs=de;for(Lt=void 0;Vs--;){const kt=U[Vs];if(kt[1].type==="lineEnding"||kt[1].type==="lineEndingBlank"){if(kt[0]==="exit")continue;Lt&&(U[Lt][1].type="lineEndingBlank",et=!0),kt[1].type="lineEnding",Lt=Vs}else if(!(kt[1].type==="linePrefix"||kt[1].type==="blockQuotePrefix"||kt[1].type==="blockQuotePrefixWhitespace"||kt[1].type==="blockQuoteMarker"||kt[1].type==="listItemIndent"))break}Ss&&(!Lt||Ss<Lt)&&(ks._spread=!0),ks.end=Object.assign({},Lt?U[Lt][1].start:st[1].end),U.splice(Lt||de,0,["exit",ks,st[2]]),de++,ne++}if(st[1].type==="listItemPrefix"){const Vs={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};ks=Vs,U.splice(de,0,["enter",Vs,st[2]]),de++,ne++,Ss=void 0,br=!0}}}return U[J][1]._spread=et,ne}function a(U,J){return ne;function ne(de){l.call(this,U(de),de),J&&J.call(this,de)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(U,J,ne){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([J,ne||void 0]),U.position={start:Un(J.start),end:void 0}}function c(U){return J;function J(ne){U&&U.call(this,ne),d.call(this,ne)}}function d(U,J){const ne=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==U.type&&(J?J.call(this,U,de[0]):(de[1]||N1).call(this,U,de[0]));else throw new Error("Cannot close `"+U.type+"` ("+ec({start:U.start,end:U.end})+"): it’s not open");ne.position.end=Un(U.end)}function u(){return wy(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(U){if(this.data.expectingFirstListItemValue){const J=this.stack[this.stack.length-2];J.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function m(){const U=this.resume(),J=this.stack[this.stack.length-1];J.lang=U}function x(){const U=this.resume(),J=this.stack[this.stack.length-1];J.meta=U}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const U=this.resume(),J=this.stack[this.stack.length-1];J.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const U=this.resume(),J=this.stack[this.stack.length-1];J.value=U.replace(/(\r?\n|\r)$/g,"")}function b(U){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.label=J,ne.identifier=Ar(this.sliceSerialize(U)).toLowerCase()}function v(){const U=this.resume(),J=this.stack[this.stack.length-1];J.title=U}function w(){const U=this.resume(),J=this.stack[this.stack.length-1];J.url=U}function N(U){const J=this.stack[this.stack.length-1];if(!J.depth){const ne=this.sliceSerialize(U).length;J.depth=ne}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(U){const J=this.stack[this.stack.length-1];J.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function E(U){const ne=this.stack[this.stack.length-1].children;let de=ne[ne.length-1];(!de||de.type!=="text")&&(de=se(),de.position={start:Un(U.start),end:void 0},ne.push(de)),this.stack.push(de)}function _(U){const J=this.stack.pop();J.value+=this.sliceSerialize(U),J.position.end=Un(U.end)}function C(U){const J=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=J.children[J.children.length-1];ne.position.end=Un(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(J.type)&&(E.call(this,U),_.call(this,U))}function P(){this.data.atHardBreak=!0}function I(){const U=this.resume(),J=this.stack[this.stack.length-1];J.value=U}function $(){const U=this.resume(),J=this.stack[this.stack.length-1];J.value=U}function H(){const U=this.resume(),J=this.stack[this.stack.length-1];J.value=U}function B(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=J,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function L(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=J,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function F(U){const J=this.sliceSerialize(U),ne=this.stack[this.stack.length-2];ne.label=m7(J),ne.identifier=Ar(J).toLowerCase()}function z(){const U=this.stack[this.stack.length-1],J=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const de=U.children;ne.children=de}else ne.alt=J}function A(){const U=this.resume(),J=this.stack[this.stack.length-1];J.url=U}function ie(){const U=this.resume(),J=this.stack[this.stack.length-1];J.title=U}function K(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function he(U){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.label=J,ne.identifier=Ar(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function be(U){this.data.characterReferenceType=U.type}function me(U){const J=this.sliceSerialize(U),ne=this.data.characterReferenceType;let de;ne?(de=_C(J,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):de=jy(J);const Ee=this.stack[this.stack.length-1];Ee.value+=de}function qe(U){const J=this.stack.pop();J.position.end=Un(U.end)}function Ze(U){_.call(this,U);const J=this.stack[this.stack.length-1];J.url=this.sliceSerialize(U)}function je(U){_.call(this,U);const J=this.stack[this.stack.length-1];J.url="mailto:"+this.sliceSerialize(U)}function Le(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function Et(){return{type:"inlineCode",value:""}}function Wt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rr(){return{type:"emphasis",children:[]}}function At(){return{type:"heading",depth:0,children:[]}}function rn(){return{type:"break"}}function yr(){return{type:"html",value:""}}function nn(){return{type:"image",title:null,url:"",alt:null}}function zs(){return{type:"link",title:null,url:"",children:[]}}function O(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function V(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function Y(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ee(){return{type:"thematicBreak"}}}function Un(e){return{line:e.line,column:e.column,offset:e.offset}}function OC(e,t){let s=-1;for(;++s<t.length;){const r=t[s];Array.isArray(r)?OC(e,r):y7(e,r)}}function y7(e,t){let s;for(s in t)if(LC.call(t,s))switch(s){case"canContainEols":{const r=t[s];r&&e[s].push(...r);break}case"transforms":{const r=t[s];r&&e[s].push(...r);break}case"enter":case"exit":{const r=t[s];r&&Object.assign(e[s],r);break}}}function N1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ec({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ec({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ec({start:t.start,end:t.end})+") is still open")}function b7(e){const t=this;t.parser=s;function s(r){return x7(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function v7(e,t){const s={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,s),e.applyData(t,s)}function w7(e,t){const s={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,s),[e.applyData(t,s),{type:"text",value:`
`}]}function j7(e,t){const s=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:s}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function N7(e,t){const s={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function k7(e,t){const s={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function S7(e,t){const s=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Go(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+i,id:s+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function _7(e,t){const s={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function T7(e,t){if(e.options.allowDangerousHtml){const s={type:"raw",value:t.value};return e.patch(t,s),e.applyData(t,s)}}function FC(e,t){const s=t.referenceType;let r="]";if(s==="collapsed"?r+="[]":s==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function C7(e,t){const s=String(t.identifier).toUpperCase(),r=e.definitionById.get(s);if(!r)return FC(e,t);const i={src:Go(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function P7(e,t){const s={src:Go(t.url)};t.alt!==null&&t.alt!==void 0&&(s.alt=t.alt),t.title!==null&&t.title!==void 0&&(s.title=t.title);const r={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,r),e.applyData(t,r)}function E7(e,t){const s={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,s);const r={type:"element",tagName:"code",properties:{},children:[s]};return e.patch(t,r),e.applyData(t,r)}function A7(e,t){const s=String(t.identifier).toUpperCase(),r=e.definitionById.get(s);if(!r)return FC(e,t);const i={href:Go(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function R7(e,t){const s={href:Go(t.url)};t.title!==null&&t.title!==void 0&&(s.title=t.title);const r={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function M7(e,t,s){const r=e.all(t),i=s?D7(s):UC(t),a={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const u=r[l];(i||l!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,d),e.applyData(t,d)}function D7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const s=e.children;let r=-1;for(;!t&&++r<s.length;)t=UC(s[r])}return t}function UC(e){const t=e.spread;return t??e.children.length>1}function I7(e,t){const s={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(s.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:s,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function L7(e,t){const s={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function O7(e,t){const s={type:"root",children:e.wrap(e.all(t))};return e.patch(t,s),e.applyData(t,s)}function F7(e,t){const s={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function U7(e,t){const s=e.all(t),r=s.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(s.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(s,!0)},l=gy(t.children[1]),c=yC(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function $7(e,t,s){const r=s?s.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=s&&s.type==="table"?s.align:void 0,l=o?o.length:t.children.length;let c=-1;const d=[];for(;++c<l;){const h=t.children[c],f={},m=o?o[c]:void 0;m&&(f.align=m);let x={type:"element",tagName:a,properties:f,children:[]};h&&(x.children=e.all(h),e.patch(h,x),x=e.applyData(h,x)),d.push(x)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,u),e.applyData(t,u)}function B7(e,t){const s={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}const k1=9,S1=32;function z7(e){const t=String(e),s=/\r?\n|\r/g;let r=s.exec(t),i=0;const a=[];for(;r;)a.push(_1(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=s.exec(t);return a.push(_1(t.slice(i),i>0,!1)),a.join("")}function _1(e,t,s){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===k1||a===S1;)r++,a=e.codePointAt(r)}if(s){let a=e.codePointAt(i-1);for(;a===k1||a===S1;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function V7(e,t){const s={type:"text",value:z7(String(t.value))};return e.patch(t,s),e.applyData(t,s)}function H7(e,t){const s={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,s),e.applyData(t,s)}const W7={blockquote:v7,break:w7,code:j7,delete:N7,emphasis:k7,footnoteReference:S7,heading:_7,html:T7,imageReference:C7,image:P7,inlineCode:E7,linkReference:A7,link:R7,listItem:M7,list:I7,paragraph:L7,root:O7,strong:F7,table:U7,tableCell:B7,tableRow:$7,text:V7,thematicBreak:H7,toml:Jd,yaml:Jd,definition:Jd,footnoteDefinition:Jd};function Jd(){}const $C=-1,Of=0,sc=1,Eh=2,ky=3,Sy=4,_y=5,Ty=6,BC=7,zC=8,T1=typeof self=="object"?self:globalThis,q7=(e,t)=>{const s=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Of:case $C:return s(o,i);case sc:{const l=s([],i);for(const c of o)l.push(r(c));return l}case Eh:{const l=s({},i);for(const[c,d]of o)l[r(c)]=r(d);return l}case ky:return s(new Date(o),i);case Sy:{const{source:l,flags:c}=o;return s(new RegExp(l,c),i)}case _y:{const l=s(new Map,i);for(const[c,d]of o)l.set(r(c),r(d));return l}case Ty:{const l=s(new Set,i);for(const c of o)l.add(r(c));return l}case BC:{const{name:l,message:c}=o;return s(new T1[l](c),i)}case zC:return s(BigInt(o),i);case"BigInt":return s(Object(BigInt(o)),i);case"ArrayBuffer":return s(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return s(new DataView(l),o)}}return s(new T1[a](o),i)};return r},C1=e=>q7(new Map,e)(0),Ua="",{toString:Y7}={},{keys:G7}=Object,yl=e=>{const t=typeof e;if(t!=="object"||!e)return[Of,t];const s=Y7.call(e).slice(8,-1);switch(s){case"Array":return[sc,Ua];case"Object":return[Eh,Ua];case"Date":return[ky,Ua];case"RegExp":return[Sy,Ua];case"Map":return[_y,Ua];case"Set":return[Ty,Ua];case"DataView":return[sc,s]}return s.includes("Array")?[sc,s]:s.includes("Error")?[BC,s]:[Eh,s]},Kd=([e,t])=>e===Of&&(t==="function"||t==="symbol"),J7=(e,t,s,r)=>{const i=(o,l)=>{const c=r.push(o)-1;return s.set(l,c),c},a=o=>{if(s.has(o))return s.get(o);let[l,c]=yl(o);switch(l){case Of:{let u=o;switch(c){case"bigint":l=zC,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);u=null;break;case"undefined":return i([$C],o)}return i([l,u],o)}case sc:{if(c){let f=o;return c==="DataView"?f=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(o)),i([c,[...f]],o)}const u=[],h=i([l,u],o);for(const f of o)u.push(a(f));return h}case Eh:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],h=i([l,u],o);for(const f of G7(o))(e||!Kd(yl(o[f])))&&u.push([a(f),a(o[f])]);return h}case ky:return i([l,o.toISOString()],o);case Sy:{const{source:u,flags:h}=o;return i([l,{source:u,flags:h}],o)}case _y:{const u=[],h=i([l,u],o);for(const[f,m]of o)(e||!(Kd(yl(f))||Kd(yl(m))))&&u.push([a(f),a(m)]);return h}case Ty:{const u=[],h=i([l,u],o);for(const f of o)(e||!Kd(yl(f)))&&u.push(a(f));return h}}const{message:d}=o;return i([l,{name:c,message:d}],o)};return a},P1=(e,{json:t,lossy:s}={})=>{const r=[];return J7(!(t||s),!!t,new Map,r)(e),r},Ah=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?C1(P1(e,t)):structuredClone(e):(e,t)=>C1(P1(e,t));function K7(e,t){const s=[{type:"text",value:"↩"}];return t>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),s}function X7(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Q7(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=e.options.footnoteBackContent||K7,r=e.options.footnoteBackLabel||X7,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const u=e.all(d),h=String(d.identifier).toUpperCase(),f=Go(h.toLowerCase());let m=0;const x=[],g=e.footnoteCounts.get(h);for(;g!==void 0&&++m<=g;){x.length>0&&x.push({type:"text",value:" "});let b=typeof s=="string"?s:s(c,m);typeof b=="string"&&(b={type:"text",value:b}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...x)}else u.push(...x);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(u,!0)};e.patch(d,p),l.push(p)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ah(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Ff=function(e){if(e==null)return sH;if(typeof e=="function")return Uf(e);if(typeof e=="object")return Array.isArray(e)?Z7(e):eH(e);if(typeof e=="string")return tH(e);throw new Error("Expected function, string, or object as test")};function Z7(e){const t=[];let s=-1;for(;++s<e.length;)t[s]=Ff(e[s]);return Uf(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function eH(e){const t=e;return Uf(s);function s(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function tH(e){return Uf(t);function t(s){return s&&s.type===e}}function Uf(e){return t;function t(s,r,i){return!!(rH(s)&&e.call(this,s,typeof r=="number"?r:void 0,i||void 0))}}function sH(){return!0}function rH(e){return e!==null&&typeof e=="object"&&"type"in e}const VC=[],nH=!0,hg=!1,iH="skip";function HC(e,t,s,r){let i;typeof t=="function"&&typeof s!="function"?(r=s,s=t):i=t;const a=Ff(i),o=r?-1:1;l(e,void 0,[])();function l(c,d,u){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=VC,x,g,y;if((!t||a(c,d,u[u.length-1]||void 0))&&(m=aH(s(c,u)),m[0]===hg))return m;if("children"in c&&c.children){const p=c;if(p.children&&m[0]!==iH)for(g=(r?p.children.length:-1)+o,y=u.concat(p);g>-1&&g<p.children.length;){const b=p.children[g];if(x=l(b,g,y)(),x[0]===hg)return x;g=typeof x[1]=="number"?x[1]:g+o}}return m}}}function aH(e){return Array.isArray(e)?e:typeof e=="number"?[nH,e]:e==null?VC:[e]}function Cy(e,t,s,r){let i,a,o;typeof t=="function"&&typeof s!="function"?(a=void 0,o=t,i=s):(a=t,o=s,i=r),HC(e,a,l,i);function l(c,d){const u=d[d.length-1],h=u?u.children.indexOf(c):void 0;return o(c,h,u)}}const fg={}.hasOwnProperty,oH={};function lH(e,t){const s=t||oH,r=new Map,i=new Map,a=new Map,o={...W7,...s.handlers},l={all:d,applyData:dH,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:s,patch:cH,wrap:hH};return Cy(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();h.has(f)||h.set(f,u)}}),l;function c(u,h){const f=u.type,m=l.handlers[f];if(fg.call(l.handlers,f)&&m)return m(l,u,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in u){const{children:g,...y}=u,p=Ah(y);return p.children=l.all(u),p}return Ah(u)}return(l.options.unknownHandler||uH)(l,u,h)}function d(u){const h=[];if("children"in u){const f=u.children;let m=-1;for(;++m<f.length;){const x=l.one(f[m],u);if(x){if(m&&f[m-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=E1(x.value)),!Array.isArray(x)&&x.type==="element")){const g=x.children[0];g&&g.type==="text"&&(g.value=E1(g.value))}Array.isArray(x)?h.push(...x):h.push(x)}}}return h}}function cH(e,t){e.position&&(t.position=XB(e))}function dH(e,t){let s=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(s.type==="element")s.tagName=r;else{const o="children"in s?s.children:[s];s={type:"element",tagName:r,properties:{},children:o}}s.type==="element"&&a&&Object.assign(s.properties,Ah(a)),"children"in s&&s.children&&i!==null&&i!==void 0&&(s.children=i)}return s}function uH(e,t){const s=t.data||{},r="value"in t&&!(fg.call(s,"hProperties")||fg.call(s,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hH(e,t){const s=[];let r=-1;for(t&&s.push({type:"text",value:`
`});++r<e.length;)r&&s.push({type:"text",value:`
`}),s.push(e[r]);return t&&e.length>0&&s.push({type:"text",value:`
`}),s}function E1(e){let t=0,s=e.charCodeAt(t);for(;s===9||s===32;)t++,s=e.charCodeAt(t);return e.slice(t)}function A1(e,t){const s=lH(e,t),r=s.one(e,void 0),i=Q7(s),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function fH(e,t){return e&&"run"in e?async function(s,r){const i=A1(s,{file:r,...t});await e.run(i,r)}:function(s,r){return A1(s,{file:r,...e||t})}}function R1(e){if(e)throw e}var Pu=Object.prototype.hasOwnProperty,WC=Object.prototype.toString,M1=Object.defineProperty,D1=Object.getOwnPropertyDescriptor,I1=function(t){return typeof Array.isArray=="function"?Array.isArray(t):WC.call(t)==="[object Array]"},L1=function(t){if(!t||WC.call(t)!=="[object Object]")return!1;var s=Pu.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Pu.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!s&&!r)return!1;var i;for(i in t);return typeof i>"u"||Pu.call(t,i)},O1=function(t,s){M1&&s.name==="__proto__"?M1(t,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):t[s.name]=s.newValue},F1=function(t,s){if(s==="__proto__")if(Pu.call(t,s)){if(D1)return D1(t,s).value}else return;return t[s]},mH=function e(){var t,s,r,i,a,o,l=arguments[0],c=1,d=arguments.length,u=!1;for(typeof l=="boolean"&&(u=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<d;++c)if(t=arguments[c],t!=null)for(s in t)r=F1(l,s),i=F1(t,s),l!==i&&(u&&i&&(L1(i)||(a=I1(i)))?(a?(a=!1,o=r&&I1(r)?r:[]):o=r&&L1(r)?r:{},O1(l,{name:s,newValue:e(u,o,i)})):typeof i<"u"&&O1(l,{name:s,newValue:i}));return l};const tp=$h(mH);function mg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function pH(){const e=[],t={run:s,use:r};return t;function s(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...d){const u=e[++a];let h=-1;if(c){o(c);return}for(;++h<i.length;)(d[h]===null||d[h]===void 0)&&(d[h]=i[h]);i=d,u?xH(u,l)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function xH(e,t){let s;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(i);try{c=e.apply(this,o)}catch(d){const u=d;if(l&&s)throw u;return i(u)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...l){s||(s=!0,t(o,...l))}function a(o){i(null,o)}}const Br={basename:gH,dirname:yH,extname:bH,join:vH,sep:"/"};function gH(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');id(e);let s=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){s=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(s,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){s=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return s===r?r=o:r<0&&(r=e.length),e.slice(s,r)}function yH(e){if(id(e),e.length===0)return".";let t=-1,s=e.length,r;for(;--s;)if(e.codePointAt(s)===47){if(r){t=s;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function bH(e){id(e);let t=e.length,s=-1,r=0,i=-1,a=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}s<0&&(o=!0,s=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||s<0||a===0||a===1&&i===s-1&&i===r+1?"":e.slice(i,s)}function vH(...e){let t=-1,s;for(;++t<e.length;)id(e[t]),e[t]&&(s=s===void 0?e[t]:s+"/"+e[t]);return s===void 0?".":wH(s)}function wH(e){id(e);const t=e.codePointAt(0)===47;let s=jH(e,!t);return s.length===0&&!t&&(s="."),s.length>0&&e.codePointAt(e.length-1)===47&&(s+="/"),t?"/"+s:s}function jH(e,t){let s="",r=0,i=-1,a=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(s.length<2||r!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(c=s.lastIndexOf("/"),c!==s.length-1){c<0?(s="",r=0):(s=s.slice(0,c),r=s.length-1-s.lastIndexOf("/")),i=o,a=0;continue}}else if(s.length>0){s="",r=0,i=o,a=0;continue}}t&&(s=s.length>0?s+"/..":"..",r=2)}else s.length>0?s+="/"+e.slice(i+1,o):s=e.slice(i+1,o),r=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return s}function id(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const NH={cwd:kH};function kH(){return"/"}function pg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function SH(e){if(typeof e=="string")e=new URL(e);else if(!pg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _H(e)}function _H(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let s=-1;for(;++s<t.length;)if(t.codePointAt(s)===37&&t.codePointAt(s+1)===50){const r=t.codePointAt(s+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const sp=["history","path","basename","stem","extname","dirname"];class qC{constructor(t){let s;t?pg(t)?s={path:t}:typeof t=="string"||TH(t)?s={value:t}:s=t:s={},this.cwd="cwd"in s?"":NH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sp.length;){const a=sp[r];a in s&&s[a]!==void 0&&s[a]!==null&&(this[a]=a==="history"?[...s[a]]:s[a])}let i;for(i in s)sp.includes(i)||(this[i]=s[i])}get basename(){return typeof this.path=="string"?Br.basename(this.path):void 0}set basename(t){np(t,"basename"),rp(t,"basename"),this.path=Br.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Br.dirname(this.path):void 0}set dirname(t){U1(this.basename,"dirname"),this.path=Br.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Br.extname(this.path):void 0}set extname(t){if(rp(t,"extname"),U1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Br.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){pg(t)&&(t=SH(t)),np(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Br.basename(this.path,this.extname):void 0}set stem(t){np(t,"stem"),rp(t,"stem"),this.path=Br.join(this.dirname||"",t+(this.extname||""))}fail(t,s,r){const i=this.message(t,s,r);throw i.fatal=!0,i}info(t,s,r){const i=this.message(t,s,r);return i.fatal=void 0,i}message(t,s,r){const i=new ds(t,s,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function rp(e,t){if(e&&e.includes(Br.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Br.sep+"`")}function np(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function U1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function TH(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CH=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},PH={}.hasOwnProperty;class Py extends CH{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pH()}copy(){const t=new Py;let s=-1;for(;++s<this.attachers.length;){const r=this.attachers[s];t.use(...r)}return t.data(tp(!0,{},this.namespace)),t}data(t,s){return typeof t=="string"?arguments.length===2?(op("data",this.frozen),this.namespace[t]=s,this):PH.call(this.namespace,t)&&this.namespace[t]||void 0:t?(op("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=s.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const s=Xd(t),r=this.parser||this.Parser;return ip("parse",r),r(String(s),s)}process(t,s){const r=this;return this.freeze(),ip("process",this.parser||this.Parser),ap("process",this.compiler||this.Compiler),s?i(void 0,s):new Promise(i);function i(a,o){const l=Xd(t),c=r.parse(l);r.run(c,l,function(u,h,f){if(u||!h||!f)return d(u);const m=h,x=r.stringify(m,f);RH(x)?f.value=x:f.result=x,d(u,f)});function d(u,h){u||!h?o(u):a?a(h):s(void 0,h)}}}processSync(t){let s=!1,r;return this.freeze(),ip("processSync",this.parser||this.Parser),ap("processSync",this.compiler||this.Compiler),this.process(t,i),B1("processSync","process",s),r;function i(a,o){s=!0,R1(a),r=o}}run(t,s,r){$1(t),this.freeze();const i=this.transformers;return!r&&typeof s=="function"&&(r=s,s=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const c=Xd(s);i.run(t,c,d);function d(u,h,f){const m=h||t;u?l(u):o?o(m):r(void 0,m,f)}}}runSync(t,s){let r=!1,i;return this.run(t,s,a),B1("runSync","run",r),i;function a(o,l){R1(o),i=l,r=!0}}stringify(t,s){this.freeze();const r=Xd(s),i=this.compiler||this.Compiler;return ap("stringify",i),$1(t),i(t,r)}use(t,...s){const r=this.attachers,i=this.namespace;if(op("use",this.frozen),t!=null)if(typeof t=="function")c(t,s);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[u,...h]=d;c(u,h)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=tp(!0,i.settings,d.settings))}function l(d){let u=-1;if(d!=null)if(Array.isArray(d))for(;++u<d.length;){const h=d[u];a(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,u){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===d){f=h;break}if(f===-1)r.push([d,...u]);else if(u.length>0){let[m,...x]=u;const g=r[f][1];mg(g)&&mg(m)&&(m=tp(!0,g,m)),r[f]=[d,m,...x]}}}}const EH=new Py().freeze();function ip(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ap(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function op(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $1(e){if(!mg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function B1(e,t,s){if(!s)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Xd(e){return AH(e)?e:new qC(e)}function AH(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function RH(e){return typeof e=="string"||MH(e)}function MH(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const DH="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",z1=[],V1={allowDangerousHtml:!0},IH=/^(https?|ircs?|mailto|xmpp)$/i,LH=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function YC(e){const t=OH(e),s=FH(e);return UH(t.runSync(t.parse(s),s),e)}function OH(e){const t=e.rehypePlugins||z1,s=e.remarkPlugins||z1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...V1}:V1;return EH().use(b7).use(s).use(fH,r).use(t)}function FH(e){const t=e.children||"",s=new qC;return typeof t=="string"&&(s.value=t),s}function UH(e,t){const s=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||$H;for(const u of LH)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+DH+u.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Cy(e,d),sz(e,{Fragment:n.Fragment,components:i,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0});function d(u,h,f){if(u.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let m;for(m in Qm)if(Object.hasOwn(Qm,m)&&Object.hasOwn(u.properties,m)){const x=u.properties[m],g=Qm[m];(g===null||g.includes(u.tagName))&&(u.properties[m]=c(String(x||""),m,u))}}if(u.type==="element"){let m=s?!s.includes(u.tagName):a?a.includes(u.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(u,h,f)),m&&f&&typeof h=="number")return l&&u.children?f.children.splice(h,1,...u.children):f.children.splice(h,1),h}}}function $H(e){const t=e.indexOf(":"),s=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||s!==-1&&t>s||r!==-1&&t>r||IH.test(e.slice(0,t))?e:""}function H1(e,t){const s=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=s.indexOf(t);for(;i!==-1;)r++,i=s.indexOf(t,i+t.length);return r}function BH(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function zH(e,t,s){const i=Ff((s||{}).ignore||[]),a=VH(t);let o=-1;for(;++o<a.length;)HC(e,"text",l);function l(d,u){let h=-1,f;for(;++h<u.length;){const m=u[h],x=f?f.children:void 0;if(i(m,x?x.indexOf(m):void 0,f))return;f=m}if(f)return c(d,u)}function c(d,u){const h=u[u.length-1],f=a[o][0],m=a[o][1];let x=0;const y=h.children.indexOf(d);let p=!1,b=[];f.lastIndex=0;let v=f.exec(d.value);for(;v;){const w=v.index,N={index:v.index,input:v.input,stack:[...u,d]};let S=m(...v,N);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=w+1:(x!==w&&b.push({type:"text",value:d.value.slice(x,w)}),Array.isArray(S)?b.push(...S):S&&b.push(S),x=w+v[0].length,p=!0),!f.global)break;v=f.exec(d.value)}return p?(x<d.value.length&&b.push({type:"text",value:d.value.slice(x)}),h.children.splice(y,1,...b)):b=[d],y+b.length}}function VH(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const s=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<s.length;){const i=s[r];t.push([HH(i[0]),WH(i[1])])}return t}function HH(e){return typeof e=="string"?new RegExp(BH(e),"g"):e}function WH(e){return typeof e=="function"?e:function(){return e}}const lp="phrasing",cp=["autolink","link","image","label"];function qH(){return{transforms:[ZH],enter:{literalAutolink:GH,literalAutolinkEmail:dp,literalAutolinkHttp:dp,literalAutolinkWww:dp},exit:{literalAutolink:QH,literalAutolinkEmail:XH,literalAutolinkHttp:JH,literalAutolinkWww:KH}}}function YH(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:lp,notInConstruct:cp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:lp,notInConstruct:cp},{character:":",before:"[ps]",after:"\\/",inConstruct:lp,notInConstruct:cp}]}}function GH(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function dp(e){this.config.enter.autolinkProtocol.call(this,e)}function JH(e){this.config.exit.autolinkProtocol.call(this,e)}function KH(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function XH(e){this.config.exit.autolinkEmail.call(this,e)}function QH(e){this.exit(e)}function ZH(e){zH(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,eW],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),tW]],{ignore:["link","linkReference"]})}function eW(e,t,s,r,i){let a="";if(!GC(i)||(/^w/i.test(t)&&(s=t+s,t="",a="http://"),!sW(s)))return!1;const o=rW(s+r);if(!o[0])return!1;const l={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function tW(e,t,s,r){return!GC(r,!0)||/[-\d_]$/.test(s)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+s,children:[{type:"text",value:t+"@"+s}]}}function sW(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function rW(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let s=t[0],r=s.indexOf(")");const i=H1(e,"(");let a=H1(e,")");for(;r!==-1&&i>a;)e+=s.slice(0,r+1),s=s.slice(r+1),r=s.indexOf(")"),a++;return[e,s]}function GC(e,t){const s=e.input.charCodeAt(e.index-1);return(e.index===0||wa(s)||If(s))&&(!t||s!==47)}JC.peek=hW;function nW(){this.buffer()}function iW(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function aW(){this.buffer()}function oW(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function lW(e){const t=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=Ar(this.sliceSerialize(e)).toLowerCase(),s.label=t}function cW(e){this.exit(e)}function dW(e){const t=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=Ar(this.sliceSerialize(e)).toLowerCase(),s.label=t}function uW(e){this.exit(e)}function hW(){return"["}function JC(e,t,s,r){const i=s.createTracker(r);let a=i.move("[^");const o=s.enter("footnoteReference"),l=s.enter("reference");return a+=i.move(s.safe(s.associationId(e),{after:"]",before:a})),l(),o(),a+=i.move("]"),a}function fW(){return{enter:{gfmFootnoteCallString:nW,gfmFootnoteCall:iW,gfmFootnoteDefinitionLabelString:aW,gfmFootnoteDefinition:oW},exit:{gfmFootnoteCallString:lW,gfmFootnoteCall:cW,gfmFootnoteDefinitionLabelString:dW,gfmFootnoteDefinition:uW}}}function mW(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:s,footnoteReference:JC},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function s(r,i,a,o){const l=a.createTracker(o);let c=l.move("[^");const d=a.enter("footnoteDefinition"),u=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),u(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?KC:pW))),d(),c}}function pW(e,t,s){return t===0?e:KC(e,t,s)}function KC(e,t,s){return(s?"":"    ")+e}const xW=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];XC.peek=wW;function gW(){return{canContainEols:["delete"],enter:{strikethrough:bW},exit:{strikethrough:vW}}}function yW(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:xW}],handlers:{delete:XC}}}function bW(e){this.enter({type:"delete",children:[]},e)}function vW(e){this.exit(e)}function XC(e,t,s,r){const i=s.createTracker(r),a=s.enter("strikethrough");let o=i.move("~~");return o+=s.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function wW(){return"~"}function jW(e){return e.length}function NW(e,t){const s=t||{},r=(s.align||[]).concat(),i=s.stringLength||jW,a=[],o=[],l=[],c=[];let d=0,u=-1;for(;++u<e.length;){const g=[],y=[];let p=-1;for(e[u].length>d&&(d=e[u].length);++p<e[u].length;){const b=kW(e[u][p]);if(s.alignDelimiters!==!1){const v=i(b);y[p]=v,(c[p]===void 0||v>c[p])&&(c[p]=v)}g.push(b)}o[u]=g,l[u]=y}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<d;)a[h]=W1(r[h]);else{const g=W1(r);for(;++h<d;)a[h]=g}h=-1;const f=[],m=[];for(;++h<d;){const g=a[h];let y="",p="";g===99?(y=":",p=":"):g===108?y=":":g===114&&(p=":");let b=s.alignDelimiters===!1?1:Math.max(1,c[h]-y.length-p.length);const v=y+"-".repeat(b)+p;s.alignDelimiters!==!1&&(b=y.length+b+p.length,b>c[h]&&(c[h]=b),m[h]=b),f[h]=v}o.splice(1,0,f),l.splice(1,0,m),u=-1;const x=[];for(;++u<o.length;){const g=o[u],y=l[u];h=-1;const p=[];for(;++h<d;){const b=g[h]||"";let v="",w="";if(s.alignDelimiters!==!1){const N=c[h]-(y[h]||0),S=a[h];S===114?v=" ".repeat(N):S===99?N%2?(v=" ".repeat(N/2+.5),w=" ".repeat(N/2-.5)):(v=" ".repeat(N/2),w=v):w=" ".repeat(N)}s.delimiterStart!==!1&&!h&&p.push("|"),s.padding!==!1&&!(s.alignDelimiters===!1&&b==="")&&(s.delimiterStart!==!1||h)&&p.push(" "),s.alignDelimiters!==!1&&p.push(v),p.push(b),s.alignDelimiters!==!1&&p.push(w),s.padding!==!1&&p.push(" "),(s.delimiterEnd!==!1||h!==d-1)&&p.push("|")}x.push(s.delimiterEnd===!1?p.join("").replace(/ +$/,""):p.join(""))}return x.join(`
`)}function kW(e){return e==null?"":String(e)}function W1(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function SW(e,t,s,r){const i=s.enter("blockquote"),a=s.createTracker(r);a.move("> "),a.shift(2);const o=s.indentLines(s.containerFlow(e,a.current()),_W);return i(),o}function _W(e,t,s){return">"+(s?"":" ")+e}function TW(e,t){return q1(e,t.inConstruct,!0)&&!q1(e,t.notInConstruct,!1)}function q1(e,t,s){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return s;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Y1(e,t,s,r){let i=-1;for(;++i<s.unsafe.length;)if(s.unsafe[i].character===`
`&&TW(s.stack,s.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function CW(e,t){const s=String(e);let r=s.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=s.indexOf(t,i);return o}function PW(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function EW(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function AW(e,t,s,r){const i=EW(s),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(PW(e,s)){const h=s.enter("codeIndented"),f=s.indentLines(a,RW);return h(),f}const l=s.createTracker(r),c=i.repeat(Math.max(CW(a,i)+1,3)),d=s.enter("codeFenced");let u=l.move(c);if(e.lang){const h=s.enter(`codeFencedLang${o}`);u+=l.move(s.safe(e.lang,{before:u,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=s.enter(`codeFencedMeta${o}`);u+=l.move(" "),u+=l.move(s.safe(e.meta,{before:u,after:`
`,encode:["`"],...l.current()})),h()}return u+=l.move(`
`),a&&(u+=l.move(a+`
`)),u+=l.move(c),d(),u}function RW(e,t,s){return(s?"":"    ")+e}function Ey(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function MW(e,t,s,r){const i=Ey(s),a=i==='"'?"Quote":"Apostrophe",o=s.enter("definition");let l=s.enter("label");const c=s.createTracker(r);let d=c.move("[");return d+=c.move(s.safe(s.associationId(e),{before:d,after:"]",...c.current()})),d+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=s.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(s.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(l=s.enter("destinationRaw"),d+=c.move(s.safe(e.url,{before:d,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=s.enter(`title${a}`),d+=c.move(" "+i),d+=c.move(s.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),l()),o(),d}function DW(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Uc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Rh(e,t,s){const r=Ro(e),i=Ro(t);return r===void 0?i===void 0?s==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}QC.peek=IW;function QC(e,t,s,r){const i=DW(s),a=s.enter("emphasis"),o=s.createTracker(r),l=o.move(i);let c=o.move(s.containerPhrasing(e,{after:i,before:l,...o.current()}));const d=c.charCodeAt(0),u=Rh(r.before.charCodeAt(r.before.length-1),d,i);u.inside&&(c=Uc(d)+c.slice(1));const h=c.charCodeAt(c.length-1),f=Rh(r.after.charCodeAt(0),h,i);f.inside&&(c=c.slice(0,-1)+Uc(h));const m=o.move(i);return a(),s.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},l+c+m}function IW(e,t,s){return s.options.emphasis||"*"}function LW(e,t){let s=!1;return Cy(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return s=!0,hg}),!!((!e.depth||e.depth<3)&&wy(e)&&(t.options.setext||s))}function OW(e,t,s,r){const i=Math.max(Math.min(6,e.depth||1),1),a=s.createTracker(r);if(LW(e,s)){const u=s.enter("headingSetext"),h=s.enter("phrasing"),f=s.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return h(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=s.enter("headingAtx"),c=s.enter("phrasing");a.move(o+" ");let d=s.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(d)&&(d=Uc(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,s.options.closeAtx&&(d+=" "+o),c(),l(),d}ZC.peek=FW;function ZC(e){return e.value||""}function FW(){return"<"}e4.peek=UW;function e4(e,t,s,r){const i=Ey(s),a=i==='"'?"Quote":"Apostrophe",o=s.enter("image");let l=s.enter("label");const c=s.createTracker(r);let d=c.move("![");return d+=c.move(s.safe(e.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=s.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(s.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(l=s.enter("destinationRaw"),d+=c.move(s.safe(e.url,{before:d,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=s.enter(`title${a}`),d+=c.move(" "+i),d+=c.move(s.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),l()),d+=c.move(")"),o(),d}function UW(){return"!"}t4.peek=$W;function t4(e,t,s,r){const i=e.referenceType,a=s.enter("imageReference");let o=s.enter("label");const l=s.createTracker(r);let c=l.move("![");const d=s.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(d+"]["),o();const u=s.stack;s.stack=[],o=s.enter("reference");const h=s.safe(s.associationId(e),{before:c,after:"]",...l.current()});return o(),s.stack=u,a(),i==="full"||!d||d!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function $W(){return"!"}s4.peek=BW;function s4(e,t,s){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<s.unsafe.length;){const o=s.unsafe[a],l=s.compilePattern(o);let c;if(o.atBreak)for(;c=l.exec(r);){let d=c.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1)}}return i+r+i}function BW(){return"`"}function r4(e,t){const s=wy(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(s===e.url||"mailto:"+s===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}n4.peek=zW;function n4(e,t,s,r){const i=Ey(s),a=i==='"'?"Quote":"Apostrophe",o=s.createTracker(r);let l,c;if(r4(e,s)){const u=s.stack;s.stack=[],l=s.enter("autolink");let h=o.move("<");return h+=o.move(s.containerPhrasing(e,{before:h,after:">",...o.current()})),h+=o.move(">"),l(),s.stack=u,h}l=s.enter("link"),c=s.enter("label");let d=o.move("[");return d+=o.move(s.containerPhrasing(e,{before:d,after:"](",...o.current()})),d+=o.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=s.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(s.safe(e.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(c=s.enter("destinationRaw"),d+=o.move(s.safe(e.url,{before:d,after:e.title?" ":")",...o.current()}))),c(),e.title&&(c=s.enter(`title${a}`),d+=o.move(" "+i),d+=o.move(s.safe(e.title,{before:d,after:i,...o.current()})),d+=o.move(i),c()),d+=o.move(")"),l(),d}function zW(e,t,s){return r4(e,s)?"<":"["}i4.peek=VW;function i4(e,t,s,r){const i=e.referenceType,a=s.enter("linkReference");let o=s.enter("label");const l=s.createTracker(r);let c=l.move("[");const d=s.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(d+"]["),o();const u=s.stack;s.stack=[],o=s.enter("reference");const h=s.safe(s.associationId(e),{before:c,after:"]",...l.current()});return o(),s.stack=u,a(),i==="full"||!d||d!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function VW(){return"["}function Ay(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function HW(e){const t=Ay(e),s=e.options.bulletOther;if(!s)return t==="*"?"-":"*";if(s!=="*"&&s!=="+"&&s!=="-")throw new Error("Cannot serialize items with `"+s+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(s===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+s+"`) to be different");return s}function WW(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function a4(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function qW(e,t,s,r){const i=s.enter("list"),a=s.bulletCurrent;let o=e.ordered?WW(s):Ay(s);const l=e.ordered?o==="."?")":".":HW(s);let c=t&&s.bulletLastUsed?o===s.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&s.stack[s.stack.length-1]==="list"&&s.stack[s.stack.length-2]==="listItem"&&s.stack[s.stack.length-3]==="list"&&s.stack[s.stack.length-4]==="listItem"&&s.indexStack[s.indexStack.length-1]===0&&s.indexStack[s.indexStack.length-2]===0&&s.indexStack[s.indexStack.length-3]===0&&(c=!0),a4(s)===o&&u){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=l),s.bulletCurrent=o;const d=s.containerFlow(e,r);return s.bulletLastUsed=o,s.bulletCurrent=a,i(),d}function YW(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function GW(e,t,s,r){const i=YW(s);let a=s.bulletCurrent||Ay(s);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(s.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=s.createTracker(r);l.move(a+" ".repeat(o-a.length)),l.shift(o);const c=s.enter("listItem"),d=s.indentLines(s.containerFlow(e,l.current()),u);return c(),d;function u(h,f,m){return f?(m?"":" ".repeat(o))+h:(m?a:a+" ".repeat(o-a.length))+h}}function JW(e,t,s,r){const i=s.enter("paragraph"),a=s.enter("phrasing"),o=s.containerPhrasing(e,r);return a(),i(),o}const KW=Ff(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function XW(e,t,s,r){return(e.children.some(function(o){return KW(o)})?s.containerPhrasing:s.containerFlow).call(s,e,r)}function QW(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}o4.peek=ZW;function o4(e,t,s,r){const i=QW(s),a=s.enter("strong"),o=s.createTracker(r),l=o.move(i+i);let c=o.move(s.containerPhrasing(e,{after:i,before:l,...o.current()}));const d=c.charCodeAt(0),u=Rh(r.before.charCodeAt(r.before.length-1),d,i);u.inside&&(c=Uc(d)+c.slice(1));const h=c.charCodeAt(c.length-1),f=Rh(r.after.charCodeAt(0),h,i);f.inside&&(c=c.slice(0,-1)+Uc(h));const m=o.move(i+i);return a(),s.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},l+c+m}function ZW(e,t,s){return s.options.strong||"*"}function eq(e,t,s,r){return s.safe(e.value,r)}function tq(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function sq(e,t,s){const r=(a4(s)+(s.options.ruleSpaces?" ":"")).repeat(tq(s));return s.options.ruleSpaces?r.slice(0,-1):r}const l4={blockquote:SW,break:Y1,code:AW,definition:MW,emphasis:QC,hardBreak:Y1,heading:OW,html:ZC,image:e4,imageReference:t4,inlineCode:s4,link:n4,linkReference:i4,list:qW,listItem:GW,paragraph:JW,root:XW,strong:o4,text:eq,thematicBreak:sq};function rq(){return{enter:{table:nq,tableData:G1,tableHeader:G1,tableRow:aq},exit:{codeText:oq,table:iq,tableData:up,tableHeader:up,tableRow:up}}}function nq(e){const t=e._align;this.enter({type:"table",align:t.map(function(s){return s==="none"?null:s}),children:[]},e),this.data.inTable=!0}function iq(e){this.exit(e),this.data.inTable=void 0}function aq(e){this.enter({type:"tableRow",children:[]},e)}function up(e){this.exit(e)}function G1(e){this.enter({type:"tableCell",children:[]},e)}function oq(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,lq));const s=this.stack[this.stack.length-1];s.type,s.value=t,this.exit(e)}function lq(e,t){return t==="|"?t:e}function cq(e){const t=e||{},s=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=s?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:c,tableRow:l}};function o(m,x,g,y){return d(u(m,g,y),m.align)}function l(m,x,g,y){const p=h(m,g,y),b=d([p]);return b.slice(0,b.indexOf(`
`))}function c(m,x,g,y){const p=g.enter("tableCell"),b=g.enter("phrasing"),v=g.containerPhrasing(m,{...y,before:a,after:a});return b(),p(),v}function d(m,x){return NW(m,{align:x,alignDelimiters:r,padding:s,stringLength:i})}function u(m,x,g){const y=m.children;let p=-1;const b=[],v=x.enter("table");for(;++p<y.length;)b[p]=h(y[p],x,g);return v(),b}function h(m,x,g){const y=m.children;let p=-1;const b=[],v=x.enter("tableRow");for(;++p<y.length;)b[p]=c(y[p],m,x,g);return v(),b}function f(m,x,g){let y=l4.inlineCode(m,x,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function dq(){return{exit:{taskListCheckValueChecked:J1,taskListCheckValueUnchecked:J1,paragraph:hq}}}function uq(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:fq}}}function J1(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function hq(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const s=this.stack[this.stack.length-1];s.type;const r=s.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const l=i[a];if(l.type==="paragraph"){o=l;break}}o===s&&(r.value=r.value.slice(1),r.value.length===0?s.children.shift():s.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,s.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function fq(e,t,s,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=s.createTracker(r);a&&l.move(o);let c=l4.listItem(e,t,s,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(u){return u+o}}function mq(){return[qH(),fW(),gW(),rq(),dq()]}function pq(e){return{extensions:[YH(),mW(e),yW(),cq(e),uq()]}}const xq={tokenize:jq,partial:!0},c4={tokenize:Nq,partial:!0},d4={tokenize:kq,partial:!0},u4={tokenize:Sq,partial:!0},gq={tokenize:_q,partial:!0},h4={name:"wwwAutolink",tokenize:vq,previous:m4},f4={name:"protocolAutolink",tokenize:wq,previous:p4},On={name:"emailAutolink",tokenize:bq,previous:x4},sn={};function yq(){return{text:sn}}let Fi=48;for(;Fi<123;)sn[Fi]=On,Fi++,Fi===58?Fi=65:Fi===91&&(Fi=97);sn[43]=On;sn[45]=On;sn[46]=On;sn[95]=On;sn[72]=[On,f4];sn[104]=[On,f4];sn[87]=[On,h4];sn[119]=[On,h4];function bq(e,t,s){const r=this;let i,a;return o;function o(h){return!xg(h)||!x4.call(r,r.previous)||Ry(r.events)?s(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(h))}function l(h){return xg(h)?(e.consume(h),l):h===64?(e.consume(h),c):s(h)}function c(h){return h===46?e.check(gq,u,d)(h):h===45||h===95||is(h)?(a=!0,e.consume(h),c):u(h)}function d(h){return e.consume(h),i=!0,c}function u(h){return a&&i&&xs(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):s(h)}}function vq(e,t,s){const r=this;return i;function i(o){return o!==87&&o!==119||!m4.call(r,r.previous)||Ry(r.events)?s(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(xq,e.attempt(c4,e.attempt(d4,a),s),s)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function wq(e,t,s){const r=this;let i="",a=!1;return o;function o(h){return(h===72||h===104)&&p4.call(r,r.previous)&&!Ry(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),l):s(h)}function l(h){if(xs(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),l;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),c}return s(h)}function c(h){return h===47?(e.consume(h),a?d:(a=!0,c)):s(h)}function d(h){return h===null||Ph(h)||ze(h)||wa(h)||If(h)?s(h):e.attempt(c4,e.attempt(d4,u),s)(h)}function u(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function jq(e,t,s){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):s(o)}function a(o){return o===null?s(o):t(o)}}function Nq(e,t,s){let r,i,a;return o;function o(d){return d===46||d===95?e.check(u4,c,l)(d):d===null||ze(d)||wa(d)||d!==45&&If(d)?c(d):(a=!0,e.consume(d),o)}function l(d){return d===95?r=!0:(i=r,r=void 0),e.consume(d),o}function c(d){return i||r||!a?s(d):t(d)}}function kq(e,t){let s=0,r=0;return i;function i(o){return o===40?(s++,e.consume(o),i):o===41&&r<s?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(u4,t,a)(o):o===null||ze(o)||wa(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function Sq(e,t,s){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),i):l===60||l===null||ze(l)||wa(l)?t(l):s(l)}function i(l){return l===null||l===40||l===91||ze(l)||wa(l)?t(l):r(l)}function a(l){return xs(l)?o(l):s(l)}function o(l){return l===59?(e.consume(l),r):xs(l)?(e.consume(l),o):s(l)}}function _q(e,t,s){return r;function r(a){return e.consume(a),i}function i(a){return is(a)?s(a):t(a)}}function m4(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ze(e)}function p4(e){return!xs(e)}function x4(e){return!(e===47||xg(e))}function xg(e){return e===43||e===45||e===46||e===95||is(e)}function Ry(e){let t=e.length,s=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){s=!0;break}if(r._gfmAutolinkLiteralWalkedInto){s=!1;break}}return e.length>0&&!s&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),s}const Tq={tokenize:Iq,partial:!0};function Cq(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Rq,continuation:{tokenize:Mq},exit:Dq}},text:{91:{name:"gfmFootnoteCall",tokenize:Aq},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Pq,resolveTo:Eq}}}}function Pq(e,t,s){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!o||!o._balanced)return s(c);const d=Ar(r.sliceSerialize({start:o.end,end:r.now()}));return d.codePointAt(0)!==94||!a.includes(d.slice(1))?s(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Eq(e,t){let s=e.length;for(;s--;)if(e[s][1].type==="labelImage"&&e[s][0]==="enter"){e[s][1];break}e[s+1][1].type="data",e[s+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[s+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[s+3][1].end),end:Object.assign({},e[s+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[s+1],e[s+2],["enter",r,t],e[s+3],e[s+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(s,e.length-s+1,...l),e}function Aq(e,t,s){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return l;function l(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?s(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(h){if(a>999||h===93&&!o||h===null||h===91||ze(h))return s(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Ar(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):s(h)}return ze(h)||(o=!0),a++,e.consume(h),h===92?u:d}function u(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function Rq(e,t,s){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,l;return c;function c(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):s(x)}function u(x){if(o>999||x===93&&!l||x===null||x===91||ze(x))return s(x);if(x===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=Ar(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return ze(x)||(l=!0),o++,e.consume(x),x===92?h:u}function h(x){return x===91||x===92||x===93?(e.consume(x),o++,u):u(x)}function f(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),i.includes(a)||i.push(a),Re(e,m,"gfmFootnoteDefinitionWhitespace")):s(x)}function m(x){return t(x)}}function Mq(e,t,s){return e.check(nd,t,e.attempt(Tq,t,s))}function Dq(e){e.exit("gfmFootnoteDefinition")}function Iq(e,t,s){const r=this;return Re(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):s(a)}}function Lq(e){let s=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return s==null&&(s=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let d=c;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[c][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[c][1].end)},h={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[c][1].start)},f=[["enter",u,l],["enter",o[d][1],l],["exit",o[d][1],l],["enter",h,l]],m=l.parser.constructs.insideSpan.null;m&&Xs(f,f.length,0,Lf(m,o.slice(d+1,c),l)),Xs(f,f.length,0,[["exit",h,l],["enter",o[c][1],l],["exit",o[c][1],l],["exit",u,l]]),Xs(o,d-1,c-d+3,f),c=d+f.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function a(o,l,c){const d=this.previous,u=this.events;let h=0;return f;function f(x){return d===126&&u[u.length-1][1].type!=="characterEscape"?c(x):(o.enter("strikethroughSequenceTemporary"),m(x))}function m(x){const g=Ro(d);if(x===126)return h>1?c(x):(o.consume(x),h++,m);if(h<2&&!s)return c(x);const y=o.exit("strikethroughSequenceTemporary"),p=Ro(x);return y._open=!p||p===2&&!!g,y._close=!g||g===2&&!!p,l(x)}}}class Oq{constructor(){this.map=[]}add(t,s,r){Fq(this,t,s,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let s=this.map.length;const r=[];for(;s>0;)s-=1,r.push(t.slice(this.map[s][0]+this.map[s][1]),this.map[s][2]),t.length=this.map[s][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Fq(e,t,s,r){let i=0;if(!(s===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=s,e.map[i][2].push(...r);return}i+=1}e.map.push([t,s,r])}}function Uq(e,t){let s=!1;const r=[];for(;t<e.length;){const i=e[t];if(s){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(s=!0);t+=1}return r}function $q(){return{flow:{null:{name:"table",tokenize:Bq,resolveAll:zq}}}}function Bq(e,t,s){const r=this;let i=0,a=0,o;return l;function l(_){let C=r.events.length-1;for(;C>-1;){const $=r.events[C][1].type;if($==="lineEnding"||$==="linePrefix")C--;else break}const P=C>-1?r.events[C][1].type:null,I=P==="tableHead"||P==="tableRow"?S:c;return I===S&&r.parser.lazy[r.now().line]?s(_):I(_)}function c(_){return e.enter("tableHead"),e.enter("tableRow"),d(_)}function d(_){return _===124||(o=!0,a+=1),u(_)}function u(_){return _===null?s(_):ue(_)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),m):s(_):Ce(_)?Re(e,u,"whitespace")(_):(a+=1,o&&(o=!1,i+=1),_===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),h(_)))}function h(_){return _===null||_===124||ze(_)?(e.exit("data"),u(_)):(e.consume(_),_===92?f:h)}function f(_){return _===92||_===124?(e.consume(_),h):h(_)}function m(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?s(_):(e.enter("tableDelimiterRow"),o=!1,Ce(_)?Re(e,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):x(_))}function x(_){return _===45||_===58?y(_):_===124?(o=!0,e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),g):N(_)}function g(_){return Ce(_)?Re(e,y,"whitespace")(_):y(_)}function y(_){return _===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),p):_===45?(a+=1,p(_)):_===null||ue(_)?w(_):N(_)}function p(_){return _===45?(e.enter("tableDelimiterFiller"),b(_)):N(_)}function b(_){return _===45?(e.consume(_),b):_===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(_))}function v(_){return Ce(_)?Re(e,w,"whitespace")(_):w(_)}function w(_){return _===124?x(_):_===null||ue(_)?!o||i!==a?N(_):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(_)):N(_)}function N(_){return s(_)}function S(_){return e.enter("tableRow"),T(_)}function T(_){return _===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),T):_===null||ue(_)?(e.exit("tableRow"),t(_)):Ce(_)?Re(e,T,"whitespace")(_):(e.enter("data"),j(_))}function j(_){return _===null||_===124||ze(_)?(e.exit("data"),T(_)):(e.consume(_),_===92?E:j)}function E(_){return _===92||_===124?(e.consume(_),j):j(_)}}function zq(e,t){let s=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],l=!1,c=0,d,u,h;const f=new Oq;for(;++s<e.length;){const m=e[s],x=m[1];m[0]==="enter"?x.type==="tableHead"?(l=!1,c!==0&&(K1(f,t,c,d,u),u=void 0,c=0),d={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(s,0,[["enter",d,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,h=void 0,a=[0,0,0,0],o=[0,s+1,0,0],l&&(l=!1,u={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(s,0,[["enter",u,t]])),i=x.type==="tableDelimiterRow"?2:u?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],h=Qd(f,t,a,i,void 0,h),a=[0,0,0,0]),o[2]=s)):x.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],h=Qd(f,t,a,i,void 0,h)),a=o,o=[a[1],s,0,0])):x.type==="tableHead"?(l=!0,c=s):x.type==="tableRow"||x.type==="tableDelimiterRow"?(c=s,a[1]!==0?(o[0]=o[1],h=Qd(f,t,a,i,s,h)):o[1]!==0&&(h=Qd(f,t,o,i,s,h)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=s)}for(c!==0&&K1(f,t,c,d,u),f.consume(t.events),s=-1;++s<t.events.length;){const m=t.events[s];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Uq(t.events,s))}return e}function Qd(e,t,s,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";s[0]!==0&&(a.end=Object.assign({},Ba(t.events,s[0])),e.add(s[0],0,[["exit",a,t]]));const c=Ba(t.events,s[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(s[1],0,[["enter",a,t]]),s[2]!==0){const d=Ba(t.events,s[2]),u=Ba(t.events,s[3]),h={type:l,start:Object.assign({},d),end:Object.assign({},u)};if(e.add(s[2],0,[["enter",h,t]]),r!==2){const f=t.events[s[2]],m=t.events[s[3]];if(f[1].end=Object.assign({},m[1].end),f[1].type="chunkText",f[1].contentType="text",s[3]>s[2]+1){const x=s[2]+1,g=s[3]-s[2]-1;e.add(x,g,[])}}e.add(s[3]+1,0,[["exit",h,t]])}return i!==void 0&&(a.end=Object.assign({},Ba(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function K1(e,t,s,r,i){const a=[],o=Ba(t.events,s);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(s+1,0,a)}function Ba(e,t){const s=e[t],r=s[0]==="enter"?"start":"end";return s[1][r]}const Vq={name:"tasklistCheck",tokenize:Wq};function Hq(){return{text:{91:Vq}}}function Wq(e,t,s){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?s(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return ze(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),o):s(c)}function o(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):s(c)}function l(c){return ue(c)?t(c):Ce(c)?e.check({tokenize:qq},t,s)(c):s(c)}}function qq(e,t,s){return Re(e,r,"whitespace");function r(i){return i===null?s(i):t(i)}}function Yq(e){return SC([yq(),Cq(),Lq(e),$q(),Hq()])}const Gq={};function g4(e){const t=this,s=e||Gq,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Yq(s)),a.push(mq()),o.push(pq(s))}const Jq=({isOpen:e,onClose:t})=>{const{messages:s,isLoading:r,sendMessage:i,clearMessages:a}=aB(),[o,l]=De.useState(""),c=k.useRef(null),d=k.useRef(null);k.useEffect(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})},[s]),k.useEffect(()=>{e&&d.current&&setTimeout(()=>{var p;(p=d.current)==null||p.focus()},300)},[e]);const u=p=>{l(p.target.value)},h=p=>{p.key==="Enter"&&o.trim()&&f()},f=async()=>{if(!o.trim()||r)return;const p=o;l(""),await i(p)},m=p=>{l(p),d.current&&d.current.focus()},x=p=>{R.success(`Thank you for your ${p?"positive":"negative"} feedback!`)},g=()=>{a(),R.success("Conversation reset")},y=p=>{R.success(`Opening ${p}...`)};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl flex flex-col h-[80vh] max-h-[800px] overflow-hidden",children:[n.jsxs("div",{className:"bg-blue-600 text-white p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ts,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-medium",children:"MT5 Trading Assistant"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:g,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",title:"Reset conversation",children:n.jsx(Mn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10","aria-label":"Close chat",children:n.jsx(Ht,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:[s.map(p=>n.jsx("div",{className:"mb-4",children:p.role==="user"?n.jsxs("div",{className:"flex items-start justify-end",children:[n.jsx("div",{className:"bg-blue-100 text-blue-900 rounded-lg py-2 px-3 max-w-[80%]",children:n.jsx("p",{className:"text-sm",children:p.content})}),n.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center ml-2 flex-shrink-0",children:n.jsx(es,{className:"w-4 h-4 text-white"})})]}):p.role==="system"?n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:n.jsx(fh,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-3 max-w-[80%]",children:[n.jsx("p",{className:"text-sm",children:p.content}),p.relatedQuestions&&p.relatedQuestions.length>0&&n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"You can ask me about:"}),p.relatedQuestions.map((b,v)=>n.jsx("button",{onClick:()=>m(b),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:b},v))]})]})]}):n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:n.jsx(ts,{className:"w-4 h-4 text-white"})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg py-2 px-3 max-w-[80%] shadow-sm",children:p.isLoading?n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(ga,{className:"w-4 h-4 text-blue-500 animate-spin"})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm prose prose-sm max-w-none",children:n.jsx(YC,{remarkPlugins:[g4],children:p.content})}),p.relatedDocuments&&p.relatedDocuments.length>0&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500 mb-1",children:[n.jsx(W0,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Related Documentation:"})]}),n.jsx("div",{className:"space-y-1",children:p.relatedDocuments.map((b,v)=>n.jsxs("button",{onClick:()=>y(b),className:"flex items-center space-x-1 text-xs text-blue-600 hover:text-blue-800 hover:underline",children:[n.jsx(Xn,{className:"w-3 h-3"}),n.jsx("span",{children:b}),n.jsx(yn,{className:"w-2 h-2"})]},v))})]}),n.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>x(!0),className:"text-gray-400 hover:text-green-500 transition-colors",title:"Helpful",children:n.jsx(lT,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Not helpful",children:n.jsx(oT,{className:"w-3 h-3"})})]}),p.relatedQuestions&&p.relatedQuestions.length>0&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Related questions:"}),p.relatedQuestions.map((b,v)=>n.jsx("button",{onClick:()=>m(b),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:b},v))]})]})})]})},p.id)),n.jsx("div",{ref:c})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{ref:d,type:"text",value:o,onChange:u,onKeyPress:h,placeholder:"Ask me anything about trading...",className:"flex-1 border border-gray-300 rounded-l-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:r}),n.jsx("button",{onClick:f,disabled:!o.trim()||r,className:"bg-blue-600 text-white rounded-r-lg py-2 px-4 hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?n.jsx(ga,{className:"w-5 h-5 animate-spin"}):n.jsx(kf,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Ask about robots, signals, webhooks, or any platform feature"})]})]})}):null},gg=({accountInfo:e,onBackToChoice:t,showBackButton:s=!1,currentMode:r,lastAccountInfoUpdate:i,lastPositionsUpdate:a,lastSignalsUpdate:o,availableSymbols:l=[],onManualRefresh:c,onForceRefresh:d,isLoading:u=!1,onSelectVPS:h})=>{var rr;const{logout:f,credentials:m,userTokens:x,reauthenticateMT5:g}=pe(),[y,p]=k.useState(!1),[b,v]=k.useState(!1),[w,N]=k.useState(!1),[S,T]=k.useState(!1),j=Pt(),[E]=k.useState(i||null),[_]=k.useState(a||null),[C]=k.useState(o||null),I=(()=>{switch((e==null?void 0:e.accountType)||(m==null?void 0:m.accountType)){case"demo":return{label:"Demo",icon:It,color:"text-blue-600 bg-blue-100"};case"live":return{label:"Live",icon:we,color:"text-green-600 bg-green-100"};case"prop":return{label:"Prop",icon:X_,color:"text-purple-600 bg-purple-100"};default:return{label:"Unknown",icon:It,color:"text-gray-600 bg-gray-100"}}})(),$=I.icon,H=At=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency,minimumFractionDigits:2}).format(At):"$0.00",B=E&&Date.now()-new Date(E).getTime()<1e3,L=_&&Date.now()-new Date(_).getTime()<1e3,F=C&&Date.now()-new Date(C).getTime()<1e3,z=(m==null?void 0:m.email)==="admin@example.com"||((rr=m==null?void 0:m.email)==null?void 0:rr.includes("admin")),A=()=>{j("/profile"),p(!1)},ie=()=>{j("/admin"),p(!1)},K=()=>{j("/profile"),p(!1)},M=()=>{h?(h(),p(!1)):(j("/vps"),p(!1))},he=()=>{j("/packages"),p(!1)},be=()=>{t&&t(),j("/"),p(!1)},me=()=>{Promise.resolve(f()).finally(()=>{j("/login"),p(!1)})},qe=()=>{v(!0),p(!1)},Ze=async()=>{N(!0);try{await g()?R.success("MT5 connection refreshed successfully"):R.error("Failed to refresh MT5 connection. Please try reconnecting your broker.")}catch(At){console.error("Error refreshing MT5 connection:",At),R.error("Error refreshing MT5 connection")}finally{N(!1)}},je=new Date,Le=je.getUTCDay(),Ye=je.getUTCHours(),Et=Le>0&&Le<5||Le===0&&Ye>=21||Le===5&&Ye<21;let Wt="Closed";return Et&&(Ye>=0&&Ye<7?Wt="Sydney":Ye>=7&&Ye<15?Wt="London":Ye>=15&&Ye<21?Wt="New York":Wt="Asia"),n.jsxs(n.Fragment,{children:[(E||_||C)&&n.jsx("div",{className:"bg-gray-900 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsxs("div",{className:"flex items-center space-x-6 text-xs",children:[E&&n.jsxs("div",{className:"flex items-center space-x-2",children:[B?n.jsx(mo,{className:"w-3 h-3 text-green-400"}):n.jsx(Am,{className:"w-3 h-3 text-red-400"}),n.jsxs("span",{className:"text-gray-300",children:["Account: ",Jr(E,{addSuffix:!0})]})]}),_&&n.jsxs("div",{className:"flex items-center space-x-2",children:[L?n.jsx(mo,{className:"w-3 h-3 text-green-400"}):n.jsx(Am,{className:"w-3 h-3 text-red-400"}),n.jsxs("span",{className:"text-gray-300",children:["Positions: ",Jr(_,{addSuffix:!0})]})]}),C&&n.jsxs("div",{className:"flex items-center space-x-2",children:[F?n.jsx(mo,{className:"w-3 h-3 text-green-400"}):n.jsx(Am,{className:"w-3 h-3 text-orange-400"}),n.jsxs("span",{className:"text-gray-300",children:["Signals: ",Jr(C,{addSuffix:!0})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${Et?"bg-green-400":"bg-red-400"}`}),n.jsx("span",{className:"text-gray-200 font-medium",children:Et?"Market Open":"Market Closed"}),Et&&n.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-gray-800 text-blue-200 font-semibold",children:[Wt," Session"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-gray-300",children:"Real-time updates"})]}),l.length>0&&n.jsxs("span",{className:"text-blue-400 font-medium",children:[l.length," symbols loaded"]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[d&&n.jsx("button",{onClick:d,disabled:u,className:"p-1 text-purple-400 hover:text-purple-300 hover:bg-gray-800 rounded transition-colors",title:"Force sync",children:n.jsx(Ks,{className:`w-3 h-3 ${u?"animate-spin":""}`})}),c&&n.jsx("button",{onClick:c,disabled:u,className:"p-1 text-blue-400 hover:text-blue-300 hover:bg-gray-800 rounded transition-colors",title:"Refresh",children:n.jsx(Mn,{className:`w-3 h-3 ${u?"animate-spin":""}`})})]})]})]})})}),n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[s&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:be,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx($x,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Hub"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsx("div",{children:e&&n.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:n.jsxs("div",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${I.color}`,children:[n.jsx($,{className:"w-3 h-3"}),n.jsx("span",{children:I.label})]})})})})]}),e&&n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:n.jsx(si,{className:"w-4 h-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Balance"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:H(e.balance)})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`p-2 rounded-lg ${e.profit>=0?"bg-green-100":"bg-red-100"}`,children:n.jsx(vs,{className:`w-4 h-4 ${e.profit>=0?"text-green-600":"text-red-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"P&L"}),n.jsx("p",{className:`text-sm font-semibold ${e.profit>=0?"text-green-600":"text-red-600"}`,children:H(e.profit)})]})]})]})]}),n.jsx("img",{src:"/src/images/tradinghub_light_logo.png",alt:"Platform Logo",className:"h-11 w-auto"}),n.jsx("div",{className:"md:hidden",children:n.jsx("button",{onClick:()=>p(!y),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:y?n.jsx(Ht,{className:"w-6 h-6"}):n.jsx(bL,{className:"w-6 h-6"})})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[m&&n.jsx("button",{onClick:Ze,disabled:w,className:"flex items-center space-x-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50",title:"Refresh MT5 Connection",children:n.jsx(_w,{className:`w-4 h-4 ${w?"animate-spin":""}`})}),x&&r==="algotrading"&&n.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-yellow-50 border border-yellow-300 rounded-md shadow-sm",children:[n.jsx(si,{className:"w-4 h-4 text-yellow-500"}),n.jsx("span",{className:"text-xs font-semibold text-yellow-700",children:"Tokens"}),n.jsx("span",{className:"text-sm font-bold text-yellow-800",children:x.balance})]}),x&&r!=="algotrading"&&n.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-purple-50 rounded-lg",children:[n.jsx(si,{className:"w-4 h-4 text-purple-600"}),n.jsxs("span",{className:"text-sm font-medium text-purple-700",children:[x.balance," tokens"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:qe,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",title:"Chat Assistant",children:n.jsx(Po,{className:"w-5 h-5"})}),r==="algotrading"?n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>T(At=>!At),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors flex items-center",title:"Settings",children:[n.jsx(Pc,{className:"w-5 h-5"}),n.jsx(q0,{className:"w-4 h-4 ml-1"})]}),S&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[n.jsxs("button",{onClick:M,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[n.jsx(Nn,{className:"w-4 h-4 mr-2 text-blue-600"})," VPS Hosting"]}),n.jsxs("button",{onClick:he,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[n.jsx(Is,{className:"w-4 h-4 mr-2 text-purple-600"})," Token Packages"]}),n.jsxs("button",{onClick:A,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[n.jsx(es,{className:"w-4 h-4 mr-2 text-gray-700"})," Profile"]})]})]}):n.jsx("button",{onClick:K,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",title:"Settings",children:n.jsx(Pc,{className:"w-5 h-5"})})]}),n.jsxs("button",{onClick:me,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx(Hx,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),e&&n.jsx("div",{className:"md:hidden border-t border-gray-200 py-3",children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Balance: "}),n.jsx("span",{className:"font-semibold",children:H(e.balance)})]})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"P&L: "}),n.jsx("span",{className:`font-semibold ${e.profit>=0?"text-green-600":"text-red-600"}`,children:H(e.profit)})]})]})})]})}),y&&n.jsx("div",{className:"md:hidden bg-white border-b border-gray-200 shadow-lg",children:n.jsxs("div",{className:"px-4 py-3 space-y-3",children:[x&&n.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-purple-50 rounded-lg",children:[n.jsx(si,{className:"w-4 h-4 text-purple-600"}),n.jsxs("span",{className:"text-sm font-medium text-purple-700",children:[x.balance," tokens"]})]}),m&&n.jsxs("button",{onClick:Ze,disabled:w,className:"flex items-center space-x-3 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 w-full",children:[n.jsx(_w,{className:`w-5 h-5 ${w?"animate-spin":""}`}),n.jsx("span",{children:"Refresh MT5 Connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{onClick:qe,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[n.jsx(Po,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:"Chat Assistant"})]}),n.jsxs("button",{onClick:he,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[n.jsx(Is,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:"Token Packages"})]}),n.jsxs("button",{onClick:A,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[n.jsx(es,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:"Profile"})]}),r!=="vps"&&n.jsxs("button",{onClick:M,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[n.jsx(Nn,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:"VPS Hosting"})]}),z&&n.jsxs("button",{onClick:ie,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[n.jsx(gs,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:"Admin Dashboard"})]}),s&&n.jsxs("button",{onClick:be,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[n.jsx($x,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:"Back to Hub"})]}),n.jsxs("button",{onClick:me,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg w-full text-left",children:[n.jsx(Hx,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:"Logout"})]})]})]})}),n.jsx(Jq,{isOpen:b,onClose:()=>v(!1)})]})},Kq=()=>{const[e,t]=k.useState(null),{register:s,handleSubmit:r,reset:i}=_a(),[a,o]=k.useState([]),[l,c]=k.useState([]),[d,u]=k.useState(!0),[h,f]=k.useState(null);k.useEffect(()=>{(async()=>{const{data:{session:b}}=await D.auth.getSession();t((b==null?void 0:b.user)??null),u(!1)})()},[]);const m=async()=>{if(e)try{const{data:p,error:b}=await D.from("user_accounts").select("id, mt5_login, mt5_server, name").eq("user_id",e.id);if(b)throw b;o(p||[])}catch(p){f("Failed to fetch user accounts."),console.error(p)}},x=async()=>{if(e)try{const{data:p,error:b}=await D.from("manual_copy_sessions").select("*").eq("user_id",e.id).eq("status","active");if(b)throw b;c(p||[])}catch(p){f("Failed to fetch active sessions."),console.error(p)}};k.useEffect(()=>{m(),x()},[e]);const g=async p=>{if(u(!0),f(null),!e){f("User not authenticated."),u(!1);return}const b=a.find(w=>w.id===p.master_account_id),v=a.find(w=>w.id===p.slave_account_id);if(!b||!v){f("Master or slave account not found."),u(!1);return}try{const{copierId:w,copierAlreadyExists:N}=await X0({masterUser:b.mt5_login,masterServer:b.mt5_server,slaveUser:v.mt5_login,slaveServer:v.mt5_server});if(N){f("A copy session for these accounts already exists."),u(!1);return}if(!w)throw new Error("No copierId returned from copyback service.");const{error:S}=await D.from("manual_copy_sessions").insert({user_id:e.id,session_name:p.session_name,master_account_id:p.master_account_id,slave_account_id:p.slave_account_id,copyback_copier_id:w,status:"active"});if(S)throw S;alert("Session started successfully!"),x(),i()}catch(w){f(`Failed to start session: ${w.message}`),console.error(w)}finally{u(!1)}},y=async p=>{u(!0),f(null);const b=l.find(v=>v.id===p);if(!b){f("Session not found."),u(!1);return}try{await OL(b.copyback_copier_id);const{error:v}=await D.from("manual_copy_sessions").update({status:"inactive"}).eq("id",p);if(v)throw v;alert("Session stopped successfully!"),x()}catch(v){f(`Failed to stop session: ${v.message}`),console.error(v)}finally{u(!1)}};return n.jsxs("div",{className:"p-6 bg-gray-800 text-white rounded-lg",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Live Manual Copy Trading"}),h&&n.jsx("div",{className:"bg-red-500 p-3 rounded mb-4",children:h}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Start New Session"}),n.jsxs("form",{onSubmit:r(g),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"session_name",className:"block mb-1",children:"Session Name (Optional)"}),n.jsx("input",{id:"session_name",...s("session_name"),className:"w-full p-2 rounded bg-gray-600",placeholder:"e.g., 'My EURUSD Scalping Session'"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"master_account_id",className:"block mb-1",children:"Master Account"}),n.jsxs("select",{id:"master_account_id",...s("master_account_id",{required:!0,valueAsNumber:!0}),className:"w-full p-2 rounded bg-gray-600",children:[n.jsx("option",{value:"",children:"Select Master Account"}),a.map(p=>n.jsx("option",{value:p.id,children:p.name||`${p.mt5_login} (${p.mt5_server})`},p.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"slave_account_id",className:"block mb-1",children:"Slave Account"}),n.jsxs("select",{id:"slave_account_id",...s("slave_account_id",{required:!0,valueAsNumber:!0}),className:"w-full p-2 rounded bg-gray-600",children:[n.jsx("option",{value:"",children:"Select Slave Account"}),a.map(p=>n.jsx("option",{value:p.id,children:p.name||`${p.mt5_login} (${p.mt5_server})`},p.id))]})]}),n.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 p-2 rounded disabled:bg-gray-500",children:d?"Starting...":"Start Session"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Active Sessions"}),l.length>0?n.jsx("ul",{className:"space-y-3",children:l.map(p=>n.jsxs("li",{className:"flex justify-between items-center bg-gray-700 p-3 rounded-lg",children:[n.jsx("span",{children:p.session_name||`Session ${p.id}`}),n.jsx("button",{onClick:()=>y(p.id),disabled:d,className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded disabled:bg-gray-500",children:d?"...":"Stop"})]},p.id))}):n.jsx("p",{children:"No active manual copy sessions."})]})]})},X1=({onBackToChoice:e,onSelectVPS:t})=>{const[s,r]=k.useState("overview"),[i,a]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,h]=k.useState(null),{accountInfo:f,refreshAccountInfo:m,lastAccountInfoUpdate:x,startAutoRefresh:g,stopAutoRefresh:y,isAuthenticated:p,ensureMT5TokenStored:b,credentials:v}=pe(),{fetchPositions:w,fetchInitialSignals:N,fetchAvailableSymbols:S,fetchRobots:T,subscribeToSignals:j,startAutoRefresh:E,stopAutoRefresh:_,startSignalsAutoRefresh:C,stopSignalsAutoRefresh:P,forceRefreshPositions:I,positions:$,signals:H,robots:B,isLoading:L,lastPositionsUpdate:F,lastSignalsUpdate:z,availableSymbols:A}=ws();k.useEffect(()=>{window.scrollTo(0,0)},[]),k.useEffect(()=>{window.scrollTo(0,0)},[s]),k.useEffect(()=>{if(!p)return;m(),w(),N(),S(),T(),(async()=>{await b()||l(!0)})();const Le=j();return console.log("Subscribed to real-time signals"),g(),E(),C(),console.log("Started auto-refresh for account info, positions, and signals"),()=>{Le(),y(),_(),P(),console.log("Cleaned up subscriptions and auto-refresh")}},[p,m,w,N,S,T,j,g,y,E,_,C,P,b]),k.useEffect(()=>{p&&v&&(console.log("Credentials changed, refetching robots..."),T())},[p,v,T]),k.useEffect(()=>{const je=D.channel("realtime:positions").on("postgres_changes",{event:"*",schema:"public",table:"positions"},()=>{d(new Date),w()}).subscribe();return()=>{D.removeChannel(je)}},[w]),k.useEffect(()=>{const je=D.channel("realtime:signals").on("postgres_changes",{event:"*",schema:"public",table:"trading_signals"},()=>{h(new Date),N()}).subscribe();return()=>{D.removeChannel(je)}},[N]);const ie=async()=>{await Promise.all([m(),w(),N(),S(),T()])},K=async()=>{await I()},M=async()=>{await b()&&l(!1)},he=$.reduce((je,Le)=>je+Le.profit,0),be=B.filter(je=>je.isActive).length,me=H.filter(je=>{const Le=new Date(je.timestamp),Ye=new Date(Date.now()-60*60*1e3);return Le>Ye}).length,qe=[{id:"overview",label:"My Robots",icon:Rn},{id:"webhooks",label:"Webhooks",icon:cT},{id:"signals",label:"Signals",icon:bi},{id:"plugins",label:"Plugins",icon:Is},{id:"copyfx",label:"CopyFX",icon:gs},{id:"emptytab",label:"Strategys",icon:Is}],Ze=async je=>{a(!0),r(je),await new Promise(Le=>setTimeout(Le,800)),a(!1),window.scrollTo(0,0)};return n.jsxs("div",{className:"min-h-screen bg-[#1b1b1b]",children:[n.jsx(gg,{accountInfo:f,onBackToChoice:e,showBackButton:!0,currentMode:"algotrading",lastAccountInfoUpdate:x,lastPositionsUpdate:c||F,lastSignalsUpdate:u||z,availableSymbols:A,onManualRefresh:ie,onForceRefresh:K,isLoading:L,onSelectVPS:t}),n.jsx("div",{className:"bg-[#292929] border-b border-[#ffa31a]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsx("div",{className:"flex space-x-8",children:qe.map(je=>{const Le=je.icon;return n.jsxs("button",{onClick:()=>Ze(je.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${s===je.id?"border-[#ffa31a] text-[#ffa31a]":"border-transparent text-[#808080] hover:text-white hover:border-[#ffa31a]"}`,children:[n.jsx(Le,{className:"w-4 h-4"}),n.jsx("span",{children:je.label})]},je.id)})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-[#292929] border border-[#808080] rounded-lg px-3 py-2 shadow-sm",children:[n.jsx("div",{className:"bg-[#808080] p-1.5 rounded-lg",children:n.jsx(vs,{className:"w-4 h-4 text-[#ffa31a]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080] font-medium",children:"Total P&L"}),n.jsx("p",{className:`text-sm font-bold ${he>=0?"text-[#ffa31a]":"text-red-500"}`,children:f&&new Intl.NumberFormat("en-US",{style:"currency",currency:f.currency}).format(he)})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-[#292929] border border-[#808080] rounded-lg px-3 py-2 shadow-sm",children:[n.jsx("div",{className:"bg-[#ffa31a] p-1.5 rounded-lg",children:n.jsx(ts,{className:"w-4 h-4 text-[#1b1b1b]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080] font-medium",children:"Active Robots"}),n.jsx("p",{className:"text-sm font-bold text-white",children:be})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-[#292929] border border-[#808080] rounded-lg px-3 py-2 shadow-sm",children:[n.jsx("div",{className:"bg-[#ffa31a] p-1.5 rounded-lg",children:n.jsx(Ks,{className:"w-4 h-4 text-[#1b1b1b]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080] font-medium",children:"Recent Signals"}),n.jsx("p",{className:"text-sm font-bold text-white",children:me})]})]})]})]})})}),n.jsxs("main",{className:s==="emptytab"?"w-full px-0 py-0":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-red-800 font-medium",children:"⚠️ Automatic Trading Not Available"}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Your MT5 token is not stored in the database. This means TradingView webhooks will create signals but won't execute trades automatically."}),n.jsxs("div",{className:"mt-3 flex space-x-3",children:[n.jsx("button",{onClick:M,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Fix MT5 Token"}),n.jsx("button",{onClick:()=>l(!1),className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:"Dismiss"})]})]})]})}),s==="overview"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Open Positions"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-[#ffa31a] rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-[#808080]",children:"Live"})]})]}),n.jsx("div",{className:"rounded-2xl border-2 border-[#808080] bg-[rgb(27 27 27)] p-4",children:n.jsx(IO,{positions:$})})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center justify-between mb-4"}),n.jsx("div",{className:"rounded-2xl border-2 border-[#808080] bg-[rgb(27 27 27)] p-4",children:n.jsx(J9,{})})]})]}),s==="webhooks"&&n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"mb-6 rounded-2xl border-2 border-[#808080] bg-[#292929] p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"TradingView Webhooks"}),n.jsx("p",{className:"text-[#808080] mb-4",children:"Configure your TradingView webhook integration for automated trading signals."}),n.jsx(K9,{})]})}),s==="signals"&&n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6 rounded-2xl border-2 border-[#808080] bg-[#292929] p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Trading Signals"}),n.jsx("p",{className:"text-[#808080] mb-4",children:"Monitor and analyze all trading signals received from TradingView and manual sources."})]}),n.jsx(LO,{})]}),s==="plugins"&&n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6 rounded-2xl border-2 border-[#808080] bg-[#292929] p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Trading Plugins"}),n.jsx("p",{className:"text-[#808080] mb-4",children:"Enhance your trading platform with powerful plugins and extensions."})]}),n.jsx(X9,{})]}),s==="manual_copy"&&n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6 rounded-2xl border-2 border-[#808080] bg-[#292929] p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Manual Copy Trading"}),n.jsx("p",{className:"text-[#808080] mb-4",children:"Manually start and stop copy trading sessions between your accounts."})]}),n.jsx(Kq,{})]}),s==="copyfx"&&n.jsx(nB,{userRobots:B}),s==="emptytab"&&n.jsx(FL,{})]}),n.jsx(oa,{isVisible:i||L,message:i?"Loading tab content...":L?"Loading trading data...":"Processing..."})]})};async function Xq(){try{const e=await fetch("https://mt5full2.mtapi.io/OpenedOrders");if(!e.ok)throw new Error("MT5 API error");return await e.json()}catch{return null}}const Qq=({selectedSymbol:e,onSymbolChange:t})=>{const[s,r]=k.useState("market"),[i,a]=k.useState("BUY"),[o,l]=k.useState(null),[c,d]=k.useState(null),[u,h]=k.useState([]),{availableSymbols:f,executeSignal:m}=ws(),{accountInfo:x,isAuthenticated:g}=pe(),{register:y,handleSubmit:p,watch:b,setValue:v,formState:{errors:w}}=_a({defaultValues:{symbol:e,action:"BUY",volume:.01,orderType:"market"}}),N=b();k.useEffect(()=>{v("symbol",e)},[e,v]),k.useEffect(()=>{const j=async()=>{try{if(!g){l(null);return}const _=await at.getQuote(e);l(_?{bid:_.bid,ask:_.ask,time:_.time}:null)}catch(_){console.error("Failed to fetch real-time quote:",_),l(null)}};j();const E=setInterval(j,1e3);return()=>clearInterval(E)},[e,g]),k.useEffect(()=>{if(x&&N.volume&&N.stopLoss&&o){const j=i==="BUY"?o.ask:o.bid,E=N.stopLoss;if(E&&E!==j){const _=$O(j,E,N.volume,e),C=_/x.balance*100;d({riskAmount:_,riskPercentage:C,positionSize:N.volume})}}},[N,o,i,e,x]),k.useEffect(()=>{let j=!1;async function E(){h([]);const _=await Xq();_&&Array.isArray(_)&&(j||h(_))}return E(),()=>{j=!0}},[]);const S=async j=>{try{const E={id:crypto.randomUUID(),symbol:j.symbol,action:j.action,volume:j.volume,price:j.orderType==="market"?void 0:j.price,stopLoss:j.stopLoss,takeProfit:j.takeProfit,timestamp:new Date().toISOString(),source:"manual",botStrategy:"Test"};await m(E)&&(R.success(`${j.action} order placed successfully for ${j.symbol}`),v("volume",.01),v("price",void 0),v("stopLoss",void 0),v("takeProfit",void 0),v("comment",""))}catch(E){console.error("Failed to place order:",E)}},T=()=>{if(!x||!N.stopLoss||!o)return;const j=i==="BUY"?o.ask:o.bid,E=N.stopLoss;if(E&&E!==j){const C=BO(x.balance,2,j,E,e);v("volume",C),R.success(`Optimal lot size calculated: ${C.toFixed(2)}`)}else R.error("Please set a stop loss price first")};return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Place Order"}),n.jsxs("form",{onSubmit:p(S),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Symbol"}),n.jsx("select",{...y("symbol",{required:"Symbol is required"}),onChange:j=>t(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(j=>n.jsx("option",{value:j,children:j},j))})]}),o&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"BID"}),n.jsx("p",{className:"text-lg font-bold text-red-600",children:yh(o.bid,e)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"ASK"}),n.jsx("p",{className:"text-lg font-bold text-green-600",children:yh(o.ask,e)})]})]}),n.jsxs("div",{className:"text-center mt-2",children:[n.jsxs("p",{className:"text-xs text-gray-500",children:["Spread: ",UO(o.bid,o.ask,e).toFixed(1)," pips"]}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last updated: ",new Date(o.time).toLocaleTimeString()]})]})]}),!o&&g&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bs,{className:"w-4 h-4 text-yellow-600"}),n.jsxs("p",{className:"text-yellow-800 text-sm",children:["Unable to fetch real-time quotes for ",e,". Using market order execution."]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>a("BUY"),className:`flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-colors ${i==="BUY"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(we,{className:"w-4 h-4"}),n.jsx("span",{children:"BUY"})]}),n.jsxs("button",{type:"button",onClick:()=>a("SELL"),className:`flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-colors ${i==="SELL"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(Ei,{className:"w-4 h-4"}),n.jsx("span",{children:"SELL"})]})]}),n.jsx("input",{type:"hidden",...y("action"),value:i}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),n.jsxs("select",{value:s,onChange:j=>r(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"market",children:"Market Order"}),n.jsx("option",{value:"limit",children:"Limit Order"}),n.jsx("option",{value:"stop",children:"Stop Order"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volume (Lots)"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{...y("volume",{required:"Volume is required",min:{value:.01,message:"Minimum volume is 0.01"},max:{value:100,message:"Maximum volume is 100"},valueAsNumber:!0}),type:"number",step:"0.01",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Calculate optimal lot size (2% risk)",children:n.jsx(Q_,{className:"w-4 h-4"})})]}),w.volume&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.volume.message})]}),s!=="market"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),n.jsx("input",{...y("price",{required:{value:!0,message:"Price is required for limit/stop orders"},min:{value:1e-5,message:"Price must be greater than 0"},valueAsNumber:!0}),type:"number",step:"0.00001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),w.price&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.price.message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stop Loss"}),n.jsx("input",{...y("stopLoss",{valueAsNumber:!0}),type:"number",step:"0.00001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Take Profit"}),n.jsx("input",{...y("takeProfit",{valueAsNumber:!0}),type:"number",step:"0.00001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),n.jsx("input",{...y("comment"),type:"text",placeholder:"Order comment",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("button",{type:"submit",className:`w-full py-3 px-4 rounded-lg font-medium text-white transition-colors ${i==="BUY"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Place ",i," Order"]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[c&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Analysis"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Risk Amount:"}),n.jsx("span",{className:"font-semibold",children:x&&new Intl.NumberFormat("en-US",{style:"currency",currency:x.currency}).format(c.riskAmount)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Risk Percentage:"}),n.jsxs("span",{className:`font-semibold ${c.riskPercentage>5?"text-red-600":c.riskPercentage>2?"text-yellow-600":"text-green-600"}`,children:[c.riskPercentage.toFixed(2),"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Position Size:"}),n.jsxs("span",{className:"font-semibold",children:[c.positionSize," lots"]})]})]}),c.riskPercentage>5&&n.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(bs,{className:"w-4 h-4 text-red-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 text-sm font-medium",children:"High Risk Warning"}),n.jsx("p",{className:"text-red-700 text-sm",children:"This trade risks more than 5% of your account balance."})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>v("volume",.01),className:"w-full py-2 px-3 text-left text-sm bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Set minimum volume (0.01)"}),n.jsx("button",{onClick:()=>{if(o){const j=i==="BUY"?o.ask:o.bid;let E;e.includes("XAU")?E=2:e.includes("XAG")?E=.05:e.includes("JPY")?E=.5:e.includes("US30")||e.includes("NAS100")?E=20:e.includes("BTC")?E=100:e.includes("ETH")?E=10:e.includes("OIL")||e.includes("USOIL")?E=.5:E=.005,v("stopLoss",i==="BUY"?j-E:j+E)}},className:"w-full py-2 px-3 text-left text-sm bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Set 50 pip stop loss"}),n.jsx("button",{onClick:()=>{if(o){const j=i==="BUY"?o.ask:o.bid;let E;e.includes("XAU")?E=4:e.includes("XAG")?E=.1:e.includes("JPY")?E=1:e.includes("US30")||e.includes("NAS100")?E=40:e.includes("BTC")?E=200:e.includes("ETH")?E=20:e.includes("OIL")||e.includes("USOIL")?E=1:E=.01,v("takeProfit",i==="BUY"?j+E:j-E)}},className:"w-full py-2 px-3 text-left text-sm bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Set 100 pip take profit"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Trades"}),n.jsx("div",{className:"overflow-x-auto",children:u.length===0?n.jsx("div",{className:"text-gray-400 text-center py-4",children:"No active trades."}):n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Ticket/ID"}),n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Symbol"}),n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Action"}),n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Volume"}),n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Opened At"}),n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Current P/L"}),n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Comment"})]})}),n.jsx("tbody",{children:u.map((j,E)=>n.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition",children:[n.jsx("td",{className:"px-4 py-2",children:j.ticket||j.id||"-"}),n.jsx("td",{className:"px-4 py-2",children:j.symbol}),n.jsx("td",{className:"px-4 py-2",children:j.action||j.type||"-"}),n.jsx("td",{className:"px-4 py-2",children:j.volume||j.lots||"-"}),n.jsx("td",{className:"px-4 py-2",children:j.executed_at?new Date(j.executed_at).toLocaleString():j.open_time?new Date(j.open_time).toLocaleString():"-"}),n.jsx("td",{className:`px-4 py-2 font-bold ${parseFloat(j.profit_loss??j.profit)>=0?"text-green-600":"text-red-600"}`,children:j.profit_loss!==void 0?parseFloat(j.profit_loss).toFixed(2):j.profit!==void 0?parseFloat(j.profit).toFixed(2):"-"}),n.jsx("td",{className:"px-4 py-2",children:j.status||"-"}),n.jsx("td",{className:"px-4 py-2",children:j.comment||"-"})]},j.id||j.ticket||E))})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Market Info"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Symbol:"}),n.jsx("span",{className:"font-semibold",children:e})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Pip Value:"}),n.jsx("span",{className:"font-semibold",children:Sf(e)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Digits:"}),n.jsx("span",{className:"font-semibold",children:e.includes("JPY")?"3":e.includes("XAU")||e.includes("XAG")||e.includes("US30")||e.includes("NAS100")||e.includes("SPX500")?"2":e.includes("BTC")?"1":e.includes("ETH")||e.includes("OIL")||e.includes("USOIL")?"2":"5"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Min Volume:"}),n.jsx("span",{className:"font-semibold",children:"0.01"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Max Volume:"}),n.jsx("span",{className:"font-semibold",children:"100.00"})]}),o&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("p",{className:"text-blue-800 text-xs font-medium",children:"Real-time Data"}),n.jsx("p",{className:"text-blue-700 text-xs",children:"Live quotes from MT5 with accurate spread calculation using enhanced pip values."})]})]})]})]})]})},Zq=({onSymbolSelect:e,selectedSymbol:t})=>{const[s,r]=k.useState(""),[i,a]=k.useState(["EURUSD","GBPUSD","USDJPY"]),[o,l]=k.useState([]),[c,d]=k.useState("all"),{availableSymbols:u,executeSignal:h}=ws();k.useEffect(()=>{const p=w=>{const N=w==="EURUSD"?1.085:w==="GBPUSD"?1.265:w==="USDJPY"?150.25:w==="AUDUSD"?.675:w==="USDCAD"?1.345:w==="NZDUSD"?.615:w==="USDCHF"?.905:w==="XAUUSD"?2050.5:w==="BTCUSD"?45e3:w==="US30"?35e3:1,S=w.includes("USD")?2e-4:w.includes("XAU")?.5:w.includes("BTC")?10:2e-4,T=(Math.random()-.5)*.002,j=(Math.random()-.5)*.01;return{symbol:w,bid:N+T,ask:N+T+S,change:j,changePercent:j/N*100,high:N+Math.abs(T)+.005,low:N-Math.abs(T)-.005,volume:Math.floor(Math.random()*1e6)}},b=()=>{const w=u.slice(0,50).map(p);l(w)};b();const v=setInterval(b,2e3);return()=>clearInterval(v)},[u]);const f=p=>{a(b=>b.includes(p)?b.filter(v=>v!==p):[...b,p])},m=p=>p.match(/^[A-Z]{6}$/)?"forex":p.includes("BTC")||p.includes("ETH")||p.includes("LTC")?"crypto":p.includes("US30")||p.includes("NAS100")||p.includes("SPX500")?"indices":"other",x=o.filter(p=>{const b=p.symbol.toLowerCase().includes(s.toLowerCase()),v=c==="all"||c==="favorites"&&i.includes(p.symbol)||m(p.symbol)===c;return b&&v}),g=(p,b)=>b.includes("JPY")?p.toFixed(3):b.includes("XAU")||b.includes("BTC")?p.toFixed(2):p.toFixed(5),y=async(p,b,v)=>{try{const w={id:dT(),symbol:p,action:b,volume:.01,price:b==="BUY"?v.ask:v.bid,timestamp:new Date().toISOString(),source:"manual",botStrategy:"Test"};console.log(`🚀 Quick ${b} trade for ${p} at ${w.price}`),await h(w)&&(R.success(`${b} order placed for ${p} at ${g(w.price,p)}`),e(p))}catch(w){console.error("Quick trade failed:",w),R.error(`Failed to place ${b} order for ${p}`)}};return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Market Watch"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Live Prices"})]})]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(en,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search symbols...",value:s,onChange:p=>r(p.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsx("div",{className:"flex space-x-2",children:[{id:"all",label:"All"},{id:"favorites",label:"Favorites"},{id:"forex",label:"Forex"},{id:"crypto",label:"Crypto"},{id:"indices",label:"Indices"}].map(p=>n.jsx("button",{onClick:()=>d(p.id),className:`px-3 py-1 text-sm rounded-lg transition-colors ${c===p.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:p.label},p.id))})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bid"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ask"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"High/Low"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quick Trade"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(p=>n.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${t===p.symbol?"bg-blue-50":""}`,onClick:()=>e(p.symbol),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:b=>{b.stopPropagation(),f(p.symbol)},className:"text-gray-400 hover:text-yellow-500 transition-colors",children:i.includes(p.symbol)?n.jsx(Es,{className:"w-4 h-4 fill-current text-yellow-500"}):n.jsx(SL,{className:"w-4 h-4"})}),n.jsx("span",{className:"font-medium text-gray-900",children:p.symbol})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-red-600",children:g(p.bid,p.symbol)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-green-600",children:g(p.ask,p.symbol)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:`flex items-center space-x-1 ${p.change>=0?"text-green-600":"text-red-600"}`,children:[p.change>=0?n.jsx(we,{className:"w-3 h-3"}):n.jsx(Ei,{className:"w-3 h-3"}),n.jsxs("span",{className:"text-sm font-medium",children:[p.changePercent>=0?"+":"",p.changePercent.toFixed(2),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsxs("div",{children:["H: ",g(p.high,p.symbol)]}),n.jsxs("div",{children:["L: ",g(p.low,p.symbol)]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsxs("button",{onClick:b=>{b.stopPropagation(),y(p.symbol,"BUY",p)},className:"flex items-center space-x-1 px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",title:`Buy ${p.symbol} at ${g(p.ask,p.symbol)}`,children:[n.jsx(ph,{className:"w-3 h-3"}),n.jsx("span",{children:"BUY"})]}),n.jsxs("button",{onClick:b=>{b.stopPropagation(),y(p.symbol,"SELL",p)},className:"flex items-center space-x-1 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:`Sell ${p.symbol} at ${g(p.bid,p.symbol)}`,children:[n.jsx(ph,{className:"w-3 h-3"}),n.jsx("span",{children:"SELL"})]})]})})]},p.symbol))})]})}),x.length===0&&n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No symbols found matching your criteria"})})]})},eY=()=>{const[e,t]=k.useState([]),[s,r]=k.useState("all");k.useEffect(()=>{const m=[{id:"1",ticket:123456,symbol:"EURUSD",type:"Buy Limit",volume:.1,openPrice:1.08,currentPrice:1.085,stopLoss:1.075,takeProfit:1.09,status:"pending",timestamp:new Date(Date.now()-36e5).toISOString(),comment:"Support level entry"},{id:"2",ticket:123457,symbol:"GBPUSD",type:"Sell Stop",volume:.05,openPrice:1.26,currentPrice:1.265,stopLoss:1.27,takeProfit:1.25,status:"pending",timestamp:new Date(Date.now()-72e5).toISOString(),comment:"Breakout trade"},{id:"3",ticket:123458,symbol:"USDJPY",type:"Buy Limit",volume:.2,openPrice:149.5,currentPrice:150.25,status:"filled",timestamp:new Date(Date.now()-108e5).toISOString(),comment:"Filled at market open"}];t(m)},[]);const i=e.filter(m=>s==="all"||m.status===s),a=(m,x)=>x.includes("JPY")?m.toFixed(3):m.toFixed(5),o=m=>new Date(m).toLocaleString(),l=m=>{switch(m){case"pending":return n.jsx(Yr,{className:"w-4 h-4 text-yellow-500"});case"filled":return n.jsx(Te,{className:"w-4 h-4 text-green-500"});case"cancelled":return n.jsx(Wx,{className:"w-4 h-4 text-red-500"});case"expired":return n.jsx(Zr,{className:"w-4 h-4 text-gray-500"})}},c=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-800";case"filled":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800"}},d=m=>{t(x=>x.map(g=>g.id===m?{...g,status:"cancelled"}:g))},u=e.filter(m=>m.status==="pending").length,h=e.filter(m=>m.status==="filled").length,f=e.filter(m=>m.status==="cancelled").length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Yr,{className:"w-5 h-5 text-yellow-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:u})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Te,{className:"w-5 h-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Filled"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:h})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Wx,{className:"w-5 h-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cancelled"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:f})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.length})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Book"}),n.jsx("div",{className:"flex space-x-2",children:[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"filled",label:"Filled"},{id:"cancelled",label:"Cancelled"}].map(m=>n.jsx("button",{onClick:()=>r(m.id),className:`px-3 py-1 text-sm rounded-lg transition-colors ${s===m.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:m.label},m.id))})]})}),i.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Yr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No orders found"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volume"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SL/TP"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[l(m.status),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(m.status)}`,children:m.status})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.ticket}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"font-medium text-gray-900",children:m.symbol})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.type.includes("Buy")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.volume}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:a(m.openPrice,m.symbol)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:a(m.currentPrice,m.symbol)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"space-y-1",children:[m.stopLoss&&n.jsxs("div",{className:"text-red-600",children:["SL: ",a(m.stopLoss,m.symbol)]}),m.takeProfit&&n.jsxs("div",{className:"text-green-600",children:["TP: ",a(m.takeProfit,m.symbol)]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o(m.timestamp)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.status==="pending"&&n.jsx("button",{onClick:()=>d(m.id),className:"text-red-600 hover:text-red-900",children:"Cancel"})})]},m.id))})]})})]})]})},tY=({symbol:e})=>{var u,h,f,m,x,g;const[t,s]=k.useState("1H"),[r,i]=k.useState([]),[a,o]=k.useState(0);k.useEffect(()=>{const y=()=>{const b=[];let w=e==="EURUSD"?1.085:e==="GBPUSD"?1.265:e==="USDJPY"?150.25:1;const N=Date.now(),S=t==="1M"?6e4:t==="5M"?3e5:t==="15M"?9e5:t==="1H"?36e5:t==="4H"?144e5:864e5;for(let T=100;T>=0;T--){const j=N-T*S,E=w,_=(Math.random()-.5)*.01,C=E+Math.abs(_)+Math.random()*.005,P=E-Math.abs(_)-Math.random()*.005,I=E+_;b.push({time:j,open:E,high:C,low:P,close:I,volume:Math.floor(Math.random()*1e6)}),w=I}i(b),o(w)};y();const p=setInterval(y,5e3);return()=>clearInterval(p)},[e,t]);const l=["1M","5M","15M","1H","4H","1D"],c=y=>e.includes("JPY")?y.toFixed(3):y.toFixed(5),d=(y,p)=>p>=y?"text-green-600":"text-red-600";return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Rn,{className:"w-5 h-5 text-blue-600"}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e," Chart"]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(bi,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Live"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Current Price"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:c(a)})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:l.map(y=>n.jsx("button",{onClick:()=>s(y),className:`px-3 py-1 text-sm rounded-lg transition-colors ${t===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:y},y))})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"h-96 bg-gray-50 rounded-lg relative overflow-hidden",children:[n.jsx("div",{className:"flex items-end justify-between h-full p-4 space-x-1",children:r.slice(-50).map((y,p)=>{const b=Math.max(10,Math.abs(y.high-y.low)*1e4),v=Math.max(2,Math.abs(y.close-y.open)*1e4),w=y.close>=y.open;return n.jsxs("div",{className:"flex flex-col items-center justify-end",style:{height:`${b}px`},children:[n.jsx("div",{className:"w-0.5 bg-gray-400",style:{height:`${b}px`,marginBottom:`-${v}px`}}),n.jsx("div",{className:`w-2 ${w?"bg-green-500":"bg-red-500"}`,style:{height:`${v}px`}})]},p)})}),n.jsx("div",{className:"absolute right-2 top-4 space-y-2",children:r.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded shadow",children:["H: ",c(Math.max(...r.slice(-50).map(y=>y.high)))]}),n.jsxs("div",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded shadow",children:["L: ",c(Math.min(...r.slice(-50).map(y=>y.low)))]})]})})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:r.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Open"}),n.jsx("p",{className:"font-semibold",children:c(((u=r[r.length-1])==null?void 0:u.open)||0)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"High"}),n.jsx("p",{className:"font-semibold text-green-600",children:c(((h=r[r.length-1])==null?void 0:h.high)||0)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Low"}),n.jsx("p",{className:"font-semibold text-red-600",children:c(((f=r[r.length-1])==null?void 0:f.low)||0)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Close"}),n.jsx("p",{className:`font-semibold ${d(((m=r[r.length-1])==null?void 0:m.open)||0,((x=r[r.length-1])==null?void 0:x.close)||0)}`,children:c(((g=r[r.length-1])==null?void 0:g.close)||0)})]})]})})]})]})},sY=()=>{const{positions:e,closePosition:t,closeAllPositions:s,closeAllProfitablePositions:r,closeAllLosingPositions:i}=ws(),{accountInfo:a}=pe(),o=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:(a==null?void 0:a.currency)||"USD",minimumFractionDigits:2}).format(m),l=(m,x)=>x.includes("JPY")?m.toFixed(3):m.toFixed(5),c=async m=>{await t(m)},d=e.reduce((m,x)=>m+x.profit,0),u=e.reduce((m,x)=>m+x.volume,0),h=e.filter(m=>m.profit>0).length,f=e.filter(m=>m.profit<0).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${d>=0?"bg-[#ffa31a]/20":"bg-red-900/30"}`,children:n.jsx(vs,{className:`w-5 h-5 ${d>=0?"text-[#ffa31a]":"text-red-400"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#808080]",children:"Total P&L"}),n.jsx("p",{className:`text-xl font-bold ${d>=0?"text-[#ffa31a]":"text-red-400"}`,children:o(d)})]})]})}),n.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-lg",children:n.jsx(bi,{className:"w-5 h-5 text-[#ffa31a]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#808080]",children:"Open Positions"}),n.jsx("p",{className:"text-xl font-bold text-white",children:e.length})]})]})}),n.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-lg",children:n.jsx(we,{className:"w-5 h-5 text-[#ffa31a]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#808080]",children:"Profitable"}),n.jsx("p",{className:"text-xl font-bold text-[#ffa31a]",children:h})]})]})}),n.jsx("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-[#808080]/30 p-2 rounded-lg",children:n.jsx(Ei,{className:"w-5 h-5 text-[#808080]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#808080]",children:"Losing"}),n.jsx("p",{className:"text-xl font-bold text-[#808080]",children:f})]})]})})]}),n.jsxs("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080] p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("button",{onClick:r,disabled:h===0,className:"px-4 py-3 bg-[#ffa31a]/20 text-[#ffa31a] rounded-lg hover:bg-[#ffa31a]/40 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:["Close All Profitable (",h,")"]}),n.jsxs("button",{onClick:i,disabled:f===0,className:"px-4 py-3 bg-[#808080]/20 text-[#808080] rounded-lg hover:bg-[#808080]/40 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:["Close All Losing (",f,")"]}),n.jsxs("button",{onClick:s,disabled:e.length===0,className:"px-4 py-3 bg-[#292929]/60 text-white rounded-lg hover:bg-[#ffa31a]/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:["Close All Positions (",e.length,")"]})]})]}),n.jsxs("div",{className:"bg-[#292929] rounded-xl shadow-sm border border-[#808080]",children:[n.jsx("div",{className:"p-6 border-b border-[#808080]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Open Positions"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-[#ffa31a] rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-[#808080]",children:"Real-time"})]})]})}),e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(we,{className:"w-12 h-12 text-[#808080] mx-auto mb-4"}),n.jsx("p",{className:"text-[#808080]",children:"No open positions"}),n.jsx("p",{className:"text-sm text-[#808080]/70 mt-1",children:"Your open positions will appear here when you have active trades"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[#1b1b1b]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Ticket"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Symbol"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Volume"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Open Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Current Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Profit/Loss"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Swap"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#808080] uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-[#292929] divide-y divide-[#808080]/40",children:e.map(m=>n.jsxs("tr",{className:"hover:bg-[#1b1b1b] transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.ticket}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"font-medium text-gray-900",children:m.symbol})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.type==="Buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.volume}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:l(m.openPrice,m.symbol)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:l(m.currentPrice||m.openPrice,m.symbol)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-semibold ${m.profit>=0?"text-green-600":"text-red-600"}`,children:o(m.profit)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(m.swap)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{onClick:()=>c(m.ticket),className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:`Close position ${m.ticket}`,children:[n.jsx(Ht,{className:"w-4 h-4 mr-1"}),"Close"]})})]},m.ticket))})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Position Statistics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Volume"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[u.toFixed(2)," lots"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Average P&L per Position"}),n.jsx("p",{className:`text-2xl font-bold ${e.length>0&&d/e.length>=0?"text-green-600":"text-red-600"}`,children:e.length>0?o(d/e.length):o(0)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Win Rate"}),n.jsxs("p",{className:`text-2xl font-bold ${e.length>0&&h>f?"text-green-600":"text-red-600"}`,children:[e.length>0?(h/e.length*100).toFixed(1):"0.0","%"]})]})]})]})]})},rY=()=>{const{accountInfo:e}=pe(),{positions:t}=ws(),[s,r]=k.useState({maxRiskPerTrade:2,maxDailyLoss:5,maxDrawdown:10,maxPositions:10,maxLotSize:1,stopLossRequired:!0,takeProfitRequired:!1}),i=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:(e==null?void 0:e.currency)||"USD",minimumFractionDigits:2}).format(u),a={totalExposure:t.reduce((u,h)=>u+h.volume*1e5,0),totalProfit:t.reduce((u,h)=>u+h.profit,0),openPositions:t.length,maxLossPosition:Math.min(...t.map(u=>u.profit),0),maxProfitPosition:Math.max(...t.map(u=>u.profit),0)},o=e?Math.abs(a.totalProfit)/e.balance*100:0,l=e?a.totalExposure/e.balance*100:0,d=(u=>u<2?{level:"Low",color:"text-green-600",bg:"bg-green-100"}:u<5?{level:"Medium",color:"text-yellow-600",bg:"bg-yellow-100"}:{level:"High",color:"text-red-600",bg:"bg-red-100"})(o);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${d.bg}`,children:n.jsx(It,{className:`w-5 h-5 ${d.color}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Risk Level"}),n.jsx("p",{className:`text-lg font-bold ${d.color}`,children:d.level})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(mh,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Current Risk"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[o.toFixed(2),"%"]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:n.jsx(we,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Exposure"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[l.toFixed(1),"%"]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${a.totalProfit>=0?"bg-green-100":"bg-red-100"}`,children:n.jsx(vs,{className:`w-5 h-5 ${a.totalProfit>=0?"text-green-600":"text-red-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total P&L"}),n.jsx("p",{className:`text-lg font-bold ${a.totalProfit>=0?"text-green-600":"text-red-600"}`,children:i(a.totalProfit)})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Risk Management Settings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Risk Per Trade (%)"}),n.jsx("input",{type:"number",value:s.maxRiskPerTrade,onChange:u=>r(h=>({...h,maxRiskPerTrade:parseFloat(u.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.1",max:"10",step:"0.1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Daily Loss (%)"}),n.jsx("input",{type:"number",value:s.maxDailyLoss,onChange:u=>r(h=>({...h,maxDailyLoss:parseFloat(u.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"20",step:"0.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Drawdown (%)"}),n.jsx("input",{type:"number",value:s.maxDrawdown,onChange:u=>r(h=>({...h,maxDrawdown:parseFloat(u.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"5",max:"50",step:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Open Positions"}),n.jsx("input",{type:"number",value:s.maxPositions,onChange:u=>r(h=>({...h,maxPositions:parseInt(u.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Lot Size"}),n.jsx("input",{type:"number",value:s.maxLotSize,onChange:u=>r(h=>({...h,maxLotSize:parseFloat(u.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.01",max:"100",step:"0.01"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"stopLossRequired",checked:s.stopLossRequired,onChange:u=>r(h=>({...h,stopLossRequired:u.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"stopLossRequired",className:"ml-2 text-sm text-gray-700",children:"Require Stop Loss on all trades"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"takeProfitRequired",checked:s.takeProfitRequired,onChange:u=>r(h=>({...h,takeProfitRequired:u.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"takeProfitRequired",className:"ml-2 text-sm text-gray-700",children:"Require Take Profit on all trades"})]})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Risk Settings"})})]}),n.jsxs("div",{className:"space-y-4",children:[o>s.maxRiskPerTrade&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bs,{className:"w-5 h-5 text-red-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"High Risk Warning"}),n.jsxs("p",{className:"text-red-700 text-sm",children:["Current risk (",o.toFixed(2),"%) exceeds your maximum risk per trade setting (",s.maxRiskPerTrade,"%)."]})]})]})}),a.openPositions>s.maxPositions&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bs,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-800 font-medium",children:"Position Limit Exceeded"}),n.jsxs("p",{className:"text-yellow-700 text-sm",children:["You have ",a.openPositions," open positions, which exceeds your limit of ",s.maxPositions,"."]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Position Analysis"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Risk Distribution"}),n.jsx("div",{className:"space-y-2",children:t.map(u=>{const h=e?Math.abs(u.profit)/e.balance*100:0;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:u.symbol}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${h<1?"bg-green-500":h<2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(h*10,100)}%`}})}),n.jsxs("span",{className:"text-sm font-medium",children:[h.toFixed(1),"%"]})]})]},u.ticket)})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Risk Recommendations"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),n.jsxs("p",{className:"text-gray-700",children:["Consider reducing position sizes to stay within ",s.maxRiskPerTrade,"% risk per trade"]})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),n.jsx("p",{className:"text-gray-700",children:"Diversify across different currency pairs to reduce correlation risk"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),n.jsx("p",{className:"text-gray-700",children:"Set stop losses on all positions to limit potential losses"})]})]})]})]})]})]})},Q1=()=>{var f;const{positions:e}=ws(),[t,s]=k.useState("trading"),[r,i]=k.useState("EURUSD"),[a,o]=k.useState(!1),[l,c]=k.useState(new Set(["trading"])),d={balance:1e4,equity:10500,freeMargin:9500,currency:"USD"};k.useEffect(()=>{window.scrollTo(0,0)},[]),k.useEffect(()=>{window.scrollTo(0,0)},[t]);const u=[{id:"trading",label:"Trading Panel",icon:we},{id:"market",label:"Market Watch",icon:bi},{id:"chart",label:"Chart",icon:Rn},{id:"positions",label:"Positions",icon:J0},{id:"orders",label:"Order Book",icon:Ta},{id:"risk",label:"Risk Manager",icon:It}],h=async m=>{l.has(m)||(o(!0),await new Promise(x=>setTimeout(x,1e3)),c(x=>new Set([...x,m])),o(!1)),s(m),window.scrollTo(0,0)};return n.jsxs("div",{className:"min-h-screen bg-[#1b1b1b]",children:[a&&n.jsx(oa,{message:`Loading ${((f=u.find(m=>m.id===t))==null?void 0:f.label)||"content"}...`}),n.jsx("div",{className:"bg-[#292929] border-b border-[#ffa31a]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-[#ffa31a] p-2 rounded-lg",children:n.jsx(bi,{className:"w-5 h-5 text-[#1b1b1b]"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:"Live Trading"}),n.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Real-time trading terminal"})]})]}),n.jsx("div",{className:"flex items-center space-x-6",children:n.jsxs("div",{className:"hidden lg:flex items-center space-x-6 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[#808080]",children:"Balance"}),n.jsx("p",{className:"font-semibold text-white",children:new Intl.NumberFormat("en-US",{style:"currency",currency:d.currency}).format(d.balance)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[#808080]",children:"Equity"}),n.jsx("p",{className:"font-semibold text-white",children:new Intl.NumberFormat("en-US",{style:"currency",currency:d.currency}).format(d.equity)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[#808080]",children:"Free Margin"}),n.jsx("p",{className:"font-semibold text-white",children:new Intl.NumberFormat("en-US",{style:"currency",currency:d.currency}).format(d.freeMargin)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[#808080]",children:"Open Positions"}),n.jsx("p",{className:"font-semibold text-white",children:e.length})]})]})})]}),n.jsx("div",{className:"flex space-x-8 border-t border-[#808080]",children:u.map(m=>{const x=m.icon;return n.jsxs("button",{onClick:()=>h(m.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===m.id?"border-[#ffa31a] text-[#ffa31a]":"border-transparent text-[#808080] hover:text-white hover:border-[#ffa31a]"}`,children:[n.jsx(x,{className:"w-4 h-4"}),n.jsx("span",{children:m.label})]},m.id)})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="trading"&&n.jsx(Qq,{selectedSymbol:r,onSymbolChange:i}),t==="market"&&n.jsx(Zq,{onSymbolSelect:i,selectedSymbol:r}),t==="chart"&&n.jsx(tY,{symbol:r}),t==="positions"&&n.jsx(sY,{}),t==="orders"&&n.jsx(eY,{}),t==="risk"&&n.jsx(rY,{})]})]})},y4=k.createContext({});function nY(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const My=k.createContext(null),b4=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function iY(e=!0){const t=k.useContext(My);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=t,a=k.useId();k.useEffect(()=>{e&&i(a)},[e]);const o=k.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const Dy=typeof window<"u",aY=Dy?k.useLayoutEffect:k.useEffect,Qs=e=>e;let v4=Qs;function Iy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mo=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},kn=e=>e*1e3,Sn=e=>e/1e3,oY={useManualTiming:!1};function lY(e){let t=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const m=h&&r?t:s;return u&&a.add(d),m.has(d)||m.add(d),d},cancel:d=>{s.delete(d),a.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[t,s]=[s,t],t.forEach(l),t.clear(),r=!1,i&&(i=!1,c.process(d))}};return c}const Zd=["read","resolveKeyframes","update","preRender","render","postRender"],cY=40;function w4(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Zd.reduce((p,b)=>(p[b]=lY(a),p),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:f}=o,m=()=>{const p=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,cY),1),i.timestamp=p,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),f.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(m))},x=()=>{s=!0,r=!0,i.isProcessing||e(m)};return{schedule:Zd.reduce((p,b)=>{const v=o[b];return p[b]=(w,N=!1,S=!1)=>(s||x(),v.schedule(w,N,S)),p},{}),cancel:p=>{for(let b=0;b<Zd.length;b++)o[Zd[b]].cancel(p)},state:i,steps:o}}const{schedule:Qe,cancel:wi,state:$t,steps:hp}=w4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qs,!0),j4=k.createContext({strict:!1}),Z1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const e in Z1)Do[e]={isEnabled:t=>Z1[e].some(s=>!!t[s])};function dY(e){for(const t in e)Do[t]={...Do[t],...e[t]}}const uY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uY.has(e)}let N4=e=>!Mh(e);function hY(e){e&&(N4=t=>t.startsWith("on")?!Mh(t):e(t))}try{hY(require("@emotion/is-prop-valid").default)}catch{}function fY(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(N4(i)||s===!0&&Mh(i)||!t&&!Mh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function mY(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const $f=k.createContext({});function $c(e){return typeof e=="string"||Array.isArray(e)}function Bf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oy=["initial",...Ly];function zf(e){return Bf(e.animate)||Oy.some(t=>$c(e[t]))}function k4(e){return!!(zf(e)||e.variants)}function pY(e,t){if(zf(e)){const{initial:s,animate:r}=e;return{initial:s===!1||$c(s)?s:void 0,animate:$c(r)?r:void 0}}return e.inherit!==!1?t:{}}function xY(e){const{initial:t,animate:s}=pY(e,k.useContext($f));return k.useMemo(()=>({initial:t,animate:s}),[eN(t),eN(s)])}function eN(e){return Array.isArray(e)?e.join(" "):e}const gY=Symbol.for("motionComponentSymbol");function to(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yY(e,t,s){return k.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):to(s)&&(s.current=r))},[t])}const Fy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bY="framerAppearId",S4="data-"+Fy(bY),{schedule:Uy}=w4(queueMicrotask,!1),_4=k.createContext({});function vY(e,t,s,r,i){var a,o;const{visualElement:l}=k.useContext($f),c=k.useContext(j4),d=k.useContext(My),u=k.useContext(b4).reducedMotion,h=k.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,m=k.useContext(_4);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&wY(h.current,s,i,m);const x=k.useRef(!1);k.useInsertionEffect(()=>{f&&x.current&&f.update(s,d)});const g=s[S4],y=k.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return aY(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Uy.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,g)}),y.current=!1))}),f}function wY(e,t,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:T4(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&to(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function T4(e){if(e)return e.options.allowProjection!==!1?e.projection:T4(e.parent)}function jY({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:i}){var a,o;e&&dY(e);function l(d,u){let h;const f={...k.useContext(b4),...d,layoutId:NY(d)},{isStatic:m}=f,x=xY(d),g=r(d,m);if(!m&&Dy){kY();const y=SY(f);h=y.MeasureLayout,x.visualElement=vY(i,g,f,t,y.ProjectionNode)}return n.jsxs($f.Provider,{value:x,children:[h&&x.visualElement?n.jsx(h,{visualElement:x.visualElement,...f}):null,s(i,d,yY(g,x.visualElement,u),g,m,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=k.forwardRef(l);return c[gY]=i,c}function NY({layoutId:e}){const t=k.useContext(y4).id;return t&&e!==void 0?t+"-"+e:e}function kY(e,t){k.useContext(j4).strict}function SY(e){const{drag:t,layout:s}=Do;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const _Y=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $y(e){return typeof e!="string"||e.includes("-")?!1:!!(_Y.indexOf(e)>-1||/[A-Z]/u.test(e))}function tN(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function By(e,t,s,r){if(typeof t=="function"){const[i,a]=tN(r);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=tN(r);t=t(s!==void 0?s:e.custom,i,a)}return t}const yg=e=>Array.isArray(e),TY=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),CY=e=>yg(e)?e[e.length-1]||0:e,as=e=>!!(e&&e.getVelocity);function Eu(e){const t=as(e)?e.get():e;return TY(t)?t.toValue():t}function PY({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},r,i,a){const o={latestValues:EY(r,i,a,e),renderState:t()};return s&&(o.onMount=l=>s({props:r,current:l,...o}),o.onUpdate=l=>s(l)),o}const C4=e=>(t,s)=>{const r=k.useContext($f),i=k.useContext(My),a=()=>PY(e,t,r,i);return s?a():nY(a)};function EY(e,t,s,r){const i={},a=r(e,{});for(const f in a)i[f]=Eu(a[f]);let{initial:o,animate:l}=e;const c=zf(e),d=k4(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Bf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=By(e,f[m]);if(x){const{transitionEnd:g,transition:y,...p}=x;for(const b in p){let v=p[b];if(Array.isArray(v)){const w=u?v.length-1:0;v=v[w]}v!==null&&(i[b]=v)}for(const b in g)i[b]=g[b]}}}return i}const Jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ea=new Set(Jo),P4=e=>t=>typeof t=="string"&&t.startsWith(e),E4=P4("--"),AY=P4("var(--"),zy=e=>AY(e)?RY.test(e.split("/*")[0].trim()):!1,RY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,A4=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Dn=(e,t,s)=>s>t?t:s<e?e:s,Ko={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bc={...Ko,transform:e=>Dn(0,1,e)},eu={...Ko,default:1},ad=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zn=ad("deg"),Xr=ad("%"),fe=ad("px"),MY=ad("vh"),DY=ad("vw"),sN={...Xr,parse:e=>Xr.parse(e)/100,transform:e=>Xr.transform(e*100)},IY={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe},LY={rotate:zn,rotateX:zn,rotateY:zn,rotateZ:zn,scale:eu,scaleX:eu,scaleY:eu,scaleZ:eu,skew:zn,skewX:zn,skewY:zn,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Bc,originX:sN,originY:sN,originZ:fe},rN={...Ko,transform:Math.round},Vy={...IY,...LY,zIndex:rN,size:fe,fillOpacity:Bc,strokeOpacity:Bc,numOctaves:rN},OY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FY=Jo.length;function UY(e,t,s){let r="",i=!0;for(let a=0;a<FY;a++){const o=Jo[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=A4(l,Vy[o]);if(!c){i=!1;const u=OY[o]||o;r+=`${u}(${d}) `}s&&(t[o]=d)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}function Hy(e,t,s){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Ea.has(c)){o=!0;continue}else if(E4(c)){i[c]=d;continue}else{const u=A4(d,Vy[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(t.transform||(o||s?r.transform=UY(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}const $Y={offset:"stroke-dashoffset",array:"stroke-dasharray"},BY={offset:"strokeDashoffset",array:"strokeDasharray"};function zY(e,t,s=1,r=0,i=!0){e.pathLength=1;const a=i?$Y:BY;e[a.offset]=fe.transform(-r);const o=fe.transform(t),l=fe.transform(s);e[a.array]=`${o} ${l}`}function nN(e,t,s){return typeof e=="string"?e:fe.transform(t+s*e)}function VY(e,t,s){const r=nN(t,e.x,e.width),i=nN(s,e.y,e.height);return`${r} ${i}`}function Wy(e,{attrX:t,attrY:s,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(Hy(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:x}=e;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=VY(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),r!==void 0&&(f.scale=r),o!==void 0&&zY(f,o,l,c,!1)}const qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),R4=()=>({...qy(),attrs:{}}),Yy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function M4(e,{style:t,vars:s},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in s)e.style.setProperty(a,s[a])}const D4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I4(e,t,s,r){M4(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(D4.has(i)?i:Fy(i),t.attrs[i])}const Dh={};function HY(e){Object.assign(Dh,e)}function L4(e,{layout:t,layoutId:s}){return Ea.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Dh[e]||e==="opacity")}function Gy(e,t,s){var r;const{style:i}=e,a={};for(const o in i)(as(i[o])||t.style&&as(t.style[o])||L4(o,e)||((r=s==null?void 0:s.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function O4(e,t,s){const r=Gy(e,t,s);for(const i in e)if(as(e[i])||as(t[i])){const a=Jo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}function WY(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const iN=["x","y","width","height","cx","cy","r"],qY={useVisualState:C4({scrapeMotionValuesFromProps:O4,createRenderState:R4,onUpdate:({props:e,prevProps:t,current:s,renderState:r,latestValues:i})=>{if(!s)return;let a=!!e.drag;if(!a){for(const l in i)if(Ea.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<iN.length;l++){const c=iN[l];e[c]!==t[c]&&(o=!0)}o&&Qe.read(()=>{WY(s,r),Qe.render(()=>{Wy(r,i,Yy(s.tagName),e.transformTemplate),I4(s,r)})})}})},YY={useVisualState:C4({scrapeMotionValuesFromProps:Gy,createRenderState:qy})};function F4(e,t,s){for(const r in t)!as(t[r])&&!L4(r,s)&&(e[r]=t[r])}function GY({transformTemplate:e},t){return k.useMemo(()=>{const s=qy();return Hy(s,t,e),Object.assign({},s.vars,s.style)},[t])}function JY(e,t){const s=e.style||{},r={};return F4(r,s,e),Object.assign(r,GY(e,t)),r}function KY(e,t){const s={},r=JY(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}function XY(e,t,s,r){const i=k.useMemo(()=>{const a=R4();return Wy(a,t,Yy(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};F4(a,e.style,e),i.style={...a,...i.style}}return i}function QY(e=!1){return(s,r,i,{latestValues:a},o)=>{const c=($y(s)?XY:KY)(r,a,o,s),d=fY(r,typeof s=="string",e),u=s!==k.Fragment?{...d,...c,ref:i}:{},{children:h}=r,f=k.useMemo(()=>as(h)?h.get():h,[h]);return k.createElement(s,{...u,children:f})}}function ZY(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...$y(r)?qY:YY,preloadedFeatures:e,useRender:QY(i),createVisualElement:t,Component:r};return jY(o)}}function U4(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function Vf(e,t,s){const r=e.getProps();return By(r,t,s!==void 0?s:r.custom,e)}const eG=Iy(()=>window.ScrollTimeline!==void 0);class tG{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=s}attachTimeline(t,s){const r=this.animations.map(i=>{if(eG()&&i.attachTimeline)return i.attachTimeline(t);if(typeof s=="function")return s(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sG extends tG{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Jy(e,t){return e?e[t]||e.default||e:void 0}const bg=2e4;function $4(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<bg;)t+=s,r=e.next(t);return t>=bg?1/0:t}function Ky(e){return typeof e=="function"}function aN(e,t){e.timeline=t,e.onfinish=null}const Xy=e=>Array.isArray(e)&&typeof e[0]=="number",rG={linearEasing:void 0};function nG(e,t){const s=Iy(e);return()=>{var r;return(r=rG[t])!==null&&r!==void 0?r:s()}}const Ih=nG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),B4=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)r+=e(Mo(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function z4(e){return!!(typeof e=="function"&&Ih()||!e||typeof e=="string"&&(e in vg||Ih())||Xy(e)||Array.isArray(e)&&e.every(z4))}const El=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,vg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:El([0,.65,.55,1]),circOut:El([.55,0,1,.45]),backIn:El([.31,.01,.66,-.59]),backOut:El([.33,1.53,.69,.99])};function V4(e,t){if(e)return typeof e=="function"&&Ih()?B4(e,t):Xy(e)?El(e):Array.isArray(e)?e.map(s=>V4(s,t)||vg.easeOut):vg[e]}const jr={x:!1,y:!1};function H4(){return jr.x||jr.y}function iG(e,t,s){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function W4(e,t){const s=iG(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[s,i,()=>r.abort()]}function oN(e){return t=>{t.pointerType==="touch"||H4()||e(t)}}function aG(e,t,s={}){const[r,i,a]=W4(e,s),o=oN(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=oN(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const q4=(e,t)=>t?e===t?!0:q4(e,t.parentElement):!1,Qy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lG(e){return oG.has(e.tagName)||e.tabIndex!==-1}const Al=new WeakSet;function lN(e){return t=>{t.key==="Enter"&&e(t)}}function fp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cG=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=lN(()=>{if(Al.has(s))return;fp(s,"down");const i=lN(()=>{fp(s,"up")}),a=()=>fp(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function cN(e){return Qy(e)&&!H4()}function dG(e,t,s={}){const[r,i,a]=W4(e,s),o=l=>{const c=l.currentTarget;if(!cN(l)||Al.has(c))return;Al.add(c);const d=t(l),u=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!cN(m)||!Al.has(c))&&(Al.delete(c),typeof d=="function"&&d(m,{success:x}))},h=m=>{u(m,s.useGlobalTarget||q4(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(l=>{!lG(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>cG(d,i),i)}),a}function uG(e){return e==="x"||e==="y"?jr[e]?null:(jr[e]=!0,()=>{jr[e]=!1}):jr.x||jr.y?null:(jr.x=jr.y=!0,()=>{jr.x=jr.y=!1})}const Y4=new Set(["width","height","top","left","right","bottom",...Jo]);let Au;function hG(){Au=void 0}const Qr={now:()=>(Au===void 0&&Qr.set($t.isProcessing||oY.useManualTiming?$t.timestamp:performance.now()),Au),set:e=>{Au=e,queueMicrotask(hG)}};function Zy(e,t){e.indexOf(t)===-1&&e.push(t)}function eb(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class tb{constructor(){this.subscriptions=[]}add(t){return Zy(this.subscriptions,t),()=>eb(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function G4(e,t){return t?e*(1e3/t):0}const dN=30,fG=e=>!isNaN(parseFloat(e));class mG{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Qr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Qr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fG(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new tb);const r=this.events[t].add(s);return t==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dN)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,dN);return G4(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zc(e,t){return new mG(e,t)}function pG(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,zc(s))}function xG(e,t){const s=Vf(e,t);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=CY(a[o]);pG(e,o,l)}}function gG(e){return!!(as(e)&&e.add)}function wg(e,t){const s=e.getValue("willChange");if(gG(s))return s.add(t)}function J4(e){return e.props[S4]}const K4=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,yG=1e-7,bG=12;function vG(e,t,s,r,i){let a,o,l=0;do o=t+(s-t)/2,a=K4(o,r,i)-e,a>0?s=o:t=o;while(Math.abs(a)>yG&&++l<bG);return o}function od(e,t,s,r){if(e===t&&s===r)return Qs;const i=a=>vG(a,0,1,e,s);return a=>a===0||a===1?a:K4(i(a),t,r)}const X4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Q4=e=>t=>1-e(1-t),Z4=od(.33,1.53,.69,.99),sb=Q4(Z4),eP=X4(sb),tP=e=>(e*=2)<1?.5*sb(e):.5*(2-Math.pow(2,-10*(e-1))),rb=e=>1-Math.sin(Math.acos(e)),sP=Q4(rb),rP=X4(rb),nP=e=>/^0[^.\s]+$/u.test(e);function wG(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nP(e):!0}const rc=e=>Math.round(e*1e5)/1e5,nb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jG(e){return e==null}const NG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ib=(e,t)=>s=>!!(typeof s=="string"&&NG.test(s)&&s.startsWith(e)||t&&!jG(s)&&Object.prototype.hasOwnProperty.call(s,t)),iP=(e,t,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(nb);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},kG=e=>Dn(0,255,e),mp={...Ko,transform:e=>Math.round(kG(e))},sa={test:ib("rgb","red"),parse:iP("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+mp.transform(e)+", "+mp.transform(t)+", "+mp.transform(s)+", "+rc(Bc.transform(r))+")"};function SG(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const jg={test:ib("#"),parse:SG,transform:sa.transform},so={test:ib("hsl","hue"),parse:iP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Xr.transform(rc(t))+", "+Xr.transform(rc(s))+", "+rc(Bc.transform(r))+")"},Xt={test:e=>sa.test(e)||jg.test(e)||so.test(e),parse:e=>sa.test(e)?sa.parse(e):so.test(e)?so.parse(e):jg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?sa.transform(e):so.transform(e)},_G=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TG(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(nb))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(_G))===null||s===void 0?void 0:s.length)||0)>0}const aP="number",oP="color",CG="var",PG="var(",uN="${}",EG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vc(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(EG,c=>(Xt.test(c)?(r.color.push(a),i.push(oP),s.push(Xt.parse(c))):c.startsWith(PG)?(r.var.push(a),i.push(CG),s.push(c)):(r.number.push(a),i.push(aP),s.push(parseFloat(c))),++a,uN)).split(uN);return{values:s,split:l,indexes:r,types:i}}function lP(e){return Vc(e).values}function cP(e){const{split:t,types:s}=Vc(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===aP?a+=rc(i[o]):l===oP?a+=Xt.transform(i[o]):a+=i[o]}return a}}const AG=e=>typeof e=="number"?0:e;function RG(e){const t=lP(e);return cP(e)(t.map(AG))}const ji={test:TG,parse:lP,createTransformer:cP,getAnimatableNone:RG},MG=new Set(["brightness","contrast","saturate","opacity"]);function DG(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(nb)||[];if(!r)return e;const i=s.replace(r,"");let a=MG.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+i+")"}const IG=/\b([a-z-]*)\(.*?\)/gu,Ng={...ji,getAnimatableNone:e=>{const t=e.match(IG);return t?t.map(DG).join(" "):e}},LG={...Vy,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:Ng,WebkitFilter:Ng},ab=e=>LG[e];function dP(e,t){let s=ab(e);return s!==Ng&&(s=ji),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const OG=new Set(["auto","none","0"]);function FG(e,t,s){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!OG.has(a)&&Vc(a).values.length&&(i=e[r]),r++}if(i&&s)for(const a of t)e[a]=dP(s,i)}const hN=e=>e===Ko||e===fe,fN=(e,t)=>parseFloat(e.split(", ")[t]),mN=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return fN(i[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?fN(a[1],e):0}},UG=new Set(["x","y","z"]),$G=Jo.filter(e=>!UG.has(e));function BG(e){const t=[];return $G.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Io={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mN(4,13),y:mN(5,14)};Io.translateX=Io.x;Io.translateY=Io.y;const da=new Set;let kg=!1,Sg=!1;function uP(){if(Sg){const e=Array.from(da).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const i=BG(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sg=!1,kg=!1,da.forEach(e=>e.complete()),da.clear()}function hP(){da.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sg=!0)})}function zG(){hP(),uP()}class ob{constructor(t,s,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(da.add(this),kg||(kg=!0,Qe.read(hP),Qe.resolveKeyframes(uP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&s){const c=r.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),da.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,da.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),VG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HG(e){const t=VG.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}function mP(e,t,s=1){const[r,i]=HG(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return fP(o)?parseFloat(o):o}return zy(i)?mP(i,t,s+1):i}const pP=e=>t=>t.test(e),WG={test:e=>e==="auto",parse:e=>e},xP=[Ko,fe,Xr,zn,DY,MY,WG],pN=e=>xP.find(pP(e));class gP extends ob{constructor(t,s,r,i,a){super(t,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),zy(d))){const u=mP(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Y4.has(r)||t.length!==2)return;const[i,a]=t,o=pN(i),l=pN(a);if(o!==l)if(hN(o)&&hN(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let i=0;i<t.length;i++)wG(t[i])&&r.push(i);r.length&&FG(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Io[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Io[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const xN=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ji.test(e)||e==="0")&&!e.startsWith("url("));function qG(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function YG(e,t,s,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=xN(i,t),l=xN(a,t);return!o||!l?!1:qG(e)||(s==="spring"||Ky(s))&&r}const GG=e=>e!==null;function Hf(e,{repeat:t,repeatType:s="loop"},r){const i=e.filter(GG),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const JG=40;class yP{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qr.now(),this.options={autoplay:t,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>JG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zG(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Qr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!YG(t,r,i,a))if(o)this.options.duration=0;else{c&&c(Hf(t,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,s);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ot=(e,t,s)=>e+(t-e)*s;function pp(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function KG({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=pp(c,l,e+1/3),a=pp(c,l,e),o=pp(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Lh(e,t){return s=>s>0?t:e}const xp=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},XG=[jg,sa,so],QG=e=>XG.find(t=>t.test(e));function gN(e){const t=QG(e);if(!t)return!1;let s=t.parse(e);return t===so&&(s=KG(s)),s}const yN=(e,t)=>{const s=gN(e),r=gN(t);if(!s||!r)return Lh(e,t);const i={...s};return a=>(i.red=xp(s.red,r.red,a),i.green=xp(s.green,r.green,a),i.blue=xp(s.blue,r.blue,a),i.alpha=ot(s.alpha,r.alpha,a),sa.transform(i))},ZG=(e,t)=>s=>t(e(s)),ld=(...e)=>e.reduce(ZG),_g=new Set(["none","hidden"]);function eJ(e,t){return _g.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function tJ(e,t){return s=>ot(e,t,s)}function lb(e){return typeof e=="number"?tJ:typeof e=="string"?zy(e)?Lh:Xt.test(e)?yN:nJ:Array.isArray(e)?bP:typeof e=="object"?Xt.test(e)?yN:sJ:Lh}function bP(e,t){const s=[...e],r=s.length,i=e.map((a,o)=>lb(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function sJ(e,t){const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=lb(e[i])(e[i],t[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function rJ(e,t){var s;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(s=e.values[l])!==null&&s!==void 0?s:0;r[a]=c,i[o]++}return r}const nJ=(e,t)=>{const s=ji.createTransformer(t),r=Vc(e),i=Vc(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?_g.has(e)&&!i.values.length||_g.has(t)&&!r.values.length?eJ(e,t):ld(bP(rJ(r,i),i.values),s):Lh(e,t)};function vP(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?ot(e,t,s):lb(e)(e,t)}const iJ=5;function wP(e,t,s){const r=Math.max(t-iJ,0);return G4(s-e(r),t-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gp=.001;function aJ({duration:e=ut.duration,bounce:t=ut.bounce,velocity:s=ut.velocity,mass:r=ut.mass}){let i,a,o=1-t;o=Dn(ut.minDamping,ut.maxDamping,o),e=Dn(ut.minDuration,ut.maxDuration,Sn(e)),o<1?(i=d=>{const u=d*o,h=u*e,f=u-s,m=Tg(d,o),x=Math.exp(-h);return gp-f/m*x},a=d=>{const h=d*o*e,f=h*s+s,m=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-h),g=Tg(Math.pow(d,2),o);return(-i(d)+gp>0?-1:1)*((f-m)*x)/g}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-gp+u*h},a=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=lJ(i,a,l);if(e=kn(e),isNaN(c))return{stiffness:ut.stiffness,damping:ut.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const oJ=12;function lJ(e,t,s){let r=s;for(let i=1;i<oJ;i++)r=r-e(r)/t(r);return r}function Tg(e,t){return e*Math.sqrt(1-t*t)}const cJ=["duration","bounce"],dJ=["stiffness","damping","mass"];function bN(e,t){return t.some(s=>e[s]!==void 0)}function uJ(e){let t={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...e};if(!bN(e,dJ)&&bN(e,cJ))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*Dn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ut.mass,stiffness:i,damping:a}}else{const s=aJ(e);t={...t,...s,mass:ut.mass},t.isResolvedFromDuration=!0}return t}function jP(e=ut.visualDuration,t=ut.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=uJ({...s,velocity:-Sn(s.velocity||0)}),x=f||0,g=d/(2*Math.sqrt(c*u)),y=o-a,p=Sn(Math.sqrt(c/u)),b=Math.abs(y)<5;r||(r=b?ut.restSpeed.granular:ut.restSpeed.default),i||(i=b?ut.restDelta.granular:ut.restDelta.default);let v;if(g<1){const N=Tg(p,g);v=S=>{const T=Math.exp(-g*p*S);return o-T*((x+g*p*y)/N*Math.sin(N*S)+y*Math.cos(N*S))}}else if(g===1)v=N=>o-Math.exp(-p*N)*(y+(x+p*y)*N);else{const N=p*Math.sqrt(g*g-1);v=S=>{const T=Math.exp(-g*p*S),j=Math.min(N*S,300);return o-T*((x+g*p*y)*Math.sinh(j)+N*y*Math.cosh(j))/N}}const w={calculatedDuration:m&&h||null,next:N=>{const S=v(N);if(m)l.done=N>=h;else{let T=0;g<1&&(T=N===0?kn(x):wP(v,N,S));const j=Math.abs(T)<=r,E=Math.abs(o-S)<=i;l.done=j&&E}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min($4(w),bg),S=B4(T=>w.next(N*T).value,N,30);return N+"ms "+S}};return w}function vN({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},m=j=>l!==void 0&&j<l||c!==void 0&&j>c,x=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let g=s*t;const y=h+g,p=o===void 0?y:o(y);p!==y&&(g=p-h);const b=j=>-g*Math.exp(-j/r),v=j=>p+b(j),w=j=>{const E=b(j),_=v(j);f.done=Math.abs(E)<=d,f.value=f.done?p:_};let N,S;const T=j=>{m(f.value)&&(N=j,S=jP({keyframes:[f.value,x(f.value)],velocity:wP(v,j,f.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return T(0),{calculatedDuration:null,next:j=>{let E=!1;return!S&&N===void 0&&(E=!0,w(j),T(j)),N!==void 0&&j>=N?S.next(j-N):(!E&&w(j),f)}}}const hJ=od(.42,0,1,1),fJ=od(0,0,.58,1),NP=od(.42,0,.58,1),mJ=e=>Array.isArray(e)&&typeof e[0]!="number",pJ={linear:Qs,easeIn:hJ,easeInOut:NP,easeOut:fJ,circIn:rb,circInOut:rP,circOut:sP,backIn:sb,backInOut:eP,backOut:Z4,anticipate:tP},wN=e=>{if(Xy(e)){v4(e.length===4);const[t,s,r,i]=e;return od(t,s,r,i)}else if(typeof e=="string")return pJ[e];return e};function xJ(e,t,s){const r=[],i=s||vP,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Qs:t;l=ld(c,l)}r.push(l)}return r}function gJ(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(v4(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=xJ(t,r,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=Mo(e[h],e[h+1],u);return l[h](f)};return s?u=>d(Dn(e[0],e[a-1],u)):d}function yJ(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=Mo(0,t,r);e.push(ot(s,1,i))}}function bJ(e){const t=[0];return yJ(t,e.length-1),t}function vJ(e,t){return e.map(s=>s*t)}function wJ(e,t){return e.map(()=>t||NP).splice(0,e.length-1)}function Oh({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=mJ(r)?r.map(wN):wN(r),a={done:!1,value:t[0]},o=vJ(s&&s.length===t.length?s:bJ(t),e),l=gJ(o,t,{ease:Array.isArray(i)?i:wJ(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const jJ=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Qe.update(t,!0),stop:()=>wi(t),now:()=>$t.isProcessing?$t.timestamp:Qr.now()}},NJ={decay:vN,inertia:vN,tween:Oh,keyframes:Oh,spring:jP},kJ=e=>e/100;class cb extends yP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||ob,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=Ky(s)?s:NJ[s]||Oh;let c,d;l!==Oh&&typeof t[0]!="number"&&(c=ld(kJ,vP(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=$4(u));const{calculatedDuration:h}=u,f=h+i,m=f*(r+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?p<0:p>u;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,w=a;if(m){const j=Math.min(this.currentTime,u)/h;let E=Math.floor(j),_=j%1;!_&&j>=1&&(_=1),_===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(x==="reverse"?(_=1-_,g&&(_-=g/h)):x==="mirror"&&(w=o)),v=Dn(0,1,_)*h}const N=b?{done:!1,value:c[0]}:w.next(v);l&&(N.value=l(N.value));let{done:S}=N;!b&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return T&&i!==void 0&&(N.value=Hf(c,this.options,i)),y&&y(N.value),T&&this.finish(),N}get duration(){const{resolved:t}=this;return t?Sn(t.calculatedDuration):0}get time(){return Sn(this.currentTime)}set time(t){t=kn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Sn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=jJ,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const SJ=new Set(["opacity","clipPath","filter","transform"]);function _J(e,t,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=V4(l,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const TJ=Iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fh=10,CJ=2e4;function PJ(e){return Ky(e.type)||e.type==="spring"||!z4(e.ease)}function EJ(e,t){const s=new cb({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<CJ;)r=s.sample(a),i.push(r.value),a+=Fh;return{times:void 0,keyframes:i,duration:a-Fh,ease:"linear"}}const kP={anticipate:tP,backInOut:eP,circInOut:rP};function AJ(e){return e in kP}class jN extends yP{constructor(t){super(t);const{name:s,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new gP(a,(o,l)=>this.onKeyframesResolved(o,l),s,r,i),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:r=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Ih()&&AJ(a)&&(a=kP[a]),PJ(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:x,...g}=this.options,y=EJ(t,g);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,i=y.times,a=y.ease,o="keyframes"}const u=_J(l.owner.current,c,t,{...this.options,duration:r,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(aN(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Hf(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return Sn(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return Sn(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=kn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Qs;const{animation:r}=s;aN(r,t)}return Qs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:r,duration:i,type:a,ease:o,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:f,...m}=this.options,x=new cb({...m,keyframes:r,duration:i,type:a,ease:o,times:l,isGenerator:!0}),g=kn(this.time);d.setWithVelocity(x.sample(g-Fh).value,x.sample(g).value,Fh)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:r,repeatDelay:i,repeatType:a,damping:o,type:l}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return TJ()&&r&&SJ.has(r)&&!c&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const RJ={type:"spring",stiffness:500,damping:25,restSpeed:10},MJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),DJ={type:"keyframes",duration:.8},IJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LJ=(e,{keyframes:t})=>t.length>2?DJ:Ea.has(e)?e.startsWith("scale")?MJ(t[1]):RJ:IJ;function OJ({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const db=(e,t,s,r={},i,a)=>o=>{const l=Jy(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-kn(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};OJ(l)||(u={...u,...LJ(e,u)}),u.duration&&(u.duration=kn(u.duration)),u.repeatDelay&&(u.repeatDelay=kn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const f=Hf(u.keyframes,l);if(f!==void 0)return Qe.update(()=>{u.onUpdate(f),u.onComplete()}),new sG([])}return!a&&jN.supports(u)?new jN(u):new cb(u)};function FJ({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function SP(e,t,{delay:s=0,transitionOverride:r,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),m=c[h];if(m===void 0||u&&FJ(u,h))continue;const x={delay:s,...Jy(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const p=J4(e);if(p){const b=window.MotionHandoffAnimation(p,h,Qe);b!==null&&(x.startTime=b,g=!0)}}wg(e,h),f.start(db(h,f,m,e.shouldReduceMotion&&Y4.has(h)?{type:!1}:x,e,g));const y=f.animation;y&&d.push(y)}return l&&Promise.all(d).then(()=>{Qe.update(()=>{l&&xG(e,l)})}),d}function Cg(e,t,s={}){var r;const i=Vf(e,t,s.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(SP(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return UJ(e,t,u+d,h,f,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function UJ(e,t,s=0,r=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort($J).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Cg(d,t,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function $J(e,t){return e.sortNodePosition(t)}function BJ(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Cg(e,a,s));r=Promise.all(i)}else if(typeof t=="string")r=Cg(e,t,s);else{const i=typeof t=="function"?Vf(e,t,s.custom):t;r=Promise.all(SP(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}const zJ=Oy.length;function _P(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?_P(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<zJ;s++){const r=Oy[s],i=e.props[r];($c(i)||i===!1)&&(t[r]=i)}return t}const VJ=[...Ly].reverse(),HJ=Ly.length;function WJ(e){return t=>Promise.all(t.map(({animation:s,options:r})=>BJ(e,s,r)))}function qJ(e){let t=WJ(e),s=NN(),r=!0;const i=c=>(d,u)=>{var h;const f=Vf(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...g}=f;d={...d,...g,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=_P(e.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let y=0;y<HJ;y++){const p=VJ[y],b=s[p],v=d[p]!==void 0?d[p]:u[p],w=$c(v),N=p===c?b.isActive:null;N===!1&&(x=y);let S=v===u[p]&&v!==d[p]&&w;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...m},!b.isActive&&N===null||!v&&!b.prevProp||Bf(v)||typeof v=="boolean")continue;const T=YJ(b.prevProp,v);let j=T||p===c&&b.isActive&&!S&&w||y>x&&w,E=!1;const _=Array.isArray(v)?v:[v];let C=_.reduce(i(p),{});N===!1&&(C={});const{prevResolvedValues:P={}}=b,I={...P,...C},$=L=>{j=!0,f.has(L)&&(E=!0,f.delete(L)),b.needsAnimating[L]=!0;const F=e.getValue(L);F&&(F.liveStyle=!1)};for(const L in I){const F=C[L],z=P[L];if(m.hasOwnProperty(L))continue;let A=!1;yg(F)&&yg(z)?A=!U4(F,z):A=F!==z,A?F!=null?$(L):f.add(L):F!==void 0&&f.has(L)?$(L):b.protectedKeys[L]=!0}b.prevProp=v,b.prevResolvedValues=C,b.isActive&&(m={...m,...C}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(S&&T)||E)&&h.push(..._.map(L=>({animation:L,options:{type:p}})))}if(f.size){const y={};f.forEach(p=>{const b=e.getBaseTarget(p),v=e.getValue(p);v&&(v.liveStyle=!0),y[p]=b??null}),h.push({animation:y})}let g=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=NN(),r=!0}}}function YJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!U4(t,e):!1}function Ui(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NN(){return{animate:Ui(!0),whileInView:Ui(),whileHover:Ui(),whileTap:Ui(),whileDrag:Ui(),whileFocus:Ui(),exit:Ui()}}class Ri{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GJ extends Ri{constructor(t){super(t),t.animationState||(t.animationState=qJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let JJ=0;class KJ extends Ri{constructor(){super(...arguments),this.id=JJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const XJ={animation:{Feature:GJ},exit:{Feature:KJ}};function Hc(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function cd(e){return{point:{x:e.pageX,y:e.pageY}}}const QJ=e=>t=>Qy(t)&&e(t,cd(t));function nc(e,t,s,r){return Hc(e,t,QJ(s),r)}const kN=(e,t)=>Math.abs(e-t);function ZJ(e,t){const s=kN(e.x,t.x),r=kN(e.y,t.y);return Math.sqrt(s**2+r**2)}class TP{constructor(t,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=bp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=ZJ(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=h,{timestamp:g}=$t;this.history.push({...x,timestamp:g});const{onStart:y,onMove:p}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=yp(f,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=bp(h.type==="pointercancel"?this.lastMoveEventInfo:yp(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,y),x&&x(h,y)},!Qy(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const o=cd(t),l=yp(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=$t;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,bp(l,this.history)),this.removeListeners=ld(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function yp(e,t){return t?{point:t(e.point)}:e}function SN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bp({point:e},t){return{point:e,delta:SN(e,CP(t)),offset:SN(e,eK(t)),velocity:tK(t,.1)}}function eK(e){return e[0]}function CP(e){return e[e.length-1]}function tK(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=CP(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>kn(t)));)s--;if(!r)return{x:0,y:0};const a=Sn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const PP=1e-4,sK=1-PP,rK=1+PP,EP=.01,nK=0-EP,iK=0+EP;function er(e){return e.max-e.min}function aK(e,t,s){return Math.abs(e-t)<=s}function _N(e,t,s,r=.5){e.origin=r,e.originPoint=ot(t.min,t.max,e.origin),e.scale=er(s)/er(t),e.translate=ot(s.min,s.max,e.origin)-e.originPoint,(e.scale>=sK&&e.scale<=rK||isNaN(e.scale))&&(e.scale=1),(e.translate>=nK&&e.translate<=iK||isNaN(e.translate))&&(e.translate=0)}function ic(e,t,s,r){_N(e.x,t.x,s.x,r?r.originX:void 0),_N(e.y,t.y,s.y,r?r.originY:void 0)}function TN(e,t,s){e.min=s.min+t.min,e.max=e.min+er(t)}function oK(e,t,s){TN(e.x,t.x,s.x),TN(e.y,t.y,s.y)}function CN(e,t,s){e.min=t.min-s.min,e.max=e.min+er(t)}function ac(e,t,s){CN(e.x,t.x,s.x),CN(e.y,t.y,s.y)}function lK(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?ot(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?ot(s,e,r.max):Math.min(e,s)),e}function PN(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function cK(e,{top:t,left:s,bottom:r,right:i}){return{x:PN(e.x,s,i),y:PN(e.y,t,r)}}function EN(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function dK(e,t){return{x:EN(e.x,t.x),y:EN(e.y,t.y)}}function uK(e,t){let s=.5;const r=er(e),i=er(t);return i>r?s=Mo(t.min,t.max-r,e.min):r>i&&(s=Mo(e.min,e.max-i,t.min)),Dn(0,1,s)}function hK(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Pg=.35;function fK(e=Pg){return e===!1?e=0:e===!0&&(e=Pg),{x:AN(e,"left","right"),y:AN(e,"top","bottom")}}function AN(e,t,s){return{min:RN(e,t),max:RN(e,s)}}function RN(e,t){return typeof e=="number"?e:e[t]||0}const MN=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:MN(),y:MN()}),DN=()=>({min:0,max:0}),ft=()=>({x:DN(),y:DN()});function lr(e){return[e("x"),e("y")]}function AP({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function mK({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pK(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function vp(e){return e===void 0||e===1}function Eg({scale:e,scaleX:t,scaleY:s}){return!vp(e)||!vp(t)||!vp(s)}function Wi(e){return Eg(e)||RP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function RP(e){return IN(e.x)||IN(e.y)}function IN(e){return e&&e!=="0%"}function Uh(e,t,s){const r=e-s,i=t*r;return s+i}function LN(e,t,s,r,i){return i!==void 0&&(e=Uh(e,i,r)),Uh(e,s,r)+t}function Ag(e,t=0,s=1,r,i){e.min=LN(e.min,t,s,r,i),e.max=LN(e.max,t,s,r,i)}function MP(e,{x:t,y:s}){Ag(e.x,t.translate,t.scale,t.originPoint),Ag(e.y,s.translate,s.scale,s.originPoint)}const ON=.999999999999,FN=1.0000000000001;function xK(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&io(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,MP(e,o)),r&&Wi(a.latestValues)&&io(e,a.latestValues))}t.x<FN&&t.x>ON&&(t.x=1),t.y<FN&&t.y>ON&&(t.y=1)}function no(e,t){e.min=e.min+t,e.max=e.max+t}function UN(e,t,s,r,i=.5){const a=ot(e.min,e.max,i);Ag(e,t,s,a,r)}function io(e,t){UN(e.x,t.x,t.scaleX,t.scale,t.originX),UN(e.y,t.y,t.scaleY,t.scale,t.originY)}function DP(e,t){return AP(pK(e.getBoundingClientRect(),t))}function gK(e,t,s){const r=DP(e,s),{scroll:i}=t;return i&&(no(r.x,i.offset.x),no(r.y,i.offset.y)),r}const IP=({current:e})=>e?e.ownerDocument.defaultView:null,yK=new WeakMap;class bK{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(cd(u).point)},a=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uG(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(y=>{let p=this.getAxisMotionValue(y).get()||0;if(Xr.test(p)){const{projection:b}=this.visualElement;if(b&&b.layout){const v=b.layout.layoutBox[y];v&&(p=er(v)*(parseFloat(p)/100))}}this.originPoint[y]=p}),x&&Qe.postRender(()=>x(u,h)),wg(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(m&&this.currentDirection===null){this.currentDirection=vK(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(u,h)},l=(u,h)=>this.stop(u,h),c=()=>lr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TP(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:IP(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!tu(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=lK(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;s&&to(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=cK(i.layoutBox,s):this.constraints=!1,this.elastic=fK(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&lr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hK(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!to(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=gK(r,i.root,this.visualElement.getTransformPagePoint());let o=dK(i.layout.layoutBox,a);if(s){const l=s(mK(o));this.hasMutatedConstraints=!!l,l&&(o=AP(l))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=lr(u=>{if(!tu(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return wg(this.visualElement,t),r.start(db(t,r,0,s,this.visualElement,!1))}stopAnimation(){lr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){lr(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){lr(s=>{const{drag:r}=this.getProps();if(!tu(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-ot(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!to(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};lr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=uK({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lr(o=>{if(!tu(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ot(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;yK.set(this.visualElement,this);const t=this.visualElement.current,s=nc(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();to(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qe.read(r);const o=Hc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(lr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Pg,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function tu(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function vK(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class wK extends Ri{constructor(t){super(t),this.removeGroupControls=Qs,this.removeListeners=Qs,this.controls=new bK(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qs}unmount(){this.removeGroupControls(),this.removeListeners()}}const $N=e=>(t,s)=>{e&&Qe.postRender(()=>e(t,s))};class jK extends Ri{constructor(){super(...arguments),this.removePointerDownListener=Qs}onPointerDown(t){this.session=new TP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:$N(t),onStart:$N(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Qe.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(fe.test(e))e=parseFloat(e);else return e;const s=BN(e,t.target.x),r=BN(e,t.target.y);return`${s}% ${r}%`}},NK={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=ji.parse(e);if(i.length>5)return r;const a=ji.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=ot(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class kK extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;HY(SK),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Qe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Uy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LP(e){const[t,s]=iY(),r=k.useContext(y4);return n.jsx(kK,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(_4),isPresent:t,safeToRemove:s})}const SK={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:NK};function _K(e,t,s){const r=as(e)?e:zc(e);return r.start(db("",r,t,s)),r.animation}function TK(e){return e instanceof SVGElement&&e.tagName!=="svg"}const CK=(e,t)=>e.depth-t.depth;class PK{constructor(){this.children=[],this.isDirty=!1}add(t){Zy(this.children,t),this.isDirty=!0}remove(t){eb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CK),this.isDirty=!1,this.children.forEach(t)}}function EK(e,t){const s=Qr.now(),r=({timestamp:i})=>{const a=i-s;a>=t&&(wi(r),e(a-t))};return Qe.read(r,!0),()=>wi(r)}const OP=["TopLeft","TopRight","BottomLeft","BottomRight"],AK=OP.length,zN=e=>typeof e=="string"?parseFloat(e):e,VN=e=>typeof e=="number"||fe.test(e);function RK(e,t,s,r,i,a){i?(e.opacity=ot(0,s.opacity!==void 0?s.opacity:1,MK(r)),e.opacityExit=ot(t.opacity!==void 0?t.opacity:1,0,DK(r))):a&&(e.opacity=ot(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<AK;o++){const l=`border${OP[o]}Radius`;let c=HN(t,l),d=HN(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||VN(c)===VN(d)?(e[l]=Math.max(ot(zN(c),zN(d),r),0),(Xr.test(d)||Xr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ot(t.rotate||0,s.rotate||0,r))}function HN(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const MK=FP(0,.5,sP),DK=FP(.5,.95,Qs);function FP(e,t,s){return r=>r<e?0:r>t?1:s(Mo(e,t,r))}function WN(e,t){e.min=t.min,e.max=t.max}function or(e,t){WN(e.x,t.x),WN(e.y,t.y)}function qN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function YN(e,t,s,r,i){return e-=t,e=Uh(e,1/s,r),i!==void 0&&(e=Uh(e,1/i,r)),e}function IK(e,t=0,s=1,r=.5,i,a=e,o=e){if(Xr.test(t)&&(t=parseFloat(t),t=ot(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ot(a.min,a.max,r);e===a&&(l-=t),e.min=YN(e.min,t,s,l,i),e.max=YN(e.max,t,s,l,i)}function GN(e,t,[s,r,i],a,o){IK(e,t[s],t[r],t[i],t.scale,a,o)}const LK=["x","scaleX","originX"],OK=["y","scaleY","originY"];function JN(e,t,s,r){GN(e.x,t,LK,s?s.x:void 0,r?r.x:void 0),GN(e.y,t,OK,s?s.y:void 0,r?r.y:void 0)}function KN(e){return e.translate===0&&e.scale===1}function UP(e){return KN(e.x)&&KN(e.y)}function XN(e,t){return e.min===t.min&&e.max===t.max}function FK(e,t){return XN(e.x,t.x)&&XN(e.y,t.y)}function QN(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $P(e,t){return QN(e.x,t.x)&&QN(e.y,t.y)}function ZN(e){return er(e.x)/er(e.y)}function ek(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class UK{constructor(){this.members=[]}add(t){Zy(this.members,t),t.scheduleRender()}remove(t){if(eb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $K(e,t,s){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:x}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Rl=typeof window<"u"&&window.MotionDebug!==void 0,wp=["","X","Y","Z"],BK={visibility:"hidden"},tk=1e3;let zK=0;function jp(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=J4(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Qe,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BP(r)}function zP({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=zK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rl&&(qi.totalNodes=qi.resolvedTargetDeltas=qi.recalculatedProjection=0),this.nodes.forEach(WK),this.nodes.forEach(KK),this.nodes.forEach(XK),this.nodes.forEach(qK),Rl&&window.MotionDebug.record(qi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new PK)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tb),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TK(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=EK(f,250),Ru.hasAnimatedSinceResize&&(Ru.hasAnimatedSinceResize=!1,this.nodes.forEach(rk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||sX,{onLayoutAnimationStart:y,onLayoutAnimationComplete:p}=u.getProps(),b=!this.targetLayout||!$P(this.targetLayout,x)||m,v=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const w={...Jy(g,"layout"),onPlay:y,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||rk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sk);return}this.isUpdating||this.nodes.forEach(GK),this.isUpdating=!1,this.nodes.forEach(JK),this.nodes.forEach(VK),this.nodes.forEach(HK),this.clearAllSnapshots();const l=Qr.now();$t.delta=Dn(0,1e3/60,l-$t.timestamp),$t.timestamp=l,$t.isProcessing=!0,hp.update.process($t),hp.preRender.process($t),hp.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YK),this.sharedNodes.forEach(ZK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!UP(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Wi(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),rX(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ft();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(nX))){const{scroll:u}=this.root;u&&(no(c.x,u.offset.x),no(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=ft();if(or(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&or(c,o),no(c.x,h.offset.x),no(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=ft();or(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&io(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Wi(u.latestValues)&&io(c,u.latestValues)}return Wi(this.latestValues)&&io(c,this.latestValues),c}removeTransform(o){const l=ft();or(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Wi(d.latestValues))continue;Eg(d.latestValues)&&d.updateSnapshot();const u=ft(),h=d.measurePageBox();or(u,h),JN(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Wi(this.latestValues)&&JN(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),ac(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):or(this.target,this.layout.layoutBox),MP(this.target,this.targetDelta)):or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),ac(this.relativeTargetOrigin,this.target,m.target),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rl&&qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Eg(this.parent.latestValues)||RP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;or(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;xK(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ft());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qN(this.prevProjectionDelta.x,this.projectionDelta.x),qN(this.prevProjectionDelta.y,this.projectionDelta.y)),ic(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!ek(this.projectionDelta.x,this.prevProjectionDelta.x)||!ek(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Rl&&qi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ro(),this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ft(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=m!==x,y=this.getStack(),p=!y||y.members.length<=1,b=!!(g&&!p&&this.options.crossfade===!0&&!this.path.some(tX));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const N=w/1e3;nk(h.x,o.x,N),nk(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ac(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eX(this.relativeTarget,this.relativeTargetOrigin,f,N),v&&FK(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ft()),or(v,this.relativeTarget)),g&&(this.animationValues=u,RK(u,d,this.latestValues,N,b,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{Ru.hasAnimatedSinceResize=!0,this.currentAnimation=_K(0,tk,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&VP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ft();const h=er(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=er(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}or(l,c),io(l,u),ic(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new UK),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&jp("z",o,d,this.animationValues);for(let u=0;u<wp.length;u++)jp(`rotate${wp[u]}`,o,d,this.animationValues),jp(`skew${wp[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BK;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Eu(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Eu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Wi(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=$K(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:m,y:x}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Dh){if(f[g]===void 0)continue;const{correct:y,applyTo:p}=Dh[g],b=d.transform==="none"?f[g]:y(f[g],h);if(p){const v=p.length;for(let w=0;w<v;w++)d[p[w]]=b}else d[g]=b}return this.options.layoutId&&(d.pointerEvents=h===this?Eu(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(sk),this.root.sharedNodes.clear()}}}function VK(e){e.updateLayout()}function HK(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?lr(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=er(f);f.min=r[h].min,f.max=f.min+m}):VP(a,s.layoutBox,r)&&lr(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=er(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=ro();ic(l,r,s.layoutBox);const c=ro();o?ic(c,e.applyTransform(i,!0),s.measuredBox):ic(c,r,s.layoutBox);const d=!UP(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=ft();ac(x,s.layoutBox,f.layoutBox);const g=ft();ac(g,r,m.layoutBox),$P(x,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WK(e){Rl&&qi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function YK(e){e.clearSnapshot()}function sk(e){e.clearMeasurements()}function GK(e){e.isLayoutDirty=!1}function JK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KK(e){e.resolveTargetDelta()}function XK(e){e.calcProjection()}function QK(e){e.resetSkewAndRotation()}function ZK(e){e.removeLeadSnapshot()}function nk(e,t,s){e.translate=ot(t.translate,0,s),e.scale=ot(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ik(e,t,s,r){e.min=ot(t.min,s.min,r),e.max=ot(t.max,s.max,r)}function eX(e,t,s,r){ik(e.x,t.x,s.x,r),ik(e.y,t.y,s.y,r)}function tX(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sX={duration:.45,ease:[.4,0,.1,1]},ak=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ok=ak("applewebkit/")&&!ak("chrome/")?Math.round:Qs;function lk(e){e.min=ok(e.min),e.max=ok(e.max)}function rX(e){lk(e.x),lk(e.y)}function VP(e,t,s){return e==="position"||e==="preserve-aspect"&&!aK(ZN(t),ZN(s),.2)}function nX(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const iX=zP({attachResizeListener:(e,t)=>Hc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Np={current:void 0},HP=zP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Np.current){const e=new iX({});e.mount(window),e.setOptions({layoutScroll:!0}),Np.current=e}return Np.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aX={pan:{Feature:jK},drag:{Feature:wK,ProjectionNode:HP,MeasureLayout:LP}};function ck(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&Qe.postRender(()=>a(t,cd(t)))}class oX extends Ri{mount(){const{current:t}=this.node;t&&(this.unmount=aG(t,s=>(ck(this.node,s,"Start"),r=>ck(this.node,r,"End"))))}unmount(){}}class lX extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ld(Hc(this.node.current,"focus",()=>this.onFocus()),Hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dk(e,t,s){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&Qe.postRender(()=>a(t,cd(t)))}class cX extends Ri{mount(){const{current:t}=this.node;t&&(this.unmount=dG(t,s=>(dk(this.node,s,"Start"),(r,{success:i})=>dk(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rg=new WeakMap,kp=new WeakMap,dX=e=>{const t=Rg.get(e.target);t&&t(e)},uX=e=>{e.forEach(dX)};function hX({root:e,...t}){const s=e||document;kp.has(s)||kp.set(s,{});const r=kp.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(uX,{root:e,...t})),r[i]}function fX(e,t,s){const r=hX(t);return Rg.set(e,s),r.observe(e),()=>{Rg.delete(e),r.unobserve(e)}}const mX={some:0,all:1};class pX extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mX[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return fX(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(xX(t,s))&&this.startObserver()}unmount(){}}function xX({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const gX={inView:{Feature:pX},tap:{Feature:cX},focus:{Feature:lX},hover:{Feature:oX}},yX={layout:{ProjectionNode:HP,MeasureLayout:LP}},Mg={current:null},WP={current:!1};function bX(){if(WP.current=!0,!!Dy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mg.current=e.matches;e.addListener(t),t()}else Mg.current=!1}const vX=[...xP,Xt,ji],wX=e=>vX.find(pP(e)),uk=new WeakMap;function jX(e,t,s){for(const r in t){const i=t[r],a=s[r];if(as(i))e.addValue(r,i);else if(as(a))e.addValue(r,zc(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,zc(o!==void 0?o:i,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const hk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NX{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ob,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Qr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Qe.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=zf(s),this.isVariantNode=k4(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&as(x)&&x.set(c[m],!1)}}mount(t){this.current=t,uk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),WP.current||bX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uk.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ea.has(t),i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Do){const s=Do[t];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<hk.length;r++){const i=hk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=jX(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=zc(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(fP(i)||nP(i))?i=parseFloat(i):!wX(i)&&ji.test(s)&&(i=dP(t,s)),this.setBaseTarget(t,as(i)?i.get():i)),as(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=By(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!as(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new tb),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class qP extends NX{constructor(){super(...arguments),this.KeyframeResolver=gP}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;as(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function kX(e){return window.getComputedStyle(e)}class SX extends qP{constructor(){super(...arguments),this.type="html",this.renderInstance=M4}readValueFromInstance(t,s){if(Ea.has(s)){const r=ab(s);return r&&r.default||0}else{const r=kX(t),i=(E4(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return DP(t,s)}build(t,s,r){Hy(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return Gy(t,s,r)}}class _X extends qP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Ea.has(s)){const r=ab(s);return r&&r.default||0}return s=D4.has(s)?s:Fy(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return O4(t,s,r)}build(t,s,r){Wy(t,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,s,r,i){I4(t,s,r,i)}mount(t){this.isSVGTag=Yy(t.tagName),super.mount(t)}}const TX=(e,t)=>$y(e)?new _X(t):new SX(t,{allowProjection:e!==k.Fragment}),CX=ZY({...XJ,...gX,...aX,...yX},TX),Ie=mY(CX),PX=({onSelectAlgoTrading:e})=>{const t=[{id:"algotrading",title:"Algorithmic Trading",subtitle:"Automated Trading Dashboard",description:"Create and manage trading robots, set up TradingView webhooks, and automate your trading strategies with advanced risk management.",icon:ts,cardBg:"bg-[#292929]",borderColor:"border-[#ffa31a]",iconBg:"bg-[#ffa31a]",subtitleColor:"text-[#ffa31a]",featureDot:"bg-[#ffa31a]",buttonBg:"bg-[#ffa31a]",buttonText:"text-[#1b1b1b]",text:"text-white",onClick:e},{id:"livetrading",title:"Live Trading",subtitle:"Real-time Trading Terminal",description:"Execute manual trades, monitor positions in real-time, analyze markets, and manage your portfolio with professional trading tools.",icon:bi,cardBg:"bg-[#1b1b1b]",borderColor:"border-[#808080]",iconBg:"bg-[#808080]",subtitleColor:"text-[#ffa31a]",featureDot:"bg-[#ffa31a]",buttonBg:"bg-[#ffa31a]",buttonText:"text-[#1b1b1b]",text:"text-white",onClick:()=>{},comingSoon:!0}];return n.jsxs("div",{className:"min-h-screen bg-[#1b1b1b]",children:[n.jsx("div",{className:"bg-[#292929] border-b border-[#ffa31a]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center space-x-3",children:n.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Platform Logo",className:"h-14 w-auto"})}),n.jsx("div",{})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[n.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Welcome to Your Trading Hub"}),n.jsx("p",{className:"text-xl text-[#ffa31a] max-w-3xl mx-auto",children:"Access powerful trading tools designed for both automated and manual trading. Choose your preferred trading style to get started."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-7xl mx-auto",children:t.map((s,r)=>{const i=s.icon;return n.jsx(Ie.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:r*.2},className:"relative group cursor-pointer",onClick:s.onClick,children:n.jsx("div",{className:`
                  relative overflow-hidden rounded-2xl border-2 ${s.borderColor} 
                  ${s.cardBg} p-8 transition-all duration-300 
                  hover:shadow-2xl hover:scale-105 hover:-translate-y-2
                `,children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:`
                      inline-flex items-center justify-center w-16 h-16 rounded-xl 
                      ${s.iconBg} mb-6
                      group-hover:scale-110 transition-transform duration-300
                    `,children:n.jsx(i,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:`text-2xl font-bold mb-1 ${s.text}`,children:s.title}),n.jsx("p",{className:`text-lg ${s.subtitleColor} font-medium`,children:s.subtitle})]}),n.jsx("p",{className:`mb-6 leading-relaxed ${s.text}`,children:s.description}),n.jsx("div",{className:"space-y-3 mb-8",children:["features"in s?s.features:[]].map((a,o)=>n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`${s.featureDot} w-2 h-2 rounded-full`}),n.jsx("span",{className:`${s.text} font-medium`,children:a})]},o))}),n.jsxs("div",{className:`
                      inline-flex items-center space-x-2 px-6 py-3 rounded-xl
                      ${s.buttonBg} ${s.buttonText} font-semibold
                      group-hover:shadow-lg transition-all duration-300
                      group-hover:scale-105
                      ${s.comingSoon?"opacity-60 cursor-not-allowed":""}
                    `,children:[n.jsxs("span",{children:["Enter ",s.title]}),n.jsx(ps,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]}),s.comingSoon&&n.jsx("div",{className:"absolute top-4 right-4 bg-[#ffa31a] text-[#1b1b1b] px-3 py-1 rounded-full font-bold text-xs shadow-lg",children:"Coming Soon"})]})})},s.id)})}),n.jsx(Ie.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-16 bg-[#292929] rounded-2xl border border-[#ffa31a] p-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-center",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"bg-[#ffa31a] w-12 h-12 rounded-xl flex items-center justify-center mx-auto",children:n.jsx(Rn,{className:"w-6 h-6 text-[#1b1b1b]"})}),n.jsx("h4",{className:"text-2xl font-bold text-white",children:"Real-time"}),n.jsx("p",{className:"text-[#ffa31a]",children:"Market data and execution"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"bg-[#808080] w-12 h-12 rounded-xl flex items-center justify-center mx-auto",children:n.jsx(Ks,{className:"w-6 h-6 text-[#ffa31a]"})}),n.jsx("h4",{className:"text-2xl font-bold text-white",children:"Automated"}),n.jsx("p",{className:"text-[#ffa31a]",children:"Trading robots and signals"})]})]})})]})]})},fk=[{id:"free",name:"Free",description:"Basic trading in your browser",tokenCost:0,duration:"lifetime",isActive:!0,features:[{id:"manual-trading",name:"Manual Trading",description:"Execute trades manually",enabled:!0},{id:"basic-robots",name:"Basic Robots",description:"Up to 3 simple robots",enabled:!0},{id:"browser-only",name:"Browser Only",description:"Works only when browser is open",enabled:!0}],limits:{maxRobots:3,maxPositions:10,trailingStops:!1,advancedRiskManagement:!1,priorityExecution:!1,customAlgorithms:!1,apiAccess:!1,notifications:["email"]}},{id:"vps-basic",name:"VPS Basic",description:"24/7 server-side trading",tokenCost:100,duration:"monthly",isActive:!0,features:[{id:"server-trading",name:"24/7 Server Trading",description:"Trades execute even when offline",enabled:!0},{id:"trailing-stops",name:"Trailing Stops",description:"Basic trailing stop functionality",enabled:!0},{id:"more-robots",name:"More Robots",description:"Up to 10 active robots",enabled:!0},{id:"notifications",name:"Notifications",description:"Email + SMS alerts",enabled:!0}],limits:{maxRobots:10,maxPositions:50,trailingStops:!0,advancedRiskManagement:!0,priorityExecution:!1,customAlgorithms:!1,apiAccess:!1,notifications:["email","sms"]}},{id:"vps-pro",name:"VPS Pro",description:"Advanced trading features",tokenCost:250,duration:"monthly",isActive:!0,features:[{id:"advanced-trailing",name:"Advanced Trailing Stops",description:"Multiple trailing algorithms",enabled:!0},{id:"unlimited-robots",name:"More Robots",description:"Up to 50 active robots",enabled:!0},{id:"priority-execution",name:"Priority Execution",description:"Faster trade execution",enabled:!0},{id:"advanced-risk",name:"Advanced Risk Management",description:"Portfolio-level risk controls",enabled:!0}],limits:{maxRobots:50,maxPositions:200,trailingStops:!0,advancedRiskManagement:!0,priorityExecution:!0,customAlgorithms:!0,apiAccess:!1,notifications:["email","sms","webhook"]}},{id:"vps-enterprise",name:"VPS Enterprise",description:"Institutional-grade platform",tokenCost:500,duration:"monthly",isActive:!0,features:[{id:"unlimited-everything",name:"Unlimited Everything",description:"No limits on robots or positions",enabled:!0},{id:"custom-algorithms",name:"Custom Algorithms",description:"Build your own trading algorithms",enabled:!0},{id:"api-access",name:"API Access",description:"Full REST API access",enabled:!0},{id:"white-label",name:"White Label",description:"Brand the platform as your own",enabled:!0}],limits:{maxRobots:-1,maxPositions:-1,trailingStops:!0,advancedRiskManagement:!0,priorityExecution:!0,customAlgorithms:!0,apiAccess:!0,notifications:["email","sms","webhook"]}}],mk=({userTokens:e,onPurchasePlan:t,onBackToChoice:s})=>{var x;const[r,i]=k.useState(null),[a,o]=k.useState(!1),[l,c]=k.useState(!1),d=Pt(),u=g=>{switch(g){case"free":return Nn;case"vps-basic":return Ks;case"vps-pro":return It;case"vps-enterprise":return kw;default:return Nn}},h=g=>{switch(g){case"free":return"gray";case"vps-basic":return"blue";case"vps-pro":return"purple";case"vps-enterprise":return"yellow";default:return"gray"}},f=g=>e.balance>=g.tokenCost,m=async g=>{o(!0),c(!0),i(g);try{const y=await t(g)}catch(y){console.error("Purchase failed:",y)}finally{o(!1),c(!1),i(null)}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[l&&n.jsx(oa,{message:`Processing VPS ${((x=fk.find(g=>g.id===r))==null?void 0:x.name)||"plan"} purchase...`}),n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:s,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"VPS Hosting Plans"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Unlock the full potential of your trading robots with our dedicated server solutions. Trade 24/7 with advanced features like trailing stops and priority execution."})]}),n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6 mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Token Balance"}),n.jsx("p",{className:"text-gray-600",children:"Use tokens to unlock VPS features and advanced trading capabilities"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.balance}),n.jsx("p",{className:"text-sm text-gray-500",children:"Available Tokens"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:fk.map(g=>{const y=u(g.id),p=h(g.id),b=f(g),v=a&&r===g.id;return n.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all duration-300 ${r===g.id?`border-${p}-500 bg-${p}-50 shadow-lg scale-105`:`border-gray-200 bg-white hover:border-${p}-300 hover:shadow-md`}`,children:[g.id==="vps-pro"&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsx("span",{className:"bg-purple-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Most Popular"})}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-${p}-100 flex items-center justify-center`,children:n.jsx(y,{className:`w-8 h-8 text-${p}-600`})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:g.name}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:g.description})]}),n.jsx("div",{className:"text-center mb-6",children:g.tokenCost===0?n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"Free"}):n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:g.tokenCost}),n.jsxs("div",{className:"text-sm text-gray-500",children:["tokens/",g.duration]})]})}),n.jsx("div",{className:"space-y-3 mb-6",children:g.features.map(w=>n.jsxs("div",{className:"flex items-start space-x-2",children:[w.enabled?n.jsx(ms,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}):n.jsx(Ht,{className:"w-4 h-4 text-gray-300 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.name}),n.jsx("p",{className:"text-xs text-gray-500",children:w.description})]})]},w.id))}),n.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:n.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Max Robots:"}),n.jsx("span",{className:"font-medium",children:g.limits.maxRobots===-1?"Unlimited":g.limits.maxRobots})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Max Positions:"}),n.jsx("span",{className:"font-medium",children:g.limits.maxPositions===-1?"Unlimited":g.limits.maxPositions})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Trailing Stops:"}),n.jsx("span",{className:"font-medium",children:g.limits.trailingStops?"Yes":"No"})]})]})}),n.jsx("button",{onClick:()=>m(g.id),disabled:v||g.tokenCost>0&&!b,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${g.tokenCost===0?"bg-gray-100 text-gray-700 hover:bg-gray-200":b?`bg-${p}-600 text-white hover:bg-${p}-700 disabled:opacity-50`:"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:v?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Processing..."})]}):g.tokenCost===0?"Current Plan":b?`Upgrade for ${g.tokenCost} tokens`:`Need ${g.tokenCost-e.balance} more tokens`})]},g.id)})}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need More Tokens?"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Purchase token packages to unlock VPS features and advanced trading capabilities."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"100 Tokens"}),n.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"$9.99"}),n.jsx("button",{onClick:()=>d("/packages"),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Purchase"})]}),n.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 text-center bg-purple-50",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"500 Tokens"}),n.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"$39.99"}),n.jsx("div",{className:"text-xs text-purple-600 mb-3",children:"20% Bonus!"}),n.jsx("button",{onClick:()=>d("/packages"),className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Purchase"})]}),n.jsxs("div",{className:"border border-yellow-200 rounded-lg p-4 text-center bg-yellow-50",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:"1000 Tokens"}),n.jsx("div",{className:"text-sm text-yellow-600 mb-1",children:"$69.99"}),n.jsx("div",{className:"text-xs text-yellow-600 mb-3",children:"30% Bonus!"}),n.jsx("button",{onClick:()=>d("/packages"),className:"w-full py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Purchase"})]})]})]}),n.jsxs("div",{className:"mt-12 bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"What You Get with VPS Hosting"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3",children:n.jsx(Nn,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"24/7 Operation"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your robots trade continuously, even when your computer is off"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3",children:n.jsx(Ks,{className:"w-6 h-6 text-green-600"})}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Trailing Stops"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Advanced trailing stop algorithms to maximize profits"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3",children:n.jsx(kw,{className:"w-6 h-6 text-purple-600"})}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Priority Execution"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Faster trade execution with dedicated server resources"})]})]})]})]})]})},pk=({onBackToChoice:e})=>{const{accountInfo:t,userTokens:s,userPlugins:r,fetchUserTokens:i,fetchUserPlugins:a,logout:o}=pe(),[l,c]=k.useState(!1),[d,u]=k.useState(!1),[h,f]=k.useState(100),[m,x]=k.useState(""),[g,y]=k.useState(!1),[p,b]=k.useState(!1),[v,w]=k.useState(!1),[N,S]=k.useState(!1),[T,j]=k.useState(!1),[E,_]=k.useState(null),[C,P]=k.useState(!1),[I,$]=k.useState("overview"),[H,B]=k.useState("all"),[L,F]=k.useState(!1),[z,A]=k.useState(""),[ie,K]=k.useState(!1),[M,he]=k.useState(null),[be,me]=k.useState([]),[qe,Ze]=k.useState(!1),[je,Le]=k.useState(!1),[Ye,Et]=k.useState(!0),[Wt,rr]=k.useState(!0),[At,rn]=k.useState(!1),yr=Pt(),{strategies:nn,userStrategySubscriptions:zs,subscriptionsByStrategy:O,fetchUserStrategySubscriptions:V,fetchStrategies:Y,subscribeToStrategy:re,renewStrategySubscription:se,cancelStrategySubscription:ee,isLoading:U}=ws();k.useEffect(()=>{i(),a();try{const W=localStorage.getItem("tradinghub.notification.settings");if(W){const X=JSON.parse(W);typeof X.emailAlerts=="boolean"&&Le(X.emailAlerts),typeof X.expiryReminders=="boolean"&&Et(X.expiryReminders),typeof X.tradeExecuted=="boolean"&&rr(X.tradeExecuted),typeof X.promotions=="boolean"&&rn(X.promotions)}}catch{}(async()=>{var W,X;try{P(!0);const{data:{session:Se}}=await D.auth.getSession(),rt=(W=Se==null?void 0:Se.user)==null?void 0:W.id;if(!rt)return;he({userId:rt,email:Se.user.email||"",lastSignInAt:(X=Se.user)==null?void 0:X.last_sign_in_at});const Mi=!!(await D.from("platform_admins").select("user_id").eq("user_id",rt).maybeSingle()).data;if(j(Mi),Mi){const{data:YP,error:GP}=await D.from("platform_settings").select("*").eq("id",1).maybeSingle();GP||_(YP)}}catch(Se){console.warn("Unable to load platform settings:",Se)}finally{P(!1)}})(),Y(),V(),(async()=>{var W;try{Ze(!0);const{data:{session:X}}=await D.auth.getSession();if(!((W=X==null?void 0:X.user)==null?void 0:W.id))return;const{data:rt,error:us}=await D.from("payout_requests").select("id, amount, status, note, created_at, processed_at").order("created_at",{ascending:!1});!us&&rt&&me(rt)}catch(X){console.warn("Unable to load payout requests:",X)}finally{Ze(!1)}})()},[i,a]);const J=()=>{const W={emailAlerts:je,expiryReminders:Ye,tradeExecuted:Wt,promotions:At};localStorage.setItem("tradinghub.notification.settings",JSON.stringify(W)),R.success("Notification settings saved")},ne=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:(t==null?void 0:t.currency)||"USD",minimumFractionDigits:2}).format(W),de=W=>{switch(W){case"earned":return n.jsx(we,{className:"w-4 h-4 text-green-600"});case"spent":return n.jsx(Ei,{className:"w-4 h-4 text-red-600"});case"purchased":return n.jsx(Z_,{className:"w-4 h-4 text-blue-600"});default:return n.jsx(Yr,{className:"w-4 h-4 text-gray-600"})}},Ee=W=>{switch(W){case"earned":return"text-green-600";case"spent":return"text-red-600";case"purchased":return"text-blue-600";default:return"text-gray-600"}},et=()=>{c(!1)},ks=()=>{e?e():yr("/")},Lt=()=>{u(!0)},Ss=()=>{u(!1),x("")},br=async()=>{var W;if(m!=="DELETE"){R.error("Please type DELETE to confirm");return}y(!0);try{const{data:{session:X}}=await D.auth.getSession();if(!((W=X==null?void 0:X.user)!=null&&W.id))throw new Error("No authenticated user found");await Promise.all([D.from("user_accounts").delete().eq("user_id",X.user.id),D.from("user_tokens").delete().eq("user_id",X.user.id),D.from("token_transactions").delete().eq("user_id",X.user.id),D.from("user_plugins").delete().eq("user_id",X.user.id),D.from("trading_robots").delete().eq("user_id",X.user.id),D.from("trading_signals").delete().eq("user_id",X.user.id),D.from("webhook_logs").delete().eq("user_id",X.user.id),D.from("user_vps_subscriptions").delete().eq("user_id",X.user.id),D.from("vps_instances").delete().eq("user_id",X.user.id)]);const{error:Se}=await D.auth.admin.deleteUser(X.user.id);Se&&await D.auth.signOut(),R.success("Your account has been deleted"),o(),yr("/login")}catch(X){console.error("Error deleting account:",X),R.error("Failed to delete account. Please try again later.")}finally{y(!1),Ss()}},st=()=>{yr("/packages")},Vs=()=>{b(!p)},kt=async W=>{if(W)try{await navigator.clipboard.writeText(W),R.success("Copied to clipboard")}catch{R.error("Copy failed")}},Xo=async()=>{try{P(!0);const{data:W,error:X}=await D.from("platform_settings").select("*").eq("id",1).maybeSingle();if(X)throw X;_(W)}catch(W){R.error("Failed to refresh platform settings"),console.warn(W)}finally{P(!1)}},G=async()=>{var W;try{const{data:{session:X}}=await D.auth.getSession(),Se=(W=X==null?void 0:X.user)==null?void 0:W.id;if(!Se){R.error("Not authenticated");return}if((await D.rpc("set_platform_wallet_user",{p_user_id:Se})).error){const us=await D.from("platform_settings").update({platform_wallet_user_id:Se}).eq("id",1);if(us.error)throw us.error}R.success("Platform wallet set to your user"),await Xo()}catch(X){console.error("Failed to set platform wallet:",X),R.error((X==null?void 0:X.message)||"Failed to set platform wallet")}},ke=async()=>{try{const{data:W,error:X}=await D.rpc("grant_login_bonus");if(X)throw X;if(W==null?void 0:W.success){await i();const rt=W==null?void 0:W.amount;R.success(rt?`Login bonus claimed: +${rt} tokens`:"Login bonus claimed")}else R((W==null?void 0:W.message)||"Bonus already claimed today")}catch(W){console.error("Login bonus error:",W),R.error((W==null?void 0:W.message)||"Could not claim bonus")}},Oe=()=>{A(""),F(!0)},yt=async()=>{const W=parseInt(z,10);if(!W||W<=0){R.error("Enter a valid amount");return}K(!0);try{const{data:X,error:Se}=await D.rpc("user_request_payout",{p_amount:W});if(Se)throw Se;X!=null&&X.success?(R.success("Payout request submitted"),F(!1)):R.error((X==null?void 0:X.error)||"Request failed")}catch(X){console.error("Payout request error:",X),R.error((X==null?void 0:X.message)||"Could not submit request")}finally{K(!1)}};return s?n.jsxs("div",{className:"min-h-screen bg-white",children:[g&&n.jsx(oa,{message:"Deleting account and all data..."}),v&&n.jsx(oa,{message:"Processing token purchase..."}),N&&n.jsx(oa,{message:"Updating profile settings..."}),n.jsx(gg,{accountInfo:t,onBackToChoice:ks,showBackButton:!0,currentMode:"profile"}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Your Profile ",T&&n.jsx("span",{className:"ml-2 align-middle text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"ADMIN"})]}),n.jsx("p",{className:"text-gray-600",children:"Manage your account, subscriptions, and tokens"})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"inline-flex rounded-lg border border-gray-200 bg-white overflow-hidden",children:[n.jsx("button",{className:`px-4 py-2 text-sm font-medium ${I==="overview"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$("overview"),children:"Overview"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium border-l border-gray-200 ${I==="transactions"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$("transactions"),children:"Transactions"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium border-l border-gray-200 ${I==="subscriptions"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$("subscriptions"),children:"Subscriptions"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium border-l border-gray-200 ${I==="security"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$("security"),children:"Security"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium border-l border-gray-200 ${I==="notifications"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$("notifications"),children:"Notifications"}),T&&n.jsx("button",{className:`px-4 py-2 text-sm font-medium border-l border-gray-200 ${I==="admin"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$("admin"),children:"Admin"})]})}),I==="subscriptions"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nw,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Strategy Subscriptions"})]}),zs.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"You have no active subscriptions."}):n.jsx("div",{className:"divide-y divide-gray-100",children:zs.map(W=>{const X=nn.find(Mi=>Mi.id===W),Se=O[W],rt=Se!=null&&Se.ends_at?new Date(Se.ends_at):null,us=rt?Math.ceil((rt.getTime()-Date.now())/(1e3*60*60*24)):null;return n.jsxs("div",{className:"py-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:(X==null?void 0:X.name)||W}),n.jsx("div",{className:"text-xs text-gray-500",children:rt?`Expires ${rt.toLocaleDateString()}${us!==null?` • ${us}d left`:""}`:"No expiry information"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>se(W),disabled:U,className:"px-3 py-1.5 text-sm rounded-md bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:"Renew"}),n.jsx("button",{onClick:()=>ee(W),disabled:U,className:"px-3 py-1.5 text-sm rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"})]})]},W)})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Te,{className:"w-5 h-5 text-green-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Strategies"})]}),nn.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No strategies published yet."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:nn.map(W=>{const X=zs.includes(W.id),Se=O[W.id],rt=Se!=null&&Se.ends_at?new Date(Se.ends_at):null,us=rt?Math.ceil((rt.getTime()-Date.now())/(1e3*60*60*24)):null;return n.jsxs("div",{className:`border rounded-lg p-4 ${X?"border-green-200 bg-green-50":"border-gray-200 bg-white"}`,children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:W.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Cost: ",W.token_cost," tokens"]})]}),X&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:"Active"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-3",children:W.description}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("div",{className:"text-xs text-gray-500",children:X&&(rt?`Expires ${rt.toLocaleDateString()}${us!==null?` • ${us}d left`:""}`:"—")}),n.jsx("div",{className:"flex items-center gap-2",children:X?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>se(W.id),disabled:U,className:"px-3 py-1.5 text-sm rounded-md bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:"Renew"}),n.jsx("button",{onClick:()=>ee(W.id),disabled:U,className:"px-3 py-1.5 text-sm rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"})]}):n.jsx("button",{onClick:()=>re(W.id),disabled:U,className:"px-3 py-1.5 text-sm rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:"Subscribe"})})]})]},W.id)})})]})]}),I==="security"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(It,{className:"w-5 h-5 text-gray-700"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(fL,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"font-medium",children:"Password"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Send a password reset email to ",(M==null?void 0:M.email)||"your address","."]}),n.jsx("button",{onClick:async()=>{if(!(M!=null&&M.email)){R.error("No email on file");return}const{error:W}=await D.auth.resetPasswordForEmail(M.email);W?R.error(W.message):R.success("Password reset email sent")},className:"px-3 py-1.5 text-sm rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Send Reset Email"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Hx,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"font-medium",children:"Sign out everywhere"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Invalidate all sessions on all devices."}),n.jsx("button",{onClick:async()=>{try{await D.auth.signOut({scope:"global"}),R("Signed out across all devices")}catch(W){R.error((W==null?void 0:W.message)||"Failed to sign out globally")}},className:"px-3 py-1.5 text-sm rounded-md border border-gray-300 hover:bg-gray-50",children:"Sign out all"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Two-factor authentication (2FA) is not configured yet. Contact support if you need enterprise-grade security."})})]})}),I==="notifications"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Nw,{className:"w-5 h-5 text-gray-700"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"These preferences are stored locally on your device for now."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Email alerts"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Receive important account notifications by email"})]}),n.jsx("input",{type:"checkbox",className:"h-5 w-5",checked:je,onChange:W=>Le(W.target.checked)})]}),n.jsxs("label",{className:"flex items-center justify-between border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Strategy expiry reminders"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Remind me before a subscription expires"})]}),n.jsx("input",{type:"checkbox",className:"h-5 w-5",checked:Ye,onChange:W=>Et(W.target.checked)})]}),n.jsxs("label",{className:"flex items-center justify-between border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Trade executed"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Show a prompt when a trade is executed"})]}),n.jsx("input",{type:"checkbox",className:"h-5 w-5",checked:Wt,onChange:W=>rr(W.target.checked)})]}),n.jsxs("label",{className:"flex items-center justify-between border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Promotions"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Product updates, offers, and news"})]}),n.jsx("input",{type:"checkbox",className:"h-5 w-5",checked:At,onChange:W=>rn(W.target.checked)})]})]}),n.jsx("div",{className:"mt-4 flex items-center justify-end",children:n.jsx("button",{onClick:J,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Save preferences"})})]}),I==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(si,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Current Balance"}),n.jsx("p",{className:"text-2xl font-bold text-blue-800",children:s.balance}),n.jsx("p",{className:"text-xs text-blue-600",children:"Available Tokens"})]})]}),n.jsx("button",{onClick:Vs,className:"mt-4 text-sm text-blue-700 hover:text-blue-800 underline",children:p?"Hide token statistics":"View token statistics"})]}),p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(vu,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Earned"}),n.jsx("p",{className:"text-2xl font-bold text-green-800",children:s.earned}),n.jsx("p",{className:"text-xs text-green-600",children:"Lifetime Earnings"})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:n.jsx(lL,{className:"w-6 h-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Total Spent"}),n.jsx("p",{className:"text-2xl font-bold text-purple-800",children:s.spent}),n.jsx("p",{className:"text-xs text-purple-600",children:"Lifetime Spending"})]})]})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:n.jsx(Is,{className:"w-6 h-6 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Need More Tokens?"}),n.jsx("p",{className:"text-lg font-medium text-gray-800",children:"Browse Packages"})]})]}),n.jsx("button",{onClick:st,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Packages"})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:n.jsx(vs,{className:"w-6 h-6 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Token Circulation"}),n.jsxs("p",{className:"text-lg font-medium text-gray-800",children:["In: ",s.earned," | Out: ",s.spent]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Net Change"}),n.jsx("p",{className:`text-lg font-medium ${s.earned-s.spent>=0?"text-green-600":"text-red-600"}`,children:s.earned-s.spent})]})]})})]})]}),I==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(es,{className:"w-5 h-5 text-gray-700"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Identity"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Email"}),n.jsx("span",{className:"font-medium text-gray-900",children:(M==null?void 0:M.email)||"—"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"User ID"}),n.jsxs("button",{onClick:()=>kt(M==null?void 0:M.userId),className:"text-xs text-blue-600 hover:text-blue-800 inline-flex items-center gap-1",children:[n.jsx(Bt,{className:"w-3.5 h-3.5"}),"Copy"]})]}),n.jsx("p",{className:"mt-1 font-mono text-xs break-all text-gray-800",children:(M==null?void 0:M.userId)||"—"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Last Sign-in"}),n.jsx("span",{className:"font-medium text-gray-900",children:M!=null&&M.lastSignInAt?new Date(M.lastSignInAt).toLocaleString():"—"})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(Te,{className:"w-5 h-5 text-green-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Strategy Access"})]}),zs.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No active strategy subscriptions yet."}):n.jsx("div",{className:"space-y-2",children:zs.map(W=>{const X=nn.find(us=>us.id===W),Se=O[W];let rt=null;if(Se!=null&&Se.ends_at){const us=new Date(Se.ends_at),Mi=Math.ceil((us.getTime()-Date.now())/(1e3*60*60*24));rt=n.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:Mi>0?`${Mi} days left`:"expires today"})}return n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_L,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:(X==null?void 0:X.name)||W})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-green-600 text-xs font-semibold",children:"Active"}),rt]})]},W)})})]})]}),I==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[n.jsxs("button",{onClick:ke,className:"flex items-center justify-between w-full bg-white border border-gray-200 rounded-xl p-4 hover:shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vx,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Claim Daily Bonus"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Get free tokens once per day"})]})]}),n.jsx("span",{className:"text-green-600 text-sm font-medium",children:"Claim"})]}),n.jsxs("button",{onClick:Oe,className:"flex items-center justify-between w-full bg-white border border-gray-200 rounded-xl p-4 hover:shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(kf,{className:"w-5 h-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Request Payout"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Send withdrawal request to admin"})]})]}),n.jsx("span",{className:"text-purple-600 text-sm font-medium",children:"Request"})]}),n.jsxs("button",{onClick:async()=>{var X;const{data:{session:W}}=await D.auth.getSession();kt((X=W==null?void 0:W.user)==null?void 0:X.id)},className:"flex items-center justify-between w-full bg-white border border-gray-200 rounded-xl p-4 hover:shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Copy My User ID"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Copy auth.users UUID"})]})]}),n.jsx("span",{className:"text-blue-600 text-sm font-medium",children:"Copy"})]})]}),I==="overview"&&r.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Plugins"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(W=>n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:n.jsx(Is,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:W.name}),n.jsx("p",{className:"text-xs text-purple-600",children:W.expiresAt?`Expires ${Jr(new Date(W.expiresAt),{addSuffix:!0})}`:"Lifetime access"})]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:W.description})]},W.id))})]}),I==="overview"&&t&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trading Account"}),n.jsxs("button",{onClick:()=>yr("/diagnostics"),className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[n.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Diagnostics"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Account Number"}),n.jsx("p",{className:"font-medium text-gray-900",children:t.accountNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Server"}),n.jsx("p",{className:"font-medium text-gray-900",children:t.serverName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Account Type"}),n.jsx("p",{className:"font-medium text-gray-900 capitalize",children:t.accountType||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Balance"}),n.jsx("p",{className:"font-medium text-gray-900",children:ne(t.balance)})]})]})]}),I==="admin"&&T&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-blue-200 p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Sw,{className:"w-5 h-5 text-blue-600"})," Platform Settings (Admin)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:Xo,className:"text-sm px-3 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50",disabled:C,children:C?"Loading…":"Refresh"}),n.jsx("button",{onClick:G,className:"text-sm px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Set Wallet to Me"})]})]}),E?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-blue-700",children:"Row ID"}),n.jsx("p",{className:"font-medium text-blue-900",children:E.id||1})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 col-span-1 md:col-span-2 lg:col-span-2",children:[n.jsxs("p",{className:"text-sm text-blue-700 flex items-center justify-between",children:["Platform Wallet User ID",n.jsxs("button",{onClick:()=>kt(E.platform_wallet_user_id),className:"inline-flex items-center gap-1 text-xs text-blue-700 hover:text-blue-900",children:[n.jsx(Bt,{className:"w-3.5 h-3.5"})," Copy"]})]}),n.jsx("p",{className:"font-mono text-sm break-all text-blue-900",children:E.platform_wallet_user_id||"—"})]}),n.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-green-700",children:"Signup Bonus Enabled"}),n.jsx("p",{className:"font-medium text-green-900",children:E.signup_bonus_enabled?"TRUE":"FALSE"})]}),n.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-green-700",children:"Signup Bonus Tokens"}),n.jsx("p",{className:"font-medium text-green-900",children:E.signup_bonus_tokens??0})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-yellow-700",children:"Login Bonus Enabled"}),n.jsx("p",{className:"font-medium text-yellow-900",children:E.login_bonus_enabled?"TRUE":"FALSE"})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-yellow-700",children:"Login Bonus Tokens"}),n.jsx("p",{className:"font-medium text-yellow-900",children:E.login_bonus_tokens??0})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Created At"}),n.jsx("p",{className:"font-medium text-gray-900",children:E.created_at?new Date(E.created_at).toLocaleString():"—"})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Updated At"}),n.jsx("p",{className:"font-medium text-gray-900",children:E.updated_at?new Date(E.updated_at).toLocaleString():"—"})]})]}):n.jsx("p",{className:"text-sm text-gray-600",children:"No platform settings found."}),n.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"These values are global for the platform. Visible only to admins."})]}),I==="transactions"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your latest token activity"}),n.jsx("div",{className:"mt-4 flex items-center gap-2",children:["all","earned","spent","bonus","purchased","refund"].map(W=>n.jsx("button",{onClick:()=>B(W),className:`px-3 py-1.5 text-xs rounded-full border ${H===W?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:W.charAt(0).toUpperCase()+W.slice(1)},W))})]}),n.jsx("div",{className:"divide-y divide-gray-100",children:(()=>{const W=s.transactions.filter(X=>H==="all"?!0:X.type===H);return W.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Vx,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No transactions yet"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your token transactions will appear here"})]}):W.map(X=>n.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${X.type==="earned"?"bg-green-100":X.type==="spent"?"bg-red-100":"bg-blue-100"}`,children:de(X.type)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:X.description}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(Yr,{className:"w-3 h-3"}),n.jsx("span",{children:Jr(new Date(X.timestamp),{addSuffix:!0})}),X.relatedService&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsx("span",{className:"capitalize",children:X.relatedService})]})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:`font-semibold ${Ee(X.type)}`,children:[X.type==="spent"?"-":"+",X.amount," tokens"]})})]})},X.id))})()})]}),I==="transactions"&&n.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payout Requests"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your withdrawal requests"})]}),n.jsx("button",{onClick:Oe,className:"px-3 py-1.5 rounded-md bg-purple-600 text-white hover:bg-purple-700",children:"New Request"})]}),qe?n.jsx("div",{className:"p-6 text-sm text-gray-600",children:"Loading…"}):be.length===0?n.jsx("div",{className:"p-6 text-sm text-gray-600",children:"No payout requests yet."}):n.jsx("div",{className:"divide-y divide-gray-100",children:be.map(W=>n.jsxs("div",{className:"p-6 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium text-gray-900",children:[W.amount," tokens"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Created ",new Date(W.created_at).toLocaleString()," ",W.processed_at?`• Processed ${new Date(W.processed_at).toLocaleString()}`:""]}),W.note&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Note: ",W.note]})]}),n.jsx("div",{children:n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${W.status==="paid"?"bg-green-100 text-green-700":W.status==="rejected"?"bg-red-100 text-red-700":W.status==="approved"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:W.status})})]},W.id))})]}),I==="overview"&&n.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Management"}),n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ya,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"Delete Account"}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."}),n.jsx("button",{onClick:Lt,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})})})]}),I==="overview"&&n.jsxs("div",{className:"mt-8 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need More Tokens?"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Purchase token packages to unlock VPS features and advanced trading capabilities."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"100 Tokens"}),n.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"$9.99"}),n.jsx("button",{onClick:st,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Purchase"})]}),n.jsxs("div",{className:"bg-white border border-purple-200 rounded-lg p-4 text-center bg-purple-50",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"500 Tokens"}),n.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"$39.99"}),n.jsx("div",{className:"text-xs text-purple-600 mb-3",children:"20% Bonus!"}),n.jsx("button",{onClick:st,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Purchase"})]}),n.jsxs("div",{className:"bg-white border border-yellow-200 rounded-lg p-4 text-center bg-yellow-50",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:"1000 Tokens"}),n.jsx("div",{className:"text-sm text-yellow-600 mb-1",children:"$69.99"}),n.jsx("div",{className:"text-xs text-yellow-600 mb-3",children:"30% Bonus!"}),n.jsx("button",{onClick:st,className:"w-full py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Purchase"})]})]})]})]}),L&&n.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[100] p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Request Payout"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter the amount of tokens you want to withdraw."}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Amount (tokens)"}),n.jsx("input",{type:"number",min:"1",value:z,onChange:W=>A(W.target.value),className:"mt-1 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:yt,disabled:ie,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:bg-blue-300",children:ie?"Submitting…":"Submit Request"})]})]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Purchase Tokens with Cryptocurrency"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(zx,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-800 font-medium",children:"Crypto Payment"}),n.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Send the exact amount to the address below. Tokens will be automatically credited to your account."})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token Amount"}),n.jsxs("select",{value:h,onChange:W=>f(parseInt(W.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:100,children:"100 Tokens - $9.99"}),n.jsx("option",{value:500,children:"500 Tokens - $39.99 (20% Bonus)"}),n.jsx("option",{value:1e3,children:"1000 Tokens - $69.99 (30% Bonus)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 text-center bg-gray-50",children:[n.jsx(zx,{className:"w-5 h-5 text-orange-500 mx-auto mb-1"}),n.jsx("p",{className:"text-sm font-medium",children:"Bitcoin"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 text-center bg-gray-50",children:[n.jsx(Sw,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),n.jsx("p",{className:"text-sm font-medium",children:"USDT"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Address"}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 font-mono text-sm break-all",children:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Send exactly $",h===100?"9.99":h===500?"39.99":"69.99"," worth of cryptocurrency to this address"]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-yellow-800 text-sm",children:[n.jsx("strong",{children:"Important:"})," After sending payment, tokens will be automatically credited to your account within 10-30 minutes."]})})]}),n.jsx("div",{className:"flex space-x-3 mt-6",children:n.jsx("button",{onClick:et,className:"w-full py-2 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-red-600 mb-4",children:"Delete Account"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"Warning: This action cannot be undone"}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Deleting your account will permanently remove all your data, including:"}),n.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"All trading accounts and connections"}),n.jsx("li",{children:"Trading robots and signals"}),n.jsx("li",{children:"Token balance and transaction history"}),n.jsx("li",{children:"Purchased plugins and VPS subscriptions"})]})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type DELETE to confirm"}),n.jsx("input",{type:"text",value:m,onChange:W=>x(W.target.value),placeholder:"Type DELETE here",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:br,disabled:m!=="DELETE"||g,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Deleting..."})]}):"Permanently Delete Account"}),n.jsx("button",{onClick:Ss,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})})]}):n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(gg,{accountInfo:t,onBackToChoice:ks,showBackButton:!0,currentMode:"profile"}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})})]})},EX=()=>{const{adminPlugins:e,fetchAdminPlugins:t,addAdminPlugin:s,updateAdminPlugin:r,deleteAdminPlugin:i}=To(),[a,o]=k.useState(!0),[l,c]=k.useState(!1),[d,u]=k.useState(null),[h,f]=k.useState({id:"",name:"",description:"",tokenCost:0,isActive:!0,features:[],newFeatureName:"",newFeatureDescription:""});k.useEffect(()=>{(async()=>{o(!0),await t(),o(!1)})()},[t]);const m=()=>{f({id:"",name:"",description:"",tokenCost:0,isActive:!0,features:[],newFeatureName:"",newFeatureDescription:""})},x=()=>{m(),c(!0)},g=j=>{f({id:j.id,name:j.name,description:j.description,tokenCost:j.tokenCost,isActive:j.isActive,features:j.features||[],newFeatureName:"",newFeatureDescription:""}),u(j.id)},y=()=>{c(!1),u(null),m()},p=j=>{const{name:E,value:_,type:C}=j.target;if(C==="checkbox"){const P=j.target.checked;f(I=>({...I,[E]:P}))}else f(E==="tokenCost"?P=>({...P,[E]:parseInt(_)||0}):P=>({...P,[E]:_}))},b=()=>{if(!h.newFeatureName.trim()){R.error("Feature name is required");return}f(j=>({...j,features:[...j.features,{name:j.newFeatureName,description:j.newFeatureDescription}],newFeatureName:"",newFeatureDescription:""}))},v=j=>{f(E=>({...E,features:E.features.filter((_,C)=>C!==j)}))},w=async j=>{if(j.preventDefault(),!h.id.trim()||!h.name.trim()||!h.description.trim()){R.error("ID, name, and description are required");return}try{d?await r(d,{name:h.name,description:h.description,tokenCost:h.tokenCost,isActive:h.isActive,features:h.features})&&y():await s({id:h.id,name:h.name,description:h.description,tokenCost:h.tokenCost,isActive:h.isActive,features:h.features})&&y()}catch(E){console.error("Error saving plugin:",E),R.error("Failed to save plugin")}},N=async j=>{window.confirm("Are you sure you want to delete this plugin? This action cannot be undone.")&&await i(j)},S=async j=>{await r(j.id,{isActive:!j.isActive})},T=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"p-6 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Plugin Management"}),n.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(Gr,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Plugin"})]})]}),n.jsx("p",{className:"text-purple-200",children:"Manage available plugins that users can purchase with tokens"})]}),a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),n.jsx("p",{className:"text-purple-200",children:"Loading plugins..."})]}):e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Is,{className:"w-12 h-12 text-purple-300 mx-auto mb-4"}),n.jsx("p",{className:"text-purple-200",children:"No plugins found"}),n.jsx("p",{className:"text-sm text-purple-300 mt-1",children:"Add your first plugin to make it available to users"}),n.jsxs("button",{onClick:x,className:"mt-4 flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors mx-auto",children:[n.jsx(Gr,{className:"w-4 h-4"}),n.jsx("span",{children:"Add First Plugin"})]})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Plugin"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Cost"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Features"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(j=>{var E;return n.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:j.name}),n.jsx("p",{className:"text-sm text-purple-300 font-mono",children:j.id})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("p",{className:"text-sm text-purple-100",children:j.description})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(vs,{className:"w-4 h-4 text-green-300"}),n.jsx("span",{className:"text-lg font-semibold text-white",children:j.tokenCost}),n.jsx("span",{className:"text-xs text-purple-300",children:"tokens"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm text-purple-200",children:[((E=j.features)==null?void 0:E.length)||0," features"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:T(j.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>S(j),className:`p-1 rounded-lg transition-colors ${j.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,title:j.isActive?"Deactivate plugin":"Activate plugin",children:j.isActive?n.jsx(CL,{className:"w-5 h-5"}):n.jsx(TL,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>g(j),className:"p-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Edit plugin",children:n.jsx(aT,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>N(j.id),className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Delete plugin",children:n.jsx(ya,{className:"w-5 h-5"})})]})})]},j.id)})})]})}),(l||d)&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:d?"Edit Plugin":"Add New Plugin"}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plugin ID"}),n.jsx("input",{type:"text",name:"id",value:h.id,onChange:p,placeholder:"unique-plugin-id",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:!!d,required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Unique identifier, use kebab-case (e.g., "risk-manager")'})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token Cost"}),n.jsxs("div",{className:"relative",children:[n.jsx(vs,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"number",name:"tokenCost",value:h.tokenCost,onChange:p,min:"0",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cost in tokens to purchase this plugin"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plugin Name"}),n.jsx("input",{type:"text",name:"name",value:h.name,onChange:p,placeholder:"Risk Manager Pro",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{name:"description",value:h.description,onChange:p,placeholder:"Advanced risk management tools for professional traders...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,required:!0})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:h.isActive,onChange:j=>f(E=>({...E,isActive:j.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Plugin is active and available for purchase"})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(J0,{className:"w-4 h-4 mr-2"}),"Plugin Features"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[h.features.length," features"]})]}),h.features.length>0&&n.jsx("div",{className:"space-y-2 mb-4",children:h.features.map((j,E)=>n.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:j.name}),n.jsx("p",{className:"text-sm text-gray-600",children:j.description})]}),n.jsx("button",{type:"button",onClick:()=>v(E),className:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full",children:n.jsx(Ht,{className:"w-4 h-4"})})]},E))}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add New Feature"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{children:n.jsx("input",{type:"text",name:"newFeatureName",value:h.newFeatureName,onChange:p,placeholder:"Feature name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"})}),n.jsx("div",{children:n.jsx("input",{type:"text",name:"newFeatureDescription",value:h.newFeatureDescription,onChange:p,placeholder:"Feature description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"})}),n.jsxs("button",{type:"button",onClick:b,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[n.jsx(Gr,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Feature"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[n.jsx(Nf,{className:"w-4 h-4"}),n.jsx("span",{children:d?"Update Plugin":"Add Plugin"})]})]})]})]})})]})},AX=()=>{const[e,t]=k.useState(!0),[s,r]=k.useState(0),[i,a]=k.useState(""),[o,l]=k.useState(!1),[c,d]=k.useState([]),[u,h]=k.useState(100),[f,m]=k.useState(!1),[x,g]=k.useState(""),[y,p]=k.useState(100),[b,v]=k.useState(!1),w=async()=>{const{data:j,error:E}=await D.from("platform_settings").select("*").eq("id",1).single();if(E){console.error(E),R.error("Failed to load settings");return}t(!!j.signup_bonus_enabled),r(j.signup_bonus_tokens??0),a(j.platform_wallet_user_id||"")},N=async()=>{l(!0);const{error:j}=await D.rpc("admin_update_platform_settings",{p_signup_bonus_tokens:s,p_signup_bonus_enabled:e,p_platform_wallet_user_id:i||null});if(l(!1),j){console.error(j),R.error(j.message||"Failed to save");return}R.success("Settings saved"),w()},S=async()=>{m(!0);const{data:j,error:E}=await D.rpc("admin_get_token_transactions",{p_limit:u});if(m(!1),E){console.error(E),R.error("Failed to load transactions");return}d(j||[])},T=async j=>{if(!x||!j){R.error("Enter user email and a non-zero amount");return}v(!0);try{const{data:E,error:_}=await D.from("auth.users").select("id, email").ilike("email",x).limit(1);if(_||!E||E.length===0){R.error("User not found"),v(!1);return}const C=E[0].id,{data:P,error:I}=await D.from("user_tokens").select("balance, earned, spent").eq("user_id",C).single();if(I||!P){const{error:$}=await D.from("user_tokens").insert({user_id:C,balance:Math.max(j,0),earned:j>0?Math.abs(j):0,spent:j<0?Math.abs(j):0,updated_at:new Date().toISOString()});if($){console.error($),R.error("Failed to create token wallet"),v(!1);return}}else{const $=Math.max(0,(P.balance||0)+j),H=(P.earned||0)+(j>0?Math.abs(j):0),B=(P.spent||0)+(j<0?Math.abs(j):0),{error:L}=await D.from("user_tokens").update({balance:$,earned:H,spent:B,updated_at:new Date().toISOString()}).eq("user_id",C);if(L){console.error(L),R.error("Failed to update tokens"),v(!1);return}}await D.from("token_transactions").insert({user_id:C,type:j>0?"earned":"spent",amount:Math.abs(j),description:"Admin adjustment",related_service:"admin",metadata:{admin_adjustment:!0}}),R.success("User tokens updated")}catch(E){console.error(E),R.error(E.message||"Error updating user tokens")}finally{v(!1)}};return k.useEffect(()=>{w(),S()},[]),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(It,{className:"w-5 h-5 text-purple-300"}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Token Settings"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Signup Bonus Enabled"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:e,onChange:j=>t(j.target.checked)}),n.jsx(Vx,{className:"w-4 h-4 text-purple-300"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Signup Bonus Tokens"}),n.jsx("input",{type:"number",className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white",value:s,onChange:j=>r(parseInt(j.target.value||"0",10))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Platform Wallet User ID"}),n.jsx("input",{type:"text",className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white",value:i,onChange:j=>a(j.target.value),placeholder:"uuid..."})]})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[n.jsxs("button",{onClick:N,disabled:o,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Nf,{className:"w-4 h-4"}),o?"Saving...":"Save Settings"]}),n.jsxs("button",{onClick:w,className:"px-4 py-2 bg-white/10 text-white rounded-lg flex items-center gap-2 hover:bg-white/20",children:[n.jsx(Mn,{className:"w-4 h-4"})," Reload"]})]})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(si,{className:"w-5 h-5 text-green-300"}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Adjust User Tokens"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"User Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(en,{className:"w-4 h-4 text-purple-300 absolute left-3 top-1/2 -translate-y-1/2"}),n.jsx("input",{type:"text",value:x,onChange:j=>g(j.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg pl-9 pr-3 py-2 text-white",placeholder:"user@example.com"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Amount (+/-)"}),n.jsx("input",{type:"number",value:y,onChange:j=>p(parseInt(j.target.value||"0",10)),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white"})]}),n.jsxs("div",{children:[n.jsx("button",{onClick:()=>T(y),disabled:b,className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg disabled:opacity-50",children:b?"Updating...":"Add"}),n.jsx("button",{onClick:()=>T(-Math.abs(y)),disabled:b,className:"w-full mt-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg disabled:opacity-50",children:b?"Updating...":"Remove"})]})]})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(J0,{className:"w-5 h-5 text-purple-300"}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Token Transactions"})]}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("label",{className:"text-sm text-purple-200",children:"Limit"}),n.jsx("input",{type:"number",value:u,onChange:j=>h(parseInt(j.target.value||"0",10)),className:"w-24 bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white"}),n.jsxs("button",{onClick:S,className:"px-3 py-2 bg-white/10 text-white rounded-lg flex items-center gap-2 hover:bg-white/20",children:[n.jsx(Mn,{className:`w-4 h-4 ${f?"animate-spin":""}`}),"Refresh"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"text-left text-purple-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2 pr-4",children:"Time"}),n.jsx("th",{className:"py-2 pr-4",children:"User"}),n.jsx("th",{className:"py-2 pr-4",children:"Type"}),n.jsx("th",{className:"py-2 pr-4",children:"Amount"}),n.jsx("th",{className:"py-2 pr-4",children:"Service"}),n.jsx("th",{className:"py-2 pr-4",children:"Description"})]})}),n.jsxs("tbody",{className:"text-white/90",children:[c.map(j=>n.jsxs("tr",{className:"border-t border-white/10",children:[n.jsx("td",{className:"py-2 pr-4",children:new Date(j.created_at).toLocaleString()}),n.jsx("td",{className:"py-2 pr-4 font-mono text-xs",children:j.user_id}),n.jsx("td",{className:"py-2 pr-4",children:j.type}),n.jsx("td",{className:"py-2 pr-4",children:j.amount}),n.jsx("td",{className:"py-2 pr-4",children:j.related_service||"-"}),n.jsx("td",{className:"py-2 pr-4",children:j.description||"-"})]},j.id)),c.length===0&&n.jsx("tr",{children:n.jsx("td",{className:"py-6 text-purple-200",colSpan:6,children:"No transactions"})})]})]})})]})]})},RX=()=>{const[e,t]=k.useState([]),[s,r]=k.useState(!0),[i,a]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,h]=k.useState(null),[f,m]=k.useState(!1),[x,g]=k.useState([]),[y,p]=k.useState({code:"",discountPercent:10,maxUses:100,expiresAt:"",isActive:!0,agreedToTerms:!1});k.useEffect(()=>{b();const L=setInterval(()=>{b()},3e4);return()=>clearInterval(L)},[]);const b=async()=>{try{r(!0);const{data:L,error:F}=await D.from("promo_codes").select("*").order("created_at",{ascending:!1});if(F){console.error("Error fetching promo codes:",F),R.error("Failed to load promo codes");return}t(L||[])}catch(L){console.error("Error fetching promo codes:",L),R.error("Failed to load promo codes")}finally{r(!1)}},v=()=>{p({code:"",discountPercent:10,maxUses:100,expiresAt:"",isActive:!0,agreedToTerms:!1}),g([])},w=()=>{v(),a(!0)},N=L=>{p({code:L.code,discountPercent:L.discount_percent,maxUses:L.max_uses,expiresAt:L.expires_at?new Date(L.expires_at).toISOString().split("T")[0]:"",isActive:L.is_active,agreedToTerms:!0}),d(L.id),a(!0)},S=L=>{h(L),l(!0)},T=()=>{a(!1),d(null),v()},j=()=>{l(!1),h(null)},E=L=>{const{name:F,value:z,type:A}=L.target;if(A==="checkbox"){const ie=L.target.checked;p(K=>({...K,[F]:ie}))}else p(F==="discountPercent"||F==="maxUses"?ie=>({...ie,[F]:parseInt(z)||0}):ie=>({...ie,[F]:z}))},_=()=>{const L=[];return y.code.trim()||L.push("Promo code is required"),(y.discountPercent<=0||y.discountPercent>100)&&L.push("Discount percent must be between 1 and 100"),y.maxUses<=0&&L.push("Maximum uses must be greater than 0"),!y.agreedToTerms&&!c&&L.push("You must agree to the terms and conditions"),g(L),L.length===0},C=async L=>{if(L.preventDefault(),!!_())try{m(!0);const F=`${Js}/functions/v1/admin-promo-code`,z=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jn}`},body:JSON.stringify({action:c?"update":"create",promoId:c,promoData:{code:y.code.toUpperCase(),discountPercent:y.discountPercent,maxUses:y.maxUses,expiresAt:y.expiresAt?new Date(y.expiresAt).toISOString():null,isActive:y.isActive},adminCredentials:{username:"admin",password:"admin123"}})}),A=await z.json();if(!z.ok)throw new Error(A.error||"Failed to save promo code");R.success(A.message||(c?"Promo code updated successfully":"Promo code created successfully")),b(),T()}catch(F){console.error("Error saving promo code:",F),R.error(F instanceof Error?F.message:"Failed to save promo code")}finally{m(!1)}},P=async()=>{if(u)try{const L=`${Js}/functions/v1/admin-promo-code`,F=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jn}`},body:JSON.stringify({action:"delete",promoId:u.id,adminCredentials:{username:"admin",password:"admin123"}})}),z=await F.json();if(!F.ok)throw new Error(z.error||"Failed to delete promo code");R.success(z.message||"Promo code deleted successfully"),b(),j()}catch(L){console.error("Error deleting promo code:",L),R.error(L instanceof Error?L.message:"Failed to delete promo code")}},I=async L=>{try{const F=`${Js}/functions/v1/admin-promo-code`,z=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jn}`},body:JSON.stringify({action:"toggle",promoId:L.id,isActive:!L.is_active,adminCredentials:{username:"admin",password:"admin123"}})}),A=await z.json();if(!z.ok)throw new Error(A.error||"Failed to update promo code status");R.success(`Promo code ${L.is_active?"deactivated":"activated"}`),b()}catch(F){console.error("Error toggling promo code status:",F),R.error(F instanceof Error?F.message:"Failed to update promo code status")}},$=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never",H=L=>L?new Date(L)<new Date:!1,B=()=>{const L=["SUMMER","WINTER","SPRING","FALL","PROMO","SAVE","DEAL","SPECIAL","VIP","WELCOME"],F=L[Math.floor(Math.random()*L.length)],z=Math.floor(Math.random()*90)+10,A=`${F}${z}`;p(ie=>({...ie,code:A}))};return n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"p-6 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Promo Code Management"}),n.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(Gr,{className:"w-4 h-4"}),n.jsx("span",{children:"Create Promo Code"})]})]}),n.jsx("p",{className:"text-purple-200",children:"Create and manage promo codes for token package discounts"})]}),s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),n.jsx("p",{className:"text-purple-200",children:"Loading promo codes..."})]}):e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(aa,{className:"w-12 h-12 text-purple-300 mx-auto mb-4"}),n.jsx("p",{className:"text-purple-200",children:"No promo codes found"}),n.jsx("p",{className:"text-sm text-purple-300 mt-1",children:"Create your first promo code to offer discounts to users"}),n.jsxs("button",{onClick:w,className:"mt-4 flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors mx-auto",children:[n.jsx(Gr,{className:"w-4 h-4"}),n.jsx("span",{children:"Create First Promo Code"})]})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Discount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Usage"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Expiration"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(L=>n.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(aa,{className:"w-4 h-4 text-purple-300"}),n.jsx("span",{className:"font-mono font-medium text-white",children:L.code})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(mh,{className:"w-4 h-4 text-green-300"}),n.jsxs("span",{className:"text-lg font-semibold text-white",children:[L.discount_percent,"%"]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("span",{className:"text-white",children:[L.used_count," / ",L.max_uses]}),n.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-1.5 mt-1",children:n.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{inlineSize:L.max_uses>0?`${Math.min(L.used_count/L.max_uses*100,100)}%`:"0%"}})})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.expires_at?n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Co,{className:"w-4 h-4 text-purple-300"}),n.jsxs("span",{className:`text-sm ${H(L.expires_at)?"text-red-300":"text-white"}`,children:[$(L.expires_at),H(L.expires_at)&&" (Expired)"]})]}):n.jsx("span",{className:"text-gray-400",children:"Never"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.is_active&&!H(L.expires_at)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.is_active&&!H(L.expires_at)?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:$(L.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>I(L),className:`p-1 rounded-lg transition-colors ${L.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,title:L.is_active?"Deactivate promo code":"Activate promo code",children:L.is_active?n.jsx(Ht,{className:"w-5 h-5"}):n.jsx(ms,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>N(L),className:"p-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Edit promo code",children:n.jsx(aT,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>S(L),className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Delete promo code",children:n.jsx(ya,{className:"w-5 h-5"})})]})})]},L.id))})]})}),i&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:c?"Edit Promo Code":"Create Promo Code"}),x.length>0&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"Please fix the following errors:"}),n.jsx("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside",children:x.map((L,F)=>n.jsx("li",{children:L},F))})]})]})}),n.jsxs("form",{onSubmit:C,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code *"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(aa,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",name:"code",value:y.code,onChange:E,placeholder:"SUMMER20",className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent uppercase ${x.includes("Promo code is required")?"border-red-300 bg-red-50":"border-gray-300"}`,disabled:!!c,required:!0})]}),!c&&n.jsx("button",{type:"button",onClick:B,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",title:"Generate random code",children:"Generate"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c?"Promo code cannot be changed":"Use uppercase letters and numbers, no spaces"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Percentage *"}),n.jsxs("div",{className:"relative",children:[n.jsx(mh,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"number",name:"discountPercent",value:y.discountPercent,onChange:E,min:"1",max:"100",className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${x.includes("Discount percent must be between 1 and 100")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Percentage discount applied to the package price"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Uses *"}),n.jsx("input",{type:"number",name:"maxUses",value:y.maxUses,onChange:E,min:"1",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${x.includes("Maximum uses must be greater than 0")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How many times this code can be used in total"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Co,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"date",name:"expiresAt",value:y.expiresAt,onChange:E,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for no expiration"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:y.isActive,onChange:E,className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Promo code is active and available for use"})]}),!c&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"agreedToTerms",name:"agreedToTerms",checked:y.agreedToTerms,onChange:E,className:`w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 ${x.includes("You must agree to the terms and conditions")?"border-red-300":""}`}),n.jsx("label",{htmlFor:"agreedToTerms",className:"ml-2 text-sm text-gray-700",children:"I understand that this promo code will be available to all users"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:f?n.jsxs(n.Fragment,{children:[n.jsx(ga,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Nf,{className:"w-4 h-4"}),n.jsx("span",{children:c?"Update Promo Code":"Create Promo Code"})]})})]})]})]})}),o&&u&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-lg flex-shrink-0",children:n.jsx(bs,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Promo Code"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Are you sure you want to delete the promo code ",n.jsx("span",{className:"font-mono font-medium",children:u.code}),"?"]})]})]}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"Warning"}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:"This action cannot be undone. Users will no longer be able to use this promo code."})]})]})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete Promo Code"})]})]})})]})},MX=()=>{const[e,t]=k.useState([]),[s,r]=k.useState([]),[i,a]=k.useState(""),[o,l]=k.useState(!1),[c,d]=k.useState({strategy_id:"",name:"",tv_script:"",tv_settings:"{}"}),[u,h]=k.useState(!1),f=async()=>{const{data:b,error:v}=await D.from("strategies").select("id, name").order("name");if(v){R.error("Failed to load strategies");return}r(b)},m=async()=>{l(!0);const{data:b,error:v}=await D.rpc("admin_get_indicators",{p_strategy_id:i||null});if(l(!1),v){R.error(v.message||"Failed to load indicators");return}t(b||[])};k.useEffect(()=>{f()},[]),k.useEffect(()=>{m()},[i]);const x=()=>d({strategy_id:"",name:"",tv_script:"",tv_settings:"{}"}),g=async()=>{if(!c.strategy_id||!c.name){R.error("Strategy and name are required");return}try{if(h(!0),c.id){const{error:b}=await D.rpc("admin_update_indicator",{p_id:c.id,p_name:c.name,p_tv_script:c.tv_script||null,p_tv_settings:c.tv_settings?JSON.parse(c.tv_settings):null});if(b)throw b;R.success("Indicator updated")}else{const{error:b}=await D.rpc("admin_add_indicator",{p_strategy_id:c.strategy_id,p_name:c.name,p_tv_script:c.tv_script||null,p_tv_settings:c.tv_settings?JSON.parse(c.tv_settings):{}});if(b)throw b;R.success("Indicator added")}x(),await m()}catch(b){R.error(b.message||"Failed to save indicator")}finally{h(!1)}},y=b=>{d({id:b.id,strategy_id:b.strategy_id,name:b.name,tv_script:b.tv_script||"",tv_settings:JSON.stringify(b.tv_settings??{},null,2)})},p=async b=>{if(!confirm("Delete this indicator?"))return;const{error:v}=await D.rpc("admin_delete_indicator",{p_id:b});if(v){R.error(v.message||"Failed to delete");return}R.success("Deleted"),await m()};return n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Strategy Indicators"}),n.jsxs("button",{onClick:m,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(Mn,{className:"w-4 h-4 mr-2"})," Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Strategy"}),n.jsxs("select",{value:c.strategy_id,onChange:b=>d(v=>({...v,strategy_id:b.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",children:[n.jsx("option",{value:"",children:"Select strategy"}),s.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Name"}),n.jsx("input",{value:c.name,onChange:b=>d(v=>({...v,name:b.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"TradingView Script"}),n.jsx("input",{value:c.tv_script,onChange:b=>d(v=>({...v,tv_script:b.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"TV Settings (JSON)"}),n.jsx("textarea",{rows:6,value:c.tv_settings,onChange:b=>d(v=>({...v,tv_settings:b.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white font-mono"})]}),n.jsxs("div",{className:"md:col-span-2 flex space-x-2",children:[n.jsxs("button",{onClick:g,disabled:u,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center",children:[n.jsx(Nf,{className:"w-4 h-4 mr-2"})," ",c.id?"Update":"Create"]}),n.jsx("button",{onClick:x,className:"px-4 py-2 bg-white/10 text-purple-200 rounded-lg hover:bg-white/20",children:"Reset"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(xL,{className:"w-4 h-4 text-purple-300"}),n.jsxs("select",{value:i,onChange:b=>a(b.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",children:[n.jsx("option",{value:"",children:"All strategies"}),s.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))]})]}),o?n.jsx("div",{className:"text-center py-8 text-purple-200",children:"Loading indicators..."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Strategy"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Script"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(b=>n.jsxs("tr",{className:"hover:bg-white/5",children:[n.jsx("td",{className:"px-6 py-3 text-white",children:b.name}),n.jsxs("td",{className:"px-6 py-3 text-purple-200 font-mono",children:[b.strategy_id.slice(0,8),"..."]}),n.jsx("td",{className:"px-6 py-3 text-purple-200",children:b.tv_script||"-"}),n.jsx("td",{className:"px-6 py-3 text-purple-200",children:new Date(b.created_at).toLocaleString()}),n.jsx("td",{className:"px-6 py-3",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>y(b),className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[n.jsx(jL,{className:"w-4 h-4 mr-1"}),"Edit"]}),n.jsxs("button",{onClick:()=>p(b.id),className:"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center",children:[n.jsx(ya,{className:"w-4 h-4 mr-1"}),"Delete"]})]})})]},b.id))})]})})]})},DX=()=>{const[e,t]=k.useState([]),[s,r]=k.useState(!1),[i,a]=k.useState({referee_email:"",referrer_email:""}),o=async()=>{r(!0);const{data:d,error:u}=await D.rpc("admin_list_referrals",{p_limit:200});if(r(!1),u){R.error(u.message||"Failed to load referrals");return}t(d||[])};k.useEffect(()=>{o()},[]);const l=async()=>{if(!i.referee_email||!i.referrer_email){R.error("Both emails are required");return}const{error:d}=await D.rpc("admin_set_referral_by_email",{p_referee_email:i.referee_email,p_referrer_email:i.referrer_email});if(d){R.error(d.message||"Failed to set referral");return}R.success("Referral set"),a({referee_email:"",referrer_email:""}),await o()},c=async d=>{if(!confirm("Delete this referral link?"))return;const{error:u}=await D.rpc("admin_delete_referral",{p_id:d});if(u){R.error(u.message||"Failed to delete");return}R.success("Deleted"),await o()};return n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Referrals"}),n.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(Mn,{className:"w-4 h-4 mr-2"})," Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Referee email (new user)"}),n.jsx("input",{value:i.referee_email,onChange:d=>a(u=>({...u,referee_email:d.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-200 mb-1",children:"Referrer email"}),n.jsx("input",{value:i.referrer_email,onChange:d=>a(u=>({...u,referrer_email:d.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("button",{onClick:l,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[n.jsx(K0,{className:"w-4 h-4 mr-2"}),"Link"]})})]}),s?n.jsx("div",{className:"text-center py-8 text-purple-200",children:"Loading..."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Referrer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Referee"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(d=>n.jsxs("tr",{className:"hover:bg-white/5",children:[n.jsx("td",{className:"px-6 py-3 text-white",children:d.referrer_email||d.referrer_user_id}),n.jsx("td",{className:"px-6 py-3 text-white",children:d.referee_email||d.referee_user_id}),n.jsx("td",{className:"px-6 py-3 text-purple-200",children:new Date(d.created_at).toLocaleString()}),n.jsx("td",{className:"px-6 py-3",children:n.jsxs("button",{onClick:()=>c(d.id),className:"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center",children:[n.jsx(ya,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},d.id))})]})})]})},IX=()=>{const[e,t]=k.useState("30d"),[s,r]=k.useState([]),[i,a]=k.useState([]),[o,l]=k.useState(0),[c,d]=k.useState(!1),[u,h]=k.useState(null),f=k.useRef(null),m=k.useMemo(()=>{if(e==="all")return null;const P=new Date,I=e==="7d"?7:30;return new Date(P.getTime()-I*24*60*60*1e3)},[e]),x=async()=>{d(!0),h(null);try{const P=await fetch(`${Js}/functions/v1/admin-finance-summary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({adminCredentials:{username:"admin",password:"admin123"},limit:5e3})}),I=await P.json().catch(()=>({}));if(!P.ok){h(I.error||`Edge function error (${P.status})`),d(!1);return}const $=(I.tokenTransactions||[]).map(B=>({id:B.id,type:B.type,amount:Number(B.amount||0),created_at:B.created_at,related_service:B.related_service})),H=(I.payments||[]).map(B=>({amount:Number(B.amount||0),currency:B.currency||"USD",status:B.status,created_at:B.created_at}));l(Number(I.activeSubs||0)),r($),a(H)}catch{h("Failed to load admin finance data")}finally{d(!1)}};k.useEffect(()=>(x(),f.current=D.channel("admin-finance").on("postgres_changes",{event:"INSERT",schema:"public",table:"token_transactions"},()=>x()).on("postgres_changes",{event:"*",schema:"public",table:"payments"},()=>x()).on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>x()).subscribe(),()=>{var P;(P=f.current)==null||P.unsubscribe()}),[]);const g=k.useMemo(()=>m?s.filter(P=>new Date(P.created_at)>=m):s,[s,m]),y=k.useMemo(()=>m?i.filter(P=>new Date(P.created_at)>=m):i,[i,m]),p=g.filter(P=>P.type==="earned"||P.type==="transfer_in").reduce((P,I)=>P+I.amount,0),b=g.filter(P=>P.type==="spent"||P.type==="transfer_out").reduce((P,I)=>P+I.amount,0),v=p-b,w=(P,I)=>Math.ceil((I.getTime()-P.getTime())/(24*60*60*1e3)),N=m??(s.length?new Date(s[s.length-1].created_at):new Date(Date.now()-30*24*60*60*1e3)),S=new Date,T=[],j=[],E=[],_=Math.max(1,w(N,S));for(let P=_;P>=0;P--){const $=new Date(S.getTime()-P*24*60*60*1e3).toISOString().slice(0,10);T.push($);const H=g.filter(L=>L.created_at.slice(0,10)===$&&(L.type==="earned"||L.type==="transfer_in")).reduce((L,F)=>L+F.amount,0),B=g.filter(L=>L.created_at.slice(0,10)===$&&(L.type==="spent"||L.type==="transfer_out")).reduce((L,F)=>L+F.amount,0);j.push(H),E.push(B)}const C=["earned","spent","transfer_in","transfer_out"].map(P=>g.filter(I=>I.type===P).reduce((I,$)=>I+$.amount,0));return n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Financial Overview"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-white/10 rounded-lg p-1",children:["7d","30d","all"].map(P=>n.jsx("button",{onClick:()=>t(P),className:`px-3 py-1 text-sm rounded-md ${e===P?"bg-purple-600 text-white":"text-purple-200 hover:bg-white/10"}`,children:P.toUpperCase()},P))}),n.jsxs("button",{onClick:x,disabled:c,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[n.jsx(Mn,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`})," ",c?"Refreshing...":"Refresh"]})]})]}),u&&n.jsxs("div",{className:"mb-4 p-3 rounded-lg border border-yellow-500/40 bg-yellow-500/10 text-yellow-200 text-sm",children:[u,". Please deploy edge functions and set service role secret. See DEPLOY_EDGE_FUNCTIONS.md."]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10",children:[n.jsx("p",{className:"text-sm text-green-200",children:"Tokens In (Earned)"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:p.toLocaleString()})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10",children:[n.jsx("p",{className:"text-sm text-red-200",children:"Tokens Out (Spent)"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:b.toLocaleString()})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10",children:[n.jsx("p",{className:"text-sm text-purple-200",children:"Net Tokens"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:v.toLocaleString()})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10",children:[n.jsx("p",{className:"text-sm text-blue-200",children:"Active Subscriptions"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:o})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10 lg:col-span-2",children:[n.jsx("p",{className:"text-sm text-purple-200 mb-2",children:"Tokens Flow Over Time"}),n.jsx(W9,{data:{labels:T,datasets:[{label:"In (earned + transfer_in)",data:j,borderColor:"#22c55e",backgroundColor:"rgba(34,197,94,0.2)",tension:.3,fill:!0},{label:"Out (spent + transfer_out)",data:E,borderColor:"#ef4444",backgroundColor:"rgba(239,68,68,0.2)",tension:.3,fill:!0}]},options:{responsive:!0,plugins:{legend:{labels:{color:"#ddd"}}},scales:{x:{ticks:{color:"#aaa"}},y:{ticks:{color:"#aaa"}}}}})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10",children:[n.jsx("p",{className:"text-sm text-purple-200 mb-2",children:"Transactions by Type"}),n.jsx(Y9,{data:{labels:["earned","spent","transfer_in","transfer_out"],datasets:[{data:C,backgroundColor:["#22c55e","#ef4444","#3b82f6","#f59e0b"]}]},options:{plugins:{legend:{labels:{color:"#ddd"}}}}})]})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10 mt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-blue-200",children:"Payments (USD)"}),n.jsx("p",{className:"text-sm text-purple-300",children:"Only USD payments counted"})]}),(()=>{const P=y.filter(B=>(B.currency||"USD").toUpperCase()==="USD"),I=new Map;P.forEach(B=>{const L=B.created_at.slice(0,10);I.set(L,(I.get(L)||0)+Number(B.amount||0))});const $=Array.from(I.keys()).sort(),H=$.map(B=>I.get(B)||0);return n.jsx(q9,{data:{labels:$,datasets:[{label:"USD",data:H,backgroundColor:"#60a5fa"}]},options:{responsive:!0,plugins:{legend:{labels:{color:"#ddd"}}},scales:{x:{ticks:{color:"#aaa"}},y:{ticks:{color:"#aaa"}}}}})})()]})]})},LX=()=>{const[e,t]=k.useState([]),[s,r]=k.useState({}),[i,a]=k.useState({}),[o,l]=k.useState({}),[c,d]=k.useState(null),u=async()=>{const{data:y,error:p}=await D.rpc("get_all_users_email");if(p){R.error("Failed to load users");return}t((y||[]).map(E=>({id:E.id,email:E.email})));const{data:b}=await D.from("user_roles").select("user_id, role"),v={};(b||[]).forEach(E=>v[E.user_id]=E.role),r(v);const{data:w}=await D.from("user_limits").select("*"),N={};(w||[]).forEach(E=>N[E.user_id]={maxRobots:E.max_robots??0,maxMt5:E.max_mt5_accounts??0,allowCopy:!!E.allow_copy_trading,expiresAt:E.expires_at?new Date(E.expires_at).toISOString().slice(0,16):""}),a(N);const{data:S}=await D.from("subscriptions").select("user_id, ends_at, status"),T={},j=Date.now();(S||[]).forEach(E=>{const _=E.ends_at?new Date(E.ends_at).getTime():0,C=E.status==="active"&&_>j,P=T[E.user_id],I=C?{status:"active",endsAt:E.ends_at}:{status:"expired",endsAt:E.ends_at};if(!P)T[E.user_id]=I;else{const $=P.endsAt?new Date(P.endsAt).getTime():0;(I.endsAt?new Date(I.endsAt).getTime():0)>$&&(T[E.user_id]=I)}}),l(T)};k.useEffect(()=>{u()},[]),k.useEffect(()=>{const y=D.channel("admin-users-roles-realtime").on("postgres_changes",{event:"*",schema:"public",table:"user_roles"},u).on("postgres_changes",{event:"*",schema:"public",table:"user_limits"},u).on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},u).subscribe();return()=>{D.removeChannel(y)}},[]);const h=async(y,p)=>{const{error:b}=await D.rpc("admin_set_user_role",{p_user_id:y,p_role:p});if(b){R.error(b.message||"Failed to set role");return}R.success("Role updated")},f=(y,p,b)=>{a(v=>({...v,[y]:{...v[y]||{maxRobots:0,maxMt5:0,allowCopy:!1,expiresAt:""},[p]:b}}))},m=async y=>{const p=i[y]||{maxRobots:0,maxMt5:0,allowCopy:!1,expiresAt:""};d(y);const b={user_id:y,max_robots:p.maxRobots,max_mt5_accounts:p.maxMt5,allow_copy_trading:p.allowCopy,expires_at:p.expiresAt?new Date(p.expiresAt).toISOString():null,updated_at:new Date().toISOString()},{error:v}=await D.from("user_limits").upsert(b,{onConflict:"user_id"});if(d(null),v){R.error(v.message||"Failed to save limits");return}R.success("Limits saved")},x=async(y,p,b,v="default")=>{const{error:w}=await D.rpc("admin_create_subscription",{p_user_id:y,p_plan:v,p_price_tokens:b,p_days:p});if(w){R.error(w.message||"Failed to create subscription");return}R.success("Subscription created")},g=y=>y?y.status==="active"&&y.endsAt?`active until ${new Date(y.endsAt).toLocaleString()}`:y.status==="expired"&&y.endsAt?`expired at ${new Date(y.endsAt).toLocaleString()}`:y.status:"none";return n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Users, Roles & Limits"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Max Robots"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Max MT5"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Allow Copy"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Expires At"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Subscription"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(y=>{const p=s[y.id]||"user",b=i[y.id]||{maxRobots:0,maxMt5:0,allowCopy:!1,expiresAt:""},v=o[y.id];return n.jsxs("tr",{className:"hover:bg-white/5",children:[n.jsx("td",{className:"px-6 py-3 text-white",children:y.email}),n.jsx("td",{className:"px-6 py-3",children:n.jsxs("select",{value:p,onChange:w=>h(y.id,w.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",children:[n.jsx("option",{value:"user",children:"user"}),n.jsx("option",{value:"moderator",children:"moderator"}),n.jsx("option",{value:"admin",children:"admin"}),n.jsx("option",{value:"super_admin",children:"super_admin"})]})}),n.jsx("td",{className:"px-6 py-3",children:n.jsx("input",{type:"number",value:b.maxRobots,onChange:w=>f(y.id,"maxRobots",parseInt(w.target.value)||0),onBlur:()=>m(y.id),className:"w-24 px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})}),n.jsx("td",{className:"px-6 py-3",children:n.jsx("input",{type:"number",value:b.maxMt5,onChange:w=>f(y.id,"maxMt5",parseInt(w.target.value)||0),onBlur:()=>m(y.id),className:"w-24 px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})}),n.jsx("td",{className:"px-6 py-3",children:n.jsxs("label",{className:"inline-flex items-center",children:[n.jsx("input",{type:"checkbox",checked:b.allowCopy,onChange:async w=>{f(y.id,"allowCopy",w.target.checked),await m(y.id)},className:"form-checkbox h-5 w-5 text-purple-600"}),n.jsx("span",{className:"ml-2 text-purple-200",children:b.allowCopy?"Allowed":"Not allowed"})]})}),n.jsx("td",{className:"px-6 py-3",children:n.jsx("input",{type:"datetime-local",value:b.expiresAt,onChange:w=>f(y.id,"expiresAt",w.target.value),onBlur:()=>m(y.id),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})}),n.jsx("td",{className:"px-6 py-3 text-purple-200",children:g(v)}),n.jsxs("td",{className:"px-6 py-3 space-x-2",children:[n.jsx("button",{onClick:()=>m(y.id),disabled:c===y.id,className:"px-3 py-2 bg-purple-600 text-white rounded-lg disabled:opacity-50",children:c===y.id?"Saving...":"Save Now"}),n.jsx("button",{onClick:()=>x(y.id,30,0,"standard"),className:"px-3 py-2 bg-green-600 text-white rounded-lg",children:"+30d Sub"})]})]},y.id)})})]})})]})},OX=()=>{const[e,t]=k.useState([]),s=async()=>{const{data:i,error:a}=await D.from("robots").select("*").order("created_at",{ascending:!1});if(a){R.error("Failed to load robots");return}t(i||[])};k.useEffect(()=>{s()},[]);const r=async(i,a)=>{const{error:o}=await D.from("robots").update(a).eq("id",i);if(o){R.error("Failed to update robot");return}R.success("Updated"),await s()};return n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Copy Trading Management"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Owner"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Copyable"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Shared"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:e.map(i=>{var a;return n.jsxs("tr",{className:"hover:bg-white/5",children:[n.jsx("td",{className:"px-6 py-3 text-white",children:i.name}),n.jsxs("td",{className:"px-6 py-3 text-purple-200",children:[(a=i.user_id)==null?void 0:a.slice(0,8),"..."]}),n.jsx("td",{className:"px-6 py-3 text-purple-200",children:i.isCopyable?"Yes":"No"}),n.jsx("td",{className:"px-6 py-3 text-purple-200",children:i.isShared?"Yes":"No"}),n.jsx("td",{className:"px-6 py-3",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>r(i.id,{isCopyable:!0,isShared:!0}),className:"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>r(i.id,{isCopyable:!1,isShared:!1}),className:"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Revoke"})]})})]},i.id)})})]})})]})},xk=()=>{var kt,Xo;const{adminUsers:e,currentAdmin:t,fetchAllUsersWithTokens:s,addTokensToUser:r,logout:i,isLoading:a,updateUserLimits:o,fetchUserDetails:l}=To(),[c,d]=k.useState("users"),[u,h]=k.useState(""),[f,m]=k.useState("all"),[x,g]=k.useState(!1),[y,p]=k.useState(null),[b,v]=k.useState(""),[w,N]=k.useState(100),[S,T]=k.useState("Admin bonus"),[j,E]=k.useState(!1),[_,C]=k.useState(!1),[P,I]=k.useState(!1),[$,H]=k.useState(null),[B,L]=k.useState(null),[F,z]=k.useState({maxRobots:0,maxMt5Accounts:0,expiresAt:"",allowCopyTrading:!1}),[A,ie]=k.useState(!1),[K,M]=k.useState(null),[he,be]=k.useState(!1),[me,qe]=k.useState(null),[Ze,je]=k.useState(null),[Le,Ye]=k.useState(!1),[Et,Wt]=k.useState(null),[rr,At]=k.useState(0),[rn,yr]=k.useState(0),[nn,zs]=k.useState(0),O=Pt();k.useEffect(()=>{s();const G=setInterval(()=>{s()},3e4);return()=>clearInterval(G)},[s]);const V=async()=>{try{const G=await fetch(`${Js}/functions/v1/admin-finance-summary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({adminCredentials:{username:"admin",password:"admin123"},limit:5e3})});if(!G.ok)return;const ke=await G.json(),Oe=ke.tokenTransactions||[],yt=Oe.filter(X=>X.type==="earned"||X.type==="transfer_in").reduce((X,Se)=>X+Number(Se.amount||0),0),W=Oe.filter(X=>X.type==="spent"||X.type==="transfer_out").reduce((X,Se)=>X+Number(Se.amount||0),0);At(yt),yr(W),typeof ke.activeSubs=="number"&&zs(ke.activeSubs)}catch{}};k.useEffect(()=>{V();const G=D.channel("admin-dashboard-kpis").on("postgres_changes",{event:"INSERT",schema:"public",table:"token_transactions"},()=>V()).on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>V()).subscribe();return()=>{G.unsubscribe()}},[]);const Y=e.filter(G=>{const ke=G.email.toLowerCase().includes(u.toLowerCase())||G.id.toLowerCase().includes(u.toLowerCase()),Oe=f==="all"||f==="with-tokens"&&G.tokens!==null||f==="without-tokens"&&G.tokens===null;return ke&&Oe}),re=e.length,se=e.filter(G=>G.tokens!==null).length,ee=e.reduce((G,ke)=>{var Oe;return G+(((Oe=ke.tokens)==null?void 0:Oe.balance)||0)},0),U=e.reduce((G,ke)=>{var Oe;return G+(((Oe=ke.tokens)==null?void 0:Oe.earned)||0)},0),J=e.reduce((G,ke)=>{var Oe;return G+(((Oe=ke.tokens)==null?void 0:Oe.spent)||0)},0),ne=G=>new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),de=async()=>{if(!y||w<=0){R.error("Please enter a valid token amount");return}await r(y,w,S)&&(g(!1),p(null),v(""),N(100),T("Admin bonus"))},Ee=(G,ke)=>{p(G),v(ke),g(!0)},et=async()=>{E(!0),await s(),E(!1),R.success("User data refreshed")},ks=G=>{console.log("[AdminDashboard] openSetLimitsModal user:",G),console.log("[AdminDashboard] allowCopyTrading value:",G.allowCopyTrading),H(G),z({maxRobots:G.maxRobots||0,maxMt5Accounts:G.maxMt5Accounts||0,expiresAt:G.expires_at?G.expires_at.slice(0,16):"",allowCopyTrading:G.allowCopyTrading??!1}),C(!0)},Lt=async()=>{if(!$)return;ie(!0);const G=await o($.id,F.maxRobots,F.maxMt5Accounts,F.expiresAt,F.allowCopyTrading);ie(!1),G?(R.success("Limits updated"),C(!1),H(null)):R.error("Failed to update limits")},Ss=async G=>{L(G),be(!0),console.log("[AdminDashboard] openViewUserModal user.id:",G.id,"type:",typeof G.id);const ke={userId:G.id};console.log("[AdminDashboard] Payload to fetchUserDetails:",ke);const Oe=await l(G.id);M(Oe),be(!1),I(!0)},br=async G=>{qe(G),await LI(G)&&await s(),qe(null)},st=async G=>{je(G),await OI(G)&&(await s(),Ye(!1),Wt(null)),je(null)},Vs=G=>{if(!G)return"∞";const ke=new Date(G);if(isNaN(ke.getTime()))return"∞";const Oe=new Date,yt=ke.getTime()-Oe.getTime();if(yt<0)return"Expired";const W=Math.ceil(yt/(1e3*60*60*24));return W===0?"<1 day":`${W} day${W!==1?"s":""}`};return n.jsxs("div",{className:"min-h-screen bg-[#0b0b0f] text-white flex",children:[n.jsxs("aside",{className:"w-64 bg-[#0f1020] border-r border-white/10 hidden md:flex md:flex-col",children:[n.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-white/10",children:[n.jsx("div",{className:"bg-purple-600 p-2 rounded-lg mr-3",children:n.jsx(It,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold",children:"Admin"}),n.jsx("div",{className:"text-xs text-purple-300",children:t==null?void 0:t.username})]})]}),n.jsx("nav",{className:"flex-1 py-4 space-y-1",children:[{key:"users",label:"User Management",icon:gs},{key:"roles",label:"Users & Roles",icon:It},{key:"tokens",label:"Tokens",icon:si},{key:"finance",label:"Finance",icon:vs},{key:"copytrading",label:"Copy Trading",icon:we},{key:"plugins",label:"Plugins",icon:Is},{key:"promo-codes",label:"Promo Codes",icon:aa},{key:"indicators",label:"Indicators",icon:we},{key:"referrals",label:"Referrals",icon:gs}].map(G=>n.jsxs("button",{onClick:()=>d(G.key),className:`w-full flex items-center px-4 py-2 text-sm ${c===G.key?"bg-white/10 text-white":"text-purple-200 hover:bg-white/5"}`,children:[n.jsx(G.icon,{className:"w-4 h-4 mr-2"})," ",G.label]},G.key))}),n.jsxs("div",{className:"p-4 border-t border-white/10 space-y-2",children:[n.jsx("button",{onClick:()=>O("/"),className:"w-full px-4 py-2 bg-white/10 rounded hover:bg-white/20 text-sm",children:"Main App"}),n.jsx("button",{onClick:i,className:"w-full px-4 py-2 bg-white/10 rounded hover:bg-white/20 text-sm",children:"Logout"})]})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("header",{className:"h-16 border-b border-white/10 flex items-center justify-between px-4 md:px-6 bg-[#0f0f16]",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-semibold",children:"Admin Dashboard"}),n.jsxs("div",{className:"text-xs text-purple-300",children:["Role: ",t==null?void 0:t.role.replace("_"," ")]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>O("/"),className:"px-3 py-1 bg-white/10 rounded hover:bg-white/20 text-sm",children:"Main App"}),n.jsx("button",{onClick:i,className:"px-3 py-1 bg-white/10 rounded hover:bg-white/20 text-sm",children:"Logout"})]})]}),n.jsxs("section",{className:"p-4 md:p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[n.jsx("div",{className:"text-purple-300 text-xs mb-1",children:"Total Users"}),n.jsx("div",{className:"text-2xl font-bold",children:re}),n.jsxs("div",{className:"text-xs text-purple-400",children:[se," with tokens"]})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[n.jsx("div",{className:"text-green-300 text-xs mb-1",children:"Tokens in Circulation"}),n.jsx("div",{className:"text-2xl font-bold",children:ee.toLocaleString()}),n.jsx("div",{className:"text-xs text-green-400",children:"Balances"})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[n.jsx("div",{className:"text-purple-300 text-xs mb-1",children:"Total Earned"}),n.jsx("div",{className:"text-2xl font-bold",children:rr.toLocaleString()}),n.jsx("div",{className:"text-xs text-purple-400",children:"All time"})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[n.jsx("div",{className:"text-orange-300 text-xs mb-1",children:"Total Spent"}),n.jsx("div",{className:"text-2xl font-bold",children:rn.toLocaleString()}),n.jsx("div",{className:"text-xs text-orange-400",children:"All time"})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[n.jsx("div",{className:"text-blue-300 text-xs mb-1",children:"Active Subscriptions"}),n.jsx("div",{className:"text-2xl font-bold",children:nn.toLocaleString()}),n.jsx("div",{className:"text-xs text-blue-400",children:"Live"})]})]}),n.jsxs("div",{className:"p-4 md:p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:n.jsx(gs,{className:"w-6 h-6 text-blue-300"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-200 font-medium",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:re}),n.jsxs("p",{className:"text-xs text-blue-200",children:[se," with tokens"]})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:n.jsx(si,{className:"w-6 h-6 text-green-300"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-200 font-medium",children:"Tokens in Circulation"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:ee.toLocaleString()}),n.jsx("p",{className:"text-xs text-green-200",children:"Current balances"})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-purple-300"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-purple-200 font-medium",children:"Total Earned"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:U.toLocaleString()}),n.jsx("p",{className:"text-xs text-purple-200",children:"All time"})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-orange-500/20 p-3 rounded-lg",children:n.jsx(vs,{className:"w-6 h-6 text-orange-300"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-orange-200 font-medium",children:"Total Spent"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:J.toLocaleString()}),n.jsx("p",{className:"text-xs text-orange-200",children:"All time"})]})]})})]}),c==="users"&&n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"p-6 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"User Management"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:et,disabled:j,className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n.jsx(Mn,{className:`w-4 h-4 ${j?"animate-spin":""}`}),n.jsx("span",{children:j?"Refreshing...":"Refresh Users"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(K0,{className:"w-4 h-4 text-purple-300"}),n.jsxs("span",{className:"text-sm text-purple-200",children:[Y.length," of ",re," users"]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"relative flex-1 min-w-64",children:[n.jsx(en,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by email or user ID...",value:u,onChange:G=>h(G.target.value),className:"w-full pl-10 pr-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-white placeholder-gray-400"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sT,{className:"w-4 h-4 text-purple-300"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>m("all"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${f==="all"?"bg-purple-600 text-white":"bg-white/10 text-purple-200 hover:bg-white/20"}`,children:"All Users"}),n.jsx("button",{onClick:()=>m("with-tokens"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${f==="with-tokens"?"bg-green-600 text-white":"bg-white/10 text-green-200 hover:bg-white/20"}`,children:"With Tokens"}),n.jsx("button",{onClick:()=>m("without-tokens"),className:`px-3 py-1 text-sm rounded-lg transition-colors ${f==="without-tokens"?"bg-red-600 text-white":"bg-white/10 text-red-200 hover:bg-white/20"}`,children:"No Tokens"})]})]})]})]}),a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),n.jsx("p",{className:"text-purple-200",children:"Loading users..."})]}):Y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gs,{className:"w-12 h-12 text-purple-300 mx-auto mb-4"}),n.jsx("p",{className:"text-purple-200",children:"No users found"}),n.jsx("p",{className:"text-sm text-purple-300 mt-1",children:u?"Try adjusting your search criteria":"Users will appear here when they sign up"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Token Balance"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Earned"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Spent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Joined"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Last Active"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-purple-200 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:Y.map(G=>n.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:G.email}),n.jsxs("p",{className:"text-sm text-purple-300 font-mono",children:[G.id.substring(0,8),"..."]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G.tokens?n.jsx("span",{className:"text-lg font-semibold text-white",children:G.tokens.balance.toLocaleString()}):n.jsx("span",{className:"text-purple-400",children:"No tokens"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G.tokens?n.jsx("span",{className:"text-green-300 font-medium",children:G.tokens.earned.toLocaleString()}):n.jsx("span",{className:"text-purple-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G.tokens?n.jsx("span",{className:"text-red-300 font-medium",children:G.tokens.spent.toLocaleString()}):n.jsx("span",{className:"text-purple-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:ne(G.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-200",children:G.last_sign_in_at?Jr(new Date(G.last_sign_in_at),{addSuffix:!0}):"Never"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex space-x-2 items-center",children:[n.jsxs("button",{onClick:()=>Ee(G.id,G.email),className:"inline-flex items-center px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:`Add tokens to ${G.email}`,children:[n.jsx(Gr,{className:"w-4 h-4 mr-1"}),"Add Tokens"]}),n.jsxs("button",{onClick:()=>Ss(G),className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:`View details for ${G.email}`,children:[n.jsx(Ta,{className:"w-4 h-4 mr-1"}),"View"]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded font-semibold ${G.expires_at?Vs(G.expires_at)==="Expired"?"bg-red-600 text-white":"bg-yellow-500 text-black":"bg-green-600 text-white"}`,title:G.expires_at?`Expires: ${G.expires_at}`:"No Expiry",children:Vs(G.expires_at)}),n.jsxs("button",{onClick:()=>ks(G),className:"inline-flex items-center px-3 py-1 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:`Set limits for ${G.email}`,children:[n.jsx(It,{className:"w-4 h-4 mr-1"}),"Set Limits"]}),n.jsx("button",{onClick:()=>br(G.id),disabled:me===G.id||G.is_approved,className:`inline-flex items-center px-3 py-1 ${G.is_approved?"bg-gray-400 text-white":"bg-yellow-500 text-black hover:bg-yellow-600"} rounded-lg transition-colors`,title:G.is_approved?"Already approved":`Approve ${G.email}`,children:me===G.id?"Approving...":G.is_approved?"Approved":"Approve"}),n.jsx("button",{onClick:()=>{Ye(!0),Wt(G)},disabled:Ze===G.id,className:"inline-flex items-center px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:`Delete ${G.email}`,children:Ze===G.id?"Deleting...":"Delete"})]})})]},G.id))})]})})]}),c==="tokens"&&n.jsx(AX,{}),c==="indicators"&&n.jsx(MX,{}),c==="referrals"&&n.jsx(DX,{}),c==="finance"&&n.jsx(IX,{}),c==="roles"&&n.jsx(LX,{}),c==="copytrading"&&n.jsx(OX,{}),c==="plugins"&&n.jsx(EX,{}),c==="promo-codes"&&n.jsx(RX,{})]})]}),x&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Tokens to User"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User"}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsx("p",{className:"font-medium text-gray-900",children:b}),n.jsx("p",{className:"text-xs text-gray-500 font-mono",children:y})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token Amount"}),n.jsx("input",{type:"number",value:w,onChange:G=>N(parseInt(G.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("input",{type:"text",value:S,onChange:G=>T(G.target.value),placeholder:"Reason for adding tokens",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:de,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Add Tokens"}),n.jsx("button",{onClick:()=>{g(!1),p(null),v("")},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),_&&$&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Set User Limits"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User"}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsx("p",{className:"font-medium text-gray-900",children:$.email}),n.jsx("p",{className:"text-xs text-gray-500 font-mono",children:$.id})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Robots"}),n.jsx("input",{type:"number",value:F.maxRobots,onChange:G=>z(ke=>({...ke,maxRobots:parseInt(G.target.value)||0})),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max MT5 Accounts"}),n.jsx("input",{type:"number",value:F.maxMt5Accounts,onChange:G=>z(ke=>({...ke,maxMt5Accounts:parseInt(G.target.value)||0})),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allow Sharing Robots for Copy Trading"}),n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!!F.allowCopyTrading,onChange:G=>z(ke=>({...ke,allowCopyTrading:G.target.checked})),className:"form-checkbox h-5 w-5 text-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-700",children:F.allowCopyTrading?"Allowed":"Not Allowed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Expiration"}),n.jsx("input",{type:"datetime-local",value:F.expiresAt,onChange:G=>z(ke=>({...ke,expiresAt:G.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for no expiration"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:Lt,disabled:A,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:A?"Saving...":"Save Limits"}),n.jsx("button",{onClick:()=>{C(!1),H(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),P&&B&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Details"}),he?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),n.jsx("p",{className:"text-purple-600",children:"Loading user details..."})]}):K?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsx("p",{className:"font-medium text-gray-900",children:B.email}),n.jsx("p",{className:"text-xs text-gray-500 font-mono",children:B.id})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Robots"}),n.jsx("ul",{className:"list-disc ml-5 text-gray-800",children:(kt=K.robots)!=null&&kt.length?K.robots.map((G,ke)=>n.jsx("li",{className:"mb-2",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4",children:[n.jsx("span",{className:"font-semibold",children:G.name}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(Status: ",G.status,")"]}),G.pendingCopyTrading&&!G.isCopyable&&n.jsx("button",{className:"ml-4 px-3 py-1 rounded bg-purple-600 text-white text-xs font-bold",onClick:async()=>{const Oe=[...K.robots];Oe[ke]={...Oe[ke],isCopyable:!0,isShared:!0,pendingCopyTrading:!1},M(yt=>({...yt,robots:Oe}));try{const yt=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/admin-update-robot",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({robotId:G.id,updates:{isCopyable:!0,isShared:!0,pendingCopyTrading:!1}})}),W=await yt.json();if(!yt.ok)throw new Error(W.error||"Failed to approve robot")}catch{}},children:"Approve Copy Trading"}),n.jsxs("label",{className:"ml-4 text-xs font-medium text-gray-700 flex items-center",children:[n.jsx("input",{type:"checkbox",checked:G.isCopyable,onChange:async Oe=>{const yt=[...K.robots];yt[ke]={...yt[ke],isCopyable:Oe.target.checked},M(W=>({...W,robots:yt}));try{const W=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/admin-update-robot",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({robotId:G.id,updates:{isCopyable:Oe.target.checked}})}),X=await W.json();if(!W.ok)throw new Error(X.error||"Failed to update robot")}catch{}},className:"mr-1"}),"Copyable"]}),n.jsxs("label",{className:"ml-4 text-xs font-medium text-gray-700 flex items-center",children:[n.jsx("input",{type:"checkbox",checked:G.isShared,onChange:async Oe=>{const yt=[...K.robots];yt[ke]={...yt[ke],isShared:Oe.target.checked},M(W=>({...W,robots:yt}));try{const W=await fetch("https://ykajmsrubmjpbzljxsup.supabase.co/functions/v1/admin-update-robot",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrYWptc3J1Ym1qcGJ6bGp4c3VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTkwNTQsImV4cCI6MjA2NjI5NTA1NH0.5orVde5feicsSfeL4N1mdY52qgZkd1gjUGmlW2wBtTQ"},body:JSON.stringify({robotId:G.id,updates:{isShared:Oe.target.checked}})}),X=await W.json();if(!W.ok)throw new Error(X.error||"Failed to update robot")}catch{}},className:"mr-1"}),"Shared (Marketplace)"]})]})},G.id)):n.jsx("li",{children:"No robots"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"MT5 Accounts"}),n.jsx("ul",{className:"list-disc ml-5 text-gray-800",children:(Xo=K.mt5Accounts)!=null&&Xo.length?K.mt5Accounts.map(G=>n.jsxs("li",{children:[G.login," (",G.server,")"]},G.id)):n.jsx("li",{children:"No MT5 accounts"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Balance"}),n.jsx("p",{className:"text-lg font-bold text-green-700",children:K.balance??"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Drawdown"}),n.jsx("p",{className:"text-lg font-bold text-red-700",children:K.drawdown??"N/A"})]})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-600",children:"No details found for this user."})}),n.jsx("div",{className:"flex space-x-3 mt-6",children:n.jsx("button",{onClick:()=>{I(!1),L(null),M(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Close"})})]})}),Le&&Et&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete User"}),n.jsxs("p",{className:"mb-4",children:["Are you sure you want to ",n.jsx("span",{className:"font-bold text-red-600",children:"delete"})," user ",n.jsx("span",{className:"font-mono",children:Et.email}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>st(Et.id),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",disabled:Ze===Et.id,children:Ze===Et.id?"Deleting...":"Delete User"}),n.jsx("button",{onClick:()=>{Ye(!1),Wt(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})})]})},FX=({initialOpen:e=!1})=>{const[t,s]=k.useState(e),[r,i]=k.useState([{id:"1",role:"system",content:"Hi there! I'm your MT5 Trading Platform assistant. How can I help you today?",timestamp:new Date,relatedQuestions:["How do I create a trading robot?","How do I set up TradingView webhooks?","What are tokens used for?"]}]),[a,o]=k.useState(""),[l,c]=k.useState(!1),d=k.useRef(null),u=k.useRef(null);k.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[r]),k.useEffect(()=>{t&&u.current&&setTimeout(()=>{var v;(v=u.current)==null||v.focus()},300)},[t]);const h=()=>{s(!t)},f=v=>{o(v.target.value)},m=v=>{v.key==="Enter"&&a.trim()&&g()},x=v=>{let w=v;return w=w.replace(/(\d+[\)\.]\s+)([^\n]+)/g,"$1 $2"),w=w.replace(/(^|\n)([^:\n]+):\s*(\n|$)/g,"$1**$2:**$3"),["trading robots","TradingView","webhook","signals","risk management","tokens","VPS","bot token","User ID","JSON payload"].forEach(S=>{const T=new RegExp(`\\b${S}\\b`,"gi");w=w.replace(T,`**${S}**`)}),w},g=async()=>{if(!a.trim())return;const v={id:Date.now().toString(),role:"user",content:a.trim(),timestamp:new Date};i(N=>[...N,v]),o("");const w=(Date.now()+1).toString();i(N=>[...N,{id:w,role:"assistant",content:"",timestamp:new Date,isLoading:!0}]),c(!0);try{const N=await fetch(`${Js}/functions/v1/chatbot-api`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jn}`},body:JSON.stringify({query:v.content,previousMessages:r.filter(E=>E.role!=="system").map(E=>({role:E.role,content:E.content}))})});if(!N.ok)throw new Error(`Error: ${N.status}`);const S=await N.json();i(E=>E.filter(_=>_.id!==w));const T=x(S.answer),j={id:(Date.now()+2).toString(),role:"assistant",content:T,timestamp:new Date,relatedQuestions:S.relatedQuestions,relatedDocuments:S.category?[`${S.category} Documentation`]:void 0};i(E=>[...E,j])}catch(N){console.error("Error fetching chatbot response:",N),i(T=>T.filter(j=>j.id!==w));const S={id:(Date.now()+2).toString(),role:"assistant",content:"I'm having trouble connecting to the server. Please try again later.",timestamp:new Date};i(T=>[...T,S]),R.error("Failed to get chatbot response")}finally{c(!1)}},y=v=>{o(v),u.current&&u.current.focus()},p=(v,w)=>{R.success(`Thank you for your ${w?"positive":"negative"} feedback!`),i(N=>N.map(S=>S.id===v?{...S,relatedQuestions:void 0}:S))},b=v=>{R.success(`Opening ${v}...`)};return n.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[n.jsx("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 flex items-center justify-center","aria-label":t?"Close chat":"Open chat",children:t?n.jsx(Ht,{className:"w-6 h-6"}):n.jsx(Po,{className:"w-6 h-6"})}),t&&n.jsxs("div",{className:"absolute bottom-16 right-0 w-80 md:w-96 bg-white rounded-xl shadow-xl border border-gray-200 flex flex-col transition-all duration-300 overflow-hidden",children:[n.jsxs("div",{className:"bg-blue-600 text-white p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ts,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-medium",children:"Trading Assistant"})]}),n.jsx("button",{onClick:h,className:"text-white/80 hover:text-white transition-colors","aria-label":"Close chat",children:n.jsx(Ht,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 max-h-96 bg-gray-50",children:[r.map(v=>n.jsx("div",{className:"mb-4",children:v.role==="user"?n.jsxs("div",{className:"flex items-start justify-end",children:[n.jsx("div",{className:"bg-blue-100 text-blue-900 rounded-lg py-2 px-3 max-w-[80%]",children:n.jsx("p",{className:"text-sm",children:v.content})}),n.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center ml-2 flex-shrink-0",children:n.jsx(es,{className:"w-4 h-4 text-white"})})]}):v.role==="system"?n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:n.jsx(fh,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-3 max-w-[80%]",children:[n.jsx("p",{className:"text-sm",children:v.content}),v.relatedQuestions&&v.relatedQuestions.length>0&&n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"You can ask me about:"}),v.relatedQuestions.map((w,N)=>n.jsx("button",{onClick:()=>y(w),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:w},N))]})]})]}):n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:n.jsx(ts,{className:"w-4 h-4 text-white"})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg py-2 px-3 max-w-[80%] shadow-sm",children:v.isLoading?n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(ga,{className:"w-4 h-4 text-blue-500 animate-spin"})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm prose prose-sm max-w-none",children:n.jsx(YC,{remarkPlugins:[g4],children:v.content})}),v.relatedDocuments&&v.relatedDocuments.length>0&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500 mb-1",children:[n.jsx(W0,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Related Documentation:"})]}),n.jsx("div",{className:"space-y-1",children:v.relatedDocuments.map((w,N)=>n.jsxs("button",{onClick:()=>b(w),className:"flex items-center space-x-1 text-xs text-blue-600 hover:text-blue-800 hover:underline",children:[n.jsx(Xn,{className:"w-3 h-3"}),n.jsx("span",{children:w}),n.jsx(yn,{className:"w-2 h-2"})]},N))})]}),n.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>p(v.id,!0),className:"text-gray-400 hover:text-green-500 transition-colors",title:"Helpful",children:n.jsx(lT,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>p(v.id,!1),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Not helpful",children:n.jsx(oT,{className:"w-3 h-3"})})]}),v.relatedQuestions&&v.relatedQuestions.length>0&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Related questions:"}),v.relatedQuestions.map((w,N)=>n.jsx("button",{onClick:()=>y(w),className:"block text-xs text-left text-blue-600 hover:text-blue-800 hover:underline",children:w},N))]})]})})]})},v.id)),n.jsx("div",{ref:d})]}),n.jsxs("div",{className:"p-3 border-t border-gray-200 bg-white",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{ref:u,type:"text",value:a,onChange:f,onKeyPress:m,placeholder:"Ask me anything about trading...",className:"flex-1 border border-gray-300 rounded-l-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l}),n.jsx("button",{onClick:g,disabled:!a.trim()||l,className:"bg-blue-600 text-white rounded-r-lg py-2 px-3 hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?n.jsx(ga,{className:"w-5 h-5 animate-spin"}):n.jsx(kf,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Ask about robots, signals, webhooks, or any platform feature"})]})]})]})},UX=({className:e})=>{const[t,s]=k.useState(!1),r=()=>{s(!t)};return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:r,className:`fixed bottom-6 right-6 z-50 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 flex items-center justify-center ${e}`,"aria-label":t?"Close chat assistant":"Open chat assistant",children:t?n.jsx(Ht,{className:"w-6 h-6"}):n.jsx(Po,{className:"w-6 h-6"})}),t&&n.jsx(FX,{initialOpen:!0})]})},$X=()=>{const e=Pt(),[t,s]=k.useState(!1),[r,i]=k.useState("algo"),[a,o]=k.useState(1e4),[l,c]=k.useState(8),d=k.useRef(null),u=k.useRef(null),h=k.useRef(null),f=k.useRef(null),[m,x]=k.useState([{symbol:"EURUSD",price:1.085,change:.0012,changePercent:.11,direction:"up"},{symbol:"GBPUSD",price:1.265,change:-8e-4,changePercent:-.06,direction:"down"},{symbol:"USDJPY",price:150.25,change:.15,changePercent:.1,direction:"up"},{symbol:"BTCUSD",price:45e3,change:-120,changePercent:-.27,direction:"down"},{symbol:"XAUUSD",price:2050.5,change:5.25,changePercent:.26,direction:"up"}]),g=()=>{d.current&&(t?d.current.pause():d.current.play(),s(!t))},y=S=>{var T;(T=S.current)==null||T.scrollIntoView({behavior:"smooth"})},p=()=>{e("/login")},b=()=>{e("/login")},w=(()=>{const S=l/100,T=Math.pow(1+S,12)-1,j=a*T;return{monthly:j/12,yearly:j,percentage:T*100}})();k.useEffect(()=>{const S=()=>{d.current&&window.innerWidth>=1024&&(d.current.play().catch(()=>{console.log("Autoplay prevented")}),s(!0))};return S(),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]),k.useEffect(()=>{const T=setInterval(()=>{x(j=>j.map(E=>{const _=(Math.random()-.5)*(E.symbol.includes("BTC")?50:E.symbol.includes("XAU")?.5:.0015),C=E.price+_,P=E.change+_,I=P/C*100,$=_>=0?"up":"down";return{...E,price:C,change:P,changePercent:I,direction:$}}))},2e3);return()=>clearInterval(T)},[]);const N=()=>n.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:50}).map((S,T)=>n.jsx(Ie.div,{className:"absolute w-2 h-2 bg-blue-500 rounded-full opacity-20",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{x:[null,Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[null,Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:20+Math.random()*30,repeat:1/0,ease:"linear"}},T))});return n.jsxs("div",{className:"min-h-screen bg-[#1b1b1b] text-white",children:[n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-[#292929] border-b border-[#ffa31a]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-20",children:[n.jsx("div",{className:"flex items-center space-x-3",children:n.jsx("img",{src:"/src/images/tradinghub_dark_logo.png",alt:"Platform Logo",className:"h-9 w-auto"})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("nav",{className:"hidden md:flex space-x-8 text-[#808080]",children:[n.jsx("button",{onClick:()=>y(u),className:"hover:text-[#ffa31a] transition-colors",children:"Features"}),n.jsx("button",{onClick:()=>y(f),className:"hover:text-[#ffa31a] transition-colors",children:"Technology"}),n.jsx("button",{onClick:()=>y(h),className:"hover:text-[#ffa31a] transition-colors",children:"Calculator"}),n.jsx("button",{onClick:()=>e("/packages"),className:"hover:text-[#ffa31a] transition-colors",children:"Pricing"})]}),n.jsx("button",{onClick:b,className:"btn-primary",children:"Login"})]})]})})}),n.jsxs("div",{className:"relative pt-20 overflow-hidden bg-gradient-to-b from-[#1b1b1b] via-[#292929] to-[#1b1b1b]",children:[n.jsx("div",{className:"w-full overflow-hidden bg-[#292929]/50 backdrop-blur-sm border-y border-[#ffa31a]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:n.jsxs("div",{className:"flex items-center space-x-6 overflow-x-auto scrollbar-hide",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-[#808080]",children:[n.jsx(Yr,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm whitespace-nowrap",children:new Date().toLocaleTimeString()})]}),m.map((S,T)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium whitespace-nowrap",children:S.symbol}),n.jsx("span",{className:"font-mono whitespace-nowrap",children:S.symbol.includes("JPY")?S.price.toFixed(3):S.symbol.includes("BTC")?S.price.toFixed(1):S.symbol.includes("XAU")?S.price.toFixed(2):S.price.toFixed(5)}),n.jsxs("span",{className:`flex items-center whitespace-nowrap ${S.direction==="up"?"text-green-500":"text-red-500"}`,children:[S.direction==="up"?n.jsx(vu,{className:"w-3 h-3 mr-1"}):n.jsx(jw,{className:"w-3 h-3 mr-1"}),S.changePercent.toFixed(2),"%"]})]},T))]})})}),n.jsx(N,{}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 relative z-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center relative",children:[n.jsxs(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-6",children:["Next-Gen ",n.jsx("span",{className:"text-[#ffa31a]",children:"Algorithmic"})," Trading Platform"]}),n.jsx("p",{className:"text-xl text-[#808080] mb-8 leading-relaxed",children:"Automate your trading strategies with AI-powered algorithms, real-time signals, and professional risk management tools."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs(Ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-6 py-3 bg-[#ffa31a] text-white rounded-lg font-semibold hover:bg-[#e59400] transition-colors shadow-lg flex items-center justify-center",children:["Start Trading Now ",n.jsx(ps,{className:"ml-2 w-5 h-5"})]}),n.jsxs(Ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(u),className:"px-6 py-3 bg-[#292929] text-white rounded-lg font-semibold hover:bg-[#1b1b1b] transition-colors flex items-center justify-center",children:["Explore Features ",n.jsx(fo,{className:"ml-2 w-5 h-5"})]})]})]}),n.jsxs(Ie.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative mt-8 lg:mt-0",children:[n.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border border-[#292929] bg-[#292929]",children:[n.jsxs("div",{className:"w-full h-[400px] relative",children:[n.jsxs("div",{className:"absolute inset-0 grid grid-cols-6 grid-rows-6",children:[Array.from({length:6}).map((S,T)=>n.jsx("div",{className:"w-full h-px bg-[#808080]/50",style:{top:`${(T+1)*16.66}%`,position:"absolute"}},`h-${T}`)),Array.from({length:6}).map((S,T)=>n.jsx("div",{className:"h-full w-px bg-[#808080]/50",style:{left:`${(T+1)*16.66}%`,position:"absolute"}},`v-${T}`))]}),n.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1000 400",preserveAspectRatio:"none",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffa31a",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#ffa31a",stopOpacity:"0"})]})}),n.jsx("path",{d:"M0,300 C50,280 100,320 150,280 C200,240 250,260 300,220 C350,180 400,200 450,150 C500,100 550,120 600,80 C650,40 700,60 750,100 C800,140 850,120 900,160 C950,200 1000,180 1000,180 L1000,400 L0,400 Z",fill:"url(#chartGradient)",stroke:"#ffa31a",strokeWidth:"2"}),n.jsx("path",{d:"M0,320 C50,300 100,340 150,300 C200,260 250,280 300,240 C350,200 400,220 450,170 C500,120 550,140 600,100 C650,60 700,80 750,120 C800,160 850,140 900,180 C950,220 1000,200 1000,200",fill:"none",stroke:"#10b981",strokeWidth:"2",opacity:"0.7"})]}),n.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-3",children:[n.jsx("div",{className:"bg-[#ffa31a]/20 backdrop-blur-sm px-3 py-1 rounded text-[#ffa31a] text-sm font-medium",children:"EURUSD"}),n.jsx("div",{className:"bg-[#292929]/80 backdrop-blur-sm px-3 py-1 rounded text-[#808080] text-sm",children:"1D"})]}),n.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2",children:[n.jsx("div",{className:"bg-green-500/20 backdrop-blur-sm px-2 py-1 rounded text-green-400 text-xs",children:"BUY"}),n.jsx("div",{className:"bg-red-500/20 backdrop-blur-sm px-2 py-1 rounded text-red-400 text-xs",children:"SELL"})]}),n.jsx("div",{className:"absolute right-3 top-1/4 bg-[#292929]/80 backdrop-blur-sm px-2 py-1 rounded text-[#808080] text-xs",children:"1.0850"}),n.jsx("div",{className:"absolute right-3 top-2/4 bg-[#292929]/80 backdrop-blur-sm px-2 py-1 rounded text-[#808080] text-xs",children:"1.0825"}),n.jsx("div",{className:"absolute right-3 top-3/4 bg-[#292929]/80 backdrop-blur-sm px-2 py-1 rounded text-[#808080] text-xs",children:"1.0800"}),n.jsxs("div",{className:"absolute bottom-3 left-0 w-full flex justify-between px-4",children:[n.jsx("span",{className:"text-[#808080] text-xs",children:"09:30"}),n.jsx("span",{className:"text-[#808080] text-xs",children:"12:00"}),n.jsx("span",{className:"text-[#808080] text-xs",children:"15:30"}),n.jsx("span",{className:"text-[#808080] text-xs",children:"19:00"})]}),n.jsx("button",{onClick:g,className:"absolute bottom-4 right-4 z-10 bg-[#292929]/80 backdrop-blur-sm p-3 rounded-full hover:bg-[#292929] transition-colors","aria-label":t?"Pause video":"Play video",children:t?n.jsx(wL,{className:"w-6 h-6 text-white"}):n.jsx(ph,{className:"w-6 h-6 text-white"})})]}),n.jsx("div",{className:"bg-[#292929] border-t border-[#808080] p-4",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Open"}),n.jsx("p",{className:"text-sm font-mono font-medium text-white",children:"1.0825"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"High"}),n.jsx("p",{className:"text-sm font-mono font-medium text-green-400",children:"1.0852"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Low"}),n.jsx("p",{className:"text-sm font-mono font-medium text-red-400",children:"1.0798"})]})]})})]}),n.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"absolute -bottom-6 -left-6 bg-[#292929]/90 backdrop-blur-sm rounded-lg shadow-lg p-4 border border-[#808080]",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-lg",children:n.jsx(gs,{className:"w-5 h-5 text-[#ffa31a]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Active Traders"}),n.jsx("p",{className:"text-lg font-bold text-white",children:"10,000+"})]})]})}),n.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},className:"absolute -top-6 -right-6 bg-[#292929]/90 backdrop-blur-sm rounded-lg shadow-lg p-4 border border-[#808080]",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:n.jsx(vs,{className:"w-5 h-5 text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Daily Volume"}),n.jsx("p",{className:"text-lg font-bold text-white",children:"$2.5M+"})]})]})})]})]})}),n.jsx("div",{className:"w-full bg-[#292929]/80 backdrop-blur-sm border-t border-[#808080] py-4",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-[#ffa31a]/20 p-2 rounded-full",children:n.jsx(Rn,{className:"w-5 h-5 text-[#ffa31a]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Market Signals"}),n.jsx("p",{className:"text-lg font-bold text-white",children:"247 Today"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-500/20 p-2 rounded-full",children:n.jsx(we,{className:"w-5 h-5 text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Win Rate"}),n.jsx("p",{className:"text-lg font-bold text-white",children:"68.5%"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-purple-500/20 p-2 rounded-full",children:n.jsx(ts,{className:"w-5 h-5 text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Active Robots"}),n.jsx("p",{className:"text-lg font-bold text-white",children:"5,280"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-yellow-500/20 p-2 rounded-full",children:n.jsx(Ks,{className:"w-5 h-5 text-yellow-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Executions"}),n.jsx("p",{className:"text-lg font-bold text-white",children:"12.4M"})]})]})]})})})]}),n.jsx("div",{ref:u,className:"py-20 bg-[#1b1b1b]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Powerful Trading Features"}),n.jsx("p",{className:"text-xl text-[#808080] max-w-3xl mx-auto",children:"Our platform combines cutting-edge technology with user-friendly interfaces to give you the edge in today's markets"})]})}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-12 bg-[#292929]/50 p-4 rounded-xl border border-[#808080]",children:[n.jsx("button",{onClick:()=>i("algo"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="algo"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"Algorithmic Trading"}),n.jsx("button",{onClick:()=>i("risk"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="risk"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"Risk Management"}),n.jsx("button",{onClick:()=>i("signals"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="signals"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"Real-time Signals"}),n.jsx("button",{onClick:()=>i("vps"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="vps"?"bg-[#ffa31a] text-white":"bg-[#292929] text-[#808080] hover:bg-[#1b1b1b]"}`,children:"24/7 VPS Hosting"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center bg-[#292929]/30 p-8 rounded-xl border border-[#808080]",children:[r==="algo"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 bg-[#ffa31a]/10 p-4 rounded-xl border border-[#ffa31a]/20",children:[n.jsx("div",{className:"bg-[#ffa31a]/20 p-3 rounded-lg",children:n.jsx(ts,{className:"w-6 h-6 text-[#ffa31a]"})}),n.jsx("h3",{className:"text-2xl font-bold text-white",children:"Algorithmic Trading"})]}),n.jsx("p",{className:"text-lg text-[#808080]",children:"Create and deploy sophisticated trading algorithms without writing a single line of code. Our visual strategy builder makes it easy."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Pre-built Strategy Templates"}),n.jsx("p",{className:"text-[#808080]",children:"Choose from proven strategies like Trend Following, Mean Reversion, Breakout, and more."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Customizable Parameters"}),n.jsx("p",{className:"text-[#808080]",children:"Fine-tune your strategies with adjustable risk levels, lot sizes, and take profit targets."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Performance Analytics"}),n.jsx("p",{className:"text-[#808080]",children:"Track win rates, profit metrics, and optimize your strategies based on real data."})]})]})]}),n.jsxs("button",{onClick:p,className:"px-6 py-3 bg-[#ffa31a] text-white rounded-lg font-semibold hover:bg-[#e59400] transition-colors inline-flex items-center",children:["Start Building Robots ",n.jsx(ps,{className:"ml-2 w-5 h-5"})]})]}),n.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:n.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[n.jsxs("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ts,{className:"w-5 h-5 text-[#ffa31a]"}),n.jsx("span",{className:"font-medium text-white",children:"Trend Following Strategy"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-green-400",children:"Active"})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"h-64 relative",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 400 200",preserveAspectRatio:"none",children:[n.jsx("path",{d:"M0,150 C20,140 40,160 60,140 C80,120 100,130 120,110 C140,90 160,100 180,80 C200,60 220,70 240,50 C260,30 280,40 300,60 C320,80 340,70 360,90 C380,110 400,100 400,100",fill:"none",stroke:"#ffa31a",strokeWidth:"2"}),n.jsx("path",{d:"M0,150 C20,140 40,160 60,140 C80,120 100,130 120,110 C140,90 160,100 180,80 C200,60 220,70 240,50 C260,30 280,40 300,60 C320,80 340,70 360,90 C380,110 400,100 400,100",fill:"url(#blueGradient)",strokeWidth:"0",opacity:"0.2"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"blueGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffa31a",stopOpacity:"0.5"}),n.jsx("stop",{offset:"100%",stopColor:"#ffa31a",stopOpacity:"0"})]})})]}),n.jsx("div",{className:"absolute top-1/4 left-1/4 w-4 h-4 rounded-full bg-green-500/20 border border-green-500 transform -translate-x-1/2 -translate-y-1/2"}),n.jsx("div",{className:"absolute top-2/3 left-1/2 w-4 h-4 rounded-full bg-red-500/20 border border-red-500 transform -translate-x-1/2 -translate-y-1/2"}),n.jsx("div",{className:"absolute top-1/3 left-3/4 w-4 h-4 rounded-full bg-green-500/20 border border-green-500 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Win Rate"}),n.jsx("p",{className:"text-lg font-bold text-green-400",children:"72.5%"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Profit"}),n.jsx("p",{className:"text-lg font-bold text-green-400",children:"+$1,245"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Trades"}),n.jsx("p",{className:"text-lg font-bold text-white",children:"124"})]})]})]})]})})]}),r==="risk"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 bg-purple-500/10 p-4 rounded-xl border border-purple-500/20",children:[n.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:n.jsx(It,{className:"w-6 h-6 text-purple-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-white",children:"Risk Management"})]}),n.jsx("p",{className:"text-lg text-[#808080]",children:"Protect your capital with advanced risk management tools designed to minimize losses and maximize gains."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Position Sizing Calculator"}),n.jsx("p",{className:"text-[#808080]",children:"Automatically calculate optimal position sizes based on your risk tolerance and account balance."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Stop-Loss Automation"}),n.jsx("p",{className:"text-[#808080]",children:"Set and forget with automated stop-losses that protect your downside on every trade."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Portfolio Correlation Analysis"}),n.jsx("p",{className:"text-[#808080]",children:"Identify and avoid correlated risks across your trading portfolio."})]})]})]}),n.jsxs("button",{onClick:p,className:"px-6 py-3 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition-colors inline-flex items-center",children:["Explore Risk Tools ",n.jsx(ps,{className:"ml-2 w-5 h-5"})]})]}),n.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:n.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[n.jsx("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(It,{className:"w-5 h-5 text-purple-400"}),n.jsx("span",{className:"font-medium text-white",children:"Risk Analysis Dashboard"})]})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-[#808080]",children:"Portfolio Risk Level"}),n.jsx("span",{className:"text-sm font-medium text-yellow-400",children:"Medium"})]}),n.jsx("div",{className:"h-2 w-full bg-[#808080] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-full",style:{width:"65%"}})}),n.jsxs("div",{className:"flex justify-between text-xs text-[#808080] mt-1",children:[n.jsx("span",{children:"Low"}),n.jsx("span",{children:"Medium"}),n.jsx("span",{children:"High"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Max Drawdown"}),n.jsx("p",{className:"text-lg font-bold text-red-400",children:"-4.2%"}),n.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:"42%"}})})]}),n.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Risk per Trade"}),n.jsx("p",{className:"text-lg font-bold text-green-400",children:"1.5%"}),n.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:"15%"}})})]}),n.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Correlation Risk"}),n.jsx("p",{className:"text-lg font-bold text-yellow-400",children:"Medium"}),n.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:n.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:"60%"}})})]}),n.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Exposure"}),n.jsx("p",{className:"text-lg font-bold text-blue-400",children:"32.5%"}),n.jsx("div",{className:"mt-2 h-1 w-full bg-[#808080] rounded-full",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"32.5%"}})})]})]})]})]})})]}),r==="signals"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 bg-green-500/10 p-4 rounded-xl border border-green-500/20",children:[n.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:n.jsx(Ks,{className:"w-6 h-6 text-green-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-white",children:"Real-time Signals"})]}),n.jsx("p",{className:"text-lg text-[#808080]",children:"Receive and execute trading signals in real-time from TradingView or our proprietary signal providers."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"TradingView Webhook Integration"}),n.jsx("p",{className:"text-[#808080]",children:"Connect your TradingView alerts directly to our platform for automated execution."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Automated Execution"}),n.jsx("p",{className:"text-[#808080]",children:"Signals are automatically executed according to your predefined risk parameters."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Signal Performance Tracking"}),n.jsx("p",{className:"text-[#808080]",children:"Analyze the performance of different signal sources to optimize your strategy."})]})]})]}),n.jsxs("button",{onClick:p,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors inline-flex items-center",children:["Set Up Signals ",n.jsx(ps,{className:"ml-2 w-5 h-5"})]})]}),n.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:n.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[n.jsxs("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ks,{className:"w-5 h-5 text-green-400"}),n.jsx("span",{className:"font-medium text-white",children:"Signal Feed"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-green-400",children:"Live"})]})]}),n.jsxs("div",{className:"divide-y divide-[#808080]",children:[n.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:n.jsx(vu,{className:"w-4 h-4 text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"BUY EURUSD"}),n.jsx("p",{className:"text-xs text-[#808080]",children:"1.0850 • SL: 1.0820 • TP: 1.0900"})]})]}),n.jsx("div",{className:"text-xs text-[#808080]",children:"2m ago"})]}),n.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-red-500/20 p-2 rounded-lg",children:n.jsx(jw,{className:"w-4 h-4 text-red-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"SELL GBPUSD"}),n.jsx("p",{className:"text-xs text-[#808080]",children:"1.2650 • SL: 1.2680 • TP: 1.2600"})]})]}),n.jsx("div",{className:"text-xs text-[#808080]",children:"5m ago"})]}),n.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:n.jsx(vu,{className:"w-4 h-4 text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"BUY XAUUSD"}),n.jsx("p",{className:"text-xs text-[#808080]",children:"2050.50 • SL: 2045.00 • TP: 2060.00"})]})]}),n.jsx("div",{className:"text-xs text-[#808080]",children:"12m ago"})]}),n.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#292929]/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:n.jsx(Te,{className:"w-4 h-4 text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"CLOSE USDJPY"}),n.jsx("p",{className:"text-xs text-[#808080]",children:"150.25 • Profit: +35 pips"})]})]}),n.jsx("div",{className:"text-xs text-[#808080]",children:"18m ago"})]})]})]})})]}),r==="vps"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 bg-yellow-500/10 p-4 rounded-xl border border-yellow-500/20",children:[n.jsx("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:n.jsx(Nn,{className:"w-6 h-6 text-yellow-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-white",children:"24/7 VPS Hosting"})]}),n.jsx("p",{className:"text-lg text-[#808080]",children:"Our VPS hosting ensures your trading robots run continuously, even when your computer is off."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Cloud-based Execution"}),n.jsx("p",{className:"text-[#808080]",children:"Your strategies run on our secure, high-performance servers with 99.9% uptime."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Low-Latency Connections"}),n.jsx("p",{className:"text-[#808080]",children:"Strategically located servers ensure minimal latency to major exchanges."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-6 h-6 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Resource Monitoring"}),n.jsx("p",{className:"text-[#808080]",children:"Real-time monitoring of your VPS performance and resource utilization."})]})]})]}),n.jsxs("button",{onClick:p,className:"px-6 py-3 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition-colors inline-flex items-center",children:["Get VPS Hosting ",n.jsx(ps,{className:"ml-2 w-5 h-5"})]})]}),n.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:n.jsxs("div",{className:"rounded-xl shadow-xl overflow-hidden border border-[#808080] bg-[#292929]",children:[n.jsxs("div",{className:"p-4 border-b border-[#808080] flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Nn,{className:"w-5 h-5 text-yellow-400"}),n.jsx("span",{className:"font-medium text-white",children:"VPS Dashboard"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-green-400",children:"Online"})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"CPU Usage"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-lg font-bold text-white",children:"24%"}),n.jsx("div",{className:"w-2/3 h-2 bg-[#808080] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"24%"}})})]})]}),n.jsxs("div",{className:"bg-[#808080]/50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-[#808080]",children:"Memory"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-lg font-bold text-white",children:"42%"}),n.jsx("div",{className:"w-2/3 h-2 bg-[#808080] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:"42%"}})})]})]})]}),n.jsxs("div",{className:"bg-[#808080]/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-white",children:"Active Robots"}),n.jsx("p",{className:"text-sm font-medium text-green-400",children:"5/10"})]}),n.jsx("div",{className:"space-y-2",children:["EURUSD Scalper","Gold Trend","USDJPY Breakout"].map((S,T)=>n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-[#808080]",children:S})]}),n.jsx("span",{className:"text-[#808080]",children:"Running"})]},T))})]}),n.jsxs("div",{className:"bg-[#808080]/30 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-white mb-2",children:"Server Status"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[#808080]",children:"Uptime"}),n.jsx("span",{className:"text-[#808080]",children:"99.98%"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[#808080]",children:"Region"}),n.jsx("span",{className:"text-[#808080]",children:"US-East"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[#808080]",children:"Latency"}),n.jsx("span",{className:"text-green-400",children:"12ms"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[#808080]",children:"Bandwidth"}),n.jsx("span",{className:"text-[#808080]",children:"2.4 GB/day"})]})]})]})]})]})})]})]})]})]})}),n.jsx("div",{ref:f,className:"py-20 bg-[#1b1b1b] border-t border-[#808080]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Powered by Advanced Technology"}),n.jsx("p",{className:"text-xl text-[#808080] max-w-3xl mx-auto",children:"Our platform leverages cutting-edge technologies to provide you with the best trading experience"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[n.jsx("div",{className:"absolute inset-0 hidden lg:block",children:n.jsx("svg",{className:"w-full h-full",viewBox:"0 0 1000 300",preserveAspectRatio:"none",children:n.jsx("path",{d:"M250,150 L750,150 M500,50 L500,250",stroke:"#ffa31a",strokeWidth:"1",strokeDasharray:"5,5",opacity:"0.3"})})}),n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-[#ffa31a]/20 text-center relative z-10",children:[n.jsx("div",{className:"bg-[#ffa31a]/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-[#ffa31a]/20",children:n.jsx(Nn,{className:"w-8 h-8 text-[#ffa31a]"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cloud Infrastructure"}),n.jsx("p",{className:"text-[#808080]",children:"Enterprise-grade servers with 99.9% uptime guarantee and global distribution for minimal latency."})]}),n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-purple-500/20 text-center relative z-10",children:[n.jsx("div",{className:"bg-purple-500/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-purple-500/20",children:n.jsx(ts,{className:"w-8 h-8 text-purple-400"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"AI-Powered Analysis"}),n.jsx("p",{className:"text-[#808080]",children:"Machine learning algorithms that analyze market patterns and optimize trading strategies in real-time."})]}),n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-green-500/20 text-center relative z-10",children:[n.jsx("div",{className:"bg-green-500/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-green-500/20",children:n.jsx(mL,{className:"w-8 h-8 text-green-400"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cross-Platform Access"}),n.jsx("p",{className:"text-[#808080]",children:"Access your trading dashboard from any device with our responsive web app and native mobile applications."})]}),n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-gradient-to-br from-[#292929] to-[#1b1b1b] rounded-xl p-8 border border-yellow-500/20 text-center relative z-10",children:[n.jsx("div",{className:"bg-yellow-500/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border border-yellow-500/20",children:n.jsx(It,{className:"w-8 h-8 text-yellow-400"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Security"}),n.jsx("p",{className:"text-[#808080]",children:"Bank-grade encryption, two-factor authentication, and regular security audits to protect your data."})]})]})]})}),n.jsx("div",{ref:h,className:"py-20 bg-gradient-to-br from-[#292929] to-[#1b1b1b] border-t border-[#808080]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Calculate Your Trading ROI"}),n.jsx("p",{className:"text-xl text-[#808080] max-w-3xl mx-auto",children:"See how our algorithmic trading platform can help maximize your returns"})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs(Ie.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},className:"bg-[#292929] rounded-xl shadow-lg p-8 border border-[#808080]",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Rn,{className:"w-6 h-6 text-[#ffa31a]"}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Investment Calculator"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-2",children:"Initial Investment Amount ($)"}),n.jsx("input",{type:"range",value:a,onChange:S=>o(Number(S.target.value)),min:"1000",max:"100000",step:"1000",className:"w-full h-2 bg-[#808080] rounded-lg appearance-none cursor-pointer"}),n.jsxs("div",{className:"flex justify-between text-sm text-[#808080] mt-1",children:[n.jsx("span",{children:"$1,000"}),n.jsxs("span",{className:"font-medium text-white",children:["$",a.toLocaleString()]}),n.jsx("span",{children:"$100,000"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-2",children:"Expected Monthly Return (%)"}),n.jsx("input",{type:"range",value:l,onChange:S=>c(Number(S.target.value)),min:"1",max:"15",step:"0.5",className:"w-full h-2 bg-[#808080] rounded-lg appearance-none cursor-pointer"}),n.jsxs("div",{className:"flex justify-between text-sm text-[#808080] mt-1",children:[n.jsx("span",{children:"1%"}),n.jsxs("span",{className:"font-medium text-white",children:[l,"%"]}),n.jsx("span",{children:"15%"})]})]}),n.jsxs("div",{className:"bg-blue-900/30 rounded-lg p-6 border border-[#ffa31a]/30",children:[n.jsx("h4",{className:"text-lg font-semibold text-[#ffa31a] mb-4",children:"Projected Returns"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Monthly Profit"}),n.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:["$",w.monthly.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Yearly Profit"}),n.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:["$",w.yearly.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#ffa31a]",children:"Annual ROI"}),n.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:[w.percentage.toFixed(2),"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#ffa31a]",children:"After 5 Years"}),n.jsxs("p",{className:"text-2xl font-bold text-[#ffa31a]",children:["$",(a*Math.pow(1+w.percentage/100,5)).toFixed(2)]})]})]})]})]})]}),n.jsxs(Ie.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},className:"space-y-8",children:[n.jsxs("div",{className:"bg-[#292929] rounded-xl shadow-lg p-8 border border-[#808080]",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Traditional vs. Algorithmic Trading"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#808080]",children:"Traditional Trading"}),n.jsxs("p",{className:"text-lg font-semibold text-white",children:["$",(a*.02).toFixed(2),"/year"]}),n.jsx("p",{className:"text-xs text-[#808080]",children:"2% management fee"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#808080]",children:"Algorithmic Trading"}),n.jsxs("p",{className:"text-lg font-semibold text-green-400",children:["$",(a*.005).toFixed(2),"/year"]}),n.jsx("p",{className:"text-xs text-[#808080]",children:"0.5% platform fee"})]})]}),n.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:"text-sm font-medium text-green-300",children:"Your Savings"}),n.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",(a*.015).toFixed(2),"/year"]})]}),n.jsx("div",{className:"w-full bg-[#808080] rounded-full h-2.5 mt-2",children:n.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"75%"}})})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-[#ffa31a] to-purple-700 rounded-xl shadow-lg p-8 text-white border border-[#ffa31a]/30",children:[n.jsx("h3",{className:"text-xl font-bold mb-4",children:"Why Choose Algorithmic Trading?"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:"Eliminates emotional trading decisions"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:"Executes trades 24/7 without your intervention"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:"Backtested strategies with proven performance"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Te,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:"Diversify across multiple markets simultaneously"})]})]}),n.jsx(Ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"mt-6 w-full py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors shadow-lg",children:"Start Trading Now"})]})]})]})]})}),n.jsx("div",{className:"py-20 bg-gradient-to-br from-[#ffa31a] to-purple-800 text-white border-t border-[#ffa31a]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Trading?"}),n.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8",children:"Join thousands of traders who are already using our platform to automate their trading strategies and maximize returns."}),n.jsx(Ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-8 py-4 bg-white text-blue-700 rounded-lg font-semibold hover:bg-gray-100 transition-colors shadow-xl",children:"Get Started Now"})]})})}),n.jsx("footer",{className:"bg-[#1b1b1b] text-white py-12 border-t border-[#808080]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-[#808080] text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-[#808080] text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"#",onClick:()=>y(u),className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"#",onClick:()=>i("risk"),className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"#",onClick:()=>i("signals"),className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"#",onClick:()=>i("vps"),className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-[#808080] text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-[#808080] text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-[#808080] mt-12 pt-8 text-center text-[#808080] text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},gk=[{id:"starter",name:"Starter",description:"Perfect for beginners",price:150,tokens:300,features:["3 Trading Robots","Basic Risk Management","TradingView Webhooks","Email Support"]},{id:"professional",name:"Professional",description:"For serious traders",price:250,tokens:500,features:["Unlimited Trading Robots","Advanced Risk Management","24/7 VPS Hosting","Priority Support","Multi-Account Management"],popular:!0},{id:"vip",name:"VIP",description:"For institutional traders",price:500,tokens:1500,features:["Everything in Professional","Custom Strategy Development","Dedicated Account Manager","API Access","White-label Options"]}],BX=["United States","United Kingdom","Canada","Australia","Germany","France","Spain","Italy","Japan","China","India","Brazil","Mexico","South Africa","Russia"],zX=()=>{const e=Bo(),t=Pt(),{userTokens:s,fetchUserTokens:r}=pe(),a=new URLSearchParams(e.search).get("package"),[o,l]=k.useState(null),[c,d]=k.useState("package"),[u,h]=k.useState("card"),[f,m]=k.useState(""),[x,g]=k.useState(!1),[y,p]=k.useState(null),[b,v]=k.useState(!1),[w,N]=k.useState(!1),[S,T]=k.useState([]),[j,E]=k.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"United States",postalCode:"",phone:""});k.useEffect(()=>{if(a){const z=gk.find(A=>A.id===a);z&&(l(z),d("payment"))}},[a]),k.useEffect(()=>{s===null&&r()},[r,s]);const _=z=>{l(z),d("payment");const A=`${window.location.pathname}?package=${z.id}`;window.history.pushState({path:A},"",A)},C=()=>{l(null),d("package"),p(null),m(""),t("/packages")},P=z=>{const{name:A,value:ie}=z.target;E(K=>({...K,[A]:ie}))},I=async()=>{if(!f.trim()){R.error("Please enter a promo code");return}g(!0);try{const A=await(await fetch(`${Js}/functions/v1/validate-promo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jn}`},body:JSON.stringify({code:f.trim()})})).json();A.isValid?(p(A),R.success(`Promo code applied: ${A.discountPercent}% discount`)):(p(null),R.error(A.message||"Invalid promo code"))}catch(z){console.error("Error validating promo code:",z),R.error("Failed to validate promo code"),p(null)}finally{g(!1)}},$=()=>{m(""),p(null)},H=()=>{if(!o)return 0;if(y&&y.isValid){const z=o.price*y.discountPercent/100;return o.price-z}return o.price},B=()=>{if(!o)return!1;const A=[{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"email",label:"Email"},{key:"address",label:"Address"},{key:"city",label:"City"},{key:"country",label:"Country"}].filter(ie=>!j[ie.key]).map(ie=>ie.label);return w||A.push("Terms and Conditions agreement"),T(A),A.length===0},L=async()=>{var z;if(o){if(!B()){R.error("Please fill in all required fields and agree to the Terms of Service");return}v(!0);try{const{data:{session:A}}=await D.auth.getSession();if(!((z=A==null?void 0:A.user)!=null&&z.id)){R.error("You must be logged in to make a purchase"),t("/login");return}const K=await(await fetch(`${Js}/functions/v1/process-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jn}`},body:JSON.stringify({packageId:o.id,amount:H(),tokens:o.tokens,userId:A.user.id,promoCode:y?f:void 0,paymentMethod:u,paymentDetails:{success:!0},customerInfo:j})})).json();K.success?(d("confirmation"),R.success(K.message||"Payment successful!"),setTimeout(()=>{r()},1e3)):R.error(K.message||"Payment failed")}catch(A){console.error("Error processing payment:",A),R.error("Failed to process payment")}finally{v(!1)}}},F=()=>{t("/")};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-8",children:[n.jsx("button",{onClick:()=>t("/"),className:"hover:text-gray-700 transition-colors",children:"Home"}),n.jsx(fo,{className:"w-4 h-4 mx-2"}),n.jsx("button",{onClick:C,className:`hover:text-gray-700 transition-colors ${c!=="package"?"":"font-medium text-gray-900"}`,children:"Packages"}),c!=="package"&&n.jsxs(n.Fragment,{children:[n.jsx(fo,{className:"w-4 h-4 mx-2"}),n.jsx("button",{onClick:()=>d("payment"),className:`hover:text-gray-700 transition-colors ${c==="payment"?"font-medium text-gray-900":""}`,children:"Payment"})]}),c==="confirmation"&&n.jsxs(n.Fragment,{children:[n.jsx(fo,{className:"w-4 h-4 mx-2"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Confirmation"})]})]}),c==="package"&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Package"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Select the package that best fits your trading needs and budget"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:gk.map(z=>n.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl overflow-hidden border ${z.popular?"border-blue-500 shadow-lg shadow-blue-50/50":"border-gray-200 shadow"}`,children:[z.popular&&n.jsx("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:"MOST POPULAR"}),n.jsxs("div",{className:"p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:z.name}),n.jsx("p",{className:"text-gray-600 mb-6",children:z.description}),n.jsxs("div",{className:"flex items-baseline mb-6",children:[n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",z.price]}),n.jsx("span",{className:"text-gray-500 ml-2",children:"/month"})]}),n.jsxs("ul",{className:"space-y-3 mb-8",children:[z.features.map((A,ie)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(Te,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700",children:A})]},ie)),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Te,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),n.jsxs("span",{className:"text-gray-700 font-semibold",children:[z.tokens," Tokens"]})]})]}),n.jsxs("button",{onClick:()=>_(z),className:`w-full py-3 rounded-lg font-semibold transition-colors flex items-center justify-center ${z.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:["Select Package ",n.jsx(ps,{className:"w-4 h-4 ml-2"})]})]})]},z.id))}),s&&n.jsx("div",{className:"mt-12 bg-blue-50 rounded-xl p-6 border border-blue-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Your Current Token Balance"}),n.jsxs("p",{className:"text-blue-700",children:["You currently have ",n.jsxs("span",{className:"font-bold",children:[s.balance," tokens"]})," available."]})]}),n.jsx("div",{className:"mt-4 md:mt-0",children:n.jsx("button",{onClick:()=>t("/vps"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Explore VPS Options"})})]})})]}),c==="payment"&&o&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Customer Information"}),S.length>0&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"Please fix the following errors:"}),n.jsx("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside",children:S.map((z,A)=>n.jsxs("li",{children:[z," is required"]},A))})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:j.firstName,onChange:P,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${S.includes("First Name")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:j.lastName,onChange:P,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${S.includes("Last Name")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:j.email,onChange:P,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${S.includes("Email")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",name:"phone",value:j.phone,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("input",{type:"text",name:"address",value:j.address,onChange:P,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${S.includes("Address")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",name:"city",value:j.city,onChange:P,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${S.includes("City")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("select",{name:"country",value:j.country,onChange:P,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${S.includes("Country")?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0,children:BX.map(z=>n.jsx("option",{value:z,children:z},z))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",name:"postalCode",value:j.postalCode,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Payment Method"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[n.jsxs("button",{onClick:()=>h("card"),className:`flex items-center justify-center space-x-2 p-4 rounded-lg border-2 transition-colors ${u==="card"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Z_,{className:`w-5 h-5 ${u==="card"?"text-blue-500":"text-gray-500"}`}),n.jsx("span",{className:u==="card"?"font-medium text-blue-700":"text-gray-700",children:"Credit Card"})]}),n.jsxs("button",{onClick:()=>h("crypto"),className:`flex items-center justify-center space-x-2 p-4 rounded-lg border-2 transition-colors ${u==="crypto"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(zx,{className:`w-5 h-5 ${u==="crypto"?"text-purple-500":"text-gray-500"}`}),n.jsx("span",{className:u==="crypto"?"font-medium text-purple-700":"text-gray-700",children:"Cryptocurrency"})]})]}),u==="card"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),n.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Date"}),n.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVC"}),n.jsx("input",{type:"text",placeholder:"123",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),n.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),u==="crypto"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-purple-50 border border-purple-100 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-purple-800 mb-2",children:"Cryptocurrency Payment"}),n.jsx("div",{className:"flex space-x-4",children:n.jsx("img",{src:"../src/images/paymentbtc150.jpg",alt:"Bitcoin"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Promo Code"}),y?n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(aa,{className:"w-5 h-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800",children:f.toUpperCase()}),n.jsxs("p",{className:"text-sm text-green-700",children:[y.discountPercent,"% discount applied"]})]})]}),n.jsx("button",{onClick:$,className:"text-green-700 hover:text-green-800",children:n.jsx(Ht,{className:"w-5 h-5"})})]}):n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(aa,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",value:f,onChange:z=>m(z.target.value.toUpperCase()),placeholder:"Enter promo code",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsx("button",{onClick:I,disabled:x||!f.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:x?n.jsxs(n.Fragment,{children:[n.jsx(ga,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Validating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(mh,{className:"w-4 h-4"}),n.jsx("span",{children:"Apply"})]})})]})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Order Summary"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600",children:[o.name," Package"]}),n.jsxs("span",{className:"font-medium",children:["$",o.price.toFixed(2)]})]}),y&&y.isValid&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsxs("span",{children:["Promo Discount (",y.discountPercent,"%)"]}),n.jsxs("span",{children:["-$",(o.price*y.discountPercent/100).toFixed(2)]})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 flex justify-between font-semibold text-lg",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["$",H().toFixed(2)]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Te,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"font-medium text-blue-800",children:"You will receive:"})]}),n.jsxs("p",{className:"text-blue-700 text-lg font-bold",children:[o.tokens," Tokens"]}),n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Use tokens to access premium features and VPS hosting"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex items-center h-5",children:n.jsx("input",{id:"terms",type:"checkbox",checked:w,onChange:z=>N(z.target.checked),className:`w-4 h-4 text-blue-600 border rounded focus:ring-blue-500 ${S.includes("Terms and Conditions agreement")?"border-red-300":"border-gray-300"}`})}),n.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-700",children:["I agree to the ",n.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Terms of Service"})," and ",n.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),S.includes("Terms and Conditions agreement")&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:"You must agree to the Terms of Service"})]}),n.jsx("button",{onClick:L,disabled:b,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:b?n.jsxs(n.Fragment,{children:[n.jsx(ga,{className:"w-5 h-5 animate-spin mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:["Complete Purchase ",n.jsx(ps,{className:"w-5 h-5 ml-2"})]})}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:C,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Back to packages"})})]})})]}),c==="confirmation"&&o&&n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Te,{className:"w-8 h-8 text-green-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your purchase. Your tokens have been added to your account."}),n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-6 mb-8 inline-block",children:[n.jsx("p",{className:"text-blue-800 font-medium mb-2",children:"Your new token balance:"}),n.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:[s?s.balance+o.tokens:o.tokens," Tokens"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:F,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),n.jsx("button",{onClick:()=>t("/vps"),className:"w-full py-3 bg-gray-100 text-gray-800 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"Explore VPS Options"})]})]})})]})]})};class VX{async checkCurrentUserToken(){var t;try{const{data:{session:s}}=await D.auth.getSession();if(!((t=s==null?void 0:s.user)!=null&&t.id))return{hasToken:!1,tokenExists:!1,accountActive:!1,canTrade:!1,setupIssues:["User not authenticated"]};const{data:r,error:i}=await D.rpc("check_mt5_token_status",{user_id_param:s.user.id});if(i)return console.error("Error checking user trading setup:",i),{hasToken:!1,tokenExists:!1,accountActive:!1,canTrade:!1,setupIssues:["Error checking trading setup: "+i.message]};const a=r;return{hasToken:(a==null?void 0:a.hasToken)||!1,tokenExists:(a==null?void 0:a.hasToken)||!1,accountActive:(a==null?void 0:a.accountActive)||!1,mt5Username:a==null?void 0:a.mt5Username,mt5Server:a==null?void 0:a.mt5Server,accountType:a==null?void 0:a.accountType,canTrade:(a==null?void 0:a.canTrade)||!1,setupIssues:(a==null?void 0:a.setupIssues)||[]}}catch(s){return console.error("Error in checkCurrentUserToken:",s),{hasToken:!1,tokenExists:!1,accountActive:!1,canTrade:!1,setupIssues:["Unexpected error: "+s.message]}}}async fixMT5TokenStorage(){try{const{ensureMT5TokenStored:t}=pe.getState();return ae.loading("Checking and updating MT5 token storage..."),await t()?(ae.success("MT5 token storage updated successfully"),!0):(ae.error("Failed to update MT5 token storage"),!1)}catch(t){return console.error("Error fixing MT5 token storage:",t),ae.error("Error updating MT5 token storage: "+t.message),!1}}async reauthenticateMT5(){try{const{reauthenticateMT5:t}=pe.getState();return ae.loading("Re-authenticating with MT5..."),await t()?(ae.success("MT5 re-authentication successful"),!0):(ae.error("MT5 re-authentication failed"),!1)}catch(t){return console.error("Error re-authenticating MT5:",t),ae.error("Error re-authenticating MT5: "+t.message),!1}}async getSystemTokenStatus(){try{return{userCountWithAccounts:0,userCountWithTokens:0,userCountActiveAccounts:0,sampleAccounts:[]}}catch(t){return console.error("Error in getSystemTokenStatus:",t),ae.error("Error getting system token status"),null}}async diagnoseAndFix(){const t=await this.checkCurrentUserToken();let s=!1,r=!1;if(!t.canTrade||t.setupIssues.length>0){if(s=!0,await this.fixMT5TokenStorage()){const a=await this.checkCurrentUserToken();r=a.canTrade&&a.hasToken}if(!r&&await this.reauthenticateMT5()){const o=await this.checkCurrentUserToken();r=o.canTrade&&o.hasToken}}return{diagnosis:t,fixAttempted:s,fixSuccessful:r}}async activateAccount(){var t;try{const{data:{session:s}}=await D.auth.getSession();if(!((t=s==null?void 0:s.user)!=null&&t.id))return ae.error("User not authenticated"),!1;const{data:r,error:i}=await D.rpc("fix_user_mt5_token",{user_id_param:s.user.id,username_param:null,server_param:null,token_param:null,account_type_param:null});return i?(console.error("Error activating account:",i),ae.error("Failed to activate account"),!1):r!=null&&r.success?(ae.success("Account activated successfully! You can now trade automatically."),!0):(ae.error("Failed to activate account: "+((r==null?void 0:r.message)||"Unknown error")),!1)}catch(s){return console.error("Error in activateAccount:",s),ae.error("Error activating account"),!1}}async manualTokenUpdate(t,s,r,i="live"){var a;try{const{data:{session:o}}=await D.auth.getSession();if(!((a=o==null?void 0:o.user)!=null&&a.id))return ae.error("User not authenticated"),!1;const{data:l,error:c}=await D.rpc("fix_user_mt5_token",{user_id_param:o.user.id,username_param:t,server_param:s,token_param:r,account_type_param:i});return c?(console.error("Error updating MT5 token manually:",c),ae.error("Failed to update MT5 token"),!1):l!=null&&l.success?(ae.success("MT5 token updated successfully"),!0):(ae.error("Failed to update MT5 token: "+((l==null?void 0:l.message)||"Unknown error")),!1)}catch(o){return console.error("Error in manualTokenUpdate:",o),ae.error("Error updating MT5 token"),!1}}}const vl=new VX,HX=()=>{var g;const[e,t]=k.useState(null),[s,r]=k.useState(!1),[i,a]=k.useState(!1),{isAuthenticated:o,credentials:l,accountInfo:c}=pe();k.useEffect(()=>{o&&d()},[o]);const d=async()=>{r(!0);try{const y=await vl.checkCurrentUserToken();t(y)}catch(y){console.error("Error checking token status:",y),ae.error("Failed to check MT5 token status")}finally{r(!1)}},u=async()=>{a(!0);try{const y=await vl.diagnoseAndFix();y.fixSuccessful?(ae.success("MT5 token issues resolved successfully!"),await d()):y.fixAttempted?ae.error("Attempted to fix issues but some problems remain"):ae("No fixes were needed")}catch(y){console.error("Error during auto-fix:",y),ae.error("Auto-fix failed")}finally{a(!1)}},h=async()=>{a(!0);try{await vl.fixMT5TokenStorage()&&await d()}finally{a(!1)}},f=async()=>{a(!0);try{await vl.reauthenticateMT5()&&await d()}finally{a(!1)}},m=async()=>{a(!0);try{await vl.activateAccount()&&await d()}finally{a(!1)}};if(!o)return n.jsx("div",{className:"max-w-2xl mx-auto p-6",children:n.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(bs,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-2"}),n.jsx("span",{className:"text-yellow-800 dark:text-yellow-200",children:"Please log in to check MT5 token status"})]})})});const x=({status:y,className:p=""})=>y?n.jsx(Te,{className:`w-5 h-5 text-green-600 dark:text-green-400 ${p}`}):n.jsx(Wx,{className:`w-5 h-5 text-red-600 dark:text-red-400 ${p}`});return n.jsx("div",{className:"max-w-4xl mx-auto p-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"MT5 Token Diagnostics"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check and fix MT5 token storage for automatic trading"})]}),n.jsxs("button",{onClick:d,disabled:s,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[n.jsx(Mn,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Account Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MT5 Connection"}),n.jsx(x,{status:!!l})]}),n.jsx("div",{className:"text-sm",children:l?n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Account:"})," ",l.username]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Server:"})," ",l.server]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Type:"})," ",l.accountType]})]}):n.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Not connected"})})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Account Info"}),n.jsx(x,{status:!!c})]}),n.jsx("div",{className:"text-sm",children:c?n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Balance:"})," $",(g=c.balance)==null?void 0:g.toFixed(2)]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Currency:"})," ",c.currency]})]}):n.jsx("span",{className:"text-red-600 dark:text-red-400",children:"No account info"})})]})]}),e&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Token Storage Diagnosis"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(x,{status:e.hasToken,className:"mr-3"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:"MT5 Token Stored"})]}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.hasToken?"Token available for webhooks":"Token missing or invalid"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(x,{status:e.accountActive,className:"mr-3"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Account Active"})]}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.accountActive?"Account is active in database":"Account not active"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(x,{status:e.canTrade,className:"mr-3"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Can Trade"})]}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.canTrade?"Ready for automatic trading":"Trading not available"})]})]}),(e.mt5Username||e.mt5Server||e.accountType)&&n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 rounded-lg p-4 mb-6",children:[n.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Stored Account Details"}),n.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.mt5Username&&n.jsxs("div",{children:[n.jsx("strong",{children:"Username:"})," ",e.mt5Username]}),e.mt5Server&&n.jsxs("div",{children:[n.jsx("strong",{children:"Server:"})," ",e.mt5Server]}),e.accountType&&n.jsxs("div",{children:[n.jsx("strong",{children:"Type:"})," ",e.accountType]})]})]}),e.setupIssues.length>0&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900 rounded-lg p-4 mb-6",children:[n.jsxs("h4",{className:"font-medium text-red-900 dark:text-red-100 mb-2 flex items-center",children:[n.jsx(bs,{className:"w-4 h-4 mr-2"}),"Issues Found"]}),n.jsx("ul",{className:"text-sm text-red-800 dark:text-red-200 space-y-1",children:e.setupIssues.map((y,p)=>n.jsxs("li",{children:["• ",y]},p))})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("button",{onClick:u,disabled:i||e.canTrade,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(PL,{className:"w-4 h-4 mr-2"}),i?"Fixing...":"Auto Fix Issues"]}),e.hasToken&&!e.accountActive&&n.jsxs("button",{onClick:m,disabled:i,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 disabled:opacity-50",children:[n.jsx(Te,{className:"w-4 h-4 mr-2"}),"Activate Account"]}),n.jsxs("button",{onClick:h,disabled:i,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[n.jsx(eT,{className:"w-4 h-4 mr-2"}),"Update Token Storage"]}),n.jsxs("button",{onClick:f,disabled:i,className:"flex items-center px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50",children:[n.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Re-authenticate MT5"]})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Troubleshooting Steps"}),n.jsxs("ol",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[n.jsx("li",{children:"1. Ensure you're logged into MT5 with valid credentials"}),n.jsx("li",{children:'2. If your account is not active, click "Activate Account" to enable trading'}),n.jsx("li",{children:'3. Click "Auto Fix Issues" to automatically resolve common problems'}),n.jsx("li",{children:'4. If issues persist, try "Re-authenticate MT5" to refresh your connection'}),n.jsx("li",{children:"5. Check that your MT5 account has sufficient balance and is active"}),n.jsx("li",{children:"6. Contact support if problems continue after these steps"})]})]})]})]})})},WX=()=>{const e=Pt();return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"About Trading Hub"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionizing algorithmic trading with cutting-edge technology and user-friendly solutions"})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Trading Hub was founded in 2023 by a team of experienced traders and software engineers who recognized a gap in the market for accessible, powerful algorithmic trading tools."}),n.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Our founders had spent years developing proprietary trading systems for institutional clients but realized that individual traders and smaller firms lacked access to the same powerful tools."}),n.jsx("p",{className:"text-lg text-gray-600",children:"With a mission to democratize algorithmic trading, we built a platform that combines institutional-grade technology with an intuitive interface, making advanced trading strategies accessible to everyone from beginners to professional traders."})]}),n.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 border border-blue-100",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx(Co,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Our Timeline"}),n.jsx("p",{className:"text-gray-600",children:"Key milestones in our journey"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2023"}),n.jsx("div",{children:"Trading Hub founded with seed funding"})]}),n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2023 Q3"}),n.jsx("div",{children:"Beta launch with 500 early adopters"})]}),n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2024 Q1"}),n.jsx("div",{children:"Official platform launch with MT5 integration"})]}),n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2024 Q2"}),n.jsx("div",{children:"VPS hosting and plugins marketplace introduced"})]}),n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0 w-24 font-bold text-blue-600",children:"2025"}),n.jsx("div",{children:"Reached 10,000+ active traders worldwide"})]})]})]})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-xl p-12 mb-16",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),n.jsx("p",{className:"text-xl mb-8",children:"To empower traders of all levels with institutional-grade algorithmic trading tools that are accessible, affordable, and easy to use."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:"Democratize"}),n.jsx("p",{className:"text-blue-100",children:"Make advanced trading technology accessible to everyone"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:"Innovate"}),n.jsx("p",{className:"text-blue-100",children:"Continuously improve our platform with cutting-edge features"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:"Educate"}),n.jsx("p",{className:"text-blue-100",children:"Help traders develop profitable strategies and risk management skills"})]})]})]})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Team"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(gs,{className:"w-12 h-12 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Alex Morgan"}),n.jsx("p",{className:"text-blue-600 mb-2",children:"CEO & Co-Founder"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Former hedge fund quant with 15+ years of algorithmic trading experience"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(gs,{className:"w-12 h-12 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sarah Chen"}),n.jsx("p",{className:"text-blue-600 mb-2",children:"CTO & Co-Founder"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Software architect with expertise in financial technology and cloud infrastructure"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(gs,{className:"w-12 h-12 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Michael Rodriguez"}),n.jsx("p",{className:"text-blue-600 mb-2",children:"Head of Product"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Former professional trader with a passion for creating intuitive trading interfaces"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(gs,{className:"w-12 h-12 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Emma Wilson"}),n.jsx("p",{className:"text-blue-600 mb-2",children:"Head of Customer Success"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Dedicated to ensuring traders get the most out of our platform with exceptional support"})]})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Values"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg inline-block mb-4",children:n.jsx(Bx,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Excellence"}),n.jsx("p",{className:"text-gray-600",children:`We strive for excellence in everything we do, from code quality to customer support. We're never satisfied with "good enough" and continuously push the boundaries of what's possible.`})]}),n.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg inline-block mb-4",children:n.jsx(G0,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Transparency"}),n.jsx("p",{className:"text-gray-600",children:"We believe in complete transparency with our users. From our pricing model to our platform's performance, we share everything openly and honestly."})]}),n.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg inline-block mb-4",children:n.jsx(X_,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Community"}),n.jsx("p",{className:"text-gray-600",children:"We're building more than just a platform; we're creating a community of like-minded traders who support each other and grow together."})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Join Our Journey"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"We're on a mission to transform the world of trading. Whether you're a seasoned professional or just getting started, we invite you to join us."}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[n.jsx("button",{onClick:()=>e("/login"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Create Account"}),n.jsx("button",{onClick:()=>e("/contact"),className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Contact Us"})]})]})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},qX=()=>{const e=Pt(),[t,s]=k.useState({name:"",email:"",subject:"",message:""}),[r,i]=k.useState(!1),[a,o]=k.useState(!1),l=d=>{const{name:u,value:h}=d.target;s(f=>({...f,[u]:h}))},c=async d=>{d.preventDefault(),i(!0),setTimeout(()=>{i(!1),o(!0),R.success("Your message has been sent successfully!")},1500)};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have questions or need assistance? Our team is here to help you get the most out of your trading experience."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[n.jsx("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-8",children:a?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Te,{className:"w-8 h-8 text-green-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for reaching out. We'll get back to you as soon as possible."}),n.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Send Another Message"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Us a Message"}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),n.jsx("input",{type:"text",name:"name",value:t.name,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsxs("select",{name:"subject",value:t.subject,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a subject"}),n.jsx("option",{value:"general",children:"General Inquiry"}),n.jsx("option",{value:"support",children:"Technical Support"}),n.jsx("option",{value:"billing",children:"Billing Question"}),n.jsx("option",{value:"feature",children:"Feature Request"}),n.jsx("option",{value:"partnership",children:"Partnership Opportunity"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Message"}),n.jsx("textarea",{name:"message",value:t.message,onChange:l,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"How can we help you?"})]}),n.jsx("button",{type:"submit",disabled:r,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kf,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})]})}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 border border-blue-100",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(nT,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Us"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"For general inquiries:"}),n.jsx("a",{href:"mailto:info@tradinghub.com",className:"text-blue-600 hover:text-blue-800",children:"info@tradinghub.com"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"For support:"}),n.jsx("a",{href:"mailto:support@tradinghub.com",className:"text-blue-600 hover:text-blue-800",children:"support@tradinghub.com"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(NL,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Call Us"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Customer Support:"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"+1 (555) 123-4567"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Business Hours:"}),n.jsx("p",{className:"text-gray-700",children:"Monday - Friday: 9 AM - 6 PM EST"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(iT,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Visit Us"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Headquarters:"}),n.jsxs("address",{className:"not-italic text-gray-700",children:["123 Trading Street",n.jsx("br",{}),"Financial District",n.jsx("br",{}),"New York, NY 10004",n.jsx("br",{}),"United States"]})]})]})]})]}),n.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What is the response time for support tickets?"}),n.jsx("p",{className:"text-gray-600",children:"We aim to respond to all support tickets within 24 hours during business days. Premium users receive priority support with faster response times."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Do you offer phone support?"}),n.jsx("p",{className:"text-gray-600",children:"Yes, phone support is available for all users during business hours. Premium users have access to extended hours and dedicated support lines."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How can I report a bug?"}),n.jsx("p",{className:"text-gray-600",children:'You can report bugs through our support portal, by email, or by using the "Report Bug" feature in your account dashboard. Please include as much detail as possible, including steps to reproduce the issue.'})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Do you offer training or onboarding?"}),n.jsx("p",{className:"text-gray-600",children:"Yes, we offer free basic onboarding for all users. Premium users have access to personalized training sessions and advanced strategy consultations."})]})]})]})]})]})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},YX=()=>{const e=Pt();return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Policy"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Last Updated: ","June 15, 2025"]})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(It,{className:"w-6 h-6 text-blue-600"})})]}),n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("p",{children:"At Trading Hub, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our trading platform."}),n.jsx("h2",{children:"Information We Collect"}),n.jsx("p",{children:"We collect information that you provide directly to us when you:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Create an account"}),n.jsx("li",{children:"Connect your MT5 broker"}),n.jsx("li",{children:"Set up trading robots"}),n.jsx("li",{children:"Configure TradingView webhooks"}),n.jsx("li",{children:"Purchase tokens or VPS plans"}),n.jsx("li",{children:"Contact our support team"})]}),n.jsx("p",{children:"This information may include:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Personal identification information (name, email address, phone number)"}),n.jsx("li",{children:"Billing information (for token purchases)"}),n.jsx("li",{children:"Trading preferences and settings"}),n.jsx("li",{children:"MT5 account credentials (securely stored and encrypted)"}),n.jsx("li",{children:"Trading history and performance data"})]}),n.jsx("p",{children:"We also automatically collect certain information when you visit our website, including:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"IP address"}),n.jsx("li",{children:"Browser type and version"}),n.jsx("li",{children:"Device information"}),n.jsx("li",{children:"Pages visited and time spent"}),n.jsx("li",{children:"Referral source"})]}),n.jsx("h2",{children:"How We Use Your Information"}),n.jsx("p",{children:"We use the information we collect to:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Provide, maintain, and improve our services"}),n.jsx("li",{children:"Process transactions and send related information"}),n.jsx("li",{children:"Send technical notices, updates, security alerts, and support messages"}),n.jsx("li",{children:"Respond to your comments, questions, and requests"}),n.jsx("li",{children:"Monitor and analyze trends, usage, and activities"}),n.jsx("li",{children:"Detect, prevent, and address technical issues"}),n.jsx("li",{children:"Personalize your experience and provide content that may interest you"})]}),n.jsx("h2",{children:"Data Security"}),n.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal data against accidental or unlawful destruction, loss, alteration, unauthorized disclosure, or access. These measures include:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Encryption of sensitive data at rest and in transit"}),n.jsx("li",{children:"Regular security assessments and penetration testing"}),n.jsx("li",{children:"Strict access controls and authentication procedures"}),n.jsx("li",{children:"Continuous monitoring for suspicious activities"}),n.jsx("li",{children:"Regular backups and disaster recovery planning"})]}),n.jsx("h2",{children:"Data Sharing and Disclosure"}),n.jsx("p",{children:"We may share your information with:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Service providers who perform services on our behalf"}),n.jsx("li",{children:"Financial institutions to process payments"}),n.jsx("li",{children:"Professional advisors, such as lawyers, auditors, and insurers"}),n.jsx("li",{children:"Regulatory authorities, law enforcement agencies, or other third parties when required by law"})]}),n.jsx("p",{children:"We do not sell your personal information to third parties."}),n.jsx("h2",{children:"Your Rights"}),n.jsx("p",{children:"Depending on your location, you may have certain rights regarding your personal data, including:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Right to access your personal data"}),n.jsx("li",{children:"Right to rectify inaccurate or incomplete data"}),n.jsx("li",{children:'Right to erasure (the "right to be forgotten")'}),n.jsx("li",{children:"Right to restrict processing"}),n.jsx("li",{children:"Right to data portability"}),n.jsx("li",{children:"Right to object to processing"}),n.jsx("li",{children:"Right to withdraw consent"})]}),n.jsx("p",{children:"To exercise these rights, please contact us at privacy@tradinghub.com."}),n.jsx("h2",{children:"Cookies and Tracking Technologies"}),n.jsx("p",{children:"We use cookies and similar tracking technologies to track activity on our website and hold certain information. Cookies are files with a small amount of data that may include an anonymous unique identifier. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent."}),n.jsx("h2",{children:"Children's Privacy"}),n.jsx("p",{children:"Our services are not intended for individuals under the age of 18. We do not knowingly collect personal information from children under 18. If we learn we have collected personal information from a child under 18, we will delete that information."}),n.jsx("h2",{children:"International Data Transfers"}),n.jsx("p",{children:"Your information may be transferred to, and maintained on, computers located outside of your state, province, country, or other governmental jurisdiction where the data protection laws may differ from those in your jurisdiction. If you are located outside the United States and choose to provide information to us, please note that we transfer the data to the United States and process it there."}),n.jsx("h2",{children:"Changes to This Privacy Policy"}),n.jsx("p",{children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. You are advised to review this Privacy Policy periodically for any changes.'}),n.jsx("h2",{children:"Contact Us"}),n.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Email: privacy@tradinghub.com"}),n.jsx("li",{children:"Address: 123 Trading Street, Financial District, New York, NY 10004, United States"}),n.jsx("li",{children:"Phone: +1 (555) 123-4567"})]})]}),n.jsx("div",{className:"mt-12 bg-blue-50 rounded-xl p-6 border border-blue-100",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(Cc,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Data Security is Our Priority"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"We employ industry-standard security measures to protect your personal information and trading data. Your MT5 credentials are encrypted and securely stored, and we continuously monitor our systems to prevent unauthorized access."})]})]})})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},GX=()=>{const e=Pt();return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Service"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Last Updated: ","June 15, 2025"]})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(Xn,{className:"w-6 h-6 text-blue-600"})})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:n.jsx(bs,{className:"w-5 h-5 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Important Notice"}),n.jsx("p",{className:"text-yellow-700 mt-1",children:"Trading involves risk. Past performance is not indicative of future results. You should never trade with money you cannot afford to lose. This platform is for informational and educational purposes only and should not be considered financial advice."})]})]})}),n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("p",{children:"Welcome to Trading Hub. By accessing or using our website and services, you agree to be bound by these Terms of Service. Please read them carefully."}),n.jsx("h2",{children:"1. Acceptance of Terms"}),n.jsx("p",{children:'By accessing or using the Trading Hub platform, website, and services (collectively, the "Services"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to all of these Terms, you may not access or use our Services.'}),n.jsx("h2",{children:"2. Description of Services"}),n.jsx("p",{children:"Trading Hub provides a platform for algorithmic trading, connecting to MetaTrader 5 (MT5) brokers, creating and managing trading robots, processing trading signals, and offering VPS hosting services. Our Services are intended for informational and educational purposes only and should not be considered financial advice."}),n.jsx("h2",{children:"3. Account Registration"}),n.jsx("p",{children:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete."}),n.jsx("p",{children:"You are responsible for safeguarding your account credentials and for all activities that occur under your account. You agree to notify us immediately of any unauthorized use of your account or any other breach of security."}),n.jsx("h2",{children:"4. MT5 Broker Connection"}),n.jsx("p",{children:"Our Services allow you to connect to your MT5 broker account. You are solely responsible for:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Providing accurate MT5 credentials"}),n.jsx("li",{children:"Ensuring you have the right to use these credentials"}),n.jsx("li",{children:"Understanding and complying with your broker's terms of service"}),n.jsx("li",{children:"Any trading activities conducted through your broker account"})]}),n.jsx("p",{children:"We store your MT5 credentials securely and use them solely for the purpose of connecting to your broker account to execute trades and retrieve account information as directed by you."}),n.jsx("h2",{children:"5. Trading Risks"}),n.jsx("p",{children:"Trading in financial markets involves substantial risk. You acknowledge and agree that:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Past performance is not indicative of future results"}),n.jsx("li",{children:"You should never trade with money you cannot afford to lose"}),n.jsx("li",{children:"Automated trading systems are subject to failure and may not perform as expected"}),n.jsx("li",{children:"Market conditions can change rapidly and unpredictably"}),n.jsx("li",{children:"You are solely responsible for all trading decisions and outcomes"})]}),n.jsx("h2",{children:"6. Token System"}),n.jsx("p",{children:"Our platform uses a token system for accessing premium features. You acknowledge that:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Tokens have no cash value and cannot be redeemed for cash"}),n.jsx("li",{children:"Token purchases are final and non-refundable"}),n.jsx("li",{children:"We reserve the right to modify token pricing and availability"}),n.jsx("li",{children:"Tokens may expire as specified at the time of purchase"})]}),n.jsx("h2",{children:"7. VPS Hosting"}),n.jsx("p",{children:"Our VPS hosting services are subject to the following terms:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"VPS resources are allocated based on the plan you purchase"}),n.jsx("li",{children:"We reserve the right to suspend or terminate VPS services that consume excessive resources"}),n.jsx("li",{children:"We provide no guarantee of uptime, though we strive for 99.9% availability"}),n.jsx("li",{children:"You are responsible for all activities conducted through your VPS"}),n.jsx("li",{children:"VPS subscriptions are billed according to the terms specified at purchase"})]}),n.jsx("h2",{children:"8. Intellectual Property"}),n.jsx("p",{children:"All content, features, and functionality of our Services, including but not limited to text, graphics, logos, icons, images, audio clips, digital downloads, data compilations, software, and the compilation thereof, are owned by Trading Hub, its licensors, or other providers of such material."}),n.jsx("p",{children:"You may not reproduce, distribute, modify, create derivative works of, publicly display, publicly perform, republish, download, store, or transmit any of the material on our Services without our prior written consent."}),n.jsx("h2",{children:"9. User Content"}),n.jsx("p",{children:'You retain ownership of any content you submit to our Services ("User Content"). By providing User Content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, adapt, publish, translate, distribute, and display such User Content.'}),n.jsx("p",{children:"You represent and warrant that your User Content does not violate any third-party rights and complies with all applicable laws and regulations."}),n.jsx("h2",{children:"10. Prohibited Uses"}),n.jsx("p",{children:"You agree not to use our Services:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"In any way that violates any applicable law or regulation"}),n.jsx("li",{children:"To engage in market manipulation or other prohibited trading practices"}),n.jsx("li",{children:"To attempt to gain unauthorized access to our systems or other users' accounts"}),n.jsx("li",{children:"To transmit any malware, viruses, or other harmful code"}),n.jsx("li",{children:"To interfere with the proper functioning of our Services"}),n.jsx("li",{children:"To engage in any activity that could damage, disable, or impair our Services"})]}),n.jsx("h2",{children:"11. Termination"}),n.jsx("p",{children:"We reserve the right to terminate or suspend your account and access to our Services at our sole discretion, without notice, for any reason, including if we believe you have violated these Terms."}),n.jsx("h2",{children:"12. Disclaimer of Warranties"}),n.jsx("p",{children:'OUR SERVICES ARE PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT ANY WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED. WE DISCLAIM ALL WARRANTIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.'}),n.jsx("p",{children:"WE DO NOT WARRANT THAT OUR SERVICES WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE, OR THAT ANY DEFECTS WILL BE CORRECTED."}),n.jsx("h2",{children:"13. Limitation of Liability"}),n.jsx("p",{children:"IN NO EVENT SHALL TRADING HUB, ITS OFFICERS, DIRECTORS, EMPLOYEES, OR AGENTS BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS, DATA, USE, OR OTHER INTANGIBLE LOSSES, RESULTING FROM:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"YOUR ACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE OUR SERVICES"}),n.jsx("li",{children:"ANY CONDUCT OR CONTENT OF ANY THIRD PARTY ON OUR SERVICES"}),n.jsx("li",{children:"ANY TRADING DECISIONS MADE USING OUR SERVICES"}),n.jsx("li",{children:"ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SERVERS AND/OR ANY PERSONAL INFORMATION STORED THEREIN"})]}),n.jsx("h2",{children:"14. Indemnification"}),n.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Trading Hub and its officers, directors, employees, and agents from and against any and all claims, liabilities, damages, losses, costs, expenses, or fees (including reasonable attorneys' fees) arising from:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Your use of our Services"}),n.jsx("li",{children:"Your violation of these Terms"}),n.jsx("li",{children:"Your violation of any rights of another"}),n.jsx("li",{children:"Your User Content"})]}),n.jsx("h2",{children:"15. Governing Law"}),n.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of New York, without regard to its conflict of law provisions. Any dispute arising from these Terms shall be subject to the exclusive jurisdiction of the courts located in New York County, New York."}),n.jsx("h2",{children:"16. Changes to Terms"}),n.jsx("p",{children:'We reserve the right to modify these Terms at any time. We will provide notice of any material changes by posting the updated Terms on this page and updating the "Last Updated" date. Your continued use of our Services after such changes constitutes your acceptance of the new Terms.'}),n.jsx("h2",{children:"17. Contact Information"}),n.jsx("p",{children:"If you have any questions about these Terms, please contact us at:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Email: legal@tradinghub.com"}),n.jsx("li",{children:"Address: 123 Trading Street, Financial District, New York, NY 10004, United States"}),n.jsx("li",{children:"Phone: +1 (555) 123-4567"})]})]})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},JX=()=>{const e=Pt(),[t,s]=k.useState(""),[r,i]=k.useState({"getting-started":!0,"broker-connection":!1,"trading-robots":!1,"tradingview-webhooks":!1,"vps-hosting":!1,"risk-management":!1}),a=d=>{i(u=>({...u,[d]:!u[d]}))},o=d=>t?d.filter(u=>u.title.toLowerCase().includes(t.toLowerCase())||u.content.toLowerCase().includes(t.toLowerCase())):d,l=[{id:"getting-started",title:"Getting Started",icon:n.jsx(Em,{className:"w-5 h-5 text-blue-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Welcome to Trading Hub</h3>
        <p class="mb-4">This guide will help you get started with our platform and set up your first trading robot.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Quick Start Steps</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Create an account or sign in</li>
          <li>Connect your MT5 broker</li>
          <li>Choose between Algorithmic Trading or Live Trading</li>
          <li>Create your first trading robot</li>
          <li>Set up TradingView webhooks (optional)</li>
          <li>Monitor your trades and performance</li>
        </ol>
        
        <p class="mb-4">The platform offers two main modes:</p>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>Algorithmic Trading</strong> - Create and manage automated trading robots</li>
          <li><strong>Live Trading</strong> - Execute manual trades with advanced tools</li>
        </ul>
        
        <p>Each section of this documentation covers a specific aspect of the platform in detail.</p>
      `},{id:"broker-connection",title:"Broker Connection",icon:n.jsx(Xn,{className:"w-5 h-5 text-green-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Connecting Your MT5 Broker</h3>
        <p class="mb-4">To use the platform, you need to connect your MetaTrader 5 (MT5) broker account.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Connection Steps</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the Broker Setup page after login</li>
          <li>Select your account type (Live or Prop)</li>
          <li>Enter your MT5 account number</li>
          <li>Enter your MT5 password</li>
          <li>Select your broker's server from the dropdown</li>
          <li>Click "Connect Broker"</li>
        </ol>
        
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
          <h4 class="font-semibold text-yellow-800 mb-2">Important Notes</h4>
          <ul class="list-disc pl-5 space-y-1 text-yellow-700">
            <li>Your MT5 credentials are securely encrypted</li>
            <li>We never store your password in plain text</li>
            <li>You can connect multiple MT5 accounts</li>
            <li>Prop accounts may use symbols with .raw extension</li>
          </ul>
        </div>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Supported Brokers</h4>
        <p class="mb-2">We support a wide range of MT5 brokers, including:</p>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li>RoboForex-ECN</li>
          <li>ACGMarkets-Main</li>
          <li>Alpari-MT5-Demo</li>
          <li>FXCM-USDDemo01</li>
          <li>ICMarkets-Demo02</li>
          <li>And many others...</li>
        </ul>
        
        <p>If your broker isn't listed, contact our support team for assistance.</p>
      `},{id:"trading-robots",title:"Trading Robots",icon:n.jsx(Xn,{className:"w-5 h-5 text-purple-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Creating and Managing Trading Robots</h3>
        <p class="mb-4">Trading robots automate your trading strategies based on predefined rules.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Creating a Robot</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the Algorithmic Trading dashboard</li>
          <li>Click "Create Robot"</li>
          <li>Follow the 3-step wizard:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Basic Info - Name, symbol, strategy</li>
              <li>Risk Settings - Risk level, lot size, stop loss, take profit</li>
              <li>Review - Confirm and create</li>
            </ul>
          </li>
          <li>Activate your robot to start trading</li>
        </ol>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Available Strategies</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>Scalping</strong> - Quick trades capturing small price movements</li>
          <li><strong>Trend Following</strong> - Follow market trends for sustained moves</li>
          <li><strong>Mean Reversion</strong> - Trade when price deviates from average</li>
          <li><strong>Breakout</strong> - Trade when price breaks key levels</li>
          <li><strong>Grid Trading</strong> - Place orders at regular intervals</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Risk Levels</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>LOW</strong> - Conservative approach with smaller position sizes</li>
          <li><strong>MEDIUM</strong> - Balanced approach with moderate risk</li>
          <li><strong>HIGH</strong> - Aggressive approach with larger position sizes</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Managing Robots</h4>
        <p class="mb-2">You can manage your robots from the dashboard:</p>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li>Activate/deactivate robots</li>
          <li>View performance metrics</li>
          <li>Edit robot settings</li>
          <li>Delete robots</li>
        </ul>
        
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
          <h4 class="font-semibold text-blue-800 mb-2">Pro Tip</h4>
          <p class="text-blue-700">
            Create multiple robots with different strategies and risk levels to diversify your trading approach.
          </p>
        </div>
      `},{id:"tradingview-webhooks",title:"TradingView Webhooks",icon:n.jsx(Xn,{className:"w-5 h-5 text-orange-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Setting Up TradingView Webhooks</h3>
        <p class="mb-4">TradingView webhooks allow you to automatically execute trades based on TradingView alerts.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Setup Process</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the Webhooks tab in the dashboard</li>
          <li>Copy your unique webhook URL</li>
          <li>Copy your User ID (critical for authentication)</li>
          <li>In TradingView, create an alert:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Select "Webhook" as the notification</li>
              <li>Paste the webhook URL</li>
              <li>Create a JSON payload with required fields</li>
            </ul>
          </li>
          <li>Save the alert</li>
        </ol>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">JSON Payload Format</h4>
        <div class="bg-gray-900 text-green-400 p-4 rounded-lg mb-4 relative">
          <pre class="overflow-x-auto text-sm">
{
  "symbol": "EURUSD",
  "action": "BUY",
  "userId": "your-user-id",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900,
  "timestamp": "{{time}}",
  "strategy": "Your Strategy Name",
  "botToken": "your-bot-token"
}
          </pre>
        </div>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Required Fields</h4>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li><strong>symbol</strong> - Trading pair (e.g., "EURUSD")</li>
          <li><strong>action</strong> - "BUY", "SELL", or "CLOSE"</li>
          <li><strong>userId</strong> - Your unique ID from the platform</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Optional Fields</h4>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li><strong>volume</strong> - Trade size in lots (defaults to robot's max lot size)</li>
          <li><strong>stopLoss/takeProfit</strong> - Price levels (if omitted, robot settings are used)</li>
          <li><strong>timestamp</strong> - Use {{time}} for TradingView's dynamic time</li>
          <li><strong>strategy</strong> - Description of the signal</li>
          <li><strong>botToken</strong> - Target a specific robot (if omitted, any matching robot will execute)</li>
        </ul>
        
        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
          <h4 class="font-semibold text-red-800 mb-2">Important</h4>
          <p class="text-red-700">
            The <strong>userId</strong> field is required in every webhook payload. Without it, signals will not be processed.
          </p>
        </div>
      `},{id:"vps-hosting",title:"VPS Hosting",icon:n.jsx(Xn,{className:"w-5 h-5 text-indigo-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">VPS Hosting for 24/7 Trading</h3>
        <p class="mb-4">VPS (Virtual Private Server) hosting allows your trading robots to run continuously, even when your computer is off.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Benefits of VPS Hosting</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>24/7 Operation</strong> - Your robots trade continuously without interruption</li>
          <li><strong>Reduced Latency</strong> - Servers located close to broker data centers for faster execution</li>
          <li><strong>Reliability</strong> - Enterprise-grade infrastructure with 99.9% uptime</li>
          <li><strong>Resource Monitoring</strong> - Track CPU, memory, and network usage</li>
          <li><strong>Advanced Features</strong> - Access to trailing stops and other premium features</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Available Plans</h4>
        <div class="overflow-x-auto mb-6">
          <table class="min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Plan</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tokens</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Max Robots</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Features</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-300">
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Basic</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10</td>
                <td class="px-6 py-4 text-sm text-gray-500">24/7 trading, basic trailing stops</td>
              </tr>
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Pro</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">250</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">50</td>
                <td class="px-6 py-4 text-sm text-gray-500">Advanced trailing stops, priority execution</td>
              </tr>
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Enterprise</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">500</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Unlimited</td>
                <td class="px-6 py-4 text-sm text-gray-500">Custom algorithms, API access, white label options</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">How to Purchase</h4>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>Go to the VPS Hosting page</li>
          <li>Select your desired plan</li>
          <li>Purchase using your token balance</li>
          <li>Your robots will be automatically deployed to the VPS</li>
          <li>Monitor performance from your dashboard</li>
        </ol>
        
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
          <h4 class="font-semibold text-blue-800 mb-2">Pro Tip</h4>
          <p class="text-blue-700">
            VPS hosting is especially valuable for strategies that require quick reaction times or 24/7 monitoring of the markets.
          </p>
        </div>
      `},{id:"risk-management",title:"Risk Management",icon:n.jsx(Xn,{className:"w-5 h-5 text-red-600"}),content:`
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Risk Management Tools</h3>
        <p class="mb-4">Effective risk management is crucial for long-term trading success. Our platform offers several tools to help you manage risk.</p>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Position Sizing</h4>
        <p class="mb-4">The platform can automatically calculate optimal position sizes based on your risk parameters:</p>
        <ol class="list-decimal pl-5 mb-6 space-y-2">
          <li>In the trading panel, set your stop loss level</li>
          <li>Click the calculator button next to volume</li>
          <li>The system will calculate the optimal lot size based on:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Your account balance</li>
              <li>The currency pair's pip value</li>
              <li>The stop loss distance</li>
              <li>Your risk percentage (default 2%)</li>
            </ul>
          </li>
        </ol>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Risk Manager Settings</h4>
        <p class="mb-2">Configure these settings in the Risk Manager tab:</p>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>Max Risk Per Trade</strong> - Limit risk for individual trades (1-2% recommended)</li>
          <li><strong>Max Daily Loss</strong> - Set a maximum daily loss limit (5-10% recommended)</li>
          <li><strong>Max Drawdown</strong> - Set a maximum account drawdown limit</li>
          <li><strong>Max Open Positions</strong> - Limit the number of simultaneous open positions</li>
          <li><strong>Max Lot Size</strong> - Set a maximum lot size for all trades</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Risk Analysis</h4>
        <p class="mb-2">The platform provides real-time risk analysis:</p>
        <ul class="list-disc pl-5 mb-6 space-y-1">
          <li>Current risk exposure by position</li>
          <li>Portfolio-level risk metrics</li>
          <li>Correlation between open positions</li>
          <li>Risk-adjusted performance metrics</li>
        </ul>
        
        <h4 class="text-lg font-semibold text-gray-900 mb-2">Best Practices</h4>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li><strong>The 2% Rule</strong> - Never risk more than 2% of your account on a single trade</li>
          <li><strong>Diversification</strong> - Trade multiple symbols and strategies to spread risk</li>
          <li><strong>Correlation Awareness</strong> - Avoid highly correlated positions</li>
          <li><strong>Always Use Stop Losses</strong> - Never trade without downside protection</li>
          <li><strong>Regular Review</strong> - Analyze your trading performance weekly</li>
        </ul>
        
        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
          <h4 class="font-semibold text-red-800 mb-2">Important</h4>
          <p class="text-red-700">
            Remember that all trading involves risk. No risk management system can eliminate risk entirely. Never trade with money you cannot afford to lose.
          </p>
        </div>
      `}],c=o(l);return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Documentation"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive guides to help you get the most out of the Trading Hub platform"}),n.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:n.jsxs("div",{className:"relative",children:[n.jsx(en,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search documentation...",value:t,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-4 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentation"}),n.jsx("nav",{className:"space-y-1",children:l.map(d=>n.jsxs("button",{onClick:()=>{const u=document.getElementById(d.id);u&&u.scrollIntoView({behavior:"smooth"}),i(h=>({...h,[d.id]:!0}))},className:`w-full flex items-center space-x-2 px-3 py-2 text-sm rounded-lg transition-colors ${r[d.id]?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[d.icon,n.jsx("span",{children:d.title})]},d.id))}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Additional Resources"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("a",{href:"/api-reference",className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsx(Y0,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:"API Reference"})]}),n.jsxs("a",{href:"/community",className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsx(gs,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:"Community Forum"})]}),n.jsxs("a",{href:"/blog",className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsx(Em,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:"Blog Tutorials"})]})]})]})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[c.length===0?n.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-8 text-center",children:[n.jsx(Em,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No results found"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:[`We couldn't find any documentation matching "`,t,'"']}),n.jsx("button",{onClick:()=>s(""),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear search"})]}):n.jsx("div",{className:"space-y-8",children:c.map(d=>n.jsxs("div",{id:d.id,className:"bg-white shadow-sm border border-gray-200 rounded-xl overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between cursor-pointer",onClick:()=>a(d.id),children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[d.icon,n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:d.title})]}),r[d.id]?n.jsx(uL,{className:"w-5 h-5 text-gray-500"}):n.jsx(q0,{className:"w-5 h-5 text-gray-500"})]}),r[d.id]&&n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:d.content}})})]},d.id))}),n.jsxs("div",{className:"mt-12 bg-blue-50 rounded-xl p-8 border border-blue-100",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Need More Help?"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"If you couldn't find what you're looking for in our documentation, there are several ways to get additional help:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Contact Support"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Our support team is available to help you with any questions or issues."}),n.jsxs("a",{href:"/contact",className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:"Contact Support"}),n.jsx(ps,{className:"w-4 h-4"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Join the Community"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Connect with other traders and get help from the community."}),n.jsxs("a",{href:"/community",className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:"Visit Community Forum"}),n.jsx(ps,{className:"w-4 h-4"})]})]})]})]})]})]})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},KX=()=>{const e=Pt(),[t,s]=k.useState(""),[r,i]=k.useState("account-get"),[a,o]=k.useState(null),l=m=>{navigator.clipboard.writeText(m),o(m),setTimeout(()=>o(null),2e3)},c=[{id:"account",name:"Account",icon:Nn,endpoints:[{id:"account-get",method:"GET",path:"/v1/account",description:"Get account information"},{id:"account-balance",method:"GET",path:"/v1/account/balance",description:"Get account balance"},{id:"account-tokens",method:"GET",path:"/v1/account/tokens",description:"Get token balance"}]},{id:"trading",name:"Trading",icon:Ks,endpoints:[{id:"positions-get",method:"GET",path:"/v1/positions",description:"Get open positions"},{id:"orders-post",method:"POST",path:"/v1/orders",description:"Place a new order"},{id:"positions-delete",method:"DELETE",path:"/v1/positions/{ticket}",description:"Close a position"},{id:"symbols-get",method:"GET",path:"/v1/symbols",description:"Get available symbols"}]},{id:"robots",name:"Robots",icon:eT,endpoints:[{id:"robots-get",method:"GET",path:"/v1/robots",description:"Get all robots"},{id:"robot-get",method:"GET",path:"/v1/robots/{id}",description:"Get a specific robot"},{id:"robots-post",method:"POST",path:"/v1/robots",description:"Create a new robot"},{id:"robots-put",method:"PUT",path:"/v1/robots/{id}",description:"Update a robot"},{id:"robots-delete",method:"DELETE",path:"/v1/robots/{id}",description:"Delete a robot"},{id:"robots-toggle",method:"PUT",path:"/v1/robots/{id}/toggle",description:"Toggle robot active status"}]},{id:"signals",name:"Signals",icon:It,endpoints:[{id:"signals-get",method:"GET",path:"/v1/signals",description:"Get trading signals"},{id:"signals-post",method:"POST",path:"/v1/signals",description:"Create a new signal"}]}],d=c.map(m=>({...m,endpoints:m.endpoints.filter(x=>x.path.toLowerCase().includes(t.toLowerCase())||x.description.toLowerCase().includes(t.toLowerCase()))})).filter(m=>m.endpoints.length>0),h=(()=>{for(const m of c){const x=m.endpoints.find(g=>g.id===r);if(x)return{...x,category:m.name}}return null})(),f=m=>{switch(m){case"GET":return"bg-blue-100 text-blue-800";case"POST":return"bg-green-100 text-green-800";case"PUT":return"bg-yellow-100 text-yellow-800";case"DELETE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"API Reference"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Complete reference documentation for the Trading Hub API"}),n.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:n.jsxs("div",{className:"relative",children:[n.jsx(en,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search API endpoints...",value:t,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-4 sticky top-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Endpoints"}),n.jsxs("nav",{className:"space-y-4",children:[d.map(m=>{const x=m.icon;return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium text-gray-900 mb-2",children:[n.jsx(x,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:m.name})]}),m.endpoints.map(g=>n.jsxs("button",{onClick:()=>i(g.id),className:`w-full flex items-center space-x-2 px-3 py-2 text-sm rounded-lg transition-colors ${r===g.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${f(g.method)}`,children:g.method}),n.jsx("span",{className:"text-left truncate",children:g.path})]},g.id))]},m.id)}),d.length===0&&n.jsx("div",{className:"text-center py-4",children:n.jsxs("p",{className:"text-gray-500",children:['No endpoints found matching "',t,'"']})})]})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsx("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:h?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded text-sm font-medium ${f(h.method)}`,children:h.method}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:h.path})]}),n.jsx("p",{className:"text-lg text-gray-600 mb-6",children:h.description}),r==="account-get"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`GET /v1/account HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY`}),n.jsx("button",{onClick:()=>l(`GET /v1/account HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`GET /v1/account HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Response"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`HTTP/1.1 200 OK
Content-Type: application/json

{
  "accountNumber": "12345678",
  "serverName": "RoboForex-ECN",
  "balance": 10000.00,
  "equity": 10050.25,
  "margin": 250.50,
  "freeMargin": 9799.75,
  "marginLevel": 4011.28,
  "currency": "USD",
  "leverage": 100,
  "profit": 50.25
}`}),n.jsx("button",{onClick:()=>l(`HTTP/1.1 200 OK
Content-Type: application/json

{
  "accountNumber": "12345678",
  "serverName": "RoboForex-ECN",
  "balance": 10000.00,
  "equity": 10050.25,
  "margin": 250.50,
  "freeMargin": 9799.75,
  "marginLevel": 4011.28,
  "currency": "USD",
  "leverage": 100,
  "profit": 50.25
}`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`HTTP/1.1 200 OK
Content-Type: application/json

{
  "accountNumber": "12345678",
  "serverName": "RoboForex-ECN",
  "balance": 10000.00,
  "equity": 10050.25,
  "margin": 250.50,
  "freeMargin": 9799.75,
  "marginLevel": 4011.28,
  "currency": "USD",
  "leverage": 100,
  "profit": 50.25
}`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Response Fields"}),n.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"accountNumber"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"MT5 account number"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"serverName"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"MT5 server name"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"balance"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account balance"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"equity"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account equity (balance + floating P/L)"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"margin"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Used margin"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"freeMargin"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Free margin available for new positions"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"marginLevel"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Margin level percentage"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"currency"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account currency"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"leverage"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Account leverage"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"profit"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Current floating profit/loss"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Error Responses"}),n.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"401"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Unauthorized - Invalid or missing API key"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"403"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Forbidden - Insufficient permissions"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"500"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Internal Server Error - Server-side error"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Code Examples"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"JavaScript"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`// Using fetch
const getAccountInfo = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/account', {
    method: 'GET',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Account Info:', data);
  return data;
};

getAccountInfo().catch(console.error);`}),n.jsx("button",{onClick:()=>l(`// Using fetch
const getAccountInfo = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/account', {
    method: 'GET',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Account Info:', data);
  return data;
};

getAccountInfo().catch(console.error);`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`// Using fetch
const getAccountInfo = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/account', {
    method: 'GET',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Account Info:', data);
  return data;
};

getAccountInfo().catch(console.error);`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Python"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`import requests

def get_account_info():
    url = "https://api.tradinghub.com/v1/account"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY"
    }
    
    response = requests.get(url, headers=headers)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Account Info:", data)
    return data

try:
    get_account_info()
except requests.exceptions.RequestException as e:
    print("Error:", e)`}),n.jsx("button",{onClick:()=>l(`import requests

def get_account_info():
    url = "https://api.tradinghub.com/v1/account"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY"
    }
    
    response = requests.get(url, headers=headers)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Account Info:", data)
    return data

try:
    get_account_info()
except requests.exceptions.RequestException as e:
    print("Error:", e)`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`import requests

def get_account_info():
    url = "https://api.tradinghub.com/v1/account"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY"
    }
    
    response = requests.get(url, headers=headers)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Account Info:", data)
    return data

try:
    get_account_info()
except requests.exceptions.RequestException as e:
    print("Error:", e)`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]})]})]})]}),r==="orders-post"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`POST /v1/orders HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json

{
  "symbol": "EURUSD",
  "action": "BUY",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900
}`}),n.jsx("button",{onClick:()=>l(`POST /v1/orders HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json

{
  "symbol": "EURUSD",
  "action": "BUY",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900
}`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`POST /v1/orders HTTP/1.1
Host: api.tradinghub.com
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json

{
  "symbol": "EURUSD",
  "action": "BUY",
  "volume": 0.01,
  "stopLoss": 1.0800,
  "takeProfit": 1.0900
}`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request Parameters"}),n.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parameter"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"symbol"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yes"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:'Trading symbol (e.g., "EURUSD")'})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"action"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"string"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yes"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:'Order type: "BUY", "SELL", or "CLOSE"'})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"volume"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yes"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Trade size in lots (e.g., 0.01)"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"stopLoss"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"No"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Stop loss price level"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"takeProfit"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"number"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"No"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Take profit price level"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Response"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "orderId": 12345678,
  "message": "Order executed successfully"
}`}),n.jsx("button",{onClick:()=>l(`HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "orderId": 12345678,
  "message": "Order executed successfully"
}`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "orderId": 12345678,
  "message": "Order executed successfully"
}`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Error Responses"}),n.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Example"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-300",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"400"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Bad Request - Invalid parameters"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "invalid_parameter",
  "message": "Invalid symbol"
}`})})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"401"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Unauthorized - Invalid or missing API key"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "unauthorized",
  "message": "Invalid API key"
}`})})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"403"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Forbidden - Insufficient permissions"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "forbidden",
  "message": "Insufficient permissions"
}`})})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"429"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Too Many Requests - Rate limit exceeded"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "rate_limit_exceeded",
  "message": "Rate limit exceeded"
}`})})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"500"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:"Internal Server Error"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs",children:`{
  "error": true,
  "code": "server_error",
  "message": "Internal server error"
}`})})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Code Examples"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"JavaScript"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`// Using fetch
const placeOrder = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/orders', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      symbol: 'EURUSD',
      action: 'BUY',
      volume: 0.01,
      stopLoss: 1.0800,
      takeProfit: 1.0900
    })
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Order placed:', data);
  return data;
};

placeOrder().catch(console.error);`}),n.jsx("button",{onClick:()=>l(`// Using fetch
const placeOrder = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/orders', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      symbol: 'EURUSD',
      action: 'BUY',
      volume: 0.01,
      stopLoss: 1.0800,
      takeProfit: 1.0900
    })
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Order placed:', data);
  return data;
};

placeOrder().catch(console.error);`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`// Using fetch
const placeOrder = async () => {
  const response = await fetch('https://api.tradinghub.com/v1/orders', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      symbol: 'EURUSD',
      action: 'BUY',
      volume: 0.01,
      stopLoss: 1.0800,
      takeProfit: 1.0900
    })
  });
  
  if (!response.ok) {
    throw new Error(\`Error: \${response.status}\`);
  }
  
  const data = await response.json();
  console.log('Order placed:', data);
  return data;
};

placeOrder().catch(console.error);`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Python"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-sm",children:`import requests
import json

def place_order():
    url = "https://api.tradinghub.com/v1/orders"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    }
    payload = {
        "symbol": "EURUSD",
        "action": "BUY",
        "volume": 0.01,
        "stopLoss": 1.0800,
        "takeProfit": 1.0900
    }
    
    response = requests.post(url, headers=headers, json=payload)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Order placed:", data)
    return data

try:
    place_order()
except requests.exceptions.RequestException as e:
    print("Error:", e)`}),n.jsx("button",{onClick:()=>l(`import requests
import json

def place_order():
    url = "https://api.tradinghub.com/v1/orders"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    }
    payload = {
        "symbol": "EURUSD",
        "action": "BUY",
        "volume": 0.01,
        "stopLoss": 1.0800,
        "takeProfit": 1.0900
    }
    
    response = requests.post(url, headers=headers, json=payload)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Order placed:", data)
    return data

try:
    place_order()
except requests.exceptions.RequestException as e:
    print("Error:", e)`),className:"absolute top-2 right-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:a===`import requests
import json

def place_order():
    url = "https://api.tradinghub.com/v1/orders"
    headers = {
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    }
    payload = {
        "symbol": "EURUSD",
        "action": "BUY",
        "volume": 0.01,
        "stopLoss": 1.0800,
        "takeProfit": 1.0900
    }
    
    response = requests.post(url, headers=headers, json=payload)
    response.raise_for_status()  # Raise exception for 4XX/5XX responses
    
    data = response.json()
    print("Order placed:", data)
    return data

try:
    place_order()
except requests.exceptions.RequestException as e:
    print("Error:", e)`?n.jsx(ms,{className:"w-4 h-4"}):n.jsx(Bt,{className:"w-4 h-4"})})]})})]})]})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Y0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Select an API endpoint from the sidebar"})]})})})]})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},XX=()=>{const e=Pt(),[t,s]=k.useState(""),[r,i]=k.useState(null),a=[{id:1,title:"Mastering Risk Management in Algorithmic Trading",excerpt:"Learn the essential principles of risk management that every algorithmic trader should implement to protect their capital and maximize returns.",author:"Alex Morgan",date:"June 15, 2025",category:"Risk Management",readTime:"8 min read",image:"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,title:"Setting Up TradingView Webhooks for Automated Trading",excerpt:"A step-by-step guide to configuring TradingView alerts with webhooks to automate your trading strategies on the Trading Hub platform.",author:"Sarah Chen",date:"June 10, 2025",category:"Tutorials",readTime:"12 min read",image:"https://images.pexels.com/photos/6770609/pexels-photo-6770609.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,title:"The Benefits of 24/7 VPS Hosting for Traders",excerpt:"Discover why VPS hosting is essential for serious algorithmic traders and how it can improve your trading performance and reliability.",author:"Michael Rodriguez",date:"June 5, 2025",category:"VPS Hosting",readTime:"6 min read",image:"https://images.pexels.com/photos/325229/pexels-photo-325229.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:4,title:"Comparing Different Trading Strategies for Volatile Markets",excerpt:"An in-depth analysis of which algorithmic trading strategies perform best during periods of high market volatility.",author:"Emma Wilson",date:"May 28, 2025",category:"Strategy",readTime:"10 min read",image:"https://images.pexels.com/photos/6781341/pexels-photo-6781341.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:5,title:"How to Optimize Your MT5 Connection for Faster Execution",excerpt:"Technical tips to minimize latency and improve execution speed when connecting to your MT5 broker through Trading Hub.",author:"David Kim",date:"May 20, 2025",category:"Technical",readTime:"7 min read",image:"https://images.pexels.com/photos/7567443/pexels-photo-7567443.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:6,title:"Building a Diversified Portfolio of Trading Robots",excerpt:"Learn how to create and manage multiple trading robots with complementary strategies to build a robust, diversified trading portfolio.",author:"Alex Morgan",date:"May 15, 2025",category:"Strategy",readTime:"9 min read",image:"https://images.pexels.com/photos/8370752/pexels-photo-8370752.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}],o=Array.from(new Set(a.map(c=>c.category))),l=a.filter(c=>{const d=c.title.toLowerCase().includes(t.toLowerCase())||c.excerpt.toLowerCase().includes(t.toLowerCase())||c.author.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase()),u=r?c.category===r:!0;return d&&u});return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Insights, tutorials, and updates from the Trading Hub team"}),n.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:n.jsxs("div",{className:"relative",children:[n.jsx(en,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search articles...",value:t,onChange:c=>s(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:[n.jsx("button",{onClick:()=>i(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${r===null?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),o.map(c=>n.jsx("button",{onClick:()=>i(c),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${r===c?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c},c))]})]}),l.length>0&&!t&&!r&&n.jsx("div",{className:"mb-16",children:n.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[n.jsx("div",{className:"h-64 lg:h-auto",children:n.jsx("img",{src:l[0].image,alt:l[0].title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:l[0].category}),n.jsxs("span",{className:"text-gray-500 text-sm flex items-center",children:[n.jsx(Yr,{className:"w-3 h-3 mr-1"}),l[0].readTime]})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:l[0].title}),n.jsx("p",{className:"text-gray-600 mb-6",children:l[0].excerpt}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"bg-blue-100 w-8 h-8 rounded-full flex items-center justify-center",children:n.jsx(es,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:l[0].author}),n.jsx("p",{className:"text-xs text-gray-500",children:l[0].date})]})]}),n.jsxs("button",{onClick:()=>e(`/blog/${l[0].id}`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:"Read more"}),n.jsx(ps,{className:"w-4 h-4"})]})]})]})]})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.slice(r||t?0:1).map(c=>n.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:c.category}),n.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:[n.jsx(Yr,{className:"w-3 h-3 mr-1"}),c.readTime]})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:c.title}),n.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:c.excerpt}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"bg-blue-100 w-8 h-8 rounded-full flex items-center justify-center",children:n.jsx(es,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.author}),n.jsx("p",{className:"text-xs text-gray-500",children:c.date})]})]}),n.jsx("button",{onClick:()=>e(`/blog/${c.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors",children:n.jsx(ps,{className:"w-5 h-5"})})]})]})]},c.id))}),l.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 text-lg",children:"No articles found matching your criteria"}),n.jsx("button",{onClick:()=>{s(""),i(null)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear filters"})]}),n.jsx("div",{className:"mt-16 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-8 text-white",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Subscribe to Our Newsletter"}),n.jsx("p",{className:"text-blue-100 mb-6",children:"Get the latest trading insights, tutorials, and platform updates delivered straight to your inbox."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-lg mx-auto",children:[n.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-1 px-4 py-3 rounded-lg focus:ring-2 focus:ring-white focus:border-transparent"}),n.jsx("button",{className:"px-6 py-3 bg-white text-blue-700 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Subscribe"})]}),n.jsx("p",{className:"text-blue-200 text-sm mt-4",children:"We respect your privacy. Unsubscribe at any time."})]})})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})},QX=()=>{const e=Pt(),t=[{id:1,name:"Sarah Johnson",contributions:156,avatar:n.jsx(es,{className:"w-8 h-8 text-blue-600"})},{id:2,name:"Michael Chen",contributions:142,avatar:n.jsx(es,{className:"w-8 h-8 text-blue-600"})},{id:3,name:"David Rodriguez",contributions:128,avatar:n.jsx(es,{className:"w-8 h-8 text-blue-600"})},{id:4,name:"Emma Wilson",contributions:115,avatar:n.jsx(es,{className:"w-8 h-8 text-blue-600"})},{id:5,name:"James Taylor",contributions:103,avatar:n.jsx(es,{className:"w-8 h-8 text-blue-600"})}],s=[{id:1,name:"Trading Strategies",posts:342,icon:n.jsx(we,{className:"w-5 h-5 text-blue-600"})},{id:2,name:"Platform Support",posts:256,icon:n.jsx(Po,{className:"w-5 h-5 text-green-600"})},{id:3,name:"Robot Development",posts:189,icon:n.jsx(Bx,{className:"w-5 h-5 text-purple-600"})},{id:4,name:"TradingView Integration",posts:175,icon:n.jsx(G0,{className:"w-5 h-5 text-orange-600"})},{id:5,name:"Risk Management",posts:142,icon:n.jsx(Es,{className:"w-5 h-5 text-yellow-600"})}],r=[{id:1,title:"Algorithmic Trading Webinar",date:"June 25, 2025",time:"2:00 PM EST",description:"Learn advanced algorithmic trading strategies from professional traders.",host:"Alex Morgan, CEO"},{id:2,title:"Platform Feature Showcase",date:"July 10, 2025",time:"1:00 PM EST",description:"Demonstration of new platform features and improvements.",host:"Sarah Chen, CTO"},{id:3,title:"Community Q&A Session",date:"July 15, 2025",time:"3:00 PM EST",description:"Open forum for community members to ask questions and provide feedback.",host:"Michael Rodriguez, Head of Product"}];return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-between h-16",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Trading Hub"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Trading Hub Community"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Connect with fellow traders, share strategies, and learn from each other in our growing community"}),n.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:[n.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Join the Community"}),n.jsx("button",{className:"px-6 py-3 bg-gray-100 text-gray-800 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"Browse the Forum"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100 text-center",children:[n.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(gs,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"10,000+"}),n.jsx("p",{className:"text-blue-700",children:"Active Community Members"})]}),n.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-100 text-center",children:[n.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Po,{className:"w-6 h-6 text-green-600"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"25,000+"}),n.jsx("p",{className:"text-green-700",children:"Forum Posts"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-100 text-center",children:[n.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Bx,{className:"w-6 h-6 text-purple-600"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"500+"}),n.jsx("p",{className:"text-purple-700",children:"Shared Trading Strategies"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Popular Forum Categories"}),n.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:"View All Categories"}),n.jsx(ps,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:i.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),n.jsxs("p",{className:"text-gray-500",children:[i.posts," posts"]})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:n.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors text-sm",children:"Browse discussions →"})})]},i.id))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Top Contributors"}),n.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:"View All Members"}),n.jsx(ps,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contributions"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profile"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 rounded-full p-1",children:i.avatar}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.name})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Es,{className:"w-4 h-4 text-yellow-500 mr-1"}),n.jsxs("span",{className:"text-sm text-gray-900",children:[i.contributions," contributions"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors text-sm",children:"View Profile"})})]},i.id))})]})})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upcoming Events"}),n.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:"View All Events"}),n.jsx(ps,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(i=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(Co,{className:"w-5 h-5 text-blue-600"}),n.jsxs("span",{className:"text-blue-600 font-medium",children:[i.date," • ",i.time]})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-gray-500",children:["Host: ",i.host]}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors text-sm",children:"Register →"})]})]},i.id))})]}),n.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 border border-blue-100",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Community Guidelines"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Our Community Values"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),n.jsxs("span",{children:[n.jsx("strong",{children:"Respect:"})," Treat all community members with respect and courtesy"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),n.jsxs("span",{children:[n.jsx("strong",{children:"Collaboration:"})," Share knowledge and help others succeed"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),n.jsxs("span",{children:[n.jsx("strong",{children:"Quality:"})," Contribute thoughtful, well-researched content"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-blue-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),n.jsxs("span",{children:[n.jsx("strong",{children:"Integrity:"})," Be honest and transparent in your communications"]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Prohibited Behavior"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),n.jsx("span",{children:"Harassment or personal attacks"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),n.jsx("span",{children:"Spam or self-promotion"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),n.jsx("span",{children:"Sharing of personal or sensitive information"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"bg-red-100 p-1 rounded-full mr-2 mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),n.jsx("span",{children:"Promotion of illegal activities or market manipulation"})]})]})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Read Full Community Guidelines"})})]})]}),n.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trading Hub"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Next-generation algorithmic trading platform for professional traders."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/features/algorithmic-trading",className:"hover:text-white transition-colors",children:"Algorithmic Trading"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/risk-management",className:"hover:text-white transition-colors",children:"Risk Management"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/real-time-signals",className:"hover:text-white transition-colors",children:"Real-time Signals"})}),n.jsx("li",{children:n.jsx("a",{href:"/features/vps-hosting",className:"hover:text-white transition-colors",children:"VPS Hosting"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/documentation",className:"hover:text-white transition-colors",children:"Documentation"})}),n.jsx("li",{children:n.jsx("a",{href:"/api-reference",className:"hover:text-white transition-colors",children:"API Reference"})}),n.jsx("li",{children:n.jsx("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"})}),n.jsx("li",{children:n.jsx("a",{href:"/community",className:"hover:text-white transition-colors",children:"Community"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/about-us",className:"hover:text-white transition-colors",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-of-service",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," Trading Hub. All rights reserved."]})})]})})]})};function ZX(){const{isAuthenticated:e,isInitialized:t,userTokens:s,fetchUserTokens:r,purchaseVPSPlan:i,credentials:a}=pe(),{isAuthenticated:o}=To(),[l,c]=k.useState("choice");if(k.useEffect(()=>{window.scrollTo(0,0)},[l]),k.useEffect(()=>{e&&r()},[e,r]),!t)return n.jsx(gh,{message:"Initializing platform...",size:"fullscreen"});const d=()=>{c("algotrading"),window.scrollTo(0,0)},u=()=>{c("livetrading"),window.scrollTo(0,0)},h=()=>{c("vps"),window.scrollTo(0,0)},f=()=>{c("choice"),window.scrollTo(0,0)},m=e&&!a;return n.jsx(NA,{children:n.jsxs("div",{className:"App",children:[n.jsxs(xA,{children:[n.jsx(nt,{path:"/landing",element:n.jsx($X,{})}),n.jsx(nt,{path:"/packages",element:n.jsx(zX,{})}),n.jsx(nt,{path:"/admin-login",element:n.jsx(Tw,{})}),n.jsx(nt,{path:"/admin-dashboard",element:n.jsx(xk,{})}),n.jsx(nt,{path:"/admin/login",element:o?n.jsx(Ot,{to:"/admin"}):n.jsx(Tw,{})}),n.jsx(nt,{path:"/admin",element:o?n.jsx(xk,{}):n.jsx(Ot,{to:"/admin/login"})}),n.jsx(nt,{path:"/login",element:e?m?n.jsx(Ot,{to:"/broker-setup"}):n.jsx(Ot,{to:"/"}):n.jsx(EL,{})}),n.jsx(nt,{path:"/broker-setup",element:e?n.jsx(RL,{}):n.jsx(Ot,{to:"/login"})}),n.jsx(nt,{path:"/",element:e?m?n.jsx(Ot,{to:"/broker-setup"}):n.jsxs(n.Fragment,{children:[l==="choice"&&n.jsx(PX,{onSelectAlgoTrading:d,onSelectLiveTrading:u}),l==="algotrading"&&n.jsx(X1,{onBackToChoice:f,onSelectVPS:h}),l==="livetrading"&&n.jsx(Q1,{onBackToOverview:f,onSelectVPS:h}),l==="vps"&&s&&n.jsx(mk,{userTokens:s,onPurchasePlan:i,onBackToChoice:f}),l==="profile"&&n.jsx(pk,{onBackToChoice:f})]}):n.jsx(Ot,{to:"/landing"})}),n.jsx(nt,{path:"/profile",element:e?m?n.jsx(Ot,{to:"/broker-setup"}):n.jsx(pk,{onBackToChoice:f}):n.jsx(Ot,{to:"/login"})}),n.jsx(nt,{path:"/vps",element:e?m?n.jsx(Ot,{to:"/broker-setup"}):s?n.jsx(mk,{userTokens:s,onPurchasePlan:i,onBackToChoice:f}):n.jsx(Ot,{to:"/"}):n.jsx(Ot,{to:"/login"})}),n.jsx(nt,{path:"/diagnostics",element:e?n.jsx(HX,{}):n.jsx(Ot,{to:"/login"})}),n.jsx(nt,{path:"/dashboard",element:e?m?n.jsx(Ot,{to:"/broker-setup"}):n.jsx(X1,{onBackToChoice:f,onSelectVPS:h}):n.jsx(Ot,{to:"/login"})}),n.jsx(nt,{path:"/live-trading",element:e?m?n.jsx(Ot,{to:"/broker-setup"}):n.jsx(Q1,{onBackToOverview:f,onSelectVPS:h}):n.jsx(Ot,{to:"/login"})}),n.jsx(nt,{path:"/about-us",element:n.jsx(WX,{})}),n.jsx(nt,{path:"/contact",element:n.jsx(qX,{})}),n.jsx(nt,{path:"/privacy-policy",element:n.jsx(YX,{})}),n.jsx(nt,{path:"/terms-of-service",element:n.jsx(GX,{})}),n.jsx(nt,{path:"/documentation",element:n.jsx(JX,{})}),n.jsx(nt,{path:"/api-reference",element:n.jsx(KX,{})}),n.jsx(nt,{path:"/blog",element:n.jsx(XX,{})}),n.jsx(nt,{path:"/community",element:n.jsx(QX,{})})]}),e&&!o&&n.jsx(UX,{}),n.jsx(g6,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}Ef.register(rg,ng,_u,ni,Tu,k9,R9,j9,x9,Cl);Sp.createRoot(document.getElementById("root")).render(n.jsx(De.StrictMode,{children:n.jsx(ZX,{})}));
